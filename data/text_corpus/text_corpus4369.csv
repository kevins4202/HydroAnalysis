index,text
21845,this manuscript presents underwater scanning controllers for an unmanned underwater vehicle uuv with sampled range information the uuv can measure its depth and emits several rays around it such that each ray forms an equi angular configuration on the horizontal plane we develop 3 d controllers of the uuv so that it can scan cover a 3 d surface in underwater environments within a given range of depths as far as we know this paper is novel in developing 3 d controllers for full scan of the surface using a vehicle which emits several sensing rays around it extensive simulation results are used to demonstrate the effectiveness of the proposed controllers keywords boundary tracking closest point 3 d surface scanning coverage path planning underwater scan underwater exploration 1 introduction this manuscript presents underwater scanning controllers for an unmanned underwater vehicle uuv with sampled range information in underwater environments a vehicle cannot use global positioning systems gps to localize itself to improve the localization of a uuv many sensors such as inertial measurement units imu or doppler velocity log dvl must be integrated allotta et al 2017 however localization error of any uuv gradually increases as time elapses considering a uuv which cannot use gps signals we consider the task of autonomous scanning coverage control of a 3 d surface in underwater environments this task is crucial for various underwater applications such as inspection of underwater structures surveillance or underwater exploration there are many manuscripts on boundary tracking control of robots while assuring collision avoidance clark and fierro 2005 hoy 2013 de and koditschek 2013 micaelli and samson 1993 teimoori and savkin 2008 2010 toibero et al 2006 matveev et al 2011 zhang et al 2004 frezza and picci 1995 andersson and park 2005 kim 2019a it is commonly assumed that a robot is equipped with 360 scanning sensors to detect the closest point on a boundary curve zhang et al 2004 samson 1995 zhang et al 2004 samson 1995 considered the case where a robot is located on a 2 d plane while following a 2 d curve using 360 scanning sensors kim 2019b presented boundary tracking controls using a vehicle with rigidly mounted range sensors kim 2019b considered a group of rays around the center ray such that each sensor ray measures the distance to an obstacle boundary however the control in kim 2019b did not use a closest point information thus has singularity in the control moreover kim 2019b considered a robot in a 2 d plane kim 2019b requires that a robot needs to estimate the curvature at a point where a group of rays meets the boundary curvature estimation is associated to the second derivative of a point on the boundary curve and is sensitive to measurement noise 1 1 let γ t x t y t be a proper parametric representation of a twice differentiable plane curve then the signed curvature casey 1996 is κ x y y x x 2 y 2 3 2 1 thus accurate curvature estimation is not trivial the scanning approach in this paper does not require the curvature estimation this paper does not use any derivative of a point on the surface boundary many papers exist on coverage path planning of robots atkar et al 2001 2009 galceran and carreras 2013 galceran and carreras 2013 presented a survey on coverage path planning for various robots a commonly used survey plan williams et al 2016 warren 1990 choset et al 1998 williams 2010 fransman et al 2018 kim 2019c is a series of equidistant parallel tracks such that the swaths of consecutive tracks interleave resulting in coverage for the entire area this pattern composed of parallel tracks is called the lawnmower pattern considering the spray painting application the authors of atkar et al 2001 planned the coverage path in an offset surface from which the end effector will spray the target surface atkar et al 2001 presented how to build a path for the end effector in the case where the target surface is known a priori moreover atkar et al 2001 assumed that a robot is localized which is not trivial in underwater environments this paper considers the case where the underwater surface is not known a prior and the uuv cannot use gps signal to locate itself in this paper we assume that the uuv can measure its depth and emit several rays around it such that each ray forms an equi angular configuration on the horizontal plane here multiple rays are utilized to detect obstacle boundaries surrounding the vehicle considering an underwater vehicle the depth of the vehicle can be measured using pressure sensors in addition active sonar or blue green laser can be used to measure the relative distance to an underwater surface liu and ge 2006 we develop controllers that utilize these measurements to maintain a constant distance offset from an unknown surface and full scan of the surface within a given range of depths note that the uuv considered in this paper is not equipped with sensors to scan 360 thus the closest point information cannot be measured accurately we thus present a novel method to estimate the closest point based on the recent trajectory of the uuv this distinguishes our paper from other papers zhang et al 2004 samson 1995 which considered scanning 360 to derive a closest point at the moment the uuv then uses the estimated closest point information for 3 d surface scanning while maintaining a predefined distance from the surface as far as we know this paper is novel in developing 3 d controllers for full scan of the surface using a uuv emitting several sensing rays around it matlab simulations are used to verify the effectiveness of the proposed approach this manuscript is organized as follows section 2 discusses the control strategy presented in this paper section 3 presents how to estimate the relative position of the closest point using several fixed sensing rays section 4 presents matlab simulation results conclusions are provided in section 5 2 control strategy in this section the proposed scanning process is presented beforehand we introduce several concepts for convenience let c denote cos and let s denote sin we consider discrete time systems in this paper let k denote the time step the uuv keeps iterating scanning process within a given range of depths let d l denote the lower bound for the given depth range moreover let d u denote the upper bound for the given depth range let d k denote the depth of the uuv at time step k we control the depth of the uuv while satisfying that 2 d l d k d u let pitch θ k of the uuv denote the angle between the uuv s longitudinal axis and the horizontal plane at time step k the pitch of the uuv is set as one of the following two values θ d θ d considering a constant speed uuv let v denote the speed of the uuv utilizing the definition of the pitch we have 3 d k 1 d k v s θ k initially the uuv scans an underwater surface while setting its pitch as θ d using 3 the uuv s depth decreases as time elapses how to make the uuv scan the target surface is presented in sections 2 1 and 2 2 while the uuv scans the target surface with pitch θ d the uuv s depth will reach d l the lower bound for depth this case the uuv scans an underwater surface while setting its pitch as θ d as time elapses the uuv s depth increases using 3 once the uuv reaches d u the upper bound for depth it changes its pitch to θ d the uuv keeps iterating this until the operator makes the uuv halt its task 2 1 surface scanning model this subsection presents the surface scanning model considered in this paper let r 1 k denote the uuv s location at time step k the motion model of the uuv is 4 r 1 k 1 r 1 k d t v u k see that the uuv moves with a constant speed v here u k is the unit vector presenting the heading direction of the uuv at time step k u k is the control input of our system the uuv emits several sensing rays around it such that each ray forms an equi angular configuration on the horizontal plane these rays intersect the target surface and we can estimate r 2 k which is called the closestpoint at time step k let r k be defined as r k r 2 k r 1 k in addition this paper uses r k r k the proposed control scheme is based on r k at each time step k how to estimate r k using several fixed rays is presented in section 3 each ray emitted from the uuv forms an equi angular configuration on the horizontal plane since all sensing rays are parallel to the horizontal plane the third element of r k is zero this implies that r k is parallel to the horizontal plane 2 2 surface scanning controllers let r 0 represent the desired separation between the uuv and the surface in addition let ε 0 present a constant which is approximately zero in the case where r k r 0 ε we let the uuv move towards the surface using 5 u k r k r k c θ k s θ k 0 0 1 t here u k 1 since r k is parallel to the horizontal plane the third element of r k is zero and c θ k 2 s θ k 2 1 5 implies that the uuv moves towards the closest point on the horizontal plane while setting its pitch as θ k in the case where r k r 0 ε we let the uuv move away from the surface using 6 u k r k r k c θ k s θ k 0 0 1 t 6 implies that the uuv moves away from the closest point on the horizontal plane while setting its pitch as θ k in the case where r 0 ε r k r 0 ε we let the uuv follow the surface using 7 u k r π 2 r k r k c θ k s θ k 0 0 1 t here r ψ presents the rotation of ψ centered at the z axis and is given by 8 r ψ c ψ s ψ 0 s ψ c ψ 0 0 0 1 by multiplying r π 2 in 7 the uuv follows the boundary in the counter clockwise direction in the horizontal plane also the vehicle s pitch is set as θ k 3 estimate the relative position of the closest point this section presents how to estimate r k r 2 k r 1 k at each time step k using multiple sensing rays suppose that the vehicle emanates a finite sequence of n r rays around it with a constant angular spacing 2 π n r between them since the uuv is not equipped with sensors to scan 360 the closest point information cannot be measured accurately consider discrete time systems in this section consider the local coordinate frame say l k centered at the uuv s position at time step k localization error of any uuv gradually increases as time elapses suppose that localization error which accumulates between time step k and k k d is negligible here k d 0 is a small constant at each time step k i i 0 1 k d we can localize the uuv s position in l k for the uuv s localization between time step k and k k d we can use underwater localization methods in the literature e g allotta et al 2017 in the local frame l k we can further derive the coordinate of an obstacle point where the uuv s ray intersects the surface see fig 1 for an illustration in this figure r 1 k denotes the position of the uuv at time step k r 1 k is depicted as a circle r 1 k 1 denotes the position of the uuv at time step k 1 in addition x l y l z l represent three unit vectors presenting the three axis of l k frame dotted arrows indicate sensor rays emitted from the uuv at each time step the concave obstacle boundary is depicted on the right side of the uuv see that six obstacle points are generated on the concave obstacle boundary suppose that n i obstacle points are detected by the rays of the uuv at time step k i i 0 1 k d in the l k frame let c o j k i denote the 3 d coordinate of the j th j 1 2 n i obstacle point which is detected by the uuv at time step k i let s o k i be represented as 9 so k i c o 1 k i c o 2 k i c o n i k i at time step k k d we derive the closest point using all ray measurements between time step k and k k d since localization error accumulation between time step k and k k d is negligible we can localize the uuv s position at time step k i i 0 1 k d rather accurately in l k frame thus s o k s o k 1 s o k k d can be used as coordinates of obstacle points for the uuv at time step k k d the uuv at time step k k d calculates the relative distance between itself and each of the obstacle points in s o k s o k 1 s o k k d this way the coordinate of the closest point at time step k k d can be derived in l k frame thus r k k d r 2 k k d r 1 k k d can be derived by replacing k k d by k r k r 2 k r 1 k can be derived at each time step k in the case where k is less than k d we derive the relative position of the closest point using all ray measurements up to time step k 4 matlab simulations the proposed scanning controllers are implemented using matlab simulations the sampling interval is 0 1 s and the simulation runs for 200 s the desired separation r 0 is set as 5 distance units the lower bound d l is set as 35 distance units and the upper bound d u is set as 35 distance units ε 0 3 distance units v is 5 distance units per second in addition θ d π 30 radians the initial uuv s location is 9 9 30 at each time step the uuv emits three rays n r 3 such that the maximum sensing range of every ray is 30 distance units this indicates that the uuv cannot detect a surface which is too far from the vehicle each ray forms an equi angular configuration on the horizontal plane in simulations k d is set as 5 this implies that the localization error accumulation within 5 time steps is ignored in the case where the current time step k is less than k d we use all obstacle points which have been measured up to the time step k moreover considering noise in vehicle dynamics we added zero mean gaussian noise with standard deviation 0 01 to our control input u as each ray detects the target surface we added range measurement noise zero mean gaussian noise with standard deviation 0 01 is added to every range measurement 4 1 scenario 1 fig 2 presents the scanning result of the uuv fig 3 shows the side view of fig 2 the path of the uuv is depicted with red dots the coordinate x y z of the 3 d surface is built under the following equation 10 z 10 x e x 10 2 y 10 2 fig 4 a presents the change of r with respect to elapsed time in seconds r almost converges to r 0 5 as time elapses in addition fig 4 b presents the change of the uuv s depth with respect to elapsed time in seconds the uuv s depth varies between d u 35 and d l 35 4 2 scenario 2 in this subsection we consider a scenario with 3 d concave surface see figs 5 and 6 the path of the uuv is depicted with red dots in this scenario we set d u 25 and d l 5 considering scenario 2 fig 7 a presents the change of r with respect to elapsed time in seconds r almost converges to r 0 5 as time elapses in addition fig 7 b presents the change of the uuv s depth with respect to elapsed time in seconds the uuv s depth changes between d u 25 and d l 5 5 conclusions this manuscript presents 3 d scanning controllers for the uuv which emits fixed sensing rays around it novel controllers are presented so that the uuv with several sensor rays scans a 3 d surface within a given range of depths extensive simulation results are used to demonstrate the effectiveness of the proposed controllers the control law in this paper is not restricted to underwater vehicles but in general can be used by other autonomous vehicles as well for instance aerial vehicles can use the proposed control to scan a 3 d ground surface as our future works we will verify the effectiveness of the proposed control using experiments based on real autonomous vehicles acknowledgements this work was supported by 2020 hongik university research fund 
21845,this manuscript presents underwater scanning controllers for an unmanned underwater vehicle uuv with sampled range information the uuv can measure its depth and emits several rays around it such that each ray forms an equi angular configuration on the horizontal plane we develop 3 d controllers of the uuv so that it can scan cover a 3 d surface in underwater environments within a given range of depths as far as we know this paper is novel in developing 3 d controllers for full scan of the surface using a vehicle which emits several sensing rays around it extensive simulation results are used to demonstrate the effectiveness of the proposed controllers keywords boundary tracking closest point 3 d surface scanning coverage path planning underwater scan underwater exploration 1 introduction this manuscript presents underwater scanning controllers for an unmanned underwater vehicle uuv with sampled range information in underwater environments a vehicle cannot use global positioning systems gps to localize itself to improve the localization of a uuv many sensors such as inertial measurement units imu or doppler velocity log dvl must be integrated allotta et al 2017 however localization error of any uuv gradually increases as time elapses considering a uuv which cannot use gps signals we consider the task of autonomous scanning coverage control of a 3 d surface in underwater environments this task is crucial for various underwater applications such as inspection of underwater structures surveillance or underwater exploration there are many manuscripts on boundary tracking control of robots while assuring collision avoidance clark and fierro 2005 hoy 2013 de and koditschek 2013 micaelli and samson 1993 teimoori and savkin 2008 2010 toibero et al 2006 matveev et al 2011 zhang et al 2004 frezza and picci 1995 andersson and park 2005 kim 2019a it is commonly assumed that a robot is equipped with 360 scanning sensors to detect the closest point on a boundary curve zhang et al 2004 samson 1995 zhang et al 2004 samson 1995 considered the case where a robot is located on a 2 d plane while following a 2 d curve using 360 scanning sensors kim 2019b presented boundary tracking controls using a vehicle with rigidly mounted range sensors kim 2019b considered a group of rays around the center ray such that each sensor ray measures the distance to an obstacle boundary however the control in kim 2019b did not use a closest point information thus has singularity in the control moreover kim 2019b considered a robot in a 2 d plane kim 2019b requires that a robot needs to estimate the curvature at a point where a group of rays meets the boundary curvature estimation is associated to the second derivative of a point on the boundary curve and is sensitive to measurement noise 1 1 let γ t x t y t be a proper parametric representation of a twice differentiable plane curve then the signed curvature casey 1996 is κ x y y x x 2 y 2 3 2 1 thus accurate curvature estimation is not trivial the scanning approach in this paper does not require the curvature estimation this paper does not use any derivative of a point on the surface boundary many papers exist on coverage path planning of robots atkar et al 2001 2009 galceran and carreras 2013 galceran and carreras 2013 presented a survey on coverage path planning for various robots a commonly used survey plan williams et al 2016 warren 1990 choset et al 1998 williams 2010 fransman et al 2018 kim 2019c is a series of equidistant parallel tracks such that the swaths of consecutive tracks interleave resulting in coverage for the entire area this pattern composed of parallel tracks is called the lawnmower pattern considering the spray painting application the authors of atkar et al 2001 planned the coverage path in an offset surface from which the end effector will spray the target surface atkar et al 2001 presented how to build a path for the end effector in the case where the target surface is known a priori moreover atkar et al 2001 assumed that a robot is localized which is not trivial in underwater environments this paper considers the case where the underwater surface is not known a prior and the uuv cannot use gps signal to locate itself in this paper we assume that the uuv can measure its depth and emit several rays around it such that each ray forms an equi angular configuration on the horizontal plane here multiple rays are utilized to detect obstacle boundaries surrounding the vehicle considering an underwater vehicle the depth of the vehicle can be measured using pressure sensors in addition active sonar or blue green laser can be used to measure the relative distance to an underwater surface liu and ge 2006 we develop controllers that utilize these measurements to maintain a constant distance offset from an unknown surface and full scan of the surface within a given range of depths note that the uuv considered in this paper is not equipped with sensors to scan 360 thus the closest point information cannot be measured accurately we thus present a novel method to estimate the closest point based on the recent trajectory of the uuv this distinguishes our paper from other papers zhang et al 2004 samson 1995 which considered scanning 360 to derive a closest point at the moment the uuv then uses the estimated closest point information for 3 d surface scanning while maintaining a predefined distance from the surface as far as we know this paper is novel in developing 3 d controllers for full scan of the surface using a uuv emitting several sensing rays around it matlab simulations are used to verify the effectiveness of the proposed approach this manuscript is organized as follows section 2 discusses the control strategy presented in this paper section 3 presents how to estimate the relative position of the closest point using several fixed sensing rays section 4 presents matlab simulation results conclusions are provided in section 5 2 control strategy in this section the proposed scanning process is presented beforehand we introduce several concepts for convenience let c denote cos and let s denote sin we consider discrete time systems in this paper let k denote the time step the uuv keeps iterating scanning process within a given range of depths let d l denote the lower bound for the given depth range moreover let d u denote the upper bound for the given depth range let d k denote the depth of the uuv at time step k we control the depth of the uuv while satisfying that 2 d l d k d u let pitch θ k of the uuv denote the angle between the uuv s longitudinal axis and the horizontal plane at time step k the pitch of the uuv is set as one of the following two values θ d θ d considering a constant speed uuv let v denote the speed of the uuv utilizing the definition of the pitch we have 3 d k 1 d k v s θ k initially the uuv scans an underwater surface while setting its pitch as θ d using 3 the uuv s depth decreases as time elapses how to make the uuv scan the target surface is presented in sections 2 1 and 2 2 while the uuv scans the target surface with pitch θ d the uuv s depth will reach d l the lower bound for depth this case the uuv scans an underwater surface while setting its pitch as θ d as time elapses the uuv s depth increases using 3 once the uuv reaches d u the upper bound for depth it changes its pitch to θ d the uuv keeps iterating this until the operator makes the uuv halt its task 2 1 surface scanning model this subsection presents the surface scanning model considered in this paper let r 1 k denote the uuv s location at time step k the motion model of the uuv is 4 r 1 k 1 r 1 k d t v u k see that the uuv moves with a constant speed v here u k is the unit vector presenting the heading direction of the uuv at time step k u k is the control input of our system the uuv emits several sensing rays around it such that each ray forms an equi angular configuration on the horizontal plane these rays intersect the target surface and we can estimate r 2 k which is called the closestpoint at time step k let r k be defined as r k r 2 k r 1 k in addition this paper uses r k r k the proposed control scheme is based on r k at each time step k how to estimate r k using several fixed rays is presented in section 3 each ray emitted from the uuv forms an equi angular configuration on the horizontal plane since all sensing rays are parallel to the horizontal plane the third element of r k is zero this implies that r k is parallel to the horizontal plane 2 2 surface scanning controllers let r 0 represent the desired separation between the uuv and the surface in addition let ε 0 present a constant which is approximately zero in the case where r k r 0 ε we let the uuv move towards the surface using 5 u k r k r k c θ k s θ k 0 0 1 t here u k 1 since r k is parallel to the horizontal plane the third element of r k is zero and c θ k 2 s θ k 2 1 5 implies that the uuv moves towards the closest point on the horizontal plane while setting its pitch as θ k in the case where r k r 0 ε we let the uuv move away from the surface using 6 u k r k r k c θ k s θ k 0 0 1 t 6 implies that the uuv moves away from the closest point on the horizontal plane while setting its pitch as θ k in the case where r 0 ε r k r 0 ε we let the uuv follow the surface using 7 u k r π 2 r k r k c θ k s θ k 0 0 1 t here r ψ presents the rotation of ψ centered at the z axis and is given by 8 r ψ c ψ s ψ 0 s ψ c ψ 0 0 0 1 by multiplying r π 2 in 7 the uuv follows the boundary in the counter clockwise direction in the horizontal plane also the vehicle s pitch is set as θ k 3 estimate the relative position of the closest point this section presents how to estimate r k r 2 k r 1 k at each time step k using multiple sensing rays suppose that the vehicle emanates a finite sequence of n r rays around it with a constant angular spacing 2 π n r between them since the uuv is not equipped with sensors to scan 360 the closest point information cannot be measured accurately consider discrete time systems in this section consider the local coordinate frame say l k centered at the uuv s position at time step k localization error of any uuv gradually increases as time elapses suppose that localization error which accumulates between time step k and k k d is negligible here k d 0 is a small constant at each time step k i i 0 1 k d we can localize the uuv s position in l k for the uuv s localization between time step k and k k d we can use underwater localization methods in the literature e g allotta et al 2017 in the local frame l k we can further derive the coordinate of an obstacle point where the uuv s ray intersects the surface see fig 1 for an illustration in this figure r 1 k denotes the position of the uuv at time step k r 1 k is depicted as a circle r 1 k 1 denotes the position of the uuv at time step k 1 in addition x l y l z l represent three unit vectors presenting the three axis of l k frame dotted arrows indicate sensor rays emitted from the uuv at each time step the concave obstacle boundary is depicted on the right side of the uuv see that six obstacle points are generated on the concave obstacle boundary suppose that n i obstacle points are detected by the rays of the uuv at time step k i i 0 1 k d in the l k frame let c o j k i denote the 3 d coordinate of the j th j 1 2 n i obstacle point which is detected by the uuv at time step k i let s o k i be represented as 9 so k i c o 1 k i c o 2 k i c o n i k i at time step k k d we derive the closest point using all ray measurements between time step k and k k d since localization error accumulation between time step k and k k d is negligible we can localize the uuv s position at time step k i i 0 1 k d rather accurately in l k frame thus s o k s o k 1 s o k k d can be used as coordinates of obstacle points for the uuv at time step k k d the uuv at time step k k d calculates the relative distance between itself and each of the obstacle points in s o k s o k 1 s o k k d this way the coordinate of the closest point at time step k k d can be derived in l k frame thus r k k d r 2 k k d r 1 k k d can be derived by replacing k k d by k r k r 2 k r 1 k can be derived at each time step k in the case where k is less than k d we derive the relative position of the closest point using all ray measurements up to time step k 4 matlab simulations the proposed scanning controllers are implemented using matlab simulations the sampling interval is 0 1 s and the simulation runs for 200 s the desired separation r 0 is set as 5 distance units the lower bound d l is set as 35 distance units and the upper bound d u is set as 35 distance units ε 0 3 distance units v is 5 distance units per second in addition θ d π 30 radians the initial uuv s location is 9 9 30 at each time step the uuv emits three rays n r 3 such that the maximum sensing range of every ray is 30 distance units this indicates that the uuv cannot detect a surface which is too far from the vehicle each ray forms an equi angular configuration on the horizontal plane in simulations k d is set as 5 this implies that the localization error accumulation within 5 time steps is ignored in the case where the current time step k is less than k d we use all obstacle points which have been measured up to the time step k moreover considering noise in vehicle dynamics we added zero mean gaussian noise with standard deviation 0 01 to our control input u as each ray detects the target surface we added range measurement noise zero mean gaussian noise with standard deviation 0 01 is added to every range measurement 4 1 scenario 1 fig 2 presents the scanning result of the uuv fig 3 shows the side view of fig 2 the path of the uuv is depicted with red dots the coordinate x y z of the 3 d surface is built under the following equation 10 z 10 x e x 10 2 y 10 2 fig 4 a presents the change of r with respect to elapsed time in seconds r almost converges to r 0 5 as time elapses in addition fig 4 b presents the change of the uuv s depth with respect to elapsed time in seconds the uuv s depth varies between d u 35 and d l 35 4 2 scenario 2 in this subsection we consider a scenario with 3 d concave surface see figs 5 and 6 the path of the uuv is depicted with red dots in this scenario we set d u 25 and d l 5 considering scenario 2 fig 7 a presents the change of r with respect to elapsed time in seconds r almost converges to r 0 5 as time elapses in addition fig 7 b presents the change of the uuv s depth with respect to elapsed time in seconds the uuv s depth changes between d u 25 and d l 5 5 conclusions this manuscript presents 3 d scanning controllers for the uuv which emits fixed sensing rays around it novel controllers are presented so that the uuv with several sensor rays scans a 3 d surface within a given range of depths extensive simulation results are used to demonstrate the effectiveness of the proposed controllers the control law in this paper is not restricted to underwater vehicles but in general can be used by other autonomous vehicles as well for instance aerial vehicles can use the proposed control to scan a 3 d ground surface as our future works we will verify the effectiveness of the proposed control using experiments based on real autonomous vehicles acknowledgements this work was supported by 2020 hongik university research fund 
21846,this paper investigates the setpoints based path following issue of the underactuated cable laying ship in the presence of the model uncertainty and unknown external disturbance to implement the cable laying task automatically a novel double layers logical dll guidance algorithm is proposed to generate the reasonable reference path for the cable and cable laying vessel in the first guidance layer the reference path of the cable is programmed automatically by applying the logical guidance law the path programming process is based on the given setpoints information and could be in accordance with the practical cable laying requirement furthermore the desired trajectory of the ship is derived in the second one by constructing the cable related correlation equation as for the control part the improved composite learning algorithm is proposed to stabilize the error dynamics between the virtual ship and the actual ship for merits of the robust neural damping technique only two adaptive parameters are required to be updated online that can lead to the computation superiority which is significant for applying the proposed algorithm in the industrial process computer the concise design could guarantee the ease to implementation of the theoretical algorithm in the practical engineering finally much effort has been made to ensure that all signals in the closed loop system are semi global uniformly ultimately bounded sguub the numerical experiments are carried out to verify the effectiveness and superiority of the proposed algorithm including the comparative experiment and the cable laying experiment under the simulated ocean disturbance keywords underactuated ship path following control composite learning algorithm cable laying operation dll guidance 1 introduction over the past decades the motion control of the marine surface ship has attracted increasing attentions from the control community especially for the path following task on account of its great significance in the submarine cable laying operation and ship autopilot it has been extensively studied in the existing literatures miao et al 2017 zheng and sun 2016 in terms of the cable laying application chen et al 2016 more attentions are required on the practicability of the laying algorithm to guarantee the security of the operation e g design the reasonable reference path of the cable and ensure its laying accuracy greska 2001 ventikos and stavrou 2013 to the best of author s knowledge the related study is still lacking in the existing work which considers the automatic design of the cable laying operation thus it is urgent to establish a set of practical cable laying schemes including the guidance strategy and the control algorithm in order to perform effectively the path following task for the underactuated ship several typical guidance algorithms have been developed in the existing literatures e g line of sight los guidance fossen et al 2015 pure pursuit guidance yang et al 2016 and logical virtual ship lvs guidance zhang and zhang 2017 among these existing guidance algorithms the los algorithm is widely investigated in the field of the ship path following owing to its simplicity and effectiveness oh and sun 2010 xiang et al 2018 fossen and pettersen 2014 in particular the los guidance law can imitate an experienced sailor to steer the marine surface vessel toward the upcoming waypoint lying at a fixed distance ahead of the ship along the desired path as for the waypoints based path following mission the lvs guidance principle has been presented to achieve the waypoints based automatical sailing of the marine ship zhang and zhang 2013 where the smooth reference path could be automatically programmed by modeling the error based logical relationship the further work has been done in zhang et al 2017 to improve its availability in the engineering practice in the corresponding algorithm the configuration constraint of actuators has been considered in detail by introducing the dynamic virtual ship dvs buffer strategy when aiming at the submarine cable laying issue a los based guidance mechanism has been proposed for the dynamic positioning vessel fu et al 2012 and the piecewise design for the desired path is considered to guarantee the practicability of the guidance algorithm in choi et al 2014 an automated cable laying system is set up to improve the laying efficiency in which the optical fiber submarine cable on the seafloor can be automatically paid out at a rate however it should be noted that there still lack enough attentions on the quantified links between the setpoints information and practical cable laying path in the aforementioned results that is critical for applying the corresponding theoretical algorithm in the engineering application in addition it is of great importance to deal with the model uncertainty and unknown environment disturbance for the controller design for this purpose a class of nonlinear approximation based schemes have been discussed in the existing literatures e g the neural networks nns principle he et al 2018 huang et al 2019 the fuzzy logic algorithm xiang et al 2018 wang et al 2018 besides it is well known that the model predictive control mpc is with the powerful capability for tackling the system constraint explicitly in li and shi 2013 a novel robust distributed mpc scheme is developed for a group of nonlinear agents subject to the external disturbance with respect to the specific application of the mpc control algorithm zheng et al 2016 designs a mpc based distributed controller for the waterborne automated guided vessels agvs to perform the interterminal transport tasks note that the proposed path following control law is with the time awareness furthermore in view of the effectiveness of the fls based approximation scheme a fuzzy adaptive output feedback control algorithm is developed for the multi input multi output mimo system with unknown time delays li et al 2015 in the algorithm the serial parallel estimation model spem is constructed with the system state observer the corresponding prediction error could enhance effectively the performance of the closed loop system in xu and sun 2017 the disturbance observer is introduced in the composite learning algorithm to obtain the better tracking performance it is noted the composite learning control strategy put much focus on the interpretability of intelligent approximation model instead of the lyapunov stability wang et al 2017 though to the best of authors knowledge few results have been reported around the composite learning control of the cable laying ship moreover considering the complexity of the traditional nns the burdensome computation problem arising from the online updating of nns weights may limit the practical application of the theoretical algorithm motivated by the above observations with the double layers logical dll guidance principle the improved composite learning algorithm is proposed for the underactuated ship to implement the setpoints based cable laying operation the main contributions of this paper can be summarized as follows a novel dll guidance principle is proposed with two logical programming layers in the first guidance layer the dynamic lvs is employed to generate the setpoints based reference path for the cable furthermore by constructing the cable related correlation equation the ship s attitude reference signals can be derived in the second one to guide the cable laying ship the proposed dll guidance mechanism is consistent with the practical cable laying requirement by fusion of the robust neural damping technique the improved composite learning control algorithm is developed in the algorithm only two adaptive parameters are updated online to generate the compensating effects for the model uncertainty and unknown disturbance therefore the computation burden could be reduced drastically that can enhance its ease to implement in the industrial practice in addition the adaptive law is constructed by employing the recorded data including the compensating tracking error and the prediction error that could guarantee the control performance in aspects of the tracking accuracy and the convergence speed 2 problem formulation 2 1 notations throughout this paper denotes the absolute value of a scalar while denotes the frobenius norm of implying that f i 1 n j 1 m where can be either a matrix or vector or scalar n and m are the sizes of in length and width respectively ˆ is the estimated value of sign denotes the sign function 2 2 mathematical model of the cable laying vessel in this paper the underactuated cable laying ship is the marine plant of interest which has a unique structure with a rudder propeller system based on the newtonian or lagrangian mechanics fossen 2011 li et al 2008 the three degrees of freedom 3dofs dynamic model of the underactuated ship is expressed as eqs 1 3 1 x u cos ψ v sin ψ y u sin ψ v cos ψ ψ r 2 u f u ν τ u m u d w u v f v ν d w v r f r ν τ r m r d w r with 3 f u ν m v m u v r d u 1 m u u d u 2 m u u u d u 3 m u u 3 f v ν m u m v u r d v 1 m v v d v 2 m v v v d v 3 m v v 3 f r ν m u m v m r u v d r 1 m r r d r 2 m r r r d r 3 m r r 3 where η x y ψ t denote respectively the surge sway displacement and the yaw angle in the earth fixed coordinate system ν u v r t are respectively the surge sway and yaw velocities d w u d w v d w r are used to describe the constraining force imposed by the cable and external disturbance caused by wind waves and ocean currents f u ν f v ν f r ν are high order hydrodynamic effects these terms m u m v m r are employed to describe the added mass in three orientations d u 1 d u 2 d u 3 d v 1 d v 2 d v 3 d r 1 d r 2 d r 3 represent the hydrodynamic damping terms τ u and τ r are the control inputs of the underactuated cable laying ship i e the surge force and the yaw moment assumption 1 there exists an unknown constant d i max i u v r such that the total disturbance meets the condition as d w i d i max that also means that the external disturbance imposed on the underactuated cable laying ship is bounded assumption 2 the setpoints based reference path of the cable is generated by a virtual ship 4 which could guarantee that the required path is regular and smooth for the corresponding variables i e x d x d x d y d y d y d and ψ d ψ d ψ d they are considered to be bounded 4 x d u d cos ψ d y d u d sin ψ d ψ d r d remark 1 from the perspective of marine practice the planned route of the merchant ship is usually designed with the waypoints information for the ideal laying path of the cable it could be also generated by a virtual ship using the corresponding setpoints information that is consistent with the practical cable laying situations and such a view is also considered as common and reasonable in the related references zhang and zhang 2013 lu et al 2018 based on the existing theoretical basis and actual operation requirement the assumption 2 is made to facilitate the subsequent study assumption 3 on the basis the systematic analysis in li et al 2008 the velocity in the sway direction of the underactuated ship is regarded as passive bounded assumption 4 the surge speed of the cable laying ship is similar to the laying speed of the cable remark 2 for the assumption 3 since the sway velocity of the underactuated ship is attenuated by the hydrodynamic damping force in the sway orientation this assumption can be easily satisfied in the marine practice besides in order to ensure the safety and laying accuracy of the cable laying operation the practical laying speed is quite slow such that the assumption 4 can be reasonable and tenable the similar reasonable statement could also be found in the corresponding literatures fu et al 2014 this paper considers the setpoints based automatic laying issue of the cable laying ship the detailed objective could be divided into two parts 1 develop the effective guidance principle which could provide the reasonable reference path for the cable and the working ship 2 design the improved robust controller such that the actual ship could follow closely the virtual cable laying ship in the presence of the complex external disturbance that could contribute to making the cable lay accurately onto the setpoints based desired path 2 3 nns based function approximation in the existing studies chen et al 2013 zhang and zhang 2015 the radial basis function neural networks rbf nns are commonly considered as an effective tool for modeling the nonlinear function owing to their powerful approximation capabilities in function approximation and the corresponding structure is shown in fig 1 in the proposed algorithm the rbf nns are employed to tackle with the model uncertainty where lemma 1 is useful by fusion of the robust neural damping technique only two adaptive parameters are required to be updated accordingly the computation burden can be greatly reduced that can facilitate the practical implementation of the theoretical algorithm lemma 1 chen et al 2009 for any given real continuous functions f x with f 0 0 over a compact set ω x r m 1 f x could be approximated as eq 5 by employing the rbf nns approximation technique and the continuous function separation technique where s x s 1 x s 2 x s n x r 1 n is the vector of rbf nns with s i x commonly chosen as the gaussian function i e eq 6 6 s i x 1 2 π h i exp x μ i 2 2 h i 2 i 1 2 n in eq 6 μ i μ i 1 μ i 2 μ i m t is the center of the receptive field and h i is the width of the gaussian function ε is the approximation error with the upper bound ε max a is the ideal weight matrix 7 m is the dimension number of the input vector x 7 a w 11 w 12 w 1 m w 21 w 22 w 2 m w n 1 w n 2 w n m r n m 3 the dll guidance for the cable laying operation in the marine practice the planned route of the ship is usually set by the ship officer by utilizing the waypoints data obviously the sailing reference path basically consists of two parts the straight line and curve one in actual it is similar to the ideal laying path of cable based on the specific consideration the dll guidance principle is proposed for the cable laying operation and the detailed design will be introduced in this part layer 1 considering the strict and practical laying requirements the logical virtual ship guidance strategy is presented to generate the smooth setpoints based reference path of the cable s i 1 t in s i t out s i s i 1 fig 2 shows the basic framework of the dll guidance mechanism for the straight line path s i 1 t in s i the virtual ship sails with a fixed surge speed u d which is set according to the requirement of the arrival time while for the arc t in s i t out s i the turning order r d with r d u d r i is given to guide the virtual ship around the setpoint the determination of the related turning radius r i depends on the current known setpoint information and specific laying requirements the path angle φ i i 1 could be easily obtained by eq 8 8 φ i i 1 arctan y i y i 1 x i x i 1 thus the change angle could be derived as δ φ i φ i i 1 φ i 1 i when the change angle meets the condition as δ φ i π 2 one could choose the appropriate value r i varying in r min r max while for the condition as δ φ i π 2 the turning radius r i will be selected as r max in the marine practice the ship officer usually chooses to turn early when the ship requires to make a large turn more than π 2 that can lead to a small steering rate and reduce the saturation effect of the rudder device in this way a large turning radius will be determined to provide the turning reference for the ship and the above parameter setting in aspects of the turning radius is considered to be reasonable the determination of r min and r max should take the actual turning ability of the ship into considerations the above path generating method could be employed for each setpoint in this way the planning task aiming to the cable s reference path is completed layer 2 as for the conventional ship motion control study the real time trajectory reference information of the ship is necessary for designing the corresponding control algorithm therefore on the basis of the assumption 4 the cable related correlation equation 9 is developed to acquire the attitude signals of the virtual cable laying ship 9 x s x d l t c cos ψ s y s y d l t c sin ψ s ψ s ψ d the related variables in eq 9 are same to that of eq 1 fig 3 presents the three dimension 3d engineering schematic diagram of the cable laying operation where l t c denotes the horizontal distance between the seabed point and ship s gravity center in the engineering practice for the effects of the quasi static hydrodynamic force and the same catenary characteristic l t c can be considered as a constant in fig 4 the interpretation of the path following for the cable laying ship is given to facilitate the understanding of readers in this way the introduction of the proposed dll guidance strategy is completed remark 3 note most existing researches just focus on the control issue between the ship s center of gravity and the waypoints based reference path however that may be not feasible for the application in the submarine cable laying issue for this purpose the proposed guidance algorithm explores further the deep connections including the geometrical relationship and logical links among the cable setpoints and cable laying ship although the planned path of the cable laying ship is not completely smooth it will not make any difference to the key controller design this reasonable view has been pointed in khaled and chalhoub 2013 considering that the marine ship usually takes a turn at a angle of no more than π 2 it is reasonable to choose π 2 as the condition and the similar description could also be found in zhang and zhang 2013 2015 4 improved composite learning control algorithm by using the command filter and the robust neural damping techniques the improved composite neural learning control algorithm is proposed to stabilize the actual ship toward the virtual ship in this section the completed control design procedure will be presented including two steps i e the kinematic design and the kinetic one step 1 at this step one needs to stabilize the kinematic error dynamics of the ship for this purpose the following kinematic error variables 10 are defined by referring to fig 4 10 x e x s x y e y s y u e 1 x e 2 y e 2 r e 1 ψ r ψ note that u e 1 is an position variable defined by the user furthermore ψ r is the ship s azimuth angle relative to the virtual cable laying ship instead of the yaw angle of the virtual ship eq 12 gives the calculation method of the azimuth angle ψ r 11 ψ r 0 5 1 sgn x e sgn y e π arctan y e x e by exploring deeply the knowledge in fig 4 eq 10 can be rewritten as eq 13 12 x e u e 1 cos ψ r y e u e 1 sin ψ r r e 1 ψ r ψ to acquire the necessary virtual control law eq 13 can be derived along with eqs 1 and 12 13 u e 1 π u r e 1 ψ r r where π cos ψ r x s sin ψ r y s v sin ψ e 2 u sin 0 5 ψ e 2 based on the typical backstepping method the virtual control inputs of u and r are chosen as eq 15 14 α u k u e 1 u e 1 π α r k r e 1 r e 1 ψ r in terms of the traditional backstepping approach the virtual control signals required to be repeatedly differentiated that will lead to the explosion complexity of problem fortunately the dsc and command filter technique have been proposed to overcome the shortage and the detailed introduction can be found in liu and wang 2012 chen et al 2014 li and tong 2016 xu et al 2016a in this note the command filter technique is incorporated into the construction of composite learning mechanism next one defines the following kinetic error dynamic 15 to complete the control design 15 u e 2 β u u r e 2 β r r in eq 16 β u and β r are the outputs of the command filter combining eqs 15 and 16 the corresponding error dynamics 16 can be derived 16 i e 1 k i e 1 i e 1 i e 2 β i α i i u r for purpose of eliminating the effect of the filter error one introduces the compensating signal u z 1 and r z 1 into the control design that is what makes the composite neural learning algorithm so special li et al 2014 17 u z 1 k u e 1 u z 1 u z 2 β u α u r z 1 k r e 1 r z 1 r z 2 β r α r where i z 1 0 0 i u r for the compensating signals u z 2 r z 2 they will be defined in the next step by fusion of the filter error compensating signals one defines the novel tracking errors as eq 19 18 ϑ u 1 u e 1 u z 1 ϑ r 1 r e 1 r z 1 ϑ u 2 u e 2 u z 2 ϑ r 2 r e 2 r z 2 based on the analysis in eqs 16 18 one can get the time derivative of ϑ u 1 and ϑ r 1 i e eq 19 19 ϑ u 1 k u e 1 ϑ u 1 ϑ u 2 ϑ r 1 k r e 1 ϑ r 1 ϑ r 2 step 2 in this step the goal is to design the actual control law and adaptive law such that the kinetic error dynamics could be stabilized take the time derivative of the u e 1 r e 1 based on eqs 2 and 15 the kinetic error dynamics can be described as eq 20 20 u e 2 β u f u ν τ u m u d w u r e 2 β r f r ν τ r m r d w r considering that the rbf nns are with the remarkable approximating capacity for the continuous function the nonlinear terms f i ν i u r could be remodeled as eq 21 21 f i ν s i ν a i ν ε i s i ν a i β ν ν e 2 ε i s i ν a i β ν b i s i ν w i ε i actually the rbf nns are with the same basis function for the u r subsystems i e s u ν s r ν with s i ν r 1 n a i r n 3 β ν β u v β r t ν e 2 u e 2 0 r e 2 t the approximation error ε i is with the upper bound ε i max define b i a i f a i m a i b i it is obvious that w i a i m ν e 2 and b i w i a i ν e 2 could be derived by means of the robust neural damping technique the related damping term is constructed to simplify the control design therefore the kinetic error dynamics 20 can be transformed as eq 22 22 i e 2 β i b i s i ν w i ϒ i τ i m i i u r with 23 ϒ i s ν a i β ν λ ν 2 s ν 2 ε i s ν a i f β ν λ ν 2 s ν 2 ε i max θ i ϕ i where θ i max a i f ε i max ϕ i 1 s ν β ν λ ν 2 s ν 2 by utilizing eqs 20 23 the actual control laws are designed as eq 24 24 τ u m u k u u e 2 λ ˆ u φ u β u u e 1 γ u 1 2 ν e 2 t ν e 2 τ r m r k r r e 2 λ ˆ r φ r β r r e 1 γ r 1 2 ν e 2 t ν e 2 where φ i s i ν s i ν t 4 γ i 1 2 ϕ i 2 4 γ i 2 2 i u r the corresponding parameters k u k r γ u 1 γ r 1 γ u 2 γ r 2 are positive constants selected by the user next one gives the compensated signal u z 2 and r z 2 and takes their time derivatives as eq 25 25 u z 2 k u u z 2 u z 1 r z 2 k r r z 2 r z 1 by referring to the related design procedures 18 and 19 in the step1 eq 26 could be obtained easily 26 ϑ u 2 k u ϑ u 2 ϑ u 1 b u s u ν w u ϒ u λ ˆ u φ u γ u 1 2 ν e 2 t ν e 2 ϑ r 2 k r ϑ r 2 ϑ r 1 b r s r ν w r ϒ r λ ˆ r φ r γ r 1 2 ν e 2 t ν e 2 to improve the approximation accuracy of nns for the surge speed u and yaw rate r one defines the prediction error 27 by introducing the spem model 27 δ i i i ˆ i ˆ 0 i 0 i u r where u ˆ and r ˆ are designed as eq 28 28 u ˆ τ u m u λ ˆ u φ u ξ u δ u γ u 1 2 ν e 2 t ν e 2 r ˆ τ r m r λ ˆ r φ r ξ r δ r γ r 1 2 ν e 2 t ν e 2 it is noted that ξ u ξ r are small user defined positive constants based on the detailed discussions in xu et al 2016b the approximating accuracy of nns could be improved if these aforementioned parameters are selected appropriately by taking advantage of eqs 22 23 27 and 28 eq 29 could be concluded 29 δ u ξ u δ u b u s u ν w u ϒ u λ ˆ u φ u γ u 1 2 ν e 2 t ν e 2 δ r ξ r δ r b r s r ν w r ϒ r λ ˆ r φ r γ r 1 2 ν e 2 t ν e 2 accordingly one chooses the adaptive laws for the compressed weights as eq 30 30 λ ˆ u γ u ϑ u 2 δ u φ u σ u λ ˆ u λ ˆ u 0 λ ˆ r γ r ϑ r 2 δ r φ r σ r λ ˆ r λ ˆ r 0 where γ u γ r σ u σ r are some positive design parameters λ ˆ i 0 is the initial value of λ ˆ i i u r remark 4 by introducing the spem the prediction error is constructed and incorporated into the adaptive law 30 that can improve the compensating effect of nns for the kinetic error dynamics obviously there exist only two adaptive parameters λ ˆ u and λ ˆ r required to be tuned owing to the robust neural damping technique compared to the traditional composite learning algorithm xu and sun 2017 xu et al 2016b the merits with the small computation burden contributes to the implementation of the theoretical algorithm in the engineering practice 5 stability analysis the stability analysis of the closed loop system is carried out through the error dynamics 13 20 between the actual ship 1 2 3 and virtual ship 4 and the main result is summarized as theorem 1 theorem 1 consider the closed loop system consisting of the underactuated cable laying vessel 1 2 3 satisfying assumption 1 4 the proposed composite learning control law 14 24 and the corresponding adaptive law 30 for any initial conditions satisfying ϑ u 1 2 0 ϑ r 1 2 0 ϑ u 2 2 0 ϑ r 2 2 0 δ u 2 0 δ r 2 0 λ u 2 0 λ r 2 0 2 δ with any δ 0 all signals in the closed loop system could be guaranteed to be semi global uniformly ultimately bounded sguub by tuning appropriately these parameters k u e 1 k r e 1 k u k r γ u 1 γ r 1 γ u 2 γ r 2 ξ u ξ r γ u γ r proof one chooses the lyapunov candidate function as eq 31 31 v i u r 1 2 ϑ i 1 2 1 2 ϑ i 2 2 1 2 δ i 2 1 2 γ u λ i 2 take the time derivative of v with referring to eqs 19 26 29 and 30 eq 32 could be obtained 32 1 v i u r ϑ i 1 ϑ i 1 ϑ i 2 ϑ i 2 δ i δ i 1 γ i λ i λ i i u r ϑ i 1 k i e 1 ϑ i 1 ϑ i 2 i u r ϑ i 2 k i ϑ i 2 ϑ i 1 b i s i ν w i ϒ i λ ˆ i φ i γ i 1 2 ν e 2 t ν e 2 i u r δ i ξ i δ i b i s i ν w i ϒ i λ ˆ i φ i γ i 1 2 ν e 2 t ν e 2 i u r λ i ϑ i 2 δ i φ i σ i λ ˆ i λ ˆ i 0 by virtue of eq 23 and the young s inequality the following relationships 33 could be achieved 33 i u r ϑ i 2 b i s i ν w i ϒ i δ i b i s i ν w i ϒ i i u r b i s i ν w i ϒ i ϑ i 2 δ i i u r b i 2 s i ν s i t ν 4 γ i 1 2 γ i 1 2 w i t w i ϒ i 2 4 γ i 2 2 γ i 2 2 ϑ i 2 δ i with the interpretation of ϒ i and φ i the following equation 34 could be concluded 34 i u r b i 2 s i ν s i t ν 4 γ i 1 2 ϒ i 2 4 γ i 2 2 i u r b i 2 s i ν s i t ν 4 γ i 1 2 θ i 2 ϕ i 2 4 γ i 2 2 i u r λ i b i 2 s i ν s i t ν 4 γ i 1 2 ϕ i 2 4 γ i 2 2 i u r λ i φ i where λ i is with the definition as λ i max b i 2 θ i 2 i u r in view of the construction of neural weight matrix eq 35 holds 35 w i t w i a i m ν e 2 2 w i 1 t w i 1 w i 2 t w i 2 w i n t w i n a i f 2 ν e 2 t ν e 2 u e 2 2 r e 2 2 by using the young s inequality theory eqs 36 38 would facilitate the further analysis 36 ϑ u 2 γ u 2 2 γ u 2 4 4 ϑ u 2 2 ϑ r 2 γ r 2 2 γ r 2 4 4 ϑ r 2 2 37 δ u 2 γ u 2 2 γ u 2 4 4 δ u 2 2 δ r 2 γ r 2 2 γ r 2 4 4 δ r 2 2 38 λ u λ ˆ u λ ˆ u 0 1 2 λ u 2 1 2 λ u λ ˆ u 0 2 λ r λ ˆ r λ ˆ r 0 1 2 λ r 2 1 2 λ r λ ˆ r 0 2 where λ λ λ ˆ then considering eqs 33 36 37 and 38 eq 32 could be transformed into eq 39 39 v i u r k i e 1 ϑ i 1 2 k i 1 ϑ i 2 2 ξ i 1 δ i 2 σ i 2 λ i 2 ρ i where ρ i γ i 2 4 2 σ i 2 λ i λ ˆ i 0 2 i u r one selects k u a 1 1 k r a 2 1 ξ u a 3 1 ξ r a 4 1 then eq 40 could be obtained 40 v 2 a v ρ where a min k u e 1 k r e 1 a 1 a 2 a 3 a 4 σ u 2 γ u σ r 2 γ r ρ ρ u ρ r one can integrate eq 40 to get v ρ 2 a v 0 ρ 2 a exp 2 a t with the discussions around the closed loop shaping algorithm in zhang et al 2014 it is obvious that v is bounded besides the assumption 3 is also satisfied in the marine practice therefore all signals could be guaranteed to be sguub the whole proof is completed 6 illustrative experiment in this section the comparative example is presented to verify the superiority of the proposed algorithm then in order to highlight its practicability in the engineering project another experiment is performed in the simulated ocean environment for this purpose the underactuated ship model length 76 2 m width 19 2 m displacement 6 10 6 kg adopted in the reference fu et al 2012 is employed to complete whole illustrative experiments 6 1 comparative experiment for the guidance principle in this part the dll guidance strategy will be compared with the los based one in fu et al 2012 and some interesting conclusions can be obtained in this experiment the following setpoints are used to describe the cable laying area to cover s 1 0 m 200 m s 2 600 m 200 m s 3 900 m 800 m s 4 1500 m 800 m fig 5 gives the cable laying trajectory under both guidance principles from the local zoom it can be seen that the laying performance under the proposed guidance algorithm is better for the quantified analysis the important performance index whole cable laying length is presented to verify the conclusion i e dll guidance 1767 9m los based guidance 1943 6m it is obvious that the cable resource could be saved by employing the proposed guidance law at some extent 6 2 comparative experiment for the control algorithm to verify the performance of the proposed control algorithm one implements the comparative experiment with the method in fu et al 2012 in this part for the proposed controller the rbf nns nodes for f u ν and f r ν are selected 25 with centers spaced in 15 m s 15 m s for f u ν and 2 rad s 2 rad s for f r ν and widths are 5 the initial states of the real ship are selected as x 0 y 0 ψ 0 u 0 v 0 r 0 20 m 30 m 0 rad 0 m s 0 m s 0 rad s and other necessary initial settings are 0 the control parameters are chosen as m u 120 10 3 kg m v 177 9 10 3 kg m r 500 10 3 kg k u e 1 0 8 k r e 1 40 k u 50 10 3 m u k r 35 10 6 m r γ u 1 γ r 1 γ u 2 γ r 2 0 8 σ u σ r 5 2 ξ u ξ r 0 1 γ u 30 γ r 50 3 u d 3 0 m s for more details about the parameter setting of the compared algorithm the readers are suggested to refer to fu et al 2012 to stand out the attractive performance of the proposed control law the reasonable reference path consisting of the straight line path and curve one is adopted which is generated by the virtual ship based on the assumption 2 eq 41 gives the detailed path formation 41 r d exp 0 005 t 300 0 s t 30 s 0 30 s t 70 s 0 05 70 s t 180 s the time varying disturbance on the plant is chosen as eq 42 it is beneficial to demonstrate the robustness of the improved composite learning algorithm 42 d w u 11 12 1 0 35 sin 0 3 t 0 15 cos 0 5 t d w v 26 17 76 1 0 3 sin 0 4 t 0 2 cos 0 1 t d w r 950 636 1 0 3 sin 0 3 t 0 1 cos 0 5 t the final comparative results are presented in figs 6 8 fig 6 shows the tracking trajectory under both different algorithms it is noticed that the both schemes could achieve the effective path following for the designed reference path moreover through the attentive observation it is obvious that the proposed scheme tracks the reference path faster and closer than the robust design in fu et al 2012 fig 7 gives some vital comparative results concerning the position tracking error and orientation error clearly the faster convergence of error variables could be got in the proposed algorithm besides the dynamics of the yawing motion is better than that of the compared algorithm which is significant for the practical cable laying operation the comparison result of the control inputs is shown in fig 8 it reveals that the control effort under the proposed control algorithm is more steady which is good for the marine actuators for the learning performance of the defined adaptive parameters in fig 9 it is easy to note that the related adaptive parameters could be stabilized within a short setting time for the quantitative purpose some popular performance indexes eq 43 are utilized to evaluate the comparison result e g the mean absolute error mae the mean absolute control effort mac and the mean total variation mtv mae reveals the stabilizing performance of the control system mac and mtv are properties of the energy consumption the detailed data is summarized in table 1 it can be observed that the proposed control algorithm is with more advantages in many aspects in practice the control procedure runs based on the industrial personal computer therefore the consideration around the computation burden required to be included in the innovation algorithm design in order to stand out the computation superiority of the proposed algorithm the held computer memory hcm and the elapsed running time ert are employed to evaluate the computation ability of the control algorithm as for the cable laying control issue it has been addressed in fu et al 2012 via a nonlinear adaptive controller and the result is interesting and worthy of attention however the complicated control law and a mass of weight vector will increase the computation burden of the industrial computer while for the proposed algorithm the rbf nns updating weight are compressed successfully via the robust neural damping technique accordingly the computation burden of the computer can be reduced effectively table 2 lists the comparison result around the computation burden it is obvious that the proposed improved composite learning control law owns the small computation burden than the approach in fu et al 2012 on the basis of the above analysis around the comparison result it can be seen easily that the proposed scheme including the guidance algorithm and control law owns many advantages compared to the result in fu et al 2012 and some performances are worthy of noticing for the practical engineering applications especially for the cable laying operation 6 3 cable laying experiment in the presence of the simulated ocean environment in order to verify the practicability of the proposed algorithm the setpoints based cable laying experiment is conducted in the simulated ocean environment in the experiment the sea wind waves and currents are considered and simulated based on the spectrum related models in mccue 2016 fossen 2011 fig 10 presents the simulated ocean environment disturbance in the sixth level sea state including the two dimension 2d planar graph of the wind field and the corresponding wind generated waves the detailed simulated environment is set as the wind speed v wind 15 7 m s and the wind direction ψ wind 200 deg the following five points s 1 0 m 200 m s 2 600 m 200 m s 3 900 m 800 m s 4 2200 m 800 m s 5 1900 m 1500 m are used to generate the setpoints based reference path of the cable it is noted that different path change angles are included in the simulated experiment and that is good for checking roundly the application performance of the proposed guidance principle the initial conditions of the cable laying ship is set as x 0 y 0 ψ 0 u 0 v 0 r 0 100 m 202 m 0 rad 0 m s 0 m s 0 rad s for the control parameters in this experiment they are still set along with the comparative experiment fig 11 is the setpoints based cable laying trajectory in the simulated marine environment it is noted that the cable could be laid accurately on the reference path by utilizing the proposed scheme the remarkable tracking accuracy could be found from the local zoom fig 12 gives the corresponding control effort of the cable laying ship although there exists the evident chattering phenomenon that could be eliminated by the actuator servo system installed in the marine surface vessel for the estimation performance of the surge velocity u and yaw velocity r in fig 13 the designed estimation value could track accurately the real value which means the defined prediction error is small enough to ensure the validity of the proposed algorithm in general the engineering applicability of the proposed scheme can be demonstrated well via the above experiment results 7 conclusion this paper has proposed a practical cable laying scheme for the corresponding motor ship to perform the cable laying task with the dll guidance mechanism the setpoints based reference path of the cable can be programmed automatically by using the dynamic lvs guidance strategy for merits of the cable related correlation equation the attitude reference of the cable laying ship can be obtained in the second guidance layer furthermore the improved composite neural learning control algorithm is proposed by fusion of the command filter and the robust neural damping techniques there are only two adaptive parameters required to be updated online in the algorithm which brings about the smaller computation burden that could facilitate the practical applications of the theoretical algorithm furthermore the stability of the closed loop system has been proven through the lyapunov theory the remarkable performance of the proposed scheme has been verified by the illustrative experiments in this note the proposed scheme could provide the potential reference for the cable laying ship note this work cannot naturally attend to every detail of the closed loop system design in the future the authors are working on an extension of the proposed scheme to the following significant points and the corresponding results would be reported elsewhere control design to tackle with nonsmooth nonlinearity the actuator input saturation and the possible actuator failure are the common and important problems existing in the engineering practice that may severely degrade the control performance and even lead to the invalidation of the conventional control schemes out feedback control in the marine practice only the attitude information including the surge sway and yaw displacements can be used for the feedback control system for that condition the improved observer should be developed to estimate the related velocity states thus from the theoretical difficulty and the practical application significance the output feedback control strategy should be further investigated for marine ships credit authorship contribution statement guoqing zhang methodology software formal analysis writing original draft project administration chenliang zhang conceptualization software validation writing review editing jiqiang li validation formal analysis writing review editing xianku zhang project administration funding acquisition writing review editing acknowledgement this work is partially supported by the national natural science foundation of china no 51909018 71831002 the program for innovative research team in university of china no irt17r13 the science and technology innovation foundation of dalian city no 2019j12gx026 the doctor scientific research foundation of liaoning province no 20170520189 the natural science foundation of liaoning province no 20180520039 and the fundamental research funds for the central universities of china 3132020124 3132019501 3132019502 the authors would like to thank anonymous reviewers for their valuable comments to improve the quality of this article 
21846,this paper investigates the setpoints based path following issue of the underactuated cable laying ship in the presence of the model uncertainty and unknown external disturbance to implement the cable laying task automatically a novel double layers logical dll guidance algorithm is proposed to generate the reasonable reference path for the cable and cable laying vessel in the first guidance layer the reference path of the cable is programmed automatically by applying the logical guidance law the path programming process is based on the given setpoints information and could be in accordance with the practical cable laying requirement furthermore the desired trajectory of the ship is derived in the second one by constructing the cable related correlation equation as for the control part the improved composite learning algorithm is proposed to stabilize the error dynamics between the virtual ship and the actual ship for merits of the robust neural damping technique only two adaptive parameters are required to be updated online that can lead to the computation superiority which is significant for applying the proposed algorithm in the industrial process computer the concise design could guarantee the ease to implementation of the theoretical algorithm in the practical engineering finally much effort has been made to ensure that all signals in the closed loop system are semi global uniformly ultimately bounded sguub the numerical experiments are carried out to verify the effectiveness and superiority of the proposed algorithm including the comparative experiment and the cable laying experiment under the simulated ocean disturbance keywords underactuated ship path following control composite learning algorithm cable laying operation dll guidance 1 introduction over the past decades the motion control of the marine surface ship has attracted increasing attentions from the control community especially for the path following task on account of its great significance in the submarine cable laying operation and ship autopilot it has been extensively studied in the existing literatures miao et al 2017 zheng and sun 2016 in terms of the cable laying application chen et al 2016 more attentions are required on the practicability of the laying algorithm to guarantee the security of the operation e g design the reasonable reference path of the cable and ensure its laying accuracy greska 2001 ventikos and stavrou 2013 to the best of author s knowledge the related study is still lacking in the existing work which considers the automatic design of the cable laying operation thus it is urgent to establish a set of practical cable laying schemes including the guidance strategy and the control algorithm in order to perform effectively the path following task for the underactuated ship several typical guidance algorithms have been developed in the existing literatures e g line of sight los guidance fossen et al 2015 pure pursuit guidance yang et al 2016 and logical virtual ship lvs guidance zhang and zhang 2017 among these existing guidance algorithms the los algorithm is widely investigated in the field of the ship path following owing to its simplicity and effectiveness oh and sun 2010 xiang et al 2018 fossen and pettersen 2014 in particular the los guidance law can imitate an experienced sailor to steer the marine surface vessel toward the upcoming waypoint lying at a fixed distance ahead of the ship along the desired path as for the waypoints based path following mission the lvs guidance principle has been presented to achieve the waypoints based automatical sailing of the marine ship zhang and zhang 2013 where the smooth reference path could be automatically programmed by modeling the error based logical relationship the further work has been done in zhang et al 2017 to improve its availability in the engineering practice in the corresponding algorithm the configuration constraint of actuators has been considered in detail by introducing the dynamic virtual ship dvs buffer strategy when aiming at the submarine cable laying issue a los based guidance mechanism has been proposed for the dynamic positioning vessel fu et al 2012 and the piecewise design for the desired path is considered to guarantee the practicability of the guidance algorithm in choi et al 2014 an automated cable laying system is set up to improve the laying efficiency in which the optical fiber submarine cable on the seafloor can be automatically paid out at a rate however it should be noted that there still lack enough attentions on the quantified links between the setpoints information and practical cable laying path in the aforementioned results that is critical for applying the corresponding theoretical algorithm in the engineering application in addition it is of great importance to deal with the model uncertainty and unknown environment disturbance for the controller design for this purpose a class of nonlinear approximation based schemes have been discussed in the existing literatures e g the neural networks nns principle he et al 2018 huang et al 2019 the fuzzy logic algorithm xiang et al 2018 wang et al 2018 besides it is well known that the model predictive control mpc is with the powerful capability for tackling the system constraint explicitly in li and shi 2013 a novel robust distributed mpc scheme is developed for a group of nonlinear agents subject to the external disturbance with respect to the specific application of the mpc control algorithm zheng et al 2016 designs a mpc based distributed controller for the waterborne automated guided vessels agvs to perform the interterminal transport tasks note that the proposed path following control law is with the time awareness furthermore in view of the effectiveness of the fls based approximation scheme a fuzzy adaptive output feedback control algorithm is developed for the multi input multi output mimo system with unknown time delays li et al 2015 in the algorithm the serial parallel estimation model spem is constructed with the system state observer the corresponding prediction error could enhance effectively the performance of the closed loop system in xu and sun 2017 the disturbance observer is introduced in the composite learning algorithm to obtain the better tracking performance it is noted the composite learning control strategy put much focus on the interpretability of intelligent approximation model instead of the lyapunov stability wang et al 2017 though to the best of authors knowledge few results have been reported around the composite learning control of the cable laying ship moreover considering the complexity of the traditional nns the burdensome computation problem arising from the online updating of nns weights may limit the practical application of the theoretical algorithm motivated by the above observations with the double layers logical dll guidance principle the improved composite learning algorithm is proposed for the underactuated ship to implement the setpoints based cable laying operation the main contributions of this paper can be summarized as follows a novel dll guidance principle is proposed with two logical programming layers in the first guidance layer the dynamic lvs is employed to generate the setpoints based reference path for the cable furthermore by constructing the cable related correlation equation the ship s attitude reference signals can be derived in the second one to guide the cable laying ship the proposed dll guidance mechanism is consistent with the practical cable laying requirement by fusion of the robust neural damping technique the improved composite learning control algorithm is developed in the algorithm only two adaptive parameters are updated online to generate the compensating effects for the model uncertainty and unknown disturbance therefore the computation burden could be reduced drastically that can enhance its ease to implement in the industrial practice in addition the adaptive law is constructed by employing the recorded data including the compensating tracking error and the prediction error that could guarantee the control performance in aspects of the tracking accuracy and the convergence speed 2 problem formulation 2 1 notations throughout this paper denotes the absolute value of a scalar while denotes the frobenius norm of implying that f i 1 n j 1 m where can be either a matrix or vector or scalar n and m are the sizes of in length and width respectively ˆ is the estimated value of sign denotes the sign function 2 2 mathematical model of the cable laying vessel in this paper the underactuated cable laying ship is the marine plant of interest which has a unique structure with a rudder propeller system based on the newtonian or lagrangian mechanics fossen 2011 li et al 2008 the three degrees of freedom 3dofs dynamic model of the underactuated ship is expressed as eqs 1 3 1 x u cos ψ v sin ψ y u sin ψ v cos ψ ψ r 2 u f u ν τ u m u d w u v f v ν d w v r f r ν τ r m r d w r with 3 f u ν m v m u v r d u 1 m u u d u 2 m u u u d u 3 m u u 3 f v ν m u m v u r d v 1 m v v d v 2 m v v v d v 3 m v v 3 f r ν m u m v m r u v d r 1 m r r d r 2 m r r r d r 3 m r r 3 where η x y ψ t denote respectively the surge sway displacement and the yaw angle in the earth fixed coordinate system ν u v r t are respectively the surge sway and yaw velocities d w u d w v d w r are used to describe the constraining force imposed by the cable and external disturbance caused by wind waves and ocean currents f u ν f v ν f r ν are high order hydrodynamic effects these terms m u m v m r are employed to describe the added mass in three orientations d u 1 d u 2 d u 3 d v 1 d v 2 d v 3 d r 1 d r 2 d r 3 represent the hydrodynamic damping terms τ u and τ r are the control inputs of the underactuated cable laying ship i e the surge force and the yaw moment assumption 1 there exists an unknown constant d i max i u v r such that the total disturbance meets the condition as d w i d i max that also means that the external disturbance imposed on the underactuated cable laying ship is bounded assumption 2 the setpoints based reference path of the cable is generated by a virtual ship 4 which could guarantee that the required path is regular and smooth for the corresponding variables i e x d x d x d y d y d y d and ψ d ψ d ψ d they are considered to be bounded 4 x d u d cos ψ d y d u d sin ψ d ψ d r d remark 1 from the perspective of marine practice the planned route of the merchant ship is usually designed with the waypoints information for the ideal laying path of the cable it could be also generated by a virtual ship using the corresponding setpoints information that is consistent with the practical cable laying situations and such a view is also considered as common and reasonable in the related references zhang and zhang 2013 lu et al 2018 based on the existing theoretical basis and actual operation requirement the assumption 2 is made to facilitate the subsequent study assumption 3 on the basis the systematic analysis in li et al 2008 the velocity in the sway direction of the underactuated ship is regarded as passive bounded assumption 4 the surge speed of the cable laying ship is similar to the laying speed of the cable remark 2 for the assumption 3 since the sway velocity of the underactuated ship is attenuated by the hydrodynamic damping force in the sway orientation this assumption can be easily satisfied in the marine practice besides in order to ensure the safety and laying accuracy of the cable laying operation the practical laying speed is quite slow such that the assumption 4 can be reasonable and tenable the similar reasonable statement could also be found in the corresponding literatures fu et al 2014 this paper considers the setpoints based automatic laying issue of the cable laying ship the detailed objective could be divided into two parts 1 develop the effective guidance principle which could provide the reasonable reference path for the cable and the working ship 2 design the improved robust controller such that the actual ship could follow closely the virtual cable laying ship in the presence of the complex external disturbance that could contribute to making the cable lay accurately onto the setpoints based desired path 2 3 nns based function approximation in the existing studies chen et al 2013 zhang and zhang 2015 the radial basis function neural networks rbf nns are commonly considered as an effective tool for modeling the nonlinear function owing to their powerful approximation capabilities in function approximation and the corresponding structure is shown in fig 1 in the proposed algorithm the rbf nns are employed to tackle with the model uncertainty where lemma 1 is useful by fusion of the robust neural damping technique only two adaptive parameters are required to be updated accordingly the computation burden can be greatly reduced that can facilitate the practical implementation of the theoretical algorithm lemma 1 chen et al 2009 for any given real continuous functions f x with f 0 0 over a compact set ω x r m 1 f x could be approximated as eq 5 by employing the rbf nns approximation technique and the continuous function separation technique where s x s 1 x s 2 x s n x r 1 n is the vector of rbf nns with s i x commonly chosen as the gaussian function i e eq 6 6 s i x 1 2 π h i exp x μ i 2 2 h i 2 i 1 2 n in eq 6 μ i μ i 1 μ i 2 μ i m t is the center of the receptive field and h i is the width of the gaussian function ε is the approximation error with the upper bound ε max a is the ideal weight matrix 7 m is the dimension number of the input vector x 7 a w 11 w 12 w 1 m w 21 w 22 w 2 m w n 1 w n 2 w n m r n m 3 the dll guidance for the cable laying operation in the marine practice the planned route of the ship is usually set by the ship officer by utilizing the waypoints data obviously the sailing reference path basically consists of two parts the straight line and curve one in actual it is similar to the ideal laying path of cable based on the specific consideration the dll guidance principle is proposed for the cable laying operation and the detailed design will be introduced in this part layer 1 considering the strict and practical laying requirements the logical virtual ship guidance strategy is presented to generate the smooth setpoints based reference path of the cable s i 1 t in s i t out s i s i 1 fig 2 shows the basic framework of the dll guidance mechanism for the straight line path s i 1 t in s i the virtual ship sails with a fixed surge speed u d which is set according to the requirement of the arrival time while for the arc t in s i t out s i the turning order r d with r d u d r i is given to guide the virtual ship around the setpoint the determination of the related turning radius r i depends on the current known setpoint information and specific laying requirements the path angle φ i i 1 could be easily obtained by eq 8 8 φ i i 1 arctan y i y i 1 x i x i 1 thus the change angle could be derived as δ φ i φ i i 1 φ i 1 i when the change angle meets the condition as δ φ i π 2 one could choose the appropriate value r i varying in r min r max while for the condition as δ φ i π 2 the turning radius r i will be selected as r max in the marine practice the ship officer usually chooses to turn early when the ship requires to make a large turn more than π 2 that can lead to a small steering rate and reduce the saturation effect of the rudder device in this way a large turning radius will be determined to provide the turning reference for the ship and the above parameter setting in aspects of the turning radius is considered to be reasonable the determination of r min and r max should take the actual turning ability of the ship into considerations the above path generating method could be employed for each setpoint in this way the planning task aiming to the cable s reference path is completed layer 2 as for the conventional ship motion control study the real time trajectory reference information of the ship is necessary for designing the corresponding control algorithm therefore on the basis of the assumption 4 the cable related correlation equation 9 is developed to acquire the attitude signals of the virtual cable laying ship 9 x s x d l t c cos ψ s y s y d l t c sin ψ s ψ s ψ d the related variables in eq 9 are same to that of eq 1 fig 3 presents the three dimension 3d engineering schematic diagram of the cable laying operation where l t c denotes the horizontal distance between the seabed point and ship s gravity center in the engineering practice for the effects of the quasi static hydrodynamic force and the same catenary characteristic l t c can be considered as a constant in fig 4 the interpretation of the path following for the cable laying ship is given to facilitate the understanding of readers in this way the introduction of the proposed dll guidance strategy is completed remark 3 note most existing researches just focus on the control issue between the ship s center of gravity and the waypoints based reference path however that may be not feasible for the application in the submarine cable laying issue for this purpose the proposed guidance algorithm explores further the deep connections including the geometrical relationship and logical links among the cable setpoints and cable laying ship although the planned path of the cable laying ship is not completely smooth it will not make any difference to the key controller design this reasonable view has been pointed in khaled and chalhoub 2013 considering that the marine ship usually takes a turn at a angle of no more than π 2 it is reasonable to choose π 2 as the condition and the similar description could also be found in zhang and zhang 2013 2015 4 improved composite learning control algorithm by using the command filter and the robust neural damping techniques the improved composite neural learning control algorithm is proposed to stabilize the actual ship toward the virtual ship in this section the completed control design procedure will be presented including two steps i e the kinematic design and the kinetic one step 1 at this step one needs to stabilize the kinematic error dynamics of the ship for this purpose the following kinematic error variables 10 are defined by referring to fig 4 10 x e x s x y e y s y u e 1 x e 2 y e 2 r e 1 ψ r ψ note that u e 1 is an position variable defined by the user furthermore ψ r is the ship s azimuth angle relative to the virtual cable laying ship instead of the yaw angle of the virtual ship eq 12 gives the calculation method of the azimuth angle ψ r 11 ψ r 0 5 1 sgn x e sgn y e π arctan y e x e by exploring deeply the knowledge in fig 4 eq 10 can be rewritten as eq 13 12 x e u e 1 cos ψ r y e u e 1 sin ψ r r e 1 ψ r ψ to acquire the necessary virtual control law eq 13 can be derived along with eqs 1 and 12 13 u e 1 π u r e 1 ψ r r where π cos ψ r x s sin ψ r y s v sin ψ e 2 u sin 0 5 ψ e 2 based on the typical backstepping method the virtual control inputs of u and r are chosen as eq 15 14 α u k u e 1 u e 1 π α r k r e 1 r e 1 ψ r in terms of the traditional backstepping approach the virtual control signals required to be repeatedly differentiated that will lead to the explosion complexity of problem fortunately the dsc and command filter technique have been proposed to overcome the shortage and the detailed introduction can be found in liu and wang 2012 chen et al 2014 li and tong 2016 xu et al 2016a in this note the command filter technique is incorporated into the construction of composite learning mechanism next one defines the following kinetic error dynamic 15 to complete the control design 15 u e 2 β u u r e 2 β r r in eq 16 β u and β r are the outputs of the command filter combining eqs 15 and 16 the corresponding error dynamics 16 can be derived 16 i e 1 k i e 1 i e 1 i e 2 β i α i i u r for purpose of eliminating the effect of the filter error one introduces the compensating signal u z 1 and r z 1 into the control design that is what makes the composite neural learning algorithm so special li et al 2014 17 u z 1 k u e 1 u z 1 u z 2 β u α u r z 1 k r e 1 r z 1 r z 2 β r α r where i z 1 0 0 i u r for the compensating signals u z 2 r z 2 they will be defined in the next step by fusion of the filter error compensating signals one defines the novel tracking errors as eq 19 18 ϑ u 1 u e 1 u z 1 ϑ r 1 r e 1 r z 1 ϑ u 2 u e 2 u z 2 ϑ r 2 r e 2 r z 2 based on the analysis in eqs 16 18 one can get the time derivative of ϑ u 1 and ϑ r 1 i e eq 19 19 ϑ u 1 k u e 1 ϑ u 1 ϑ u 2 ϑ r 1 k r e 1 ϑ r 1 ϑ r 2 step 2 in this step the goal is to design the actual control law and adaptive law such that the kinetic error dynamics could be stabilized take the time derivative of the u e 1 r e 1 based on eqs 2 and 15 the kinetic error dynamics can be described as eq 20 20 u e 2 β u f u ν τ u m u d w u r e 2 β r f r ν τ r m r d w r considering that the rbf nns are with the remarkable approximating capacity for the continuous function the nonlinear terms f i ν i u r could be remodeled as eq 21 21 f i ν s i ν a i ν ε i s i ν a i β ν ν e 2 ε i s i ν a i β ν b i s i ν w i ε i actually the rbf nns are with the same basis function for the u r subsystems i e s u ν s r ν with s i ν r 1 n a i r n 3 β ν β u v β r t ν e 2 u e 2 0 r e 2 t the approximation error ε i is with the upper bound ε i max define b i a i f a i m a i b i it is obvious that w i a i m ν e 2 and b i w i a i ν e 2 could be derived by means of the robust neural damping technique the related damping term is constructed to simplify the control design therefore the kinetic error dynamics 20 can be transformed as eq 22 22 i e 2 β i b i s i ν w i ϒ i τ i m i i u r with 23 ϒ i s ν a i β ν λ ν 2 s ν 2 ε i s ν a i f β ν λ ν 2 s ν 2 ε i max θ i ϕ i where θ i max a i f ε i max ϕ i 1 s ν β ν λ ν 2 s ν 2 by utilizing eqs 20 23 the actual control laws are designed as eq 24 24 τ u m u k u u e 2 λ ˆ u φ u β u u e 1 γ u 1 2 ν e 2 t ν e 2 τ r m r k r r e 2 λ ˆ r φ r β r r e 1 γ r 1 2 ν e 2 t ν e 2 where φ i s i ν s i ν t 4 γ i 1 2 ϕ i 2 4 γ i 2 2 i u r the corresponding parameters k u k r γ u 1 γ r 1 γ u 2 γ r 2 are positive constants selected by the user next one gives the compensated signal u z 2 and r z 2 and takes their time derivatives as eq 25 25 u z 2 k u u z 2 u z 1 r z 2 k r r z 2 r z 1 by referring to the related design procedures 18 and 19 in the step1 eq 26 could be obtained easily 26 ϑ u 2 k u ϑ u 2 ϑ u 1 b u s u ν w u ϒ u λ ˆ u φ u γ u 1 2 ν e 2 t ν e 2 ϑ r 2 k r ϑ r 2 ϑ r 1 b r s r ν w r ϒ r λ ˆ r φ r γ r 1 2 ν e 2 t ν e 2 to improve the approximation accuracy of nns for the surge speed u and yaw rate r one defines the prediction error 27 by introducing the spem model 27 δ i i i ˆ i ˆ 0 i 0 i u r where u ˆ and r ˆ are designed as eq 28 28 u ˆ τ u m u λ ˆ u φ u ξ u δ u γ u 1 2 ν e 2 t ν e 2 r ˆ τ r m r λ ˆ r φ r ξ r δ r γ r 1 2 ν e 2 t ν e 2 it is noted that ξ u ξ r are small user defined positive constants based on the detailed discussions in xu et al 2016b the approximating accuracy of nns could be improved if these aforementioned parameters are selected appropriately by taking advantage of eqs 22 23 27 and 28 eq 29 could be concluded 29 δ u ξ u δ u b u s u ν w u ϒ u λ ˆ u φ u γ u 1 2 ν e 2 t ν e 2 δ r ξ r δ r b r s r ν w r ϒ r λ ˆ r φ r γ r 1 2 ν e 2 t ν e 2 accordingly one chooses the adaptive laws for the compressed weights as eq 30 30 λ ˆ u γ u ϑ u 2 δ u φ u σ u λ ˆ u λ ˆ u 0 λ ˆ r γ r ϑ r 2 δ r φ r σ r λ ˆ r λ ˆ r 0 where γ u γ r σ u σ r are some positive design parameters λ ˆ i 0 is the initial value of λ ˆ i i u r remark 4 by introducing the spem the prediction error is constructed and incorporated into the adaptive law 30 that can improve the compensating effect of nns for the kinetic error dynamics obviously there exist only two adaptive parameters λ ˆ u and λ ˆ r required to be tuned owing to the robust neural damping technique compared to the traditional composite learning algorithm xu and sun 2017 xu et al 2016b the merits with the small computation burden contributes to the implementation of the theoretical algorithm in the engineering practice 5 stability analysis the stability analysis of the closed loop system is carried out through the error dynamics 13 20 between the actual ship 1 2 3 and virtual ship 4 and the main result is summarized as theorem 1 theorem 1 consider the closed loop system consisting of the underactuated cable laying vessel 1 2 3 satisfying assumption 1 4 the proposed composite learning control law 14 24 and the corresponding adaptive law 30 for any initial conditions satisfying ϑ u 1 2 0 ϑ r 1 2 0 ϑ u 2 2 0 ϑ r 2 2 0 δ u 2 0 δ r 2 0 λ u 2 0 λ r 2 0 2 δ with any δ 0 all signals in the closed loop system could be guaranteed to be semi global uniformly ultimately bounded sguub by tuning appropriately these parameters k u e 1 k r e 1 k u k r γ u 1 γ r 1 γ u 2 γ r 2 ξ u ξ r γ u γ r proof one chooses the lyapunov candidate function as eq 31 31 v i u r 1 2 ϑ i 1 2 1 2 ϑ i 2 2 1 2 δ i 2 1 2 γ u λ i 2 take the time derivative of v with referring to eqs 19 26 29 and 30 eq 32 could be obtained 32 1 v i u r ϑ i 1 ϑ i 1 ϑ i 2 ϑ i 2 δ i δ i 1 γ i λ i λ i i u r ϑ i 1 k i e 1 ϑ i 1 ϑ i 2 i u r ϑ i 2 k i ϑ i 2 ϑ i 1 b i s i ν w i ϒ i λ ˆ i φ i γ i 1 2 ν e 2 t ν e 2 i u r δ i ξ i δ i b i s i ν w i ϒ i λ ˆ i φ i γ i 1 2 ν e 2 t ν e 2 i u r λ i ϑ i 2 δ i φ i σ i λ ˆ i λ ˆ i 0 by virtue of eq 23 and the young s inequality the following relationships 33 could be achieved 33 i u r ϑ i 2 b i s i ν w i ϒ i δ i b i s i ν w i ϒ i i u r b i s i ν w i ϒ i ϑ i 2 δ i i u r b i 2 s i ν s i t ν 4 γ i 1 2 γ i 1 2 w i t w i ϒ i 2 4 γ i 2 2 γ i 2 2 ϑ i 2 δ i with the interpretation of ϒ i and φ i the following equation 34 could be concluded 34 i u r b i 2 s i ν s i t ν 4 γ i 1 2 ϒ i 2 4 γ i 2 2 i u r b i 2 s i ν s i t ν 4 γ i 1 2 θ i 2 ϕ i 2 4 γ i 2 2 i u r λ i b i 2 s i ν s i t ν 4 γ i 1 2 ϕ i 2 4 γ i 2 2 i u r λ i φ i where λ i is with the definition as λ i max b i 2 θ i 2 i u r in view of the construction of neural weight matrix eq 35 holds 35 w i t w i a i m ν e 2 2 w i 1 t w i 1 w i 2 t w i 2 w i n t w i n a i f 2 ν e 2 t ν e 2 u e 2 2 r e 2 2 by using the young s inequality theory eqs 36 38 would facilitate the further analysis 36 ϑ u 2 γ u 2 2 γ u 2 4 4 ϑ u 2 2 ϑ r 2 γ r 2 2 γ r 2 4 4 ϑ r 2 2 37 δ u 2 γ u 2 2 γ u 2 4 4 δ u 2 2 δ r 2 γ r 2 2 γ r 2 4 4 δ r 2 2 38 λ u λ ˆ u λ ˆ u 0 1 2 λ u 2 1 2 λ u λ ˆ u 0 2 λ r λ ˆ r λ ˆ r 0 1 2 λ r 2 1 2 λ r λ ˆ r 0 2 where λ λ λ ˆ then considering eqs 33 36 37 and 38 eq 32 could be transformed into eq 39 39 v i u r k i e 1 ϑ i 1 2 k i 1 ϑ i 2 2 ξ i 1 δ i 2 σ i 2 λ i 2 ρ i where ρ i γ i 2 4 2 σ i 2 λ i λ ˆ i 0 2 i u r one selects k u a 1 1 k r a 2 1 ξ u a 3 1 ξ r a 4 1 then eq 40 could be obtained 40 v 2 a v ρ where a min k u e 1 k r e 1 a 1 a 2 a 3 a 4 σ u 2 γ u σ r 2 γ r ρ ρ u ρ r one can integrate eq 40 to get v ρ 2 a v 0 ρ 2 a exp 2 a t with the discussions around the closed loop shaping algorithm in zhang et al 2014 it is obvious that v is bounded besides the assumption 3 is also satisfied in the marine practice therefore all signals could be guaranteed to be sguub the whole proof is completed 6 illustrative experiment in this section the comparative example is presented to verify the superiority of the proposed algorithm then in order to highlight its practicability in the engineering project another experiment is performed in the simulated ocean environment for this purpose the underactuated ship model length 76 2 m width 19 2 m displacement 6 10 6 kg adopted in the reference fu et al 2012 is employed to complete whole illustrative experiments 6 1 comparative experiment for the guidance principle in this part the dll guidance strategy will be compared with the los based one in fu et al 2012 and some interesting conclusions can be obtained in this experiment the following setpoints are used to describe the cable laying area to cover s 1 0 m 200 m s 2 600 m 200 m s 3 900 m 800 m s 4 1500 m 800 m fig 5 gives the cable laying trajectory under both guidance principles from the local zoom it can be seen that the laying performance under the proposed guidance algorithm is better for the quantified analysis the important performance index whole cable laying length is presented to verify the conclusion i e dll guidance 1767 9m los based guidance 1943 6m it is obvious that the cable resource could be saved by employing the proposed guidance law at some extent 6 2 comparative experiment for the control algorithm to verify the performance of the proposed control algorithm one implements the comparative experiment with the method in fu et al 2012 in this part for the proposed controller the rbf nns nodes for f u ν and f r ν are selected 25 with centers spaced in 15 m s 15 m s for f u ν and 2 rad s 2 rad s for f r ν and widths are 5 the initial states of the real ship are selected as x 0 y 0 ψ 0 u 0 v 0 r 0 20 m 30 m 0 rad 0 m s 0 m s 0 rad s and other necessary initial settings are 0 the control parameters are chosen as m u 120 10 3 kg m v 177 9 10 3 kg m r 500 10 3 kg k u e 1 0 8 k r e 1 40 k u 50 10 3 m u k r 35 10 6 m r γ u 1 γ r 1 γ u 2 γ r 2 0 8 σ u σ r 5 2 ξ u ξ r 0 1 γ u 30 γ r 50 3 u d 3 0 m s for more details about the parameter setting of the compared algorithm the readers are suggested to refer to fu et al 2012 to stand out the attractive performance of the proposed control law the reasonable reference path consisting of the straight line path and curve one is adopted which is generated by the virtual ship based on the assumption 2 eq 41 gives the detailed path formation 41 r d exp 0 005 t 300 0 s t 30 s 0 30 s t 70 s 0 05 70 s t 180 s the time varying disturbance on the plant is chosen as eq 42 it is beneficial to demonstrate the robustness of the improved composite learning algorithm 42 d w u 11 12 1 0 35 sin 0 3 t 0 15 cos 0 5 t d w v 26 17 76 1 0 3 sin 0 4 t 0 2 cos 0 1 t d w r 950 636 1 0 3 sin 0 3 t 0 1 cos 0 5 t the final comparative results are presented in figs 6 8 fig 6 shows the tracking trajectory under both different algorithms it is noticed that the both schemes could achieve the effective path following for the designed reference path moreover through the attentive observation it is obvious that the proposed scheme tracks the reference path faster and closer than the robust design in fu et al 2012 fig 7 gives some vital comparative results concerning the position tracking error and orientation error clearly the faster convergence of error variables could be got in the proposed algorithm besides the dynamics of the yawing motion is better than that of the compared algorithm which is significant for the practical cable laying operation the comparison result of the control inputs is shown in fig 8 it reveals that the control effort under the proposed control algorithm is more steady which is good for the marine actuators for the learning performance of the defined adaptive parameters in fig 9 it is easy to note that the related adaptive parameters could be stabilized within a short setting time for the quantitative purpose some popular performance indexes eq 43 are utilized to evaluate the comparison result e g the mean absolute error mae the mean absolute control effort mac and the mean total variation mtv mae reveals the stabilizing performance of the control system mac and mtv are properties of the energy consumption the detailed data is summarized in table 1 it can be observed that the proposed control algorithm is with more advantages in many aspects in practice the control procedure runs based on the industrial personal computer therefore the consideration around the computation burden required to be included in the innovation algorithm design in order to stand out the computation superiority of the proposed algorithm the held computer memory hcm and the elapsed running time ert are employed to evaluate the computation ability of the control algorithm as for the cable laying control issue it has been addressed in fu et al 2012 via a nonlinear adaptive controller and the result is interesting and worthy of attention however the complicated control law and a mass of weight vector will increase the computation burden of the industrial computer while for the proposed algorithm the rbf nns updating weight are compressed successfully via the robust neural damping technique accordingly the computation burden of the computer can be reduced effectively table 2 lists the comparison result around the computation burden it is obvious that the proposed improved composite learning control law owns the small computation burden than the approach in fu et al 2012 on the basis of the above analysis around the comparison result it can be seen easily that the proposed scheme including the guidance algorithm and control law owns many advantages compared to the result in fu et al 2012 and some performances are worthy of noticing for the practical engineering applications especially for the cable laying operation 6 3 cable laying experiment in the presence of the simulated ocean environment in order to verify the practicability of the proposed algorithm the setpoints based cable laying experiment is conducted in the simulated ocean environment in the experiment the sea wind waves and currents are considered and simulated based on the spectrum related models in mccue 2016 fossen 2011 fig 10 presents the simulated ocean environment disturbance in the sixth level sea state including the two dimension 2d planar graph of the wind field and the corresponding wind generated waves the detailed simulated environment is set as the wind speed v wind 15 7 m s and the wind direction ψ wind 200 deg the following five points s 1 0 m 200 m s 2 600 m 200 m s 3 900 m 800 m s 4 2200 m 800 m s 5 1900 m 1500 m are used to generate the setpoints based reference path of the cable it is noted that different path change angles are included in the simulated experiment and that is good for checking roundly the application performance of the proposed guidance principle the initial conditions of the cable laying ship is set as x 0 y 0 ψ 0 u 0 v 0 r 0 100 m 202 m 0 rad 0 m s 0 m s 0 rad s for the control parameters in this experiment they are still set along with the comparative experiment fig 11 is the setpoints based cable laying trajectory in the simulated marine environment it is noted that the cable could be laid accurately on the reference path by utilizing the proposed scheme the remarkable tracking accuracy could be found from the local zoom fig 12 gives the corresponding control effort of the cable laying ship although there exists the evident chattering phenomenon that could be eliminated by the actuator servo system installed in the marine surface vessel for the estimation performance of the surge velocity u and yaw velocity r in fig 13 the designed estimation value could track accurately the real value which means the defined prediction error is small enough to ensure the validity of the proposed algorithm in general the engineering applicability of the proposed scheme can be demonstrated well via the above experiment results 7 conclusion this paper has proposed a practical cable laying scheme for the corresponding motor ship to perform the cable laying task with the dll guidance mechanism the setpoints based reference path of the cable can be programmed automatically by using the dynamic lvs guidance strategy for merits of the cable related correlation equation the attitude reference of the cable laying ship can be obtained in the second guidance layer furthermore the improved composite neural learning control algorithm is proposed by fusion of the command filter and the robust neural damping techniques there are only two adaptive parameters required to be updated online in the algorithm which brings about the smaller computation burden that could facilitate the practical applications of the theoretical algorithm furthermore the stability of the closed loop system has been proven through the lyapunov theory the remarkable performance of the proposed scheme has been verified by the illustrative experiments in this note the proposed scheme could provide the potential reference for the cable laying ship note this work cannot naturally attend to every detail of the closed loop system design in the future the authors are working on an extension of the proposed scheme to the following significant points and the corresponding results would be reported elsewhere control design to tackle with nonsmooth nonlinearity the actuator input saturation and the possible actuator failure are the common and important problems existing in the engineering practice that may severely degrade the control performance and even lead to the invalidation of the conventional control schemes out feedback control in the marine practice only the attitude information including the surge sway and yaw displacements can be used for the feedback control system for that condition the improved observer should be developed to estimate the related velocity states thus from the theoretical difficulty and the practical application significance the output feedback control strategy should be further investigated for marine ships credit authorship contribution statement guoqing zhang methodology software formal analysis writing original draft project administration chenliang zhang conceptualization software validation writing review editing jiqiang li validation formal analysis writing review editing xianku zhang project administration funding acquisition writing review editing acknowledgement this work is partially supported by the national natural science foundation of china no 51909018 71831002 the program for innovative research team in university of china no irt17r13 the science and technology innovation foundation of dalian city no 2019j12gx026 the doctor scientific research foundation of liaoning province no 20170520189 the natural science foundation of liaoning province no 20180520039 and the fundamental research funds for the central universities of china 3132020124 3132019501 3132019502 the authors would like to thank anonymous reviewers for their valuable comments to improve the quality of this article 
21847,this paper shows the reduction in fatigue damage and as a consequence in the cost of maintaining hull structure that could be achieved by a smart heading control system for weathervaning ship shaped offshore units fpso fsu etc smart heading control is a proactive system which alters the heading of the unit in order to reduce fatigue damage of critical areas and therefore potentially reduce maintenance costs downtime and risks associated with fatigue damage and or inspecting and repairing hull structure locations dominated by wind seas are compared with locations where swell and wind seas are often present at the same time e g norwegian continental shelf north western atlantic a suezmax size fpso is used to compare the fatigue damage rate in the connections of the secondary longitudinal stiffeners to transverse frames for locations along the length and around the girth of the hull against varying ratios of wind sea to swell sea for seas where the ratio of wind sea energy to swell energy is close to or less than unity and where the swell and wind seas are from different directions the shc system reduces the fatigue damage by a factor of three keywords weathervane fpso proactive smart heading control fatigue life 1 introduction many ship shaped offshore platforms operating in different parts of the world are equipped with turret mooring systems some of these units passively weathervane to an equilibrium of forces from wind sea swell wind and current other units use thrusters to maintain heading in order to reduce fuel consumption reduce motions to maintain heading during offload operations and for other operational requirements the influence of the relative heading of the unit to waves on fatigue damage of the hull structure is usually disregarded this study investigates potential benefits from installing a smart heading control shc system which uses importance sampling to reorient the hull to headings with a lower fatigue damage rate the aim of the system is to reduce the risk of cracks and the cost of inspections and repairs to the hull structure the methodology of the smart heading control is described in more detail later in the paper fatigue damage rates are calculated both with and without smart heading control for a suezmax size fpso operating in a location where swell and wind seas are present at the same time such as the norwegian continental shelf and the north western atlantic the damage rate is predicted for multiple structural connection details along the hull and the predictions are used to observe the improvement in fatigue life from the smart heading control system since fatigue damage is a cumulative phenomenon any system which seeks to limit the risk to the structure over the design life must be able to record the accumulated damage to predict the future damage and to provide guidance or directly alter the operation of the unit to optimise a weighted combination of maintenance costs operating costs production and risk the shc system uses a mathematical model of the damage rate and real time metocean data forecast nowcast and or measurements to reduce the future risk of the unit the current implementation of the shc only targets the optimisation of the risk and maintenance but the framework for including other factors is identical and straightforward 2 literature review a large number of studies are identified in the literature review each with one or more of the elements needed for a smart heading control e g record accumulated damage predict future damage optimise the operation to minimise the damage no system is found which included all the elements but the more recent studies do recognise the benefit of such an approach some examples of the literature are briefly summarised below several authors describe structural health monitoring systems which cover activities related to damage detection classification periodic observation and condition screening of the state of the hull structure it is an established area of research standards and implementation with a large body of literature the hse research report rr685 structural integrity monitoring 2009 provides a fairly comprehensive overview of typical systems none of the systems in the literature act on the collected data to reduce the damage rate several authors describe monitoring systems which use a combination of mathematical prediction of damage real time weather data and real time measurements to plan maintenance of assets but usually without a formal mechanism to alter the operation of the unit to limit future damage l hostis 2010 describes a software and hardware monitoring system called monitas that predicts the fatigue damage rate of fpso hulls and also records deviations between the predicted strain cycles and strain cycles recorded via strain gauges the system is similar to the current study in that it uses the fatigue analysis carried out during the design process and links that to recorded sea states to predict accumulated damage the monitas project also undertakes rational pre emptive measures in case of too rapid lifetime consumption but does not include a formal mechanism to alter the heading of the unit to minimise future damage the monitas project also has a comparison of the predicted vs measured strain cycles obtained from strain gauges but it does not carry out automatic posterior updates of the predicted damage rates this posterior update is identified as important by the monitas project van der cammen 2008 describes calibration of the monitas monitoring system by training a neural network to reliably predict the measured strain and motion response from input weather data such that the measured strain and motion data is no longer essential noppe et al 2018 describes a system which uses kalman filtering with a fe finite element analysis of the structure linked to readings from accelerometers to monitor damage rate and help with planned maintenance of wind turbines it does not alter the operation of the units to limit future damage ren and zhou 2014 describes a system which uses kalman filtering and a fe analysis of the hull to link sensor readings to damage rate the system does not consider long term accumulation of fatigue damage other authors describe systems which monitor the natural frequency of structure and link this to mode shapes from an analytic model of the structure to detect local cracks several other authors describe monitoring systems which are used to alter heading and routes of vessels to reduce motion response extreme loads and in some cases also fatigue damage in an ad hoc way without a link to a mathematical prediction of responses melitz et al 1992 witmer and lewis 1995 both describe systems which monitor strain in heavy weather in order to reduce the risk of damage neither system considers long term accumulation of fatigue damage sanderson et al 2002 describes a system to detect failure of primary members when the signature from acceleration sensors changes piedras lopez and ebecken 1997 describes a system which detects failures via a neural network linked to wave data vessel motions and readings from strain gauges lacey and chen 1995 describes a monitoring system which records pressure strain and motions gps wind speed and direction engine power the aim of the system is specifically to reduce damage on taps tankers the crew are trained to respond to the readings to reduce the range of vwbm dynamic pressure and motions other authors describe weather monitoring linked to a mathematical prediction of responses to change the operation of the unit to reduce some aspects of the response for example adegeest 2008 describes a software and hardware system for heavy transport vessels which uses a forecast of weather and direct calculations to alter the heading and route to reduce the risk of accelerations motions and hull girder loads exceeding user defined limits measurements are used to validate the calculations but posterior corrections of the predicted response are not used the closest analogy to the shc is shipboard weather routing system which has become widespread in the last 10 years however these systems focus on voyage specific fuel consumption reduction while the shc is reliant on longer term damage memory spanning across entire life cycle hansen 2011 describes the roll out of such a system on the world s largest fleet of tankers most other operators have also installed similar systems these systems target cost savings by optimising fuel and voyage duration concept studies have considered the benefit of updating such a system to also reduce fatigue damage for example wang and mao 2018 considers the theoretical effect of updating a weather routing system to also target reduced fatigue damage some historical strain gauge measurements are used and matched to hindcast data and time history of the longitude latitude of 25 actual voyages a possible 50 reduction in fatigue damage is predicted for a few specific details the study does not consider the overall integrity of the unit but points out that a global optimisation would be more useful recently standards like dnvgl 2015b promote rbi risk based inspection techniques which use inspection and bayesian updating to control the risk of structural failure of assets nielsen and sørensen 2011 looks at the cost savings from using a mathematical model of fatigue failure and bayesian updating from the inspection findings the study accounts for the cost of inspecting and repairing wind turbines and calculates the total lifetime cost of different strategies nielsen et al 2011 describes concepts for systems which seek to minimise the accumulated fatigue damage both systems focus on simplifying the fatigue calculation so that they may be carried out in real time 3 input data 3 1 vessel the vessel is a suezmax size weathervaning fpso with 800 000 bbls of oil storage capacity and 100 000 bbls day production rate the hull of the vessel has a single longitudinal bulkhead located at centreline and the midship section is of conventional double hull tanker design with a mixture of mild steel and high tensile steel a representative set of secondary stiffener connections are chosen for the fatigue and ultimate strength assessment to ensure that the overall comparison between the passive weathervane and shc system is valid for most of the hull thirty longitudinal stiffener end connection details in each of five transverse sections in way of the cargo hold area at 0 25lbp 0 35lbp 0 45lbp 0 55lbp and 0 65lbp are considered in the assessment in total one hundred and fifty longitudinal stiffener connections are covered see fig 1 3 2 environmental data the improvements that are discussed in this paper are mainly relevant to vessels where fatigue damage to hull structure is critical therefore a generic location with harsh wave conditions in the norwegian continental shelf is assumed as the design environment see fig 2 real metocean data applicable to a broad range of design conditions is used each set of data is classified by the dimensionless parameters sea swell energy ratio and intermodal distance rodriguez and guedes soares 1999 however although this is real data it is an area with a relatively low sea swell energy ratio i e the total energy is not dominated by the wind sea therefore more verification with different parameters e g vessel type vessel size site specific environmental conditions sea swell energy ratio etc would be required to determine the potential benefit for a specific field a time history of hs significant wave height and tp peak wave period pair covering the assumed design life of the vessel i e 20 years is generated by making use of seasonal wave scatter diagrams and duration of non exceedance of significant wave height statistical data 3 3 heading data relative headings of the unit to waves i e wind sea and swell in free weathervaning conditions are deduced from real data of a typical fpso see fig 3 the wind and wind sea direction are well correlated and most of the time aligned i e occur in the same direction the unit usually heads up to wind sea note that this is site specific the relative heading between the vessel and the swell sea can significantly vary for different sites the histogram which is shown below for the relative heading to swell is also extracted from real data see fig 4 the histograms below are from the site specific data of the typical fpso and are used to assign the relative heading of the vessel to the wind sea and the relative heading of the vessel to the swell sea for each sea state in the time history 3 4 wave spectrum the metocean data used in the assessment is for the total sea with no distinction and separate sea state parameters for wind and swell sea the sea is then separated into wind and swell components by using formula from torsethaugen spectrum torsethaugen and haver 2004 in the torsethaugen spectrum each sea state is classified as either swell dominated or wind dominated sea according to the criterion that depends on the assumed fetch length parameter the distinction between wind dominated and swell dominated sea states is found to be defined by the fully developed sea for the location where tp is compared to 1 t p f a f h s 1 3 if tp is greater than tpf then the primary peak corresponds to the swell system if tp is less than or equal to tpf then the primary peak corresponds to the local wind system 2 a f k f f e 1 6 where kf 0 78 sm 1 2 and fe is the fetch length in meters accordingly the total sea state with hs and tp is split into wind sea hswind tpwind and swell sea hsswell and tpswell in the assessment multiple parameters af 4 65 5 30 5 95 6 60 and 7 25 are taken into account to observe the influence of swell sea with varying dominance over wind sea e g af 7 25 weak swell mildly bimodal sea with a relatively high sea swell energy ratio af 4 65 dominant swell strong bimodal sea with sea swell energy ratio close to unity a jonswap wave spectrum is used to represent each of the wind sea and the swell sea a constant peak enhancement factor of 3 3 is assumed for wind sea and 6 0 for swell sea cosine square wave spreading is assumed for wind sea and no spreading is used for swell 4 fls fatigue limit state and uls ultimate limit state calculations in this section the calculation method and steps behind fls and uls results presented in this paper are described 4 1 hydrodynamic analysis a 3d diffraction and radiation analysis is carried out for a number of loading conditions that occur throughout a loading offloading cycle of the vessel for simplification purposes and keeping the analysis time at reasonable levels it is assumed that viscous roll damping is equal to 6 of the critical roll damping for all sea states for the actual shc system it is planned to compute the roll damping using stochastic linearisation and real time calibration from motion sensors if available global hull girder load raos response amplitude operator and local pressure raos are calculated from the hydrodynamic analysis for each loading condition 4 2 stress rao construction a load component stochastic calculation method dnv 2010 is used for both fatigue damage and ultimate strength assessment of secondary stiffeners the stress raos are constructed by multiplying the in phase and out of phase parts of the relevant load raos e g vwbm hwbm local panel internal and external pressure raos with the stress influence coefficients for each load component then summing all the in phase components to calculate the in phase stress and summing all the out of phase components to calculate out of phase stress 3 and 4 3 h σ k ω θ a k h k ω θ where a k stress load ratio for load component k e g z e z i yy for vwbm z vertical distance of the stiffener connection from base line ez vertical distance of the neutral axis from base line iyy moment of inertia of the hull transverse section about its horizontal neutral axis hk ω θ rao for load component k 4 h σ ω θ k 1 n h σ k ω θ the stress load ratios are calculated using hand rule formula only but the principle is exactly the same for a full ship fe analysis or for experimental results from strain gauges in this study the stress responses from other load effects that are normally computed using direct calculation methods e g secondary bending of double skin structure topside module inertia loads shear lag etc are disregarded to limit the computation time 4 3 stress response spectrum for wind sea and swell sea the response spectrum based on the linear model is given by the wave spectrum and response rao for each wave relative heading ϕ the response spectrum at each frequency is calculated 5 s σ ω h s t p ϕ j o n s w a p ω h s t p h σ ϕ ω 2 the spectral moments of order n of the response process for a given swell sea heading are calculated as 6 m n ω ω n s σ ω h s s w e l l t p s w e l l ϕ d ω the spectral moments of order n of the response process for a given wind sea heading are calculated taking into account wave spreading 7 m n ω ϕ 90 ϕ 90 k c o s 2 ϕ ω n s σ ω h s w i n d t p w i n d ϕ d ω stress response zero up crossing period is calculated as 8 t z 2 π m 0 m 2 the combined spectrum assumed narrow banded from all stress processes due to wind and swell sea is 9 m 0 t o t a l s e a m 0 w i n d s e a m 0 s w e l l s e a 10 t z t o t a l s e a 1 m 0 w i n d t z w i n d 2 m 0 w i n d m 0 s w e l l m 0 s w e l l t z s w e l l 2 m 0 w i n d m 0 s w e l l 4 4 uls calculations the time history of wind and swell sea states hs tp and relative heading for both components and the loading condition of the vessel during that sea state are used to calculate the stress spectrum for each stiffener in accordance with above section the order statistics of the extreme response in each sea state are calculated from the stress response spectra of each stiffener end connection for this study the responses are assumed to be ergodic gaussian and narrow banded and therefore rayleigh distribution is used in each short term 3 h sea state i condition 11 σ 90 t h i e x t r e m e i 2 m 0 i ln 1 0 9 t z i 10800 1 the maximum and minimum stresses for each sea state in the time history are then calculated as 12 σ m a x i σ s t i l l w a t e r i σ e x t r e m e i 13 σ m i n i σ s t i l l w a t e r i σ e x t r e m e i the extreme stresses that are observed during the total service life of the unit are 14 σ m a x e x t r e m e max i σ m a x 15 σ m i n e x t r e m e min i σ m i n 4 5 fls calculations fatigue calculations are carried out in a similar way to extreme stress calculations high cycle fatigue damage at each sea state throughout the time history is computed and added to the total damage dnvgl 2015a 16 h c f i 10800 t z i 2 2 m 0 i m 1 a 1 γ 1 m 1 2 s 1 2 2 m 0 i 2 2 2 m 0 i m 2 a 2 γ 1 m 2 2 s 1 2 2 m 0 i 2 where a1 a2 m1 and m2 are s n fatigue curve parameters γ is complementary incomplete gamma function γ is incomplete gamma function s1 is stress change for which change of slope of s n curve occur σmax i and σmin i 12 and 13 for each sea state are stored in an array to compute low cycle fatigue lcf from the array stress ranges with a frequency corresponding to a loading offloading cycle are extracted utilising a rainflow stress range counting approach the extracted stress ranges are then multiplied with necessary factors to account for plasticity correction dnv 2010 17 l c f 1 a δ s r m where a and m are s n fatigue curve parameters δ s r is the low cycle stress range corresponding to a loading offloading cycle 5 smart heading control shc 5 1 description an in house proprietary algorithm is used to alter the heading of the unit to minimise the overall fatigue damage the shc algorithm precalculates the theoretical damage rate of each weld in different combinations of wind and swell sea i e combinations of hsswell tpswell directionswell hswind tpwind directionwind the algorithm then sorts the relative headings to wind and swell sea in terms of fatigue damage rate for moderate sea states and in terms of peak stress for extreme sea states it picks the new heading from the sorted list based on multiple criteria i e minimised overall fatigue damage or uls stress and also allows limits for the maximum reorientation to avoid excessive rotation of the vessel in certain sea states for example large hs or low hs the heading control is switched off either to save power or increase safety or if the benefit is not significant the unit is then automatically re oriented to the new heading by existing dp systems or newly installed aft thrusters above described shc algorithm targets for the minimisation of the overall damage i e sum of all picked fatigue locations a monte carlo simulation subroutine is also implemented in the algorithm to avoid individual structural details to misbehave i e undesired damage increase leading to failure in comparison with weathervaning condition the subroutine updates the smart heading selection logic at regular intervals e g every one year to avoid misbehaving fatigue details at the expense of slight reduction in overall fatigue life improvement this is achieved by creating new relative heading lists for each sea state by randomly rearranging the sorted list then an initial arbitrary normal i e bell curve pdf probability density function is laid over the generated array of heading lists to construct a proposal density with the initial sorted list i e most favourable heading on top of the list having the highest probability of yielding minimal damage and the lists with the most penalising heading on top having the least the intention is to improve the efficiency of monte carlo simulation based on the assumption that the optimum solution is located close to the initial lists in terms of damage rate order of headings therefore drawing more samples from vicinity is enabled the proposal densities variance could be tuned or they could be recursively updated e g adaptive importance sampling to increase the speed and accuracy of the monte carlo simulation with the monte carlo simulation the heading lists for each sea state are randomly drawn from the proposal densities described earlier and the fatigue calculation is repeated based on these heading lists a large number of samples are generated and at the end of the simulation the heading lists for the sample which yields the minimal sum fatigue damage and no misbehaving stiffeners are fed back in the main fatigue calculation loop a flowchart of the algorithm is provided in fig 5 5 2 simulations multiple simulations are carried out to fully understand the potential benefits of an shc system the following effects are varied draft and tank fill level wind sea swell sea energy ratio minimum hs for activating the smart heading control system 5 2 1 simulation of drafts and tank levels multiple scenarios representing different production see fig 6 and offload rates are studied to see if the benefit of the system is affected by the offload rate and the overall distribution of loading conditions the damage calculations are repeated 10 times with 10 different time histories of the draft and tank fill levels see table 1 the direct time histories are derived as follows a motion and excursion limit is defined for offloading probability data for events that occur during loading offloading are fed into the simulation e g production rate laycan distribution mooring time distribution offload time waiting for offload time distribution etc in this way the time history of the draft and the tank fill levels are deduced this is not part of the shc system it is merely an algorithm to deduce realistic draft and tank fill levels for a typical fpso based on the metocean data each of the ten series had a different production rate and recoverable reserves based on the probability distribution given below the start of the production date is chosen differently for each time series for another sensitivity check 5 2 2 effect of wind sea swell energy ratio the calculations are carried out for unimodal sea i e total sea comprising wind sea only and five different values of wind sea swell energy ratio corresponding to af 4 65 5 30 5 95 6 60 and 7 25 in the torsethaugen spectra torsethaugen and haver 2004 for illustration the ratio of hswind to hsswell is calculated for each sea state in the reference time series presented in fig 7 for each of the different af parameters and then the pdf of the ratio of hswind to hsswell is calculated for each value of af by counting the number of occurrences in discrete bins of the ratio the five pdfs are combined onto a 3d graph in order to qualitatively compare them the graph is presented in fig 8 similar pdfs for hswind minus hsswell are also calculated and are shown in fig 9 these pdfs are only valid for the reference metocean data and the corresponding time series 5 2 3 effect of the smart heading control system all of the simulations are carried out nine times once without shc system i e free weathervane and eight times with different shc activation criteria shc is activated at sea states with hstotal sea greater than 1 2 3 4 5 6 7 and 8 m respectively 5 2 4 summary of all combinations there are total of ten different time series six different wind sea swell sea energy ratios and nine different criteria for activating the shc making a total of 10 6 9 540 simulations see table 2 6 results the critical findings of the overall study are presented in figs 10 33 all individual structural connection detail results in general follow the average trend with minor difference this is true for both the extreme stress and the fatigue damage rate 6 1 fatigue results 6 1 1 wind sea swell energy ratio effect the magnitude of improvement in fatigue lives of structural details with shc system compared to free weathervaning is about 13 in unimodal seas i e with a very high wind sea swell sea energy ratio for bimodal seas the same improvement increases from 20 to 250 as the dominance of swell over wind sea strengthens i e as the wind sea swell sea energy ratio decreases for example for a torsethaugen spectrum with af 5 3 the fatigue life of the critical details increase by up to 200 6 1 2 production rate tank fill levels and drafts the sensitivity of the results to different time series is low as shown in figs 10 15 similar findings obtained for all 10 time series with different recoverable reserves 6 2 extreme stress results 6 2 1 wind sea swell energy ratio effect the average extreme stress improvement with shc system is about 6 in unimodal seas for bimodal seas this increases up to 14 with more dominant swells 6 2 2 production rate tank fill levels and drafts the sensitivity of uls results to different time series is higher than that for fatigue results this is expected as the uls findings depend on the extreme sea states for different time series the loading condition and relative heading between swell and wind sea during an extreme sea state can be different and these two factors have an impact over the findings 6 3 uptime of the shc system the uptime for shc system in unimodal sea is about 30 of total life if the system is turned on at sea states with hs greater than 1m for bimodal seas the uptime increases to 90 of total life with more dominant swells in unimodal wind seas the unit usually heads up to the wind sea since the head sea conditions result in least fatigue damage for most of the wave periods the shc system is usually idle in unimodal wind driven seas in bimodal seas there are two wave components and since the swell relative heading is more scattered than wind sea relative heading then the optimum relative heading is often different than the free weathervaning heading shc uptime increases to take advantage of the favourable heading more frequently i e 3 times longer 6 4 heading change from the shc system in these simulations the maximum re orientation of heading angle is limited to 60 in unimodal sea the heading change is usually less than or equal to 15 for bimodal seas as the dominance of the swell increases the heading change increases 6 5 selected graph of results figs 10 15 fatigue life improvement for shc with different min hs criteria vs free weathervane figs 16 21 uls stress reduction for shc with different min hs criteria vs free weathervane figs 22 27 shc uptime with different min hs criteria figs 28 33 shc heading change with different min hs criteria for time series 2 heading change is limited to 60 to 60 deg range 6 6 optimal vessel heading relative to wind sea and swell to achieve minimum fatigue damage there is no optimal vessel heading relative to wind sea and swell factors such as hs tp for both wind and swell and the relative angle between the wind sea and swell sea have an influence over the most optimal vessel heading this will be different for different sea states 7 discussion 7 1 bandwidth of the sea spectra the results presented in previous section show that for seas where the ratio of wind sea energy to swell energy is close to or less than unity and where the swell and wind seas are from different directions the shc system thirds the fatigue damage and could reduce the downtime and cost of inspection and repair particularly if the vessel already has dp capability or some other means of heading control however other areas with higher sea swell energy ratios i e relatively more wind seas would have less benefit from the system and for those areas the system is unlikely to be cost effective 7 2 shc system in extreme sea states and during marine operations there is some marginal benefit of the shc system in extreme sea states but this could be offset by the risk of adverse response in those seas so the shc system could be switched off during extreme sea states likewise the system should be switched off during offloading and shuttle tanker mooring for operational and or safety reasons since the time in extreme sea states and offloading is low this would not significantly reduce the fatigue improvement presented in this study as is seen by comparing the graphs in figs 10 15 and comparing the reduction in fatigue life for shc active at hs 7 vs shc active at hs 8 7 3 comfort of the crew the shc system has most benefit in the most common sea states which tend to be lower hs during higher sea states the comfort of the crew may be affected by changing the heading to minimise fatigue damage for these sea states the shc can be turned off since the time in larger hs is low there is only a small increase in fatigue damage 7 4 fatigue of risers or mooring systems the shc approach is a generic approach and the risers or mooring system can also be included so that the heading control is adjusted with for the risers as well as for the hull with suitable selection of weighting factors the overall risk and cost of maintenance of the installation hull risers mooring system etc can be minimised the damage to the hull for head sea conditions are less than that from oblique sea so most of the time if not all the shc will be reorienting the vessel to head sea for unimodal sea and somewhere near head sea relative to the dominant mode wind or swell for bi modal seas to minimise the fatigue damage it is expected that this would also limit fatigue damage at the connections of risers mooring systems 7 5 primary connections this paper only considers secondary connections but the system is also applicable to primary member connections such as horizontal cargo hold stringers hull turret connections etc the bias factors need to be assigned taking into account the criticality ease of inspection repair and etc 7 6 general comments the shc system presented here would be improved with input from strain gauges and bayesian updating of the heading control and the predicted strain cycles after each heading control event to account for the observed change in strain cycles the study here uses a spectral fatigue approach with beam theory i e rule type calculations of stress in the end connections of secondary stiffeners but the principle is equally valid if stresses are obtained from strain gauges or calculated using a linear elastic fe model of primary and or secondary member connections in the calculation procedure all load components that are deemed to contribute significantly to the stress process vwbm hwbm local panel pressure both internal and external global axial load in unit global x direction are taken into account no design fatigue factors dff are used in this study dff or ease of repair factors or inspectability factors can be incorporated in the calculations to bias the results towards the structural details which are harder to inspect repair or that come with higher dff factors 7 7 novel aspects of the paper previous studies and existing hardware software systems cover methods for recording fatigue accumulated fatigue damage some of those systems can be used to plan inspections and maintenance other systems react in real time to forecasts to limit motions extreme loads or optimise a route a combination of voyage time and fuel costs however none of the identified systems are able to alter the operation e g relative heading of the unit to limit the risk to the structure over the design life since fatigue damage is a cumulative phenomenon any system which seeks to limit the risk to the structure over the design life must both record the accumulated damage and have a predictive element this paper covers both those aspects 7 8 future work and potential enhancements the shc can be integrated with existing on board monitoring systems e g strain gauges and a detailed fe analysis of the unit in the future to further enhance and calibrate the damage rates hence the heading prediction selection process rbi type bayesian updating of fatigue criticality and associated repair costs based on inspection reports and operating costs of the shc system may also be incorporated in the shc algorithm to tune the heading optimisation not only on the accumulated damage but also the associated overall lifetime repair operation and maintenance costs author contribution engin balli conceptualization methodology software writing draft preparation validation visualisation thomas ward writing methodology reviewing and editing declaration of competing interest the authors declare that they have no known competing financial interests or personal relationships that could have appeared to influence the work reported in this paper appendix a supplementary data the following is the supplementary data to this article multimedia component 1 multimedia component 1 appendix a supplementary data supplementary data to this article can be found online at https doi org 10 1016 j oceaneng 2020 107293 
21847,this paper shows the reduction in fatigue damage and as a consequence in the cost of maintaining hull structure that could be achieved by a smart heading control system for weathervaning ship shaped offshore units fpso fsu etc smart heading control is a proactive system which alters the heading of the unit in order to reduce fatigue damage of critical areas and therefore potentially reduce maintenance costs downtime and risks associated with fatigue damage and or inspecting and repairing hull structure locations dominated by wind seas are compared with locations where swell and wind seas are often present at the same time e g norwegian continental shelf north western atlantic a suezmax size fpso is used to compare the fatigue damage rate in the connections of the secondary longitudinal stiffeners to transverse frames for locations along the length and around the girth of the hull against varying ratios of wind sea to swell sea for seas where the ratio of wind sea energy to swell energy is close to or less than unity and where the swell and wind seas are from different directions the shc system reduces the fatigue damage by a factor of three keywords weathervane fpso proactive smart heading control fatigue life 1 introduction many ship shaped offshore platforms operating in different parts of the world are equipped with turret mooring systems some of these units passively weathervane to an equilibrium of forces from wind sea swell wind and current other units use thrusters to maintain heading in order to reduce fuel consumption reduce motions to maintain heading during offload operations and for other operational requirements the influence of the relative heading of the unit to waves on fatigue damage of the hull structure is usually disregarded this study investigates potential benefits from installing a smart heading control shc system which uses importance sampling to reorient the hull to headings with a lower fatigue damage rate the aim of the system is to reduce the risk of cracks and the cost of inspections and repairs to the hull structure the methodology of the smart heading control is described in more detail later in the paper fatigue damage rates are calculated both with and without smart heading control for a suezmax size fpso operating in a location where swell and wind seas are present at the same time such as the norwegian continental shelf and the north western atlantic the damage rate is predicted for multiple structural connection details along the hull and the predictions are used to observe the improvement in fatigue life from the smart heading control system since fatigue damage is a cumulative phenomenon any system which seeks to limit the risk to the structure over the design life must be able to record the accumulated damage to predict the future damage and to provide guidance or directly alter the operation of the unit to optimise a weighted combination of maintenance costs operating costs production and risk the shc system uses a mathematical model of the damage rate and real time metocean data forecast nowcast and or measurements to reduce the future risk of the unit the current implementation of the shc only targets the optimisation of the risk and maintenance but the framework for including other factors is identical and straightforward 2 literature review a large number of studies are identified in the literature review each with one or more of the elements needed for a smart heading control e g record accumulated damage predict future damage optimise the operation to minimise the damage no system is found which included all the elements but the more recent studies do recognise the benefit of such an approach some examples of the literature are briefly summarised below several authors describe structural health monitoring systems which cover activities related to damage detection classification periodic observation and condition screening of the state of the hull structure it is an established area of research standards and implementation with a large body of literature the hse research report rr685 structural integrity monitoring 2009 provides a fairly comprehensive overview of typical systems none of the systems in the literature act on the collected data to reduce the damage rate several authors describe monitoring systems which use a combination of mathematical prediction of damage real time weather data and real time measurements to plan maintenance of assets but usually without a formal mechanism to alter the operation of the unit to limit future damage l hostis 2010 describes a software and hardware monitoring system called monitas that predicts the fatigue damage rate of fpso hulls and also records deviations between the predicted strain cycles and strain cycles recorded via strain gauges the system is similar to the current study in that it uses the fatigue analysis carried out during the design process and links that to recorded sea states to predict accumulated damage the monitas project also undertakes rational pre emptive measures in case of too rapid lifetime consumption but does not include a formal mechanism to alter the heading of the unit to minimise future damage the monitas project also has a comparison of the predicted vs measured strain cycles obtained from strain gauges but it does not carry out automatic posterior updates of the predicted damage rates this posterior update is identified as important by the monitas project van der cammen 2008 describes calibration of the monitas monitoring system by training a neural network to reliably predict the measured strain and motion response from input weather data such that the measured strain and motion data is no longer essential noppe et al 2018 describes a system which uses kalman filtering with a fe finite element analysis of the structure linked to readings from accelerometers to monitor damage rate and help with planned maintenance of wind turbines it does not alter the operation of the units to limit future damage ren and zhou 2014 describes a system which uses kalman filtering and a fe analysis of the hull to link sensor readings to damage rate the system does not consider long term accumulation of fatigue damage other authors describe systems which monitor the natural frequency of structure and link this to mode shapes from an analytic model of the structure to detect local cracks several other authors describe monitoring systems which are used to alter heading and routes of vessels to reduce motion response extreme loads and in some cases also fatigue damage in an ad hoc way without a link to a mathematical prediction of responses melitz et al 1992 witmer and lewis 1995 both describe systems which monitor strain in heavy weather in order to reduce the risk of damage neither system considers long term accumulation of fatigue damage sanderson et al 2002 describes a system to detect failure of primary members when the signature from acceleration sensors changes piedras lopez and ebecken 1997 describes a system which detects failures via a neural network linked to wave data vessel motions and readings from strain gauges lacey and chen 1995 describes a monitoring system which records pressure strain and motions gps wind speed and direction engine power the aim of the system is specifically to reduce damage on taps tankers the crew are trained to respond to the readings to reduce the range of vwbm dynamic pressure and motions other authors describe weather monitoring linked to a mathematical prediction of responses to change the operation of the unit to reduce some aspects of the response for example adegeest 2008 describes a software and hardware system for heavy transport vessels which uses a forecast of weather and direct calculations to alter the heading and route to reduce the risk of accelerations motions and hull girder loads exceeding user defined limits measurements are used to validate the calculations but posterior corrections of the predicted response are not used the closest analogy to the shc is shipboard weather routing system which has become widespread in the last 10 years however these systems focus on voyage specific fuel consumption reduction while the shc is reliant on longer term damage memory spanning across entire life cycle hansen 2011 describes the roll out of such a system on the world s largest fleet of tankers most other operators have also installed similar systems these systems target cost savings by optimising fuel and voyage duration concept studies have considered the benefit of updating such a system to also reduce fatigue damage for example wang and mao 2018 considers the theoretical effect of updating a weather routing system to also target reduced fatigue damage some historical strain gauge measurements are used and matched to hindcast data and time history of the longitude latitude of 25 actual voyages a possible 50 reduction in fatigue damage is predicted for a few specific details the study does not consider the overall integrity of the unit but points out that a global optimisation would be more useful recently standards like dnvgl 2015b promote rbi risk based inspection techniques which use inspection and bayesian updating to control the risk of structural failure of assets nielsen and sørensen 2011 looks at the cost savings from using a mathematical model of fatigue failure and bayesian updating from the inspection findings the study accounts for the cost of inspecting and repairing wind turbines and calculates the total lifetime cost of different strategies nielsen et al 2011 describes concepts for systems which seek to minimise the accumulated fatigue damage both systems focus on simplifying the fatigue calculation so that they may be carried out in real time 3 input data 3 1 vessel the vessel is a suezmax size weathervaning fpso with 800 000 bbls of oil storage capacity and 100 000 bbls day production rate the hull of the vessel has a single longitudinal bulkhead located at centreline and the midship section is of conventional double hull tanker design with a mixture of mild steel and high tensile steel a representative set of secondary stiffener connections are chosen for the fatigue and ultimate strength assessment to ensure that the overall comparison between the passive weathervane and shc system is valid for most of the hull thirty longitudinal stiffener end connection details in each of five transverse sections in way of the cargo hold area at 0 25lbp 0 35lbp 0 45lbp 0 55lbp and 0 65lbp are considered in the assessment in total one hundred and fifty longitudinal stiffener connections are covered see fig 1 3 2 environmental data the improvements that are discussed in this paper are mainly relevant to vessels where fatigue damage to hull structure is critical therefore a generic location with harsh wave conditions in the norwegian continental shelf is assumed as the design environment see fig 2 real metocean data applicable to a broad range of design conditions is used each set of data is classified by the dimensionless parameters sea swell energy ratio and intermodal distance rodriguez and guedes soares 1999 however although this is real data it is an area with a relatively low sea swell energy ratio i e the total energy is not dominated by the wind sea therefore more verification with different parameters e g vessel type vessel size site specific environmental conditions sea swell energy ratio etc would be required to determine the potential benefit for a specific field a time history of hs significant wave height and tp peak wave period pair covering the assumed design life of the vessel i e 20 years is generated by making use of seasonal wave scatter diagrams and duration of non exceedance of significant wave height statistical data 3 3 heading data relative headings of the unit to waves i e wind sea and swell in free weathervaning conditions are deduced from real data of a typical fpso see fig 3 the wind and wind sea direction are well correlated and most of the time aligned i e occur in the same direction the unit usually heads up to wind sea note that this is site specific the relative heading between the vessel and the swell sea can significantly vary for different sites the histogram which is shown below for the relative heading to swell is also extracted from real data see fig 4 the histograms below are from the site specific data of the typical fpso and are used to assign the relative heading of the vessel to the wind sea and the relative heading of the vessel to the swell sea for each sea state in the time history 3 4 wave spectrum the metocean data used in the assessment is for the total sea with no distinction and separate sea state parameters for wind and swell sea the sea is then separated into wind and swell components by using formula from torsethaugen spectrum torsethaugen and haver 2004 in the torsethaugen spectrum each sea state is classified as either swell dominated or wind dominated sea according to the criterion that depends on the assumed fetch length parameter the distinction between wind dominated and swell dominated sea states is found to be defined by the fully developed sea for the location where tp is compared to 1 t p f a f h s 1 3 if tp is greater than tpf then the primary peak corresponds to the swell system if tp is less than or equal to tpf then the primary peak corresponds to the local wind system 2 a f k f f e 1 6 where kf 0 78 sm 1 2 and fe is the fetch length in meters accordingly the total sea state with hs and tp is split into wind sea hswind tpwind and swell sea hsswell and tpswell in the assessment multiple parameters af 4 65 5 30 5 95 6 60 and 7 25 are taken into account to observe the influence of swell sea with varying dominance over wind sea e g af 7 25 weak swell mildly bimodal sea with a relatively high sea swell energy ratio af 4 65 dominant swell strong bimodal sea with sea swell energy ratio close to unity a jonswap wave spectrum is used to represent each of the wind sea and the swell sea a constant peak enhancement factor of 3 3 is assumed for wind sea and 6 0 for swell sea cosine square wave spreading is assumed for wind sea and no spreading is used for swell 4 fls fatigue limit state and uls ultimate limit state calculations in this section the calculation method and steps behind fls and uls results presented in this paper are described 4 1 hydrodynamic analysis a 3d diffraction and radiation analysis is carried out for a number of loading conditions that occur throughout a loading offloading cycle of the vessel for simplification purposes and keeping the analysis time at reasonable levels it is assumed that viscous roll damping is equal to 6 of the critical roll damping for all sea states for the actual shc system it is planned to compute the roll damping using stochastic linearisation and real time calibration from motion sensors if available global hull girder load raos response amplitude operator and local pressure raos are calculated from the hydrodynamic analysis for each loading condition 4 2 stress rao construction a load component stochastic calculation method dnv 2010 is used for both fatigue damage and ultimate strength assessment of secondary stiffeners the stress raos are constructed by multiplying the in phase and out of phase parts of the relevant load raos e g vwbm hwbm local panel internal and external pressure raos with the stress influence coefficients for each load component then summing all the in phase components to calculate the in phase stress and summing all the out of phase components to calculate out of phase stress 3 and 4 3 h σ k ω θ a k h k ω θ where a k stress load ratio for load component k e g z e z i yy for vwbm z vertical distance of the stiffener connection from base line ez vertical distance of the neutral axis from base line iyy moment of inertia of the hull transverse section about its horizontal neutral axis hk ω θ rao for load component k 4 h σ ω θ k 1 n h σ k ω θ the stress load ratios are calculated using hand rule formula only but the principle is exactly the same for a full ship fe analysis or for experimental results from strain gauges in this study the stress responses from other load effects that are normally computed using direct calculation methods e g secondary bending of double skin structure topside module inertia loads shear lag etc are disregarded to limit the computation time 4 3 stress response spectrum for wind sea and swell sea the response spectrum based on the linear model is given by the wave spectrum and response rao for each wave relative heading ϕ the response spectrum at each frequency is calculated 5 s σ ω h s t p ϕ j o n s w a p ω h s t p h σ ϕ ω 2 the spectral moments of order n of the response process for a given swell sea heading are calculated as 6 m n ω ω n s σ ω h s s w e l l t p s w e l l ϕ d ω the spectral moments of order n of the response process for a given wind sea heading are calculated taking into account wave spreading 7 m n ω ϕ 90 ϕ 90 k c o s 2 ϕ ω n s σ ω h s w i n d t p w i n d ϕ d ω stress response zero up crossing period is calculated as 8 t z 2 π m 0 m 2 the combined spectrum assumed narrow banded from all stress processes due to wind and swell sea is 9 m 0 t o t a l s e a m 0 w i n d s e a m 0 s w e l l s e a 10 t z t o t a l s e a 1 m 0 w i n d t z w i n d 2 m 0 w i n d m 0 s w e l l m 0 s w e l l t z s w e l l 2 m 0 w i n d m 0 s w e l l 4 4 uls calculations the time history of wind and swell sea states hs tp and relative heading for both components and the loading condition of the vessel during that sea state are used to calculate the stress spectrum for each stiffener in accordance with above section the order statistics of the extreme response in each sea state are calculated from the stress response spectra of each stiffener end connection for this study the responses are assumed to be ergodic gaussian and narrow banded and therefore rayleigh distribution is used in each short term 3 h sea state i condition 11 σ 90 t h i e x t r e m e i 2 m 0 i ln 1 0 9 t z i 10800 1 the maximum and minimum stresses for each sea state in the time history are then calculated as 12 σ m a x i σ s t i l l w a t e r i σ e x t r e m e i 13 σ m i n i σ s t i l l w a t e r i σ e x t r e m e i the extreme stresses that are observed during the total service life of the unit are 14 σ m a x e x t r e m e max i σ m a x 15 σ m i n e x t r e m e min i σ m i n 4 5 fls calculations fatigue calculations are carried out in a similar way to extreme stress calculations high cycle fatigue damage at each sea state throughout the time history is computed and added to the total damage dnvgl 2015a 16 h c f i 10800 t z i 2 2 m 0 i m 1 a 1 γ 1 m 1 2 s 1 2 2 m 0 i 2 2 2 m 0 i m 2 a 2 γ 1 m 2 2 s 1 2 2 m 0 i 2 where a1 a2 m1 and m2 are s n fatigue curve parameters γ is complementary incomplete gamma function γ is incomplete gamma function s1 is stress change for which change of slope of s n curve occur σmax i and σmin i 12 and 13 for each sea state are stored in an array to compute low cycle fatigue lcf from the array stress ranges with a frequency corresponding to a loading offloading cycle are extracted utilising a rainflow stress range counting approach the extracted stress ranges are then multiplied with necessary factors to account for plasticity correction dnv 2010 17 l c f 1 a δ s r m where a and m are s n fatigue curve parameters δ s r is the low cycle stress range corresponding to a loading offloading cycle 5 smart heading control shc 5 1 description an in house proprietary algorithm is used to alter the heading of the unit to minimise the overall fatigue damage the shc algorithm precalculates the theoretical damage rate of each weld in different combinations of wind and swell sea i e combinations of hsswell tpswell directionswell hswind tpwind directionwind the algorithm then sorts the relative headings to wind and swell sea in terms of fatigue damage rate for moderate sea states and in terms of peak stress for extreme sea states it picks the new heading from the sorted list based on multiple criteria i e minimised overall fatigue damage or uls stress and also allows limits for the maximum reorientation to avoid excessive rotation of the vessel in certain sea states for example large hs or low hs the heading control is switched off either to save power or increase safety or if the benefit is not significant the unit is then automatically re oriented to the new heading by existing dp systems or newly installed aft thrusters above described shc algorithm targets for the minimisation of the overall damage i e sum of all picked fatigue locations a monte carlo simulation subroutine is also implemented in the algorithm to avoid individual structural details to misbehave i e undesired damage increase leading to failure in comparison with weathervaning condition the subroutine updates the smart heading selection logic at regular intervals e g every one year to avoid misbehaving fatigue details at the expense of slight reduction in overall fatigue life improvement this is achieved by creating new relative heading lists for each sea state by randomly rearranging the sorted list then an initial arbitrary normal i e bell curve pdf probability density function is laid over the generated array of heading lists to construct a proposal density with the initial sorted list i e most favourable heading on top of the list having the highest probability of yielding minimal damage and the lists with the most penalising heading on top having the least the intention is to improve the efficiency of monte carlo simulation based on the assumption that the optimum solution is located close to the initial lists in terms of damage rate order of headings therefore drawing more samples from vicinity is enabled the proposal densities variance could be tuned or they could be recursively updated e g adaptive importance sampling to increase the speed and accuracy of the monte carlo simulation with the monte carlo simulation the heading lists for each sea state are randomly drawn from the proposal densities described earlier and the fatigue calculation is repeated based on these heading lists a large number of samples are generated and at the end of the simulation the heading lists for the sample which yields the minimal sum fatigue damage and no misbehaving stiffeners are fed back in the main fatigue calculation loop a flowchart of the algorithm is provided in fig 5 5 2 simulations multiple simulations are carried out to fully understand the potential benefits of an shc system the following effects are varied draft and tank fill level wind sea swell sea energy ratio minimum hs for activating the smart heading control system 5 2 1 simulation of drafts and tank levels multiple scenarios representing different production see fig 6 and offload rates are studied to see if the benefit of the system is affected by the offload rate and the overall distribution of loading conditions the damage calculations are repeated 10 times with 10 different time histories of the draft and tank fill levels see table 1 the direct time histories are derived as follows a motion and excursion limit is defined for offloading probability data for events that occur during loading offloading are fed into the simulation e g production rate laycan distribution mooring time distribution offload time waiting for offload time distribution etc in this way the time history of the draft and the tank fill levels are deduced this is not part of the shc system it is merely an algorithm to deduce realistic draft and tank fill levels for a typical fpso based on the metocean data each of the ten series had a different production rate and recoverable reserves based on the probability distribution given below the start of the production date is chosen differently for each time series for another sensitivity check 5 2 2 effect of wind sea swell energy ratio the calculations are carried out for unimodal sea i e total sea comprising wind sea only and five different values of wind sea swell energy ratio corresponding to af 4 65 5 30 5 95 6 60 and 7 25 in the torsethaugen spectra torsethaugen and haver 2004 for illustration the ratio of hswind to hsswell is calculated for each sea state in the reference time series presented in fig 7 for each of the different af parameters and then the pdf of the ratio of hswind to hsswell is calculated for each value of af by counting the number of occurrences in discrete bins of the ratio the five pdfs are combined onto a 3d graph in order to qualitatively compare them the graph is presented in fig 8 similar pdfs for hswind minus hsswell are also calculated and are shown in fig 9 these pdfs are only valid for the reference metocean data and the corresponding time series 5 2 3 effect of the smart heading control system all of the simulations are carried out nine times once without shc system i e free weathervane and eight times with different shc activation criteria shc is activated at sea states with hstotal sea greater than 1 2 3 4 5 6 7 and 8 m respectively 5 2 4 summary of all combinations there are total of ten different time series six different wind sea swell sea energy ratios and nine different criteria for activating the shc making a total of 10 6 9 540 simulations see table 2 6 results the critical findings of the overall study are presented in figs 10 33 all individual structural connection detail results in general follow the average trend with minor difference this is true for both the extreme stress and the fatigue damage rate 6 1 fatigue results 6 1 1 wind sea swell energy ratio effect the magnitude of improvement in fatigue lives of structural details with shc system compared to free weathervaning is about 13 in unimodal seas i e with a very high wind sea swell sea energy ratio for bimodal seas the same improvement increases from 20 to 250 as the dominance of swell over wind sea strengthens i e as the wind sea swell sea energy ratio decreases for example for a torsethaugen spectrum with af 5 3 the fatigue life of the critical details increase by up to 200 6 1 2 production rate tank fill levels and drafts the sensitivity of the results to different time series is low as shown in figs 10 15 similar findings obtained for all 10 time series with different recoverable reserves 6 2 extreme stress results 6 2 1 wind sea swell energy ratio effect the average extreme stress improvement with shc system is about 6 in unimodal seas for bimodal seas this increases up to 14 with more dominant swells 6 2 2 production rate tank fill levels and drafts the sensitivity of uls results to different time series is higher than that for fatigue results this is expected as the uls findings depend on the extreme sea states for different time series the loading condition and relative heading between swell and wind sea during an extreme sea state can be different and these two factors have an impact over the findings 6 3 uptime of the shc system the uptime for shc system in unimodal sea is about 30 of total life if the system is turned on at sea states with hs greater than 1m for bimodal seas the uptime increases to 90 of total life with more dominant swells in unimodal wind seas the unit usually heads up to the wind sea since the head sea conditions result in least fatigue damage for most of the wave periods the shc system is usually idle in unimodal wind driven seas in bimodal seas there are two wave components and since the swell relative heading is more scattered than wind sea relative heading then the optimum relative heading is often different than the free weathervaning heading shc uptime increases to take advantage of the favourable heading more frequently i e 3 times longer 6 4 heading change from the shc system in these simulations the maximum re orientation of heading angle is limited to 60 in unimodal sea the heading change is usually less than or equal to 15 for bimodal seas as the dominance of the swell increases the heading change increases 6 5 selected graph of results figs 10 15 fatigue life improvement for shc with different min hs criteria vs free weathervane figs 16 21 uls stress reduction for shc with different min hs criteria vs free weathervane figs 22 27 shc uptime with different min hs criteria figs 28 33 shc heading change with different min hs criteria for time series 2 heading change is limited to 60 to 60 deg range 6 6 optimal vessel heading relative to wind sea and swell to achieve minimum fatigue damage there is no optimal vessel heading relative to wind sea and swell factors such as hs tp for both wind and swell and the relative angle between the wind sea and swell sea have an influence over the most optimal vessel heading this will be different for different sea states 7 discussion 7 1 bandwidth of the sea spectra the results presented in previous section show that for seas where the ratio of wind sea energy to swell energy is close to or less than unity and where the swell and wind seas are from different directions the shc system thirds the fatigue damage and could reduce the downtime and cost of inspection and repair particularly if the vessel already has dp capability or some other means of heading control however other areas with higher sea swell energy ratios i e relatively more wind seas would have less benefit from the system and for those areas the system is unlikely to be cost effective 7 2 shc system in extreme sea states and during marine operations there is some marginal benefit of the shc system in extreme sea states but this could be offset by the risk of adverse response in those seas so the shc system could be switched off during extreme sea states likewise the system should be switched off during offloading and shuttle tanker mooring for operational and or safety reasons since the time in extreme sea states and offloading is low this would not significantly reduce the fatigue improvement presented in this study as is seen by comparing the graphs in figs 10 15 and comparing the reduction in fatigue life for shc active at hs 7 vs shc active at hs 8 7 3 comfort of the crew the shc system has most benefit in the most common sea states which tend to be lower hs during higher sea states the comfort of the crew may be affected by changing the heading to minimise fatigue damage for these sea states the shc can be turned off since the time in larger hs is low there is only a small increase in fatigue damage 7 4 fatigue of risers or mooring systems the shc approach is a generic approach and the risers or mooring system can also be included so that the heading control is adjusted with for the risers as well as for the hull with suitable selection of weighting factors the overall risk and cost of maintenance of the installation hull risers mooring system etc can be minimised the damage to the hull for head sea conditions are less than that from oblique sea so most of the time if not all the shc will be reorienting the vessel to head sea for unimodal sea and somewhere near head sea relative to the dominant mode wind or swell for bi modal seas to minimise the fatigue damage it is expected that this would also limit fatigue damage at the connections of risers mooring systems 7 5 primary connections this paper only considers secondary connections but the system is also applicable to primary member connections such as horizontal cargo hold stringers hull turret connections etc the bias factors need to be assigned taking into account the criticality ease of inspection repair and etc 7 6 general comments the shc system presented here would be improved with input from strain gauges and bayesian updating of the heading control and the predicted strain cycles after each heading control event to account for the observed change in strain cycles the study here uses a spectral fatigue approach with beam theory i e rule type calculations of stress in the end connections of secondary stiffeners but the principle is equally valid if stresses are obtained from strain gauges or calculated using a linear elastic fe model of primary and or secondary member connections in the calculation procedure all load components that are deemed to contribute significantly to the stress process vwbm hwbm local panel pressure both internal and external global axial load in unit global x direction are taken into account no design fatigue factors dff are used in this study dff or ease of repair factors or inspectability factors can be incorporated in the calculations to bias the results towards the structural details which are harder to inspect repair or that come with higher dff factors 7 7 novel aspects of the paper previous studies and existing hardware software systems cover methods for recording fatigue accumulated fatigue damage some of those systems can be used to plan inspections and maintenance other systems react in real time to forecasts to limit motions extreme loads or optimise a route a combination of voyage time and fuel costs however none of the identified systems are able to alter the operation e g relative heading of the unit to limit the risk to the structure over the design life since fatigue damage is a cumulative phenomenon any system which seeks to limit the risk to the structure over the design life must both record the accumulated damage and have a predictive element this paper covers both those aspects 7 8 future work and potential enhancements the shc can be integrated with existing on board monitoring systems e g strain gauges and a detailed fe analysis of the unit in the future to further enhance and calibrate the damage rates hence the heading prediction selection process rbi type bayesian updating of fatigue criticality and associated repair costs based on inspection reports and operating costs of the shc system may also be incorporated in the shc algorithm to tune the heading optimisation not only on the accumulated damage but also the associated overall lifetime repair operation and maintenance costs author contribution engin balli conceptualization methodology software writing draft preparation validation visualisation thomas ward writing methodology reviewing and editing declaration of competing interest the authors declare that they have no known competing financial interests or personal relationships that could have appeared to influence the work reported in this paper appendix a supplementary data the following is the supplementary data to this article multimedia component 1 multimedia component 1 appendix a supplementary data supplementary data to this article can be found online at https doi org 10 1016 j oceaneng 2020 107293 
21848,this paper presents a novel robust neural event triggered control algorithm to achieve the dynamic positioning operation of marine surface ships in the presence of actuator faults in the algorithm the model uncertainty and the explosion of complexity are addressed by fusion of the robust neural damping and dynamic surface control techniques the gain related adaptive law is constructed to compensate the gain uncertainties and the unknown actuator faults which improved the stability of the ship dynamic loop system furthermore the event triggered mechanism is introduced to reduce the communication load between the controller and actuator for merits of the aforementioned design the proposed algorithm is with the advantages of concise form and easy to be implemented in practical ocean engineering based on the lyapunov theory rigorous analysis is proved to guarantee the semi global uniform ultimate boundedness sguub of the closed loop system finally numerical simulations are conducted to demonstrate the validity and feasibility of the proposed algorithm keywords dynamic positioning ships neural network event triggered control actuator faults robust neural damping technique 1 introduction with the increasing focus on the offshore exploitation and exploration more advanced automatic control system is prevailing in field of ocean engineering e g the dynamic positioning dp control of the offshore ship or the drilling rig by using the actuated thrusters the dp control is to generate the reasonable active forces to counteract effects of the external disturbance and the marine vehicle would be maintained in a fixed reference position or the predefined track sørensen 2011 in the engineering practice actuator faults are frequently encountered due to the excess wear or the limited material transportation especially for the dynamic positioning ship with multi actuators that may cause the abnormal operation even lead to the instability of the practical system therefore it desires more attentions to investigate the dp control of marine ships with consideration of actuator faults and that is of theoretical and practical significance in the marine industry around the dp control strategies a large amount of theoretical results have been reported in the existing literatures e g the fuzzy neural network control hu et al 2015 du et al 2015 the sliding mode control tannuri et al 2010 shi et al 2011 and the robust adaptive one hassani et al 2012 in witkowska 2013 a novel vectorial backstepping controller is designed to maintain the desired attitude for the marine surface ship by fusion of the model based observer the observer was constructed to estimate the non measured states by resorting the lyapunov stability theory do 2011 proposed a novel output feedback control scheme to achieve the dynamic positioning operation of surface vessel by incorporating the adaptive observer in the algorithm the ship s parameters can be unknown and the adaptive observer was used to estimate unavailable states and filter out high frequency noise that is significant in engineering practice as for the problem of actuator failures su et al 2017 presented a proportional derivative control law to stabilize effects of the actuator saturation and the corresponding failures it is noted that the information of actuator faults and model parameters are not required in the controller that can contribute to its implementation in the practical engineering in fu et al 2011 the problem of online reconfiguration of fault tolerant control ftc was addressed by fusion of the virtual configuration method in the scheme a suitable linear state space model is derived to predicate the attitude states of dynamic positioning ships that may generates the suitable inputs to implement the control mission after the occurrence of thruster failures actually the dynamic positioning control system is a networked closed loop system with channels from controller to actuators see fig 1 and the aforementioned algorithm may generate the unnecessary periodically information transmission which involves the state measurement and the input order thus the constraint of communication resource is a critical factor that limits the application of the theoretical algorithm in the practical engineering in katayama and aoki 2014 a discrete sampled control algorithm is developed for underactuated ships with both state and output feedback controllers by resorting to the euler approximate models the sampled period is tried to be enlarged to economize the communication channels in addition hu et al 2018 presents an event triggered data transmission mechanism for the nouniformly sampled neural network based control system that is an effective strategy to decrease the communication burden due to its transmission only when the event occurs in xing et al 2017 the authors presents a input related event triggered control etc algorithm to stabilize a class of uncertain nonlinear systems subject to actuator failures and the actuator faults are allowed to be unknown and the corresponding algorithm did not limit the total number of faults to further tackle with the uncertainties of the etc system the neural networks nns or fuzzy logic systems are employed to remodel the unknown model dynamics xu et al 2020 xiang et al 2017 recently a model based adaptive etc is presented by constructing a adaptive estimation model and event triggered condition li and yang 2018 the control law and the states would be updated when the designed events are triggered a problem of the model based etc is that the adaptive parameters are required in the adaptive model i e the aperiodically updated neural network weight furthermore the states would be renewed aperiodically that may generate the jumping of the virtual control law which can decrease the system stability as for the another one the virtual control term is differentiated directly which will cause the order of the system increases that is the explosion of complexity will be generated the dynamic surface control dsc technique is an effective method to deal with the problem by fusion of the first order low pass filter the differentiating term would be substituted to avoid the explosion of complexity li et al 2019 motivated by the aforementioned discussion we concentrate on the event triggered dynamic positioning control of full actuated ships subject to the constraint of actuator faults different from the existing result the physical gear process is considered in the system model which leads to the steerable control inputs i e the thruster pitch that can improve the challenges to the design of the closed loop control system the main contributions includes mainly twofold 1 a novel robust neural control algorithm is proposed to solve the dynamic positioning problem of full actuated ships by resorting to the model based event triggered strategy in the algorithm no adaptive parameters are required in the adaptive model for merits of the robust neural damping technique that can eliminate effectively the jumping of virtual control laws caused by the renewal of state variables 2 the explosion of complexity is removed by incorporating the dsc filters only the limited gain related adaptive parameters are updated online that is corresponding to the number of thrusters and the nonlinear terms are constructed in the control law to stabilize the perturbation generated by the gain uncertainties and the unknown actuator faults that could facilitate its applicability in the engineering practice 2 problem formulation 2 1 dynamic model of marine ship r ψ 1 referring to the newtonian or lagrangian mechanics fossen and strand 2011 one defines the attitude vector η x y ψ t r 3 in the earth fixed coordinate frame and the velocity vector v u v r t r 3 in the body fixed frame including the surge sway and yaw velocities the three degree of freedom 3 dof mathematical model of dp ships can be described as eqs 1 and 2 1 η r ψ v 2 m v d l v d n v τ τ w in eq 1 x y denote the position coordinates ψ is the yaw angle ψ 0 2 π r ψ is the rotation matrix between the body fixed and the earth fixed coordinate frames see eq 3 note r 1 ψ r t ψ and m is the inertia matrix given in eq 4 3 r ψ cos ψ sin ψ 0 sin ψ cos ψ 0 0 0 1 4 m m x u 0 0 0 m y v m x g y r 0 m x g y r i z n r in eq 2 d l d n v are employed to describe the linear and nonlinear hydrodynamic terms respectively and the detailed expressions are given in eq 5 x u x u u y v are all the hydrodynamic force derivatives different from the existing literatures du et al 2013 the coriolis and centripetal force moment and the nonlinear damping terms are all considered in the d l v d n v in the practical engineering the modern dp ship is becoming increasingly larger the quadratic damping terms in the kinetics equation 2 may cause the oscillatory behavior at low speed hence the mathematical model 1 2 could describes a class of dp ship with more general form 5 d l x u 0 0 0 y v y r 0 n v n r d n v x u u u u y v v r y r r r x u u r y v v v v y v r v r x u y v u v y r u r n v v v v n v r v r 6 τ t β κ n u p in eq 6 τ τ u τ v τ r t r 3 implies the control input vector which is produced by the shaft propeller the tunnel thruster and the azimuth thruster τ w τ w u τ w v τ w r t r 3 represents the environmental disturbance induced by wind waves and current in eq 6 t r 3 q denotes the configuration matrix that depends on the physical location of thrusters where q is the number of equivalent thrusters then β is the bearing angle of azimuth thruster κ diag κ 1 n 1 κ 2 n 2 κ q n q r q q is unknown force coefficient matrix of depending on the propeller speed n i i 1 2 q u p p 1 p 1 p 2 p 2 p q p q t p i 1 1 i 1 2 q is the pitch ratio of thrusters which is the actual controllable inputs furthermore the immediate variable u p i p i p i is introduced to facilitate the following derivation in fact the thruster may experience bias fault and loss of effectiveness in practice engineering wang and wen 2010 to facilitate the following derivation the actuator fault model can be expressed as eq 7 7 u p k p v p u p in eq 7 k p diag k p 1 k p 2 k p q r q q 0 k p i 1 i 1 2 q denote the actuation effectiveness matrix u p u p 1 u p 2 u p q t r q is the bias faults vector in addition v p v p 1 v p 2 v p q t r q where v p i p i o p i o i 1 2 q and p i o is the event triggered input to be designed i e the input order of the ith thruster it is obviously to note that model 7 contains four modes of actuator fault as follows 1 k p i 1 and u p i 0 in this case it denotes that the actuator works healthily 2 0 k p i 1 and u p i 0 this implies that the actuator is suffering partial loss of effectiveness ploe 3 k p i 1 and u p i 0 this shows that the actuator is undergoing the bias fault 4 k p i 0 this case corresponds to u p i u p i which is referred to as the total loss of effectiveness tloe remark 1 as a matter of fact the ship s thrusters may encounter gradual or abrupt faults in engineering practice such as the thrust losses and bias fault in correspond to this the fault model in this paper includes four modes namely health actuator bias fault ploe and tloe the model can describe the actual situation of ship s thruster faults in nautical practice in addition d l d n v are not required to be known for the control design from the perspective of engineering practice that is more reasonable assumption 1 zhang et al 2017 the inertial matrix m is both positive define and invertible since the ship s hull is with both port starboard symmetry and fore aft symmetric approximately in nautical practice the condition can be satisfied assumption 2 zhang et al 2018 τ w is bounded external disturbance terms i e there exist the positive constant vector τ w τ w u τ w v τ w r t 0 such that τ w u τ w u τ w v τ w v τ w r τ w r and τ w is unknown vector only for the analysis assumption 3 coupling effect between the thruster and the hull have been considered in mathematical model and κ n has taken account of the effect of thrust losses and interactions in eq 6 2 2 some lemmas and preliminaries now we introduce some vital lemmas which will be employed for subsequent analysis in this paper lemma 1 sahoo et al 2016 consider a impulsive dynamical system described as eq 8 8 ξ f c ξ ξ 0 ξ 0 ξ c u ξ d δ ξ f d ξ ξ d ξ u in eq 8 f c ξ and f d ξ represents the flow dynamics and the jump dynamics respectively c describes the flow set d is the jump set u represents an open set and ξ is the state vector δ ξ ξ t ξ t where ξ t lim ξ ε 0 t ε suppose that the jumps happen at diverse time instants and there exists a continuous and differentiable function v u r and class k functions α and β such that eqs 9 10 and 11 where ς 0 9 α ξ v ξ β ξ ξ u 10 v ξ ξ f c ξ 0 ξ u ξ d ξ ς 11 v ξ f d ξ v ξ 0 ξ u ξ d ξ ς then lim t 0 ξ t α 1 β ς lemma 2 zhang and zhang 2014 for any given continuous function f x with f 0 0 by combining radical basic function rbf nns approximation and the continuous function separation techniques f x can be described as eq 12 12 f x s x ax ε x x ω x the input vector x is defined in a compact set b x i e x b x s x s 1 x s 2 x s l x is a vector of rbf which is chosen as gaussian function 13 ε x is the approximation error with the unknown upper bound ε 13 s i x 1 2 π ϱ i exp x μ i t x μ i 2 ϱ i 2 in eq 13 i 1 2 l μ i μ i 1 μ i 2 μ i m is the center of the receptive field and ϱ i is the width of the gaussian function l is the node number of nns m is the dimension number of the state vector x and a ω 11 ω 12 ω 1 m ω 21 ω 22 ω 2 m ω l 1 ω l 2 ω l m is an weight matrix based on nns approximation theorem yang et al 2004 li et al 2014 f x can approximate to arbitrary accuracy over a compact set b x when the ideal constant weights are defined as eq 14 14 a arg min a r l n sup x b x f x s x ax uniformly in this note denotes the absolute operator of scalar is the euclidean norm of a vector or a matrix and f implies the frobenius norm a f 2 tr a t a i 1 m j 1 n a i j 2 where a a i j r m n is a matrix ˆ is the estimation of and the estimation error ˆ sgn indicates the sign function is the element by element multiplication diag b 1 b 1 b n denotes the main diagonal matrix and b 1 b 1 b n are the diagonal elements inf implies the infimum of the discussed element and sup denotes the supremum of the discussed element 3 design of robust neural event triggered dp control in this section one will propose a systematic design procedure for the robust neural event triggered control of dynamic positioning with actuator faults to solve the uncertainty of system one employ the robust neural damping technique a novel adaptive update law is derived in a event triggered context then the event triggered condition is presented to determine the appropriately event sampled instants 3 1 event based adaptive model in this section an adaptive model and corresponding controller are designed by using the robust neural damping technique the adaptive model has the advantage of estimating the system state vector according to eqs 1 and 2 the adaptive model can be designed as eq 15 and eq 16 15 η ˆ r ψ ˆ v ˆ 16 m v ˆ α u p k vn v ˆ e φ v v ˆ in eqs 15 and 16 η ˆ x ˆ y ˆ ψ ˆ t and v ˆ u ˆ v ˆ r ˆ t is the estimated state vector α u p φ v v ˆ and k v n denote virtual control law the robust neural damping term and the design parameter matrix respectively which would be discussed later in this scheme the controller is updated only at the event trigger instants t k k 0 1 2 and it satisfy t k 1 t k the initial sampling instant is t 0 0 the event trigger error between the system state and the estimated state can be defined as eq 17 where e η e x e y e ψ t and e v e u e v e r t 17 e η η ˆ η e v v ˆ v t k t t k 1 when an event occurs the model state vector η ˆ and v ˆ will be reset to system state vector η and v respectively so one can has eq 18 18 η ˆ η η η v ˆ v v v t t k 3 2 controller design step 1 based on the above event based adaptive model the error vector is defined as η ˆ e η d η ˆ where the constant vector η d r 3 denotes the desired attitude furthermore the derivative of η ˆ e is obtained as eq 19 19 η ˆ e η d r ψ ˆ v ˆ observed from eq 19 the virtual control α v will be constructed as eq 20 20 α v r 1 ψ ˆ k η η ˆ e in eq 20 k η is the design parameter with the form of diagonal matrix in which each element is strictly positive as for the differential term of α v the dsc technique will be employed here to remove its complexity i e eq 21 21 ε v β v β v α v β v 0 α v 0 ε v diag ε u ε v ε r is the time constant matrix and β v is the output vector of this filter with respect to this filter the output error is defined as q v q u q v q r t α v β v and it yields eq 22 22 q v β v α v ε v 1 q v b v η e η e ψ r in eq 22 b v b u b v b r t denotes a vector in which all elements are bounded continuous functions i e b u b u b v b v and b r b r where b u b v b r all are the unknown positive constants furthermore one defines v ˆ e β v v ˆ combining 20 and 21 one can obtain eq 23 23 η ˆ e k η η ˆ e r ψ ˆ q v r ψ ˆ v ˆ e define η e η d η and v e β v v the derivative of η e can be presented as eq 24 24 η e r ψ r 1 ψ ˆ k η η e r ψ r 1 ψ ˆ k η e η r ψ q v r ψ v e based on the above analysis it has to be noted that 25 r 1 ψ ˆ r 1 ψ r 1 e ψ cos ψ sin ψ 0 sin ψ cos ψ 0 0 0 1 1 cos e ψ sin e ψ 0 sin e ψ cos e ψ 0 0 0 1 1 thus eq 24 can be rewritten as eq 26 where i diag 1 1 1 is the identity matrix 26 η e k η η e k η i r 1 e ψ η e k η i r 1 e ψ e η k η e η r ψ v e r ψ q v step 2 define v ˆ e β v v ˆ based on eq 2 the derivative of v ˆ e can be written as eq 27 27 v ˆ e β v m 1 d l v ˆ d n v ˆ t β κ n u p τ w it is obvious to note that d l v ˆ d n v ˆ is the system uncertainty in eq 27 according to lemma 2 the unknown function vector can be approximated as eq 28 by using the rbf nns 28 f n n v ˆ s v v ˆ a v ˆ v ˆ ε v ˆ s v v ˆ a v ˆ β v s v v ˆ a v ˆ v ˆ e ε v ˆ s v v ˆ a v ˆ β v b v ˆ s v v ˆ ω v ˆ ε v ˆ in eq 28 f n n v ˆ f n u v ˆ f n v v ˆ f n r v ˆ t r 3 i e f n n v ˆ contains three rbf nns which are used to approximate the uncertainty of the u ˆ v ˆ r ˆ subsystems respectively s v v ˆ diag s u v ˆ s v v ˆ s r v ˆ r 3 3 l due to the same basis function s v ˆ and input vector v ˆ so one has s u v s v v ˆ s r v ˆ a v ˆ a u ˆ a v ˆ a r ˆ t r 3 and ε v ˆ ε u ˆ ε v ˆ ε r ˆ t r 3 where ε v ˆ is the upper bound vector of ε v ˆ furthermore b v ˆ a v ˆ f a v ˆ m a v ˆ a v ˆ f then one can obtain ω v ˆ a v ˆ m v ˆ e and b v ˆ ω v ˆ a v ˆ v ˆ e and eq 29 can be derived with υ ˆ s v v ˆ a v ˆ β v ε v ˆ τ w where ϑ v ˆ max ε v ˆ τ w a v ˆ f φ v ˆ v ˆ 1 s v v ˆ β v 29 v ˆ e t υ ˆ v ˆ e s v v ˆ a v ˆ β v ε v ˆ τ w ϑ v ˆ v ˆ e φ v ˆ v ˆ besides eq 30 can be achieved based on young s inequality φ v v ˆ 1 4 φ v ˆ 2 s v v ˆ f 2 is the robust neural damping term of which input is the model state vector and k v n is the design parameter matrix which is strictly positive 30 v ˆ e t υ ˆ v ˆ e t b v ˆ s v v ˆ ω v ˆ φ v ˆ 2 v ˆ e t k v n v ˆ e 4 ϑ v ˆ 2 λ m i n k v n s v v ˆ f 2 v ˆ e t k v n v ˆ e 4 b v ˆ 2 ω v ˆ t ω v ˆ λ m i n k v n φ v v ˆ v ˆ e t k v n v ˆ e ϑ v ˆ 2 λ m i n k v n b v ˆ 2 ω v ˆ t ω v ˆ λ m i n k v n the actual control law α u p is chosen as eq 31 31 α u p k v e v ˆ e β v r t ψ ˆ η ˆ e k v n v ˆ e φ v v ˆ as for the thrust term eq 6 α u p α u p α v p α r p t is the immediate control term k v e presents the positive parameters based on the above analysis eq 27 can be rewritten as eq 32 32 v ˆ e β v m 1 k v e v ˆ e β v r t ψ ˆ η ˆ e similar to the above analysis for eq 32 and combining eq 7 the derivative of v e is eq 33 33 v e m 1 m β v υ b v s v v ω v t β κ n k p v p t β κ n u p remark 2 based on the above analysis the term φ v includes the output vector β v of the filter and the basis function vector s v which is chosen as gaussian function zhang and zhang 2014 since β v and s v are differentiable and continuous the locally lipschitz continuity condition can be satisfied by the robust neural damping term φ v such that φ v v ˆ φ v v l v v ˆ v where l v presents a known constant in nautical practice the thruster force coefficient κ and the actuation effectiveness coefficient k p are unknown and will yield the system gain uncertainty define g p κ n k p and ϖ p κ n u p then it can be obtained that λ 1 κ n k p and θ λ sup ϖ p ℓ where ℓ 1 1 1 t thus eq 33 can be rewritten as eq 34 34 v e m 1 m β v υ b v s v v ω v α u p t β g p v p t β g p λ ˆ t β α u p t β g p θ ˆ ζ 1 q g p ζ θ ζ t ζ ζ 1 q g p ζ λ ζ i u v r j u v r t ζ j t i ζ α j one can obtain eq 35 based on xing et al 2016 where ε 0 and x r by virtue of eq 35 the actual control law for p p 1 o p 2 o p q o t could be derived as eq 36 where t presents the pseudo inverse of t t ζ presents the ζth column of the matrix t t a n h θ tanh θ ˆ 1 v e t t 1 ε tanh θ ˆ 2 v e t t 2 ε tanh θ ˆ q v e t t q ε t 35 0 x x tanh x ε 0 2785 ε 36 v p diag λ ˆ 1 λ ˆ 2 λ ˆ q t β α u p diag θ ˆ 1 θ ˆ 2 θ ˆ q t a n h θ 37 p sgn v p v p remark 3 in marine practice the special ship s force coefficient of thruster is a constant and must satisfy 0 κ i κ i n i κ i i 1 2 q where κ i and κ i are all unknown for the stability analysis for purpose of solving thruster allocation problem extending thruster configuration matrix t β is a effective approach where the rotatable thruster should be deemed as two orthogonal forces illustrated by the case of a ship with one azimuth thruster and two main propellers the eq 38 denotes the extending operation 38 τ cos β 1 1 1 sin β 1 0 0 l x 1 sin β 1 l y 2 l y 3 the actual matrix t β κ 1 0 0 0 κ 2 0 0 0 κ 3 u 1 u 2 u 3 1 0 1 1 0 1 0 0 0 l x 1 l y 2 l y 3 extended configuration matrix κ 1 0 0 0 0 κ 1 0 0 0 0 κ 2 0 0 0 0 κ 3 u 1 x u 1 y u 2 u 3 where u 1 x u 1 cos β 1 u 1 y u 1 sin β 1 present the equivalent control inputs according to zhang et al 2017 the actual control input p 1 and β 1 can be presented as eq 39 39 u 1 p 1 p 1 u 1 x 2 u 1 y 2 β 1 arctan u 1 x u 1 y 3 3 design of the event trigger condition inspired by li and yang 2018 a novel event trigger condition will be designed as eq 40 40 e z k z z e z η v q v k q v ˆ e in eq 40 41 k η γ 1 λ m i n k η 1 δ 2 λ m a x k η 1 δ 0 γ 1 1 k v γ 2 λ m i n k v e m i t v 1 f 2 b v 2 λ m i n k v n 1 4 λ m a x k v e λ m a x k v n sup φ v v l v v ˆ e 0 γ 2 1 k q min γ 3 λ m i n k v e m i t v 1 f 2 i u v r t i 1 1 b i 2 2 b 1 0 γ 3 1 and δ i r 1 e ψ 2 2 cos e ψ to facilitate the implementation of the event triggering condition eq 41 is rewritten as eq 42 where k k η 2 k v 2 1 2 42 e k z e remark 4 according to eq 40 the triggering condition can be denoted as e ψ k η ψ e for e ψ the error e ψ violate the triggering condition when ψ ˆ deviates too much from ψ so the model state ψ ˆ will be reset to ψ it is easy to note that e ψ 0 at triggering instants therefore the error e ψ for ψ always is held in near zero i e δ is a small value near zero 3 4 aperiodic adaptive update law in this section the adaptive parameters λ ˆ ζ and θ ˆ ζ are designed to compensate the unknown gain function and the number of adaptive parameters which updated online is consistent with the dimension of the extended configuration matrix under such parameter adaptation mechanism the error signal between the two models would feedback to the adaptive model so that it can approximate the ideal model continuously inspired by li and yang 2018 the adaptive parameters λ ˆ ζ and θ ˆ ζ will be designed as follows 43 λ ˆ ζ 0 t k t t k 1 λ ˆ ζ λ ˆ ζ β λ ζ i u v r j u v r γ λ t ζ j t i ζ α j e i σ λ ζ λ ˆ ζ t t k 44 θ ˆ ζ 0 t k t t k 1 θ ˆ ζ θ ˆ ζ β θ ζ i u v r γ θ t i ζ e i σ θ ζ θ ˆ ζ t t k where ζ 1 2 q β λ ζ and β θ ζ are the design parameters σ λ ζ and σ θ ζ denote positive tuning constant γ j present the feedback signal of model error and are designed as eq 45 45 γ j e i c j e i 2 j λ θ where c j is a strictly positive constant remark 5 in the closed loop system the eq 40 is the event triggered mechanism which is used to determine whether the triggering condition has been violated if so the control signal is updated the control law 20 31 36 and 37 are used to compute the control command the adaptive law 43 and 44 are resorted to compensate the gain uncertainties and the unknown actuator faults different from the traditional adaptive control the control law and the adaptive law are updated at triggering instants which can avoid the unnecessary information transmission therefore this can effectively reduce communication load and the availability of the algorithm can be effectively improved in the engineering practice 4 main results in this section main results are given for the control scheme mentioned above and they contain the proof of bounded adaptive parameter estimation errors design of the event trigger condition the stability analysis and the proof of strictly positive minimum inter event time 4 1 boundedness of the adaptive estimation error during the flow time t k t t k 1 k 1 2 the lyapunov function candidate is chosen as eq 46 and eq 47 46 v λ 1 2 ζ 1 q g p ζ λ ζ 2 47 v θ 1 2 ζ 1 q g p ζ θ ζ 2 according to eq 43 and eq 44 one can obtain eq 48 and eq 49 48 v λ ζ 1 q g p ζ λ ζ λ ζ 0 49 v θ ζ 1 q g p ζ θ ζ θ ζ 0 at the triggering instants t t k k 1 2 the lyapunov function candidate is defined at discrete instants and it can be derived as eq 50 and eq 51 50 δ v λ ζ 1 q g p ζ λ ζ 2 ζ 1 q g p ζ λ ζ 2 51 δ v θ ζ 1 q g p ζ θ ζ 2 ζ 1 q g p ζ θ ζ 2 from eq 43 and eq 50 can be derived as eq 52 52 δ v λ ζ 1 q g p ζ β λ ζ 2 γ λ 2 i u v r j u v r t ζ j t i ζ α j 2 e i 2 σ λ ζ 2 λ ζ λ ζ 2 2 σ λ ζ λ ζ λ ζ 2 σ λ ζ λ ζ 2 2 β λ ζ γ λ t ζ j t i ζ α j e i λ ζ 2 β λ ζ γ λ σ λ ζ t ζ j t i ζ α j e i λ ζ 2 β λ ζ γ λ σ λ ζ t ζ j t i ζ α j e i λ ζ employing the young s inequality and noting 0 γ λ e i 1 one has eq 53 53 δ v λ ζ 1 q g p ζ σ λ ζ 2 σ λ ζ 2 λ ζ 2 2 β λ ζ σ λ ζ t ζ j t i ζ α j λ ζ 2 β λ ζ t ζ j t i ζ α j σ λ ζ 1 λ ζ σ λ ζ 2 σ λ ζ 2 λ ζ 2 β λ ζ 2 i u v r j u v r t ζ j t i ζ α j 2 define χ 1 β λ ζ 2 i u v r j u v r t ζ j t i ζ α j 2 σ λ ζ 2 σ λ ζ 2 λ ζ 2 2 β λ ζ σ λ ζ t ζ j t i ζ α j λ ζ l 11 σ λ ζ 2 σ λ ζ 2 0 with 0 σ λ ζ 1 2 and l 21 2 β λ ζ t ζ j t i ζ α j σ λ ζ 1 one can obtain eq 54 54 δ v λ ζ 1 q g p ζ 1 2 l 11 λ ζ 2 χ 1 where χ 1 χ 1 l 21 2 2 l 11 in the same way δ v θ can be rewritten as eq 55 55 δ v θ ζ 1 q g p ζ 1 2 l 12 θ ζ 2 χ 2 where χ 2 β θ ζ 2 i u v r t i ζ 2 2 β θ ζ σ θ ζ i u v r t i ζ θ ζ σ θ ζ 2 σ θ ζ 2 θ ζ 2 l 12 σ θ ζ 2 σ θ ζ 2 0 with 0 σ θ ζ 1 2 l 22 2 β θ ζ t i ζ σ θ ζ 1 and χ 2 χ 2 l 22 2 2 l 12 it is easy to note that δ v λ 0 and δ v θ 0 as long as λ ζ 2 2 χ 1 l 11 and θ ζ 2 2 χ 2 l 12 thus λ ζ and θ ζ is ultimately bounded based on the lyapunov theorem 4 2 stability analysis in this part the stability analysis is given by using the lyapunov method theorem 1 under assumption 1 3 initial condition of all the error signals satisfies η e 0 t η e 0 q v 0 t q v 0 v e 0 t v e 0 η ˆ e 0 t η ˆ e 0 v ˆ e 0 t v ˆ e 0 δ with any δ 0 and adaptive model 15 16 virtual control 20 27 actual control law 37 and adaptive law 39 40 are used to describe the impulsive dynamical system 10 11 then all the state variables in the closed loop system 1 2 are sguub by tuning the parameters k η k v k v n t v k η k v β λ ζ β θ ζ σ λ ζ σ θ ζ approximately proof the proof of the stability analysis can be divided into two cases which are the flow period and the triggering instants for the first case t k t t k 1 k 1 2 eq 56 is given 56 v ξ 1 2 η e t η e 1 2 q v t q v 1 2 v e t m v e 1 2 η ˆ e t η ˆ e 1 2 v ˆ e t m v ˆ e 1 2 ζ 1 q g p ζ λ ζ 2 1 2 ζ 1 q g p ζ θ ζ 2 based on the above analysis the time derivative can be presented as eq 57 57 v ξ η e t k η η e k η i r 1 e ψ η e k η i r 1 e ψ e η k η e η r ψ v e r ψ q v 3 b 2 v e t m β v v b v s v v ω v α u p t β g p v p t β g p λ ˆ t β α u p t β g p θ ˆ ζ 1 q g p ζ θ ζ t ζ ζ 1 q g p ζ λ ζ i u v r j u v r t ζ j t i ζ α j η ˆ e t k η η ˆ e r ψ ˆ q v r ψ ˆ v ˆ e v ˆ e t m β v k v e v ˆ e β v r t ψ ˆ η ˆ e where b denote a small positive constant noted that 58 v e t m i β v v e t m i t v 1 q v m i t v 1 f 2 v e 2 1 4 q v 2 59 ω v t ω v a v m v e 2 ω u 1 t ω u 1 ω u 2 t ω u 2 ω r 3 t ω r 3 a v f m v e t v e v e t v e based on the above analysis one can obtain eq 60 60 v e t k v e v ˆ e k v n v ˆ e φ v v ˆ k v n v e φ v v k v e v e t v e k v e v e t e v v e t k v n v ˆ e φ v v ˆ φ v v k v n v e v ˆ e φ v v λ min k v e v e t v e v e λ max k v e λ max k v n sup φ v v ˆ l v v ˆ e e v substituting eqs 23 54 and 55 into eq 42 and applying young s inequality yields eq 61 61 v ξ 1 γ 1 λ min k η 1 δ 2 η e t η e λ min k η 2 η ˆ e t η ˆ e 1 γ 2 λ min k v e b v 2 λ min k v e m i t v 1 f 2 1 2 v e t v e 1 γ 3 λ m i n k v e m i t v 1 f 2 v ˆ e t v ˆ e ζ 1 q inf g p ζ θ ζ t ζ ζ 1 q inf g p ζ λ ζ i u v r j u v r t ζ j t i ζ α j ϱ where ϱ θ v 2 λ min k v n ζ 1 q 0 2785 sup g p ζ ε 3 b 2 is a constant according to eq 61 it is easy to note that v ξ 0 as soon as η e ϱ 1 γ 1 λ min k η 1 δ 2 1 2 d 1 η e or v e 2 ϱ 1 γ 2 λ min k v e b v 2 λ min k v e m i t v 1 f 2 1 2 ζ 1 q inf g p ζ θ ζ t ζ 1 γ 2 2 λ min k v e b v 2 λ min k v e m i t v 1 f 2 1 2 2 1 2 d 1 v e or η ˆ e ϱ λ min k η 2 1 2 d 1 η ˆ e or v ˆ e ϱ 1 γ 3 λ m i n k v e m i t v f 2 1 2 d 1 v ˆ e thus the state variables η e v e q v η ˆ e and v ˆ e is bounded during the flow time based on eq 48 and eq 49 λ ζ and θ ζ is bounded during the flow period according to lemma 1 the state of the impulsive dynamical system ξ maintain bounded during the flow time for the second case t t k k 1 2 the time derivative can be given as eq 62 62 δ v δ v η e δ v η ˆ e δ v q v δ v v e δ v v ˆ e δ v λ δ v θ employing eq 18 one can obtain eq 63 63 δ v η e η e 2 2 η e 2 2 0 δ v v e v e 2 2 v e 2 2 0 δ v η ˆ e η ˆ e 2 2 η ˆ e 2 2 η e 2 2 η ˆ e 2 2 η ˆ e 2 2 d 1 δ v v ˆ e v ˆ e 2 2 v ˆ e 2 2 v e 2 2 v ˆ e 2 2 v ˆ e 2 2 d 2 δ v q v q v 2 2 q v 2 2 α v β v δ α v 2 2 q v 2 2 δ α v 2 q v 2 2 c k q 2 v ˆ e 2 2 in eq 63 d 1 d 1 η e 2 and d 2 d 1 v e 2 is bounded during the flow time t k t t k 1 k 1 2 as for δ α v α v α v r 1 ψ k η η d η r 1 ψ ˆ k η η d η ˆ when the error of between η ˆ and η increases to the point where it violates the triggering condition the η ˆ will be reset to η since δ α v is a bounded constant function of which maximum is c combining eq 54 55 and eq 63 it yields eq 64 64 δ v ξ η ˆ e 2 2 d 1 c k 3 2 v ˆ e 2 2 v ˆ e 2 2 d 2 ζ 1 q l 11 2 g p ζ λ ζ 2 ζ 1 q g p ζ χ 1 ζ 1 q l 12 2 g p ζ θ ζ 2 ζ 1 q g p ζ χ 2 η ˆ e 2 2 1 k 3 2 2 v ˆ e 2 ζ 1 q l 11 2 g p ζ λ ζ 2 ζ 1 q l 12 2 inf g p ζ θ ζ 2 d where d d 1 d 2 c ζ 1 q inf g p ζ χ 1 ζ 1 q inf g p ζ χ 2 based on eq 64 one can observe that δ v ξ 0 as long as η ˆ e 2 d 1 2 or v ˆ e 2 d 1 k q 2 1 2 or λ ζ 4 d l 11 inf g p ζ 1 2 or θ ζ 4 d l 12 inf g p ζ 1 2 therefore the error variables η e v e q v η ˆ e v ˆ e λ ζ and θ ζ is bounded at the triggering instants t t k k 1 2 according to lemma 1 the state of the system ξ maintain bounded at the triggering instants t t k k 1 2 the following analysis similar to krstic et al 1995 all state variables are sguub at the triggering instants t t k k 1 2 the proof is completed 4 3 existence of minimum inter event time in this following a strictly positive minimum inter event time is proved this can avoid that triggering instants is accumulated the event triggered dynamics of the state space form can be described as eq 65 65 e be h t k t t k 1 where b r ψ r 1 ψ ˆ k η 0 0 0 h h η h v with h η r ψ r 1 ψ ˆ k η η e r ψ q v r ψ v e k η η ˆ e r ψ ˆ q v r ψ ˆ v ˆ e and h v m 1 α u p k v n v ˆ e φ v v ˆ d l v d n v τ τ w according to the above analysis one has h η λ max k η 2 2 η e 2 v e 2 η ˆ e 2 2 k q 2 1 v ˆ e 2 5 4 h η h v m 1 λ max k v n sup φ v k q λ min t v v ˆ e λ max k v n sup φ v b 2 v e 2 λ min k v n t β g p θ ˆ ζ 1 q g p ζ θ ζ t ζ ζ 1 q g p ζ λ ζ i u v r j u v r t ζ j t i ζ α j h v then h h η 2 h v 2 1 2 h h is a constant thus eq 65 can be written as eq 66 66 e b e h t k t t k 1 moreover inequality eq 67 is given during the flow time t k t t k 1 k 1 2 67 d d t e d d t e 2 1 2 e e e e e e e as for initial condition e 0 at the triggering instants t t k k 1 2 combining eq 66 and eq 67 will yields eq 68 68 e t k t exp b t ι h d ι h b exp b t t k 1 h b exp b t k 1 t k 1 according to eq 42 one has eq 69 69 k d 1 m h b exp b t k 1 t k 1 where d 1 m is the larger of the two bounds which are the bound of d 1 η e and the bound of d 1 v e then it can be derived as eq 70 70 t k 1 t k δ t k 1 b ln 1 h b k d 1 m 0 hence the minimum inter event time is strictly positive 5 numerical simulations in this section the numerical simulation results will be presented to demonstrate that the scheme of proposed is effective as shown in fig 2 there are three tunnel thrusters two main propellers and one azimuth thruster installed on the supply ship of which length and mass are 76 2m and 4 591 10 6 kg respectively the physical location information of each thruster are l x 1 32 m l x 2 25 m l x 3 25 m l x 4 32 m l y 5 5 m l y 6 5 m noted that the pitch ratio of the six thrusters and the bearing angle of the azimuth thruster is the actual steerable input for the supply vessel the model parameters is given in table 1 as for the environment disturbances one adopt the physical based mathematical model to simulate the disturbances in nautical practice the wind disturbance and wave disturbance are produced based on norsok wind spectrum and the jonswap wave spectrum for the model information refer to sørensen 2013 fossen 2011 for details one choose the sixth level sea state with wind direction ψ wind 125 deg and average wind speed v wind 12 8 m s as is vividly shown in fig 3 the disturbance condition is simulated 5 1 comparative test in this part the comparative text is employed to verify the performance of the proposed control scheme comparing with the result in do 2011 and witkowska 2013 in the simulation the desired attitude is η d 0 m 0 m 140 deg t and the initial state of other variables are as follows η 0 10 m 10 m 156 deg t v 0 0 m s 0 m s 0 deg s t η ˆ 0 10 m 10 m 156 deg t v ˆ 0 0 m s 0 m s 0 deg s t as for the scheme the parameters settings are as follows k η diag 0 03 0 18 105 4 k v diag 0 2 0 2 5 5 k v n diag 0 3 0 72 0 78 k η 0 01 k v 0 02 c λ c θ 1 t v diag 0 01 0 01 0 01 we choose the f n n v of rbf nns which is contains 25 nodes in 29 with centers spaced of u v r are 3 m s 3 m s 3 m s 3 m s 0 5 rad s 0 5 rad s respectively and width ϱ i 4 i 1 2 l as for the related parameters of the compared scheme the reader can refer to witkowska 2013 and do 2011 figs 4 6 show the comparative results in fig 4 the supply ship is finally stabilized around desired position under both control schemes but it is easy to note that the steady performance is better and the trajectory length is shorter under the proposed one thus there are higher positioning accuracy and energy efficiency for the proposed algorithm compared with the control strategy in witkowska 2013 and do 2011 the proposed algorithm can force the supply ship to the desired attitude faster in fig 5 for purpose of quantitative comparison one introduce the following three performance indexes 71 to evaluate both the schemes they are the total absolute error tae the total absolute control input tai and the total absolute variation tav of control input tae indicates the performance of the system response and tai and tav are the indexes which are about the energy consumption and smoothness it can be noted from table 2 that the numerical value of the proposed algorithm are larger for τ u of tav compared with the scheme in witkowska 2013 and do 2011 nevertheless the proposed algorithm is more reasonable as a whole based on the evaluation of the above three indexes 71 tai t 0 t τ t d t tav t 0 t τ t 1 τ t d t furthermore one employ two popular specifications to evaluate the computation load for the proposed algorithm i e the held computer memory mh and sampling number sn then the comparative results are shown in table 3 from the comparison it is obvious to note that the proposed algorithm is with the low value of mh and sn that indicates its superiority of low computation load in addition the smaller value of sn also verifies that the proposed algorithm requires lower occupation of the communication network that is critical and significant for its application in the practical engineering fig 7 show that time interval of two successive sampling instants it is easy to see that the event trigger condition is violated frequently at initial stage and the time interval between the two adjacent event triggered sampling points is increased as the attitude variables gradually stabilize at the desired position it is clearly that the minimum inter event time is 0 02s and the maximum inter event time is 10 2s this is fully proved that the triggering instants not be much closed to each other in finite time i e the zeno behavior is avoided 5 2 numerical simulation with actuator faults in this section an simulation of actuator faults is given to verify the effectiveness of the algorithm one choose two actuators no 2 and no 5 and set two actuator faults at 300s where no 2 actuator is set as ploe with k p 2 0 5 and u p 2 0 no 5 actuator is set to tloe with k p 3 0 and u p 3 0 1 figs 8 11 show the relevant simulation results fig 8 show the evolution of attitude curves with actuator faults the supply ship returns to the desired attitude after a brief adjustment when the actuators encounter unknown failures as is shown in fig 9 the dp operation would continue to be maintained by adjusting the control input when the actuators suffered corresponding faults the curves evolution of the control order and actual input are shown in the larger version since other curves of control order similar to p 6 o they are omitted in this section noted that the bearing angle β 1 of azimuth thruster occur jumping but this phenomenon is normal as we all know the value range of β 1 is 180 deg 180 deg nevertheless its value range is 0 360 deg in practice engineering thus the curve of β 1 is smooth in marine practice it can be seen from figs 10 11 that each curve of adaptive law is similar to the enlarged view the adaptive law are updated at the triggering instants and held during the flow period which greatly reduces the communication burden at the beginning initial value of the adaptive parameters λ ζ and θ ζ are set to random number between zero and one to stimulate the system start working properly this accord with engineering practice 6 conclusions this paper proposes a model based robust neural etc algorithm for the dynamic positioning ship with unknown actuator faults with the backstepping design framework the model uncertainty is addressed by the robust neural damping and dsc techniques the gain uncertainty and the unknown actuator faults are solved by constructing the gain related adaptive law furthermore the communication load from controller to actuator is reduced by using the event triggered algorithm and the positive minimum interevent interval is proved to guarantee that the triggering instants were not accumulated different from the existing algorithms the proposed algorithm is with merits of concise form and easy to be adopted in marine practice numerical simulations are conducted under simulated marine environment to illustrate the excellent performance of the proposed algorithm not limited in the full actuated ship the proposed algorithm can also be applied in similar models e g drilling rig offshore platform and floating production storage and offloading fpso credit authorship contribution statement guoqing zhang methodology software formal analysis writing original draft project administration mingqi yao conceptualization software validation writing review editing junhao xu validation formal analysis writing review editing weidong zhang project administration funding acquisition writing review editing declaration of competing interest the authors declare that they have no known competing financial interests or personal relationships that could have appeared to influence the work reported in this paper acknowledgement the paper is partially supported by the national natural science foundation of china no 51909018 71831002 the natural science foundation of liaoning province no 20170520189 20180520039 the science and technology innovation fundation of dalian city no 2019j12gx026 the program for innovative research team in university of ministry of education of china no irt17r13 and the fundamental research funds for the central universities no 3132020124 3132019501 3132019502 bx201600103 the authors would like to thank anonymous reviewers for their valuable comments 
21848,this paper presents a novel robust neural event triggered control algorithm to achieve the dynamic positioning operation of marine surface ships in the presence of actuator faults in the algorithm the model uncertainty and the explosion of complexity are addressed by fusion of the robust neural damping and dynamic surface control techniques the gain related adaptive law is constructed to compensate the gain uncertainties and the unknown actuator faults which improved the stability of the ship dynamic loop system furthermore the event triggered mechanism is introduced to reduce the communication load between the controller and actuator for merits of the aforementioned design the proposed algorithm is with the advantages of concise form and easy to be implemented in practical ocean engineering based on the lyapunov theory rigorous analysis is proved to guarantee the semi global uniform ultimate boundedness sguub of the closed loop system finally numerical simulations are conducted to demonstrate the validity and feasibility of the proposed algorithm keywords dynamic positioning ships neural network event triggered control actuator faults robust neural damping technique 1 introduction with the increasing focus on the offshore exploitation and exploration more advanced automatic control system is prevailing in field of ocean engineering e g the dynamic positioning dp control of the offshore ship or the drilling rig by using the actuated thrusters the dp control is to generate the reasonable active forces to counteract effects of the external disturbance and the marine vehicle would be maintained in a fixed reference position or the predefined track sørensen 2011 in the engineering practice actuator faults are frequently encountered due to the excess wear or the limited material transportation especially for the dynamic positioning ship with multi actuators that may cause the abnormal operation even lead to the instability of the practical system therefore it desires more attentions to investigate the dp control of marine ships with consideration of actuator faults and that is of theoretical and practical significance in the marine industry around the dp control strategies a large amount of theoretical results have been reported in the existing literatures e g the fuzzy neural network control hu et al 2015 du et al 2015 the sliding mode control tannuri et al 2010 shi et al 2011 and the robust adaptive one hassani et al 2012 in witkowska 2013 a novel vectorial backstepping controller is designed to maintain the desired attitude for the marine surface ship by fusion of the model based observer the observer was constructed to estimate the non measured states by resorting the lyapunov stability theory do 2011 proposed a novel output feedback control scheme to achieve the dynamic positioning operation of surface vessel by incorporating the adaptive observer in the algorithm the ship s parameters can be unknown and the adaptive observer was used to estimate unavailable states and filter out high frequency noise that is significant in engineering practice as for the problem of actuator failures su et al 2017 presented a proportional derivative control law to stabilize effects of the actuator saturation and the corresponding failures it is noted that the information of actuator faults and model parameters are not required in the controller that can contribute to its implementation in the practical engineering in fu et al 2011 the problem of online reconfiguration of fault tolerant control ftc was addressed by fusion of the virtual configuration method in the scheme a suitable linear state space model is derived to predicate the attitude states of dynamic positioning ships that may generates the suitable inputs to implement the control mission after the occurrence of thruster failures actually the dynamic positioning control system is a networked closed loop system with channels from controller to actuators see fig 1 and the aforementioned algorithm may generate the unnecessary periodically information transmission which involves the state measurement and the input order thus the constraint of communication resource is a critical factor that limits the application of the theoretical algorithm in the practical engineering in katayama and aoki 2014 a discrete sampled control algorithm is developed for underactuated ships with both state and output feedback controllers by resorting to the euler approximate models the sampled period is tried to be enlarged to economize the communication channels in addition hu et al 2018 presents an event triggered data transmission mechanism for the nouniformly sampled neural network based control system that is an effective strategy to decrease the communication burden due to its transmission only when the event occurs in xing et al 2017 the authors presents a input related event triggered control etc algorithm to stabilize a class of uncertain nonlinear systems subject to actuator failures and the actuator faults are allowed to be unknown and the corresponding algorithm did not limit the total number of faults to further tackle with the uncertainties of the etc system the neural networks nns or fuzzy logic systems are employed to remodel the unknown model dynamics xu et al 2020 xiang et al 2017 recently a model based adaptive etc is presented by constructing a adaptive estimation model and event triggered condition li and yang 2018 the control law and the states would be updated when the designed events are triggered a problem of the model based etc is that the adaptive parameters are required in the adaptive model i e the aperiodically updated neural network weight furthermore the states would be renewed aperiodically that may generate the jumping of the virtual control law which can decrease the system stability as for the another one the virtual control term is differentiated directly which will cause the order of the system increases that is the explosion of complexity will be generated the dynamic surface control dsc technique is an effective method to deal with the problem by fusion of the first order low pass filter the differentiating term would be substituted to avoid the explosion of complexity li et al 2019 motivated by the aforementioned discussion we concentrate on the event triggered dynamic positioning control of full actuated ships subject to the constraint of actuator faults different from the existing result the physical gear process is considered in the system model which leads to the steerable control inputs i e the thruster pitch that can improve the challenges to the design of the closed loop control system the main contributions includes mainly twofold 1 a novel robust neural control algorithm is proposed to solve the dynamic positioning problem of full actuated ships by resorting to the model based event triggered strategy in the algorithm no adaptive parameters are required in the adaptive model for merits of the robust neural damping technique that can eliminate effectively the jumping of virtual control laws caused by the renewal of state variables 2 the explosion of complexity is removed by incorporating the dsc filters only the limited gain related adaptive parameters are updated online that is corresponding to the number of thrusters and the nonlinear terms are constructed in the control law to stabilize the perturbation generated by the gain uncertainties and the unknown actuator faults that could facilitate its applicability in the engineering practice 2 problem formulation 2 1 dynamic model of marine ship r ψ 1 referring to the newtonian or lagrangian mechanics fossen and strand 2011 one defines the attitude vector η x y ψ t r 3 in the earth fixed coordinate frame and the velocity vector v u v r t r 3 in the body fixed frame including the surge sway and yaw velocities the three degree of freedom 3 dof mathematical model of dp ships can be described as eqs 1 and 2 1 η r ψ v 2 m v d l v d n v τ τ w in eq 1 x y denote the position coordinates ψ is the yaw angle ψ 0 2 π r ψ is the rotation matrix between the body fixed and the earth fixed coordinate frames see eq 3 note r 1 ψ r t ψ and m is the inertia matrix given in eq 4 3 r ψ cos ψ sin ψ 0 sin ψ cos ψ 0 0 0 1 4 m m x u 0 0 0 m y v m x g y r 0 m x g y r i z n r in eq 2 d l d n v are employed to describe the linear and nonlinear hydrodynamic terms respectively and the detailed expressions are given in eq 5 x u x u u y v are all the hydrodynamic force derivatives different from the existing literatures du et al 2013 the coriolis and centripetal force moment and the nonlinear damping terms are all considered in the d l v d n v in the practical engineering the modern dp ship is becoming increasingly larger the quadratic damping terms in the kinetics equation 2 may cause the oscillatory behavior at low speed hence the mathematical model 1 2 could describes a class of dp ship with more general form 5 d l x u 0 0 0 y v y r 0 n v n r d n v x u u u u y v v r y r r r x u u r y v v v v y v r v r x u y v u v y r u r n v v v v n v r v r 6 τ t β κ n u p in eq 6 τ τ u τ v τ r t r 3 implies the control input vector which is produced by the shaft propeller the tunnel thruster and the azimuth thruster τ w τ w u τ w v τ w r t r 3 represents the environmental disturbance induced by wind waves and current in eq 6 t r 3 q denotes the configuration matrix that depends on the physical location of thrusters where q is the number of equivalent thrusters then β is the bearing angle of azimuth thruster κ diag κ 1 n 1 κ 2 n 2 κ q n q r q q is unknown force coefficient matrix of depending on the propeller speed n i i 1 2 q u p p 1 p 1 p 2 p 2 p q p q t p i 1 1 i 1 2 q is the pitch ratio of thrusters which is the actual controllable inputs furthermore the immediate variable u p i p i p i is introduced to facilitate the following derivation in fact the thruster may experience bias fault and loss of effectiveness in practice engineering wang and wen 2010 to facilitate the following derivation the actuator fault model can be expressed as eq 7 7 u p k p v p u p in eq 7 k p diag k p 1 k p 2 k p q r q q 0 k p i 1 i 1 2 q denote the actuation effectiveness matrix u p u p 1 u p 2 u p q t r q is the bias faults vector in addition v p v p 1 v p 2 v p q t r q where v p i p i o p i o i 1 2 q and p i o is the event triggered input to be designed i e the input order of the ith thruster it is obviously to note that model 7 contains four modes of actuator fault as follows 1 k p i 1 and u p i 0 in this case it denotes that the actuator works healthily 2 0 k p i 1 and u p i 0 this implies that the actuator is suffering partial loss of effectiveness ploe 3 k p i 1 and u p i 0 this shows that the actuator is undergoing the bias fault 4 k p i 0 this case corresponds to u p i u p i which is referred to as the total loss of effectiveness tloe remark 1 as a matter of fact the ship s thrusters may encounter gradual or abrupt faults in engineering practice such as the thrust losses and bias fault in correspond to this the fault model in this paper includes four modes namely health actuator bias fault ploe and tloe the model can describe the actual situation of ship s thruster faults in nautical practice in addition d l d n v are not required to be known for the control design from the perspective of engineering practice that is more reasonable assumption 1 zhang et al 2017 the inertial matrix m is both positive define and invertible since the ship s hull is with both port starboard symmetry and fore aft symmetric approximately in nautical practice the condition can be satisfied assumption 2 zhang et al 2018 τ w is bounded external disturbance terms i e there exist the positive constant vector τ w τ w u τ w v τ w r t 0 such that τ w u τ w u τ w v τ w v τ w r τ w r and τ w is unknown vector only for the analysis assumption 3 coupling effect between the thruster and the hull have been considered in mathematical model and κ n has taken account of the effect of thrust losses and interactions in eq 6 2 2 some lemmas and preliminaries now we introduce some vital lemmas which will be employed for subsequent analysis in this paper lemma 1 sahoo et al 2016 consider a impulsive dynamical system described as eq 8 8 ξ f c ξ ξ 0 ξ 0 ξ c u ξ d δ ξ f d ξ ξ d ξ u in eq 8 f c ξ and f d ξ represents the flow dynamics and the jump dynamics respectively c describes the flow set d is the jump set u represents an open set and ξ is the state vector δ ξ ξ t ξ t where ξ t lim ξ ε 0 t ε suppose that the jumps happen at diverse time instants and there exists a continuous and differentiable function v u r and class k functions α and β such that eqs 9 10 and 11 where ς 0 9 α ξ v ξ β ξ ξ u 10 v ξ ξ f c ξ 0 ξ u ξ d ξ ς 11 v ξ f d ξ v ξ 0 ξ u ξ d ξ ς then lim t 0 ξ t α 1 β ς lemma 2 zhang and zhang 2014 for any given continuous function f x with f 0 0 by combining radical basic function rbf nns approximation and the continuous function separation techniques f x can be described as eq 12 12 f x s x ax ε x x ω x the input vector x is defined in a compact set b x i e x b x s x s 1 x s 2 x s l x is a vector of rbf which is chosen as gaussian function 13 ε x is the approximation error with the unknown upper bound ε 13 s i x 1 2 π ϱ i exp x μ i t x μ i 2 ϱ i 2 in eq 13 i 1 2 l μ i μ i 1 μ i 2 μ i m is the center of the receptive field and ϱ i is the width of the gaussian function l is the node number of nns m is the dimension number of the state vector x and a ω 11 ω 12 ω 1 m ω 21 ω 22 ω 2 m ω l 1 ω l 2 ω l m is an weight matrix based on nns approximation theorem yang et al 2004 li et al 2014 f x can approximate to arbitrary accuracy over a compact set b x when the ideal constant weights are defined as eq 14 14 a arg min a r l n sup x b x f x s x ax uniformly in this note denotes the absolute operator of scalar is the euclidean norm of a vector or a matrix and f implies the frobenius norm a f 2 tr a t a i 1 m j 1 n a i j 2 where a a i j r m n is a matrix ˆ is the estimation of and the estimation error ˆ sgn indicates the sign function is the element by element multiplication diag b 1 b 1 b n denotes the main diagonal matrix and b 1 b 1 b n are the diagonal elements inf implies the infimum of the discussed element and sup denotes the supremum of the discussed element 3 design of robust neural event triggered dp control in this section one will propose a systematic design procedure for the robust neural event triggered control of dynamic positioning with actuator faults to solve the uncertainty of system one employ the robust neural damping technique a novel adaptive update law is derived in a event triggered context then the event triggered condition is presented to determine the appropriately event sampled instants 3 1 event based adaptive model in this section an adaptive model and corresponding controller are designed by using the robust neural damping technique the adaptive model has the advantage of estimating the system state vector according to eqs 1 and 2 the adaptive model can be designed as eq 15 and eq 16 15 η ˆ r ψ ˆ v ˆ 16 m v ˆ α u p k vn v ˆ e φ v v ˆ in eqs 15 and 16 η ˆ x ˆ y ˆ ψ ˆ t and v ˆ u ˆ v ˆ r ˆ t is the estimated state vector α u p φ v v ˆ and k v n denote virtual control law the robust neural damping term and the design parameter matrix respectively which would be discussed later in this scheme the controller is updated only at the event trigger instants t k k 0 1 2 and it satisfy t k 1 t k the initial sampling instant is t 0 0 the event trigger error between the system state and the estimated state can be defined as eq 17 where e η e x e y e ψ t and e v e u e v e r t 17 e η η ˆ η e v v ˆ v t k t t k 1 when an event occurs the model state vector η ˆ and v ˆ will be reset to system state vector η and v respectively so one can has eq 18 18 η ˆ η η η v ˆ v v v t t k 3 2 controller design step 1 based on the above event based adaptive model the error vector is defined as η ˆ e η d η ˆ where the constant vector η d r 3 denotes the desired attitude furthermore the derivative of η ˆ e is obtained as eq 19 19 η ˆ e η d r ψ ˆ v ˆ observed from eq 19 the virtual control α v will be constructed as eq 20 20 α v r 1 ψ ˆ k η η ˆ e in eq 20 k η is the design parameter with the form of diagonal matrix in which each element is strictly positive as for the differential term of α v the dsc technique will be employed here to remove its complexity i e eq 21 21 ε v β v β v α v β v 0 α v 0 ε v diag ε u ε v ε r is the time constant matrix and β v is the output vector of this filter with respect to this filter the output error is defined as q v q u q v q r t α v β v and it yields eq 22 22 q v β v α v ε v 1 q v b v η e η e ψ r in eq 22 b v b u b v b r t denotes a vector in which all elements are bounded continuous functions i e b u b u b v b v and b r b r where b u b v b r all are the unknown positive constants furthermore one defines v ˆ e β v v ˆ combining 20 and 21 one can obtain eq 23 23 η ˆ e k η η ˆ e r ψ ˆ q v r ψ ˆ v ˆ e define η e η d η and v e β v v the derivative of η e can be presented as eq 24 24 η e r ψ r 1 ψ ˆ k η η e r ψ r 1 ψ ˆ k η e η r ψ q v r ψ v e based on the above analysis it has to be noted that 25 r 1 ψ ˆ r 1 ψ r 1 e ψ cos ψ sin ψ 0 sin ψ cos ψ 0 0 0 1 1 cos e ψ sin e ψ 0 sin e ψ cos e ψ 0 0 0 1 1 thus eq 24 can be rewritten as eq 26 where i diag 1 1 1 is the identity matrix 26 η e k η η e k η i r 1 e ψ η e k η i r 1 e ψ e η k η e η r ψ v e r ψ q v step 2 define v ˆ e β v v ˆ based on eq 2 the derivative of v ˆ e can be written as eq 27 27 v ˆ e β v m 1 d l v ˆ d n v ˆ t β κ n u p τ w it is obvious to note that d l v ˆ d n v ˆ is the system uncertainty in eq 27 according to lemma 2 the unknown function vector can be approximated as eq 28 by using the rbf nns 28 f n n v ˆ s v v ˆ a v ˆ v ˆ ε v ˆ s v v ˆ a v ˆ β v s v v ˆ a v ˆ v ˆ e ε v ˆ s v v ˆ a v ˆ β v b v ˆ s v v ˆ ω v ˆ ε v ˆ in eq 28 f n n v ˆ f n u v ˆ f n v v ˆ f n r v ˆ t r 3 i e f n n v ˆ contains three rbf nns which are used to approximate the uncertainty of the u ˆ v ˆ r ˆ subsystems respectively s v v ˆ diag s u v ˆ s v v ˆ s r v ˆ r 3 3 l due to the same basis function s v ˆ and input vector v ˆ so one has s u v s v v ˆ s r v ˆ a v ˆ a u ˆ a v ˆ a r ˆ t r 3 and ε v ˆ ε u ˆ ε v ˆ ε r ˆ t r 3 where ε v ˆ is the upper bound vector of ε v ˆ furthermore b v ˆ a v ˆ f a v ˆ m a v ˆ a v ˆ f then one can obtain ω v ˆ a v ˆ m v ˆ e and b v ˆ ω v ˆ a v ˆ v ˆ e and eq 29 can be derived with υ ˆ s v v ˆ a v ˆ β v ε v ˆ τ w where ϑ v ˆ max ε v ˆ τ w a v ˆ f φ v ˆ v ˆ 1 s v v ˆ β v 29 v ˆ e t υ ˆ v ˆ e s v v ˆ a v ˆ β v ε v ˆ τ w ϑ v ˆ v ˆ e φ v ˆ v ˆ besides eq 30 can be achieved based on young s inequality φ v v ˆ 1 4 φ v ˆ 2 s v v ˆ f 2 is the robust neural damping term of which input is the model state vector and k v n is the design parameter matrix which is strictly positive 30 v ˆ e t υ ˆ v ˆ e t b v ˆ s v v ˆ ω v ˆ φ v ˆ 2 v ˆ e t k v n v ˆ e 4 ϑ v ˆ 2 λ m i n k v n s v v ˆ f 2 v ˆ e t k v n v ˆ e 4 b v ˆ 2 ω v ˆ t ω v ˆ λ m i n k v n φ v v ˆ v ˆ e t k v n v ˆ e ϑ v ˆ 2 λ m i n k v n b v ˆ 2 ω v ˆ t ω v ˆ λ m i n k v n the actual control law α u p is chosen as eq 31 31 α u p k v e v ˆ e β v r t ψ ˆ η ˆ e k v n v ˆ e φ v v ˆ as for the thrust term eq 6 α u p α u p α v p α r p t is the immediate control term k v e presents the positive parameters based on the above analysis eq 27 can be rewritten as eq 32 32 v ˆ e β v m 1 k v e v ˆ e β v r t ψ ˆ η ˆ e similar to the above analysis for eq 32 and combining eq 7 the derivative of v e is eq 33 33 v e m 1 m β v υ b v s v v ω v t β κ n k p v p t β κ n u p remark 2 based on the above analysis the term φ v includes the output vector β v of the filter and the basis function vector s v which is chosen as gaussian function zhang and zhang 2014 since β v and s v are differentiable and continuous the locally lipschitz continuity condition can be satisfied by the robust neural damping term φ v such that φ v v ˆ φ v v l v v ˆ v where l v presents a known constant in nautical practice the thruster force coefficient κ and the actuation effectiveness coefficient k p are unknown and will yield the system gain uncertainty define g p κ n k p and ϖ p κ n u p then it can be obtained that λ 1 κ n k p and θ λ sup ϖ p ℓ where ℓ 1 1 1 t thus eq 33 can be rewritten as eq 34 34 v e m 1 m β v υ b v s v v ω v α u p t β g p v p t β g p λ ˆ t β α u p t β g p θ ˆ ζ 1 q g p ζ θ ζ t ζ ζ 1 q g p ζ λ ζ i u v r j u v r t ζ j t i ζ α j one can obtain eq 35 based on xing et al 2016 where ε 0 and x r by virtue of eq 35 the actual control law for p p 1 o p 2 o p q o t could be derived as eq 36 where t presents the pseudo inverse of t t ζ presents the ζth column of the matrix t t a n h θ tanh θ ˆ 1 v e t t 1 ε tanh θ ˆ 2 v e t t 2 ε tanh θ ˆ q v e t t q ε t 35 0 x x tanh x ε 0 2785 ε 36 v p diag λ ˆ 1 λ ˆ 2 λ ˆ q t β α u p diag θ ˆ 1 θ ˆ 2 θ ˆ q t a n h θ 37 p sgn v p v p remark 3 in marine practice the special ship s force coefficient of thruster is a constant and must satisfy 0 κ i κ i n i κ i i 1 2 q where κ i and κ i are all unknown for the stability analysis for purpose of solving thruster allocation problem extending thruster configuration matrix t β is a effective approach where the rotatable thruster should be deemed as two orthogonal forces illustrated by the case of a ship with one azimuth thruster and two main propellers the eq 38 denotes the extending operation 38 τ cos β 1 1 1 sin β 1 0 0 l x 1 sin β 1 l y 2 l y 3 the actual matrix t β κ 1 0 0 0 κ 2 0 0 0 κ 3 u 1 u 2 u 3 1 0 1 1 0 1 0 0 0 l x 1 l y 2 l y 3 extended configuration matrix κ 1 0 0 0 0 κ 1 0 0 0 0 κ 2 0 0 0 0 κ 3 u 1 x u 1 y u 2 u 3 where u 1 x u 1 cos β 1 u 1 y u 1 sin β 1 present the equivalent control inputs according to zhang et al 2017 the actual control input p 1 and β 1 can be presented as eq 39 39 u 1 p 1 p 1 u 1 x 2 u 1 y 2 β 1 arctan u 1 x u 1 y 3 3 design of the event trigger condition inspired by li and yang 2018 a novel event trigger condition will be designed as eq 40 40 e z k z z e z η v q v k q v ˆ e in eq 40 41 k η γ 1 λ m i n k η 1 δ 2 λ m a x k η 1 δ 0 γ 1 1 k v γ 2 λ m i n k v e m i t v 1 f 2 b v 2 λ m i n k v n 1 4 λ m a x k v e λ m a x k v n sup φ v v l v v ˆ e 0 γ 2 1 k q min γ 3 λ m i n k v e m i t v 1 f 2 i u v r t i 1 1 b i 2 2 b 1 0 γ 3 1 and δ i r 1 e ψ 2 2 cos e ψ to facilitate the implementation of the event triggering condition eq 41 is rewritten as eq 42 where k k η 2 k v 2 1 2 42 e k z e remark 4 according to eq 40 the triggering condition can be denoted as e ψ k η ψ e for e ψ the error e ψ violate the triggering condition when ψ ˆ deviates too much from ψ so the model state ψ ˆ will be reset to ψ it is easy to note that e ψ 0 at triggering instants therefore the error e ψ for ψ always is held in near zero i e δ is a small value near zero 3 4 aperiodic adaptive update law in this section the adaptive parameters λ ˆ ζ and θ ˆ ζ are designed to compensate the unknown gain function and the number of adaptive parameters which updated online is consistent with the dimension of the extended configuration matrix under such parameter adaptation mechanism the error signal between the two models would feedback to the adaptive model so that it can approximate the ideal model continuously inspired by li and yang 2018 the adaptive parameters λ ˆ ζ and θ ˆ ζ will be designed as follows 43 λ ˆ ζ 0 t k t t k 1 λ ˆ ζ λ ˆ ζ β λ ζ i u v r j u v r γ λ t ζ j t i ζ α j e i σ λ ζ λ ˆ ζ t t k 44 θ ˆ ζ 0 t k t t k 1 θ ˆ ζ θ ˆ ζ β θ ζ i u v r γ θ t i ζ e i σ θ ζ θ ˆ ζ t t k where ζ 1 2 q β λ ζ and β θ ζ are the design parameters σ λ ζ and σ θ ζ denote positive tuning constant γ j present the feedback signal of model error and are designed as eq 45 45 γ j e i c j e i 2 j λ θ where c j is a strictly positive constant remark 5 in the closed loop system the eq 40 is the event triggered mechanism which is used to determine whether the triggering condition has been violated if so the control signal is updated the control law 20 31 36 and 37 are used to compute the control command the adaptive law 43 and 44 are resorted to compensate the gain uncertainties and the unknown actuator faults different from the traditional adaptive control the control law and the adaptive law are updated at triggering instants which can avoid the unnecessary information transmission therefore this can effectively reduce communication load and the availability of the algorithm can be effectively improved in the engineering practice 4 main results in this section main results are given for the control scheme mentioned above and they contain the proof of bounded adaptive parameter estimation errors design of the event trigger condition the stability analysis and the proof of strictly positive minimum inter event time 4 1 boundedness of the adaptive estimation error during the flow time t k t t k 1 k 1 2 the lyapunov function candidate is chosen as eq 46 and eq 47 46 v λ 1 2 ζ 1 q g p ζ λ ζ 2 47 v θ 1 2 ζ 1 q g p ζ θ ζ 2 according to eq 43 and eq 44 one can obtain eq 48 and eq 49 48 v λ ζ 1 q g p ζ λ ζ λ ζ 0 49 v θ ζ 1 q g p ζ θ ζ θ ζ 0 at the triggering instants t t k k 1 2 the lyapunov function candidate is defined at discrete instants and it can be derived as eq 50 and eq 51 50 δ v λ ζ 1 q g p ζ λ ζ 2 ζ 1 q g p ζ λ ζ 2 51 δ v θ ζ 1 q g p ζ θ ζ 2 ζ 1 q g p ζ θ ζ 2 from eq 43 and eq 50 can be derived as eq 52 52 δ v λ ζ 1 q g p ζ β λ ζ 2 γ λ 2 i u v r j u v r t ζ j t i ζ α j 2 e i 2 σ λ ζ 2 λ ζ λ ζ 2 2 σ λ ζ λ ζ λ ζ 2 σ λ ζ λ ζ 2 2 β λ ζ γ λ t ζ j t i ζ α j e i λ ζ 2 β λ ζ γ λ σ λ ζ t ζ j t i ζ α j e i λ ζ 2 β λ ζ γ λ σ λ ζ t ζ j t i ζ α j e i λ ζ employing the young s inequality and noting 0 γ λ e i 1 one has eq 53 53 δ v λ ζ 1 q g p ζ σ λ ζ 2 σ λ ζ 2 λ ζ 2 2 β λ ζ σ λ ζ t ζ j t i ζ α j λ ζ 2 β λ ζ t ζ j t i ζ α j σ λ ζ 1 λ ζ σ λ ζ 2 σ λ ζ 2 λ ζ 2 β λ ζ 2 i u v r j u v r t ζ j t i ζ α j 2 define χ 1 β λ ζ 2 i u v r j u v r t ζ j t i ζ α j 2 σ λ ζ 2 σ λ ζ 2 λ ζ 2 2 β λ ζ σ λ ζ t ζ j t i ζ α j λ ζ l 11 σ λ ζ 2 σ λ ζ 2 0 with 0 σ λ ζ 1 2 and l 21 2 β λ ζ t ζ j t i ζ α j σ λ ζ 1 one can obtain eq 54 54 δ v λ ζ 1 q g p ζ 1 2 l 11 λ ζ 2 χ 1 where χ 1 χ 1 l 21 2 2 l 11 in the same way δ v θ can be rewritten as eq 55 55 δ v θ ζ 1 q g p ζ 1 2 l 12 θ ζ 2 χ 2 where χ 2 β θ ζ 2 i u v r t i ζ 2 2 β θ ζ σ θ ζ i u v r t i ζ θ ζ σ θ ζ 2 σ θ ζ 2 θ ζ 2 l 12 σ θ ζ 2 σ θ ζ 2 0 with 0 σ θ ζ 1 2 l 22 2 β θ ζ t i ζ σ θ ζ 1 and χ 2 χ 2 l 22 2 2 l 12 it is easy to note that δ v λ 0 and δ v θ 0 as long as λ ζ 2 2 χ 1 l 11 and θ ζ 2 2 χ 2 l 12 thus λ ζ and θ ζ is ultimately bounded based on the lyapunov theorem 4 2 stability analysis in this part the stability analysis is given by using the lyapunov method theorem 1 under assumption 1 3 initial condition of all the error signals satisfies η e 0 t η e 0 q v 0 t q v 0 v e 0 t v e 0 η ˆ e 0 t η ˆ e 0 v ˆ e 0 t v ˆ e 0 δ with any δ 0 and adaptive model 15 16 virtual control 20 27 actual control law 37 and adaptive law 39 40 are used to describe the impulsive dynamical system 10 11 then all the state variables in the closed loop system 1 2 are sguub by tuning the parameters k η k v k v n t v k η k v β λ ζ β θ ζ σ λ ζ σ θ ζ approximately proof the proof of the stability analysis can be divided into two cases which are the flow period and the triggering instants for the first case t k t t k 1 k 1 2 eq 56 is given 56 v ξ 1 2 η e t η e 1 2 q v t q v 1 2 v e t m v e 1 2 η ˆ e t η ˆ e 1 2 v ˆ e t m v ˆ e 1 2 ζ 1 q g p ζ λ ζ 2 1 2 ζ 1 q g p ζ θ ζ 2 based on the above analysis the time derivative can be presented as eq 57 57 v ξ η e t k η η e k η i r 1 e ψ η e k η i r 1 e ψ e η k η e η r ψ v e r ψ q v 3 b 2 v e t m β v v b v s v v ω v α u p t β g p v p t β g p λ ˆ t β α u p t β g p θ ˆ ζ 1 q g p ζ θ ζ t ζ ζ 1 q g p ζ λ ζ i u v r j u v r t ζ j t i ζ α j η ˆ e t k η η ˆ e r ψ ˆ q v r ψ ˆ v ˆ e v ˆ e t m β v k v e v ˆ e β v r t ψ ˆ η ˆ e where b denote a small positive constant noted that 58 v e t m i β v v e t m i t v 1 q v m i t v 1 f 2 v e 2 1 4 q v 2 59 ω v t ω v a v m v e 2 ω u 1 t ω u 1 ω u 2 t ω u 2 ω r 3 t ω r 3 a v f m v e t v e v e t v e based on the above analysis one can obtain eq 60 60 v e t k v e v ˆ e k v n v ˆ e φ v v ˆ k v n v e φ v v k v e v e t v e k v e v e t e v v e t k v n v ˆ e φ v v ˆ φ v v k v n v e v ˆ e φ v v λ min k v e v e t v e v e λ max k v e λ max k v n sup φ v v ˆ l v v ˆ e e v substituting eqs 23 54 and 55 into eq 42 and applying young s inequality yields eq 61 61 v ξ 1 γ 1 λ min k η 1 δ 2 η e t η e λ min k η 2 η ˆ e t η ˆ e 1 γ 2 λ min k v e b v 2 λ min k v e m i t v 1 f 2 1 2 v e t v e 1 γ 3 λ m i n k v e m i t v 1 f 2 v ˆ e t v ˆ e ζ 1 q inf g p ζ θ ζ t ζ ζ 1 q inf g p ζ λ ζ i u v r j u v r t ζ j t i ζ α j ϱ where ϱ θ v 2 λ min k v n ζ 1 q 0 2785 sup g p ζ ε 3 b 2 is a constant according to eq 61 it is easy to note that v ξ 0 as soon as η e ϱ 1 γ 1 λ min k η 1 δ 2 1 2 d 1 η e or v e 2 ϱ 1 γ 2 λ min k v e b v 2 λ min k v e m i t v 1 f 2 1 2 ζ 1 q inf g p ζ θ ζ t ζ 1 γ 2 2 λ min k v e b v 2 λ min k v e m i t v 1 f 2 1 2 2 1 2 d 1 v e or η ˆ e ϱ λ min k η 2 1 2 d 1 η ˆ e or v ˆ e ϱ 1 γ 3 λ m i n k v e m i t v f 2 1 2 d 1 v ˆ e thus the state variables η e v e q v η ˆ e and v ˆ e is bounded during the flow time based on eq 48 and eq 49 λ ζ and θ ζ is bounded during the flow period according to lemma 1 the state of the impulsive dynamical system ξ maintain bounded during the flow time for the second case t t k k 1 2 the time derivative can be given as eq 62 62 δ v δ v η e δ v η ˆ e δ v q v δ v v e δ v v ˆ e δ v λ δ v θ employing eq 18 one can obtain eq 63 63 δ v η e η e 2 2 η e 2 2 0 δ v v e v e 2 2 v e 2 2 0 δ v η ˆ e η ˆ e 2 2 η ˆ e 2 2 η e 2 2 η ˆ e 2 2 η ˆ e 2 2 d 1 δ v v ˆ e v ˆ e 2 2 v ˆ e 2 2 v e 2 2 v ˆ e 2 2 v ˆ e 2 2 d 2 δ v q v q v 2 2 q v 2 2 α v β v δ α v 2 2 q v 2 2 δ α v 2 q v 2 2 c k q 2 v ˆ e 2 2 in eq 63 d 1 d 1 η e 2 and d 2 d 1 v e 2 is bounded during the flow time t k t t k 1 k 1 2 as for δ α v α v α v r 1 ψ k η η d η r 1 ψ ˆ k η η d η ˆ when the error of between η ˆ and η increases to the point where it violates the triggering condition the η ˆ will be reset to η since δ α v is a bounded constant function of which maximum is c combining eq 54 55 and eq 63 it yields eq 64 64 δ v ξ η ˆ e 2 2 d 1 c k 3 2 v ˆ e 2 2 v ˆ e 2 2 d 2 ζ 1 q l 11 2 g p ζ λ ζ 2 ζ 1 q g p ζ χ 1 ζ 1 q l 12 2 g p ζ θ ζ 2 ζ 1 q g p ζ χ 2 η ˆ e 2 2 1 k 3 2 2 v ˆ e 2 ζ 1 q l 11 2 g p ζ λ ζ 2 ζ 1 q l 12 2 inf g p ζ θ ζ 2 d where d d 1 d 2 c ζ 1 q inf g p ζ χ 1 ζ 1 q inf g p ζ χ 2 based on eq 64 one can observe that δ v ξ 0 as long as η ˆ e 2 d 1 2 or v ˆ e 2 d 1 k q 2 1 2 or λ ζ 4 d l 11 inf g p ζ 1 2 or θ ζ 4 d l 12 inf g p ζ 1 2 therefore the error variables η e v e q v η ˆ e v ˆ e λ ζ and θ ζ is bounded at the triggering instants t t k k 1 2 according to lemma 1 the state of the system ξ maintain bounded at the triggering instants t t k k 1 2 the following analysis similar to krstic et al 1995 all state variables are sguub at the triggering instants t t k k 1 2 the proof is completed 4 3 existence of minimum inter event time in this following a strictly positive minimum inter event time is proved this can avoid that triggering instants is accumulated the event triggered dynamics of the state space form can be described as eq 65 65 e be h t k t t k 1 where b r ψ r 1 ψ ˆ k η 0 0 0 h h η h v with h η r ψ r 1 ψ ˆ k η η e r ψ q v r ψ v e k η η ˆ e r ψ ˆ q v r ψ ˆ v ˆ e and h v m 1 α u p k v n v ˆ e φ v v ˆ d l v d n v τ τ w according to the above analysis one has h η λ max k η 2 2 η e 2 v e 2 η ˆ e 2 2 k q 2 1 v ˆ e 2 5 4 h η h v m 1 λ max k v n sup φ v k q λ min t v v ˆ e λ max k v n sup φ v b 2 v e 2 λ min k v n t β g p θ ˆ ζ 1 q g p ζ θ ζ t ζ ζ 1 q g p ζ λ ζ i u v r j u v r t ζ j t i ζ α j h v then h h η 2 h v 2 1 2 h h is a constant thus eq 65 can be written as eq 66 66 e b e h t k t t k 1 moreover inequality eq 67 is given during the flow time t k t t k 1 k 1 2 67 d d t e d d t e 2 1 2 e e e e e e e as for initial condition e 0 at the triggering instants t t k k 1 2 combining eq 66 and eq 67 will yields eq 68 68 e t k t exp b t ι h d ι h b exp b t t k 1 h b exp b t k 1 t k 1 according to eq 42 one has eq 69 69 k d 1 m h b exp b t k 1 t k 1 where d 1 m is the larger of the two bounds which are the bound of d 1 η e and the bound of d 1 v e then it can be derived as eq 70 70 t k 1 t k δ t k 1 b ln 1 h b k d 1 m 0 hence the minimum inter event time is strictly positive 5 numerical simulations in this section the numerical simulation results will be presented to demonstrate that the scheme of proposed is effective as shown in fig 2 there are three tunnel thrusters two main propellers and one azimuth thruster installed on the supply ship of which length and mass are 76 2m and 4 591 10 6 kg respectively the physical location information of each thruster are l x 1 32 m l x 2 25 m l x 3 25 m l x 4 32 m l y 5 5 m l y 6 5 m noted that the pitch ratio of the six thrusters and the bearing angle of the azimuth thruster is the actual steerable input for the supply vessel the model parameters is given in table 1 as for the environment disturbances one adopt the physical based mathematical model to simulate the disturbances in nautical practice the wind disturbance and wave disturbance are produced based on norsok wind spectrum and the jonswap wave spectrum for the model information refer to sørensen 2013 fossen 2011 for details one choose the sixth level sea state with wind direction ψ wind 125 deg and average wind speed v wind 12 8 m s as is vividly shown in fig 3 the disturbance condition is simulated 5 1 comparative test in this part the comparative text is employed to verify the performance of the proposed control scheme comparing with the result in do 2011 and witkowska 2013 in the simulation the desired attitude is η d 0 m 0 m 140 deg t and the initial state of other variables are as follows η 0 10 m 10 m 156 deg t v 0 0 m s 0 m s 0 deg s t η ˆ 0 10 m 10 m 156 deg t v ˆ 0 0 m s 0 m s 0 deg s t as for the scheme the parameters settings are as follows k η diag 0 03 0 18 105 4 k v diag 0 2 0 2 5 5 k v n diag 0 3 0 72 0 78 k η 0 01 k v 0 02 c λ c θ 1 t v diag 0 01 0 01 0 01 we choose the f n n v of rbf nns which is contains 25 nodes in 29 with centers spaced of u v r are 3 m s 3 m s 3 m s 3 m s 0 5 rad s 0 5 rad s respectively and width ϱ i 4 i 1 2 l as for the related parameters of the compared scheme the reader can refer to witkowska 2013 and do 2011 figs 4 6 show the comparative results in fig 4 the supply ship is finally stabilized around desired position under both control schemes but it is easy to note that the steady performance is better and the trajectory length is shorter under the proposed one thus there are higher positioning accuracy and energy efficiency for the proposed algorithm compared with the control strategy in witkowska 2013 and do 2011 the proposed algorithm can force the supply ship to the desired attitude faster in fig 5 for purpose of quantitative comparison one introduce the following three performance indexes 71 to evaluate both the schemes they are the total absolute error tae the total absolute control input tai and the total absolute variation tav of control input tae indicates the performance of the system response and tai and tav are the indexes which are about the energy consumption and smoothness it can be noted from table 2 that the numerical value of the proposed algorithm are larger for τ u of tav compared with the scheme in witkowska 2013 and do 2011 nevertheless the proposed algorithm is more reasonable as a whole based on the evaluation of the above three indexes 71 tai t 0 t τ t d t tav t 0 t τ t 1 τ t d t furthermore one employ two popular specifications to evaluate the computation load for the proposed algorithm i e the held computer memory mh and sampling number sn then the comparative results are shown in table 3 from the comparison it is obvious to note that the proposed algorithm is with the low value of mh and sn that indicates its superiority of low computation load in addition the smaller value of sn also verifies that the proposed algorithm requires lower occupation of the communication network that is critical and significant for its application in the practical engineering fig 7 show that time interval of two successive sampling instants it is easy to see that the event trigger condition is violated frequently at initial stage and the time interval between the two adjacent event triggered sampling points is increased as the attitude variables gradually stabilize at the desired position it is clearly that the minimum inter event time is 0 02s and the maximum inter event time is 10 2s this is fully proved that the triggering instants not be much closed to each other in finite time i e the zeno behavior is avoided 5 2 numerical simulation with actuator faults in this section an simulation of actuator faults is given to verify the effectiveness of the algorithm one choose two actuators no 2 and no 5 and set two actuator faults at 300s where no 2 actuator is set as ploe with k p 2 0 5 and u p 2 0 no 5 actuator is set to tloe with k p 3 0 and u p 3 0 1 figs 8 11 show the relevant simulation results fig 8 show the evolution of attitude curves with actuator faults the supply ship returns to the desired attitude after a brief adjustment when the actuators encounter unknown failures as is shown in fig 9 the dp operation would continue to be maintained by adjusting the control input when the actuators suffered corresponding faults the curves evolution of the control order and actual input are shown in the larger version since other curves of control order similar to p 6 o they are omitted in this section noted that the bearing angle β 1 of azimuth thruster occur jumping but this phenomenon is normal as we all know the value range of β 1 is 180 deg 180 deg nevertheless its value range is 0 360 deg in practice engineering thus the curve of β 1 is smooth in marine practice it can be seen from figs 10 11 that each curve of adaptive law is similar to the enlarged view the adaptive law are updated at the triggering instants and held during the flow period which greatly reduces the communication burden at the beginning initial value of the adaptive parameters λ ζ and θ ζ are set to random number between zero and one to stimulate the system start working properly this accord with engineering practice 6 conclusions this paper proposes a model based robust neural etc algorithm for the dynamic positioning ship with unknown actuator faults with the backstepping design framework the model uncertainty is addressed by the robust neural damping and dsc techniques the gain uncertainty and the unknown actuator faults are solved by constructing the gain related adaptive law furthermore the communication load from controller to actuator is reduced by using the event triggered algorithm and the positive minimum interevent interval is proved to guarantee that the triggering instants were not accumulated different from the existing algorithms the proposed algorithm is with merits of concise form and easy to be adopted in marine practice numerical simulations are conducted under simulated marine environment to illustrate the excellent performance of the proposed algorithm not limited in the full actuated ship the proposed algorithm can also be applied in similar models e g drilling rig offshore platform and floating production storage and offloading fpso credit authorship contribution statement guoqing zhang methodology software formal analysis writing original draft project administration mingqi yao conceptualization software validation writing review editing junhao xu validation formal analysis writing review editing weidong zhang project administration funding acquisition writing review editing declaration of competing interest the authors declare that they have no known competing financial interests or personal relationships that could have appeared to influence the work reported in this paper acknowledgement the paper is partially supported by the national natural science foundation of china no 51909018 71831002 the natural science foundation of liaoning province no 20170520189 20180520039 the science and technology innovation fundation of dalian city no 2019j12gx026 the program for innovative research team in university of ministry of education of china no irt17r13 and the fundamental research funds for the central universities no 3132020124 3132019501 3132019502 bx201600103 the authors would like to thank anonymous reviewers for their valuable comments 
21849,the seawater s hydrostatic energy is an alternative power source for seafloor operation apparatus such as the sediment sampler cone penetration test rig and long term platform for underwater sensors a seawater hydrostatic energy conversion rig which is proposed to harness the seawater hydrostatic energy to drive the seafloor sediment sampler and seabed cone penetration test rig was built and tested in lab the test system of the energy conversion rig in lab can properly simulate the seawater hydrostatic energy and the fluctuating sediment resistance under the great influence of the fluctuating resistance the rig can hold stable speed and attain high energy efficiency at different depth of water the speed error is very small during the test and is within 10 of the stable speed the feature makes the conversion rig qualified to drive the seabed cone penetration test rig and high quality sediment sampler the hydrostatic energy conversion efficiency of the conversion rig in different cases are all higher than 80 which enables the sediment sampler to obtain longer sediment sample and make cone penetration test rig obtain deeper sediment s geotechnical data the experiment results demonstrate the feasibility of the seawater hydrostatic energy conversion rig and show its excellent performance keywords seawater hydrostatic energy energy conversion equipment energy efficiency speed control 1 introduction the utilization of the renewable energy in the ocean exploration is increasingly emerging such as the ocean thermal energy for of hydrothermal vent detection xie et al 2016 and underwater glider kong et al 2010 and the wave energy for ocean glider daniel et al 2011 and artificial upwelling fan et al 2016 because the energy can remarkably improve the performance of the system the seawater s hydrostatic energy is an alternative renewable power source for seafloor operation apparatus the hydrostatic energy of seawater comes from its massive pressure and it can be mobilized by mounting empty chambers to the apparatus when the apparatus dives into the seawater the pressure difference between the pressurized seawater and the low pressure air in the empty chamber can drive the apparatus until the empty chamber is full of seawater the available amount of seawater hydrostatic energy is equal to the seawater pressure multiplied by the volume of empty chamber the deeper water and larger chamber mean larger amount of available hydrostatic energy for instance the available amount of hydrostatic energy for the apparatus with empty chamber of 200 l at the depth of 1000m is 0 56 kwh compared to the 3 33 kwh at the depth of 6000 m thus the seawater hydrostatic energy is very suitable for the heavy apparatus which can carry large pressure chambers and work in deep water the storage of the seawater hydrostatic energy only needs empty pressure chambers and thus is more safe and robust and is very low sensitive to the seawater leakage compared to the underwater battery the underwater system which uses the batteries as power source needs the electric conversion chain and associated safety devices such as power reverser over current and over temperature protection devices internal air flow control and power management electronics and so on these devices increase the risk and the cost of the system by comparison these devices are not needed in the system which is powered by the seawater hydrostatic energy besides recharging the underwater batteries especially the large batteries for underwater application with heavy load such as the seabed cone penetration test and sediment sampling generally costs several hours and even more than 10 h which is very challenging and time consuming by comparison recharging of the seawater hydrostatic energy is automatically completed when the system is lifted to the water surface with respect to the energy density the energy density of the hydrostatic energy is lower than the underwater batteries but the total hydrostatic energy can be increased by simply increasing the number or volume of the empty pressure chambers for the applications such as the seafloor sediment sampling and the cone penetration test the increase of the empty pressure chambers is convenient and does not penalize the system because the system in such applications must be heavy enough to react against the huge sediment resistance compared with the umbilical electrical cable or hydraulic hose because no energy transmission from the water surface is needed for the hydrostatic energy there is no transmission loss hence the requirement for capability of support vessel is greatly decreased the features in terms of energy storage and transmission make the utilization of seawater hydrostatic energy cost effective moreover the seawater hydrostatic energy is widespread underwater and environment friendly because of these advantages the underwater apparatus powered by the seawater hydrostatic energy have been reported since 1960s most of these apparatus are seafloor heavy equipment such as seafloor sediment samplers rosfelder and marshall 1967 kristoffersen et al 2006 and seabed rock driller brooke and gilbert 1968 and electrical generator wang et al 2008 2014 and seabed cone penetration test rig wang et al 2018 lunne 2012 for seafloor sediment samplers the seawater hydrostatic energy is mainly used in two ways kristoffersen kristoffersen et al 2006 and wang wang et al 2013 proposed a type of sediment sampler which hammers its long sample tube into the seabed like a pile driver the type of hydrostatic sediment sampler is good at handling very stiff sediment and even the soft seabed rock but the quality of the sediment sample is degraded because of the repeated hammering its hydrostatic energy conversion efficiency varies from 10 to 60 and decreases greatly with the seawater pressure the advantage of handling the stiff sediment conceal its low energy efficiency another type of hydrostatic sediment sampler uses the massive pressure of seawater to push the sample tube into the seabed the pushing speed of the sample tube is controllable for some samplers liu 2009 smits 1990 and uncontrollable for the others rosfelder and marshall 1967 aardal 2062 the sediment samplers that can control and stabilize the speed of its sample tube can obtain sediment sample of much better quality lunne and long 2006 skinner and mccave 2003 the speed of the sample tube is stabilized by a flow regulate valve but the valve will greatly reduce the hydrostatic energy conversion efficiency of the sampler tang and wang 2019 therefore there is no subsequent report about application and experiment of the type of hydrostatic sampler wang wang et al 2008 built and tested an underwater electrical generator for the purpose of supplying the electrical power to long term platform for underwater sensors the generator is powered by the seawater hydrostatic energy and it can achieve the maximum efficiency of 63 8 in sea trial when the load is constant and optimum for the system and certain water depth but the generator haven t been reported to be capable of handling the changeable load the seawater hydrostatic energy is also very suitable for powering the seabed cone penetration test rig cpt rig the seabed cone penetration test has become one of the most widely used and accepted test methods for determining geotechnical properties of marine sediments lunne 2012 the cpt rig pushes a thin rod with geotechnical sensors on tip into the seabed in a stable speed the stable pushing speed is very important for the sensors of cpt rig to get accurate geotechnical data the seabed cpt rig is usually powered by the umbilical electrical cable or underwater batteries the designs that the seawater hydrostatic energy is used to power the seabed cpt rig have been proposed the hydrostatic cpt rig contains an energy conversion rig which is powered by the hydrostatic energy of seawater to drive the rod the conversion rig is either the combination lunne 2012 of a hydraulic cylinder and a flow control valve or a variable displacement hydraulic motor wang et al 2018 the combination of the hydraulic cylinder and flow control valve have the same disadvantage of low energy efficiency with the sediment sampler mentioned above thus there have been no practical applications of this type of cpt rig the cpt rig which uses the variable displacement hydraulic motor to harness the seawater hydrostatic energy has been proposed and theoretically proven to be capable of remaining high energy efficiency and stable speed when handling changeable sediment resistance tang and wang 2019 however till now none of the seabed cpt rig powered by seawater hydrostatic energy is built and tested and thus there is no data on its actual performance in practice except the underwater heavy apparatus there is report about the design and lab experiment study of light and small underwater device that uses the seawater hydrostatic energy as power source shafer shafer et al 2015 proposed a marine life tag which can harvest the hydrostatic pressure cycle energy as energy source when the marine animal dives and surfaces repeatedly the new energy source was theoretically analyzed and expected to greatly extend the deployment time of the tag which is carried by the diving animal and used to collect the data of the animal behavior and its surrounding environment but in the lab experiment the maximum efficiency of the energy conversion apparatus for the marine life tag was measured to be only 2 17 which hinders the practical application of the energy in marine life tag the trend of the utilization of the seawater hydrostatic energy is to be capable of handling the changeable payload and meantime remaining high energy efficiency the feature can greatly expand the application scope of the hydrostatic energy and enhance its practical application value but till now there is no experimental data about the energy conversion efficiency and work performance of the type of hydrostatic energy conversion rig with such feature although the data is very important for its practical application the paper build an experimental hydrostatic energy conversion rig and its test system the performance data of the energy conversion rig at different operation conditions is attained which fills the gap between the theory and the experimental application the experiment results demonstrate that the hydrostatic energy conversion rig can be used to handle changeable payload and meantime remain high energy efficiency and very stable speed the work performance of the sediment sampler and seabed cpt rig is analyzed and attained based on the experimental data of the conversion rig when the hydrostatic energy conversion rig is used to drive them for the sediment sampler and seabed cpt rig both the energy conversion efficiency and stable speed are very important the high efficiency enables the sediment sampler to obtain longer sediment sample and makes seabed cpt rig collect geotechnical data of deeper sediments the stable speed is the guarantee of high quality sediment sample and accurate geotechnical data of sediments especially for seabed cpt rig the fluctuation magnitude of the rod s speed can t exceed 10 of the required stable speed in order to attain the energy performance and speed control effect a seawater hydrostatic energy conversion rig mainly for the purpose of driving seafloor sediment sampler and seabed cpt rig was built and tested in lab the conversion rig is firstly described then the test system of the conversion rig is presented at last the experiment results are analyzed and discussed 2 overview of the seawater hydrostatic energy conversion rig till now the system which uses seawater hydrostatic energy as power source uses either the seawater and corresponding seawater hydraulic components or the hydraulic oil and corresponding oil hydraulic components the seawater hydraulic components cost much higher than the oil hydraulic components but the system that uses the oil hydraulic components needs additional rubber containers which are full of oil and of the same volume of the low pressure chambers to transfer the high pressure of the seawater to the oil in the rubber container the oil is pressurized and then used as the power fluid in the system both above methods have been demonstrated in the sea trial brooke and gilbert 1968 wang et al 2008 2017 the seawater hydrostatic conversion rig in the experiment employs the hydraulic oil as power fluid and uses the oil hydraulic components considering the high cost of seawater hydraulic components as shown in fig 1 a the seawater hydrostatic energy conversion rig is mainly composed of empty low pressure chambers and rubber containers and a reversal valve and a variable displacement hydraulic motor and some sensors and mechanical parts the high pressure seawater compresses the oil in the rubber container making the oil pressure equal to the seawater pressure all the time the pressurized oil flows through the reversal valve and then into the hydraulic motor and finally into the empty chambers the driving torque of the hydraulic motor comes from the pressure difference between the high pressure seawater and the air pressure in chambers the output torque of the hydraulic motor is used to drive the sediment sample tube or the cpt rig s rod through the mechanical connection the magnitude of the driving torque of the hydraulic motor is determined by the seawater s pressure and the motor s displacement fig 1 b shows a feasible design of the sediment sampler or cpt rig that is driven by the conversion rig in the design the low pressure empty chambers are evacuated before the deployment and the number of the chambers can be changed according to the mission when the mission needs more energy to make the sampler or cpt rig get deeper sediments sample or data the number of chambers should increase 3 test system of the hydrostatic energy conversion rig the test system of the seawater hydrostatic energy conversion rig is built as shown in fig 2 the test system uses an axial piston pump pump a and a manual relief valve to provide the constant pressure oil to simulate the seawater hydrostatic pressure the pressure of oil can be adjusted by the manual relief valve the pressurized oil from the pump a flows into a variable displacement hydraulic motor and drives it to work after the variable displacement hydraulic motor the oil flows through a proportional relief valve a and then into a tank the proportional relief valve a is used to control the outlet pressure of the variable displacement hydraulic motor to simulate the air pressure in low pressure chambers the air inside the chambers is compressed when the seawater flows into chambers it is assumed that the air in the chambers goes through an isothermal compression because the chambers are usually made of steel and can sufficiently exchange the heat with the surrounding cold seawater chen et al 2007 therefore the air pressure in the low pressure chambers is calculated as follows 1 p a p 0 v 0 v 0 v 1 where p a is the air pressure in the chambers v 0 is the initial volume of chambers v 1 is the accumulative volume of seawater that has flowed into the chambers and p 0 is the initial air pressure in the chambers the shaft of the variable displacement hydraulic motor is connected with the shaft of axial piston hydraulic pump b through a mechanical coupler the rotation of the variable hydraulic motor drives pump b to output high pressure oil the pressure of the high pressure oil is determined by proportional relief valve b the axial piston hydraulic pump b is of constant displacement pump b and proportional relief valve b are combined to simulate the changeable sediment resistance that the sediment sampler or cpt rig encounter during the penetration into the sediment the sediment resistance acts on the shaft of the variable hydraulic motor through the friction wheels and the decelerator and generate the resistance torque to the motor similarly pump b can generate the same resistance torque to the motor the resistance torque generated by the pump b is determined by the displacement of the hydraulic pump b and the inlet pressure of proportional relief valve b which also equals to the outlet pressure of hydraulic pump b to keep the speed of the variable displacement hydraulic motor stable a speed feedback closed loop control method combined with pid control algorithm is used see fig 3 the rotation speed of the variable hydraulic motor is measured by a speed sensor and then the speed signal is transmitted to the controller the controller receives the speed signal and calculates the speed error between the measured speed and set speed according to the speed error the controller calculates and outputs corresponding current to the variable displacement hydraulic motor the variable hydraulic motor receives the current signal and then changes its displacement to balance the resistance torque generated by pump b when the driving torque and resistance torque on the shaft of variable hydraulic motor are balanced the speed of the motor remains stable the pid control algorithm which runs in the controller is as follows 2 i s e s k p 1 1 t i s k d s where k p t i and k d are the proportional gain integral time and derivative gain i is the output current signal of the controller and e is the speed error between the set speed and measured speed of the variable hydraulic motor the control block diagram of the test system is shown as follows when the seawater hydrostatic energy conversion rig in the experiment is used to drive the seafloor sediment sampler or the seabed cpt rig rod the total sediment resistance on the tube or the rod is expressed as follows wang et al 2017 lee et al 1988 3 f r α s u a s n c s u a f 1 j w n s u c k l where f r α su a s n c a f are the total sediment resistance the friction coefficient between the sample tube and the sediment undrained shear strength of sediments the contact area of the tube with the sediment which increases linearly with the penetration depth the bearing capacity factor of the sediment the sectional area of the tube tip w c k l are the velocity of the tube or the rod the undrained shear strength of the sediment at the surface of seabed the gradient of the sediment s shear strength with the depth the length of the sediment sample j is the plastic damping coefficient which is correlated with the undrained shear strength for the cohesive sediment the exponent n reflects the nonlinearity of the damping force with the velocity and is experimentally determined if the experimental data is lacking a value of 0 2 can be used j and n represent the viscous effect of the sediment resistance when the sediment resistance torque on the shaft of variable hydraulic motor equals to the maximum driving torque of hydrostatic energy conversion rig the conversion rig stops the maximum length of available sediment sample is calculated as follows 4 t r f r r i 5 t d m p s p a d max η m 2 π 6 t r t d m l l 0 v 1 v max where t r r i are the sediment resistance torque radius of friction wheels and the reduction ratio of the decelerator t dm p s l 0 η m are the maximum driving torque of hydrostatic energy conversion rig the seawater pressure the length of the sample tube and the mechanical efficiency of the variable hydraulic motor respectively 4 test results and discussion the tests were conducted to obtain the speed stability and energy conversion efficiency of the conversion rig under the fluctuation of sediment resistance at different depths of water both the speed stability and the energy efficiency are very important for the conversion rig because the two indices determine the rig s feasibility to get the performance of the conversion rig at different depths of water the levels of pressure in the experiment are set to 4 mpa 5 mpa 6 mpa respectively in each test which is corresponding to a pressure level the speed of the conversion rig is recorded and used to judge the speed stability and the pressure and flow rate are recorded to calculate the conversion efficiency of the rig in the tests the load on the conversion rig simulate the actual sediment resistance in the actual condition igoe et al 2013 the total sediment resistance on the tube or rod increases almost linearly with the penetration depth and then decreases when the tube or rod enters the soft sediment layer although the sediment resistance at different layers of sediment varies significantly the type of variation trend of the total sediment resistance during the penetration of pile or tube or rod is very common in the actual conditions thus the simulated sediment resistance in the tests adopts the same variation trend besides the property of sediment at different sites varies significantly hence although the variation trend of total sediment resistance is similar the gradient of the variation is different the variation gradient of the total sediment resistance have a great influence on the speed stability of the conversion rig the high gradient impairs the speed stability and even causes the instability of the speed hence it is necessary to test the conversion rig with the high variation gradient of total sediment resistance if the speed of the conversion rig is stable under very high gradient the speed stability of the rig can be guaranteed in the vast majority of cases therefore the variation gradient of the total sediment resistance in the tests are greatly magnified the parameters and values of the test system are in table 1 the set speed of the variable hydraulic motor is 600 rev min which is the control goal of the controller because of the different simulated seawater pressure and sediment resistance the gains of pid controller need to be carefully tuned to stabilize the speed of the motor in different cases in the first test the inlet pressure of the variable hydraulic motor was maintained at 6 mpa during the test the measured pressure curve is in fig 4 as shown in fig 4 the inlet pressure of the variable hydraulic motor is very stable and is very similar to the constant seawater pressure in fig 5 the outlet pressure of hydraulic pump b firstly increases from 1 8 mpa to 5 4 mpa in 24 s and then remains steady before decreasing from 5 4 mpa to 1 8 mpa the simulated sediment resistance is proportional to the outlet pressure of hydraulic pump b because the minimum displacement of the variable hydraulic motor is not zero but 15 8 cc rev the minimum outlet pressure of pump b has to exceed the minimum driving capability of the variable hydraulic motor in order to make the stable speed of the motor possible in the test the resistance torque to the variable hydraulic motor first increases linearly and gets close to the ultimate driving capability of the motor in 24 s the rising rate of the resistance torque is much higher compared to the actual sediment sampling or seabed cpt for instance the rod of cpt rig is pushed into the seabed sediment as deep as tens of meters by the speed of 0 025 m s which indicates that it takes more than 10 min for the sediment resistance to reach the cpt rig s maximum drive capability lunne 2012 as shown in fig 6 the outlet pressure of the variable hydraulic motor increases linearly with the time the pressure is used to simulate the air pressure in the low pressure chambers the comparison between the outlet pressure of the variable hydraulic motor and the air pressure in chamber is in fig 6 the air pressure in the chambers is calculated according to eq 1 the air pressure mainly influences the speed stability of the conversion rig when the pressure is very low compared to the high input pressure of the variable displacement hydraulic motor which are 4 mpa 5 mpa 6 mpa the influence is negligible hence only the high pressure part of the air pressure curve in fig 6 is simulated the high pressure part of the curve represents the last stage in which the chambers is nearly full of seawater as shown in fig 7 the speed of the variable hydraulic motor remains stable when the resistance torque varies significantly the overshoot of the speed at the initial moment is only 3 5 the speed error is very small during the whole test and is within 10 of the required stable speed the feature makes the conversion rig meet the requirement of the seabed cpt rig in fig 8 the flowrate of variable hydraulic motor changes in the way similar to the outlet pressure of hydraulic pump b because the speed of the variable hydraulic motor is stable the flowrate changes with its displacement the curve in fig 8 indicates that the variable hydraulic motor changes its displacement to balance the variable resistance torque to stabilize the speed in the second test the inlet pressure of the variable hydraulic motor is maintained at 4 mpa the measured curves in the second case are shown in fig 9 as shown in fig 9 a the inlet pressure of the variable hydraulic motor is very stable during the test as shown in fig 9 b and c the variation of both the outlet pressure of hydraulic pump b and the outlet pressure of variable hydraulic motor are very similar to the ones in the first test under the influence of the variable outlet pressure of hydraulic pump b and variable outlet pressure of variable hydraulic motor the speed of the variable hydraulic motor can still remain stable as shown in fig 9 d the overshoot of the speed at the initial moment is only 7 5 the speed error is very small during the whole test and is within 10 of the stable speed in the third test the inlet pressure of the variable hydraulic motor is maintained at 5 mpa the measured curves in the third case are shown in fig 10 as shown in fig 10 a the inlet pressure of the variable hydraulic motor is very stable during the test as shown in fig 10 b the variation of the outlet pressure of hydraulic pump b during the test is different from the first and second test in the third test the outlet pressure of hydraulic pump b firstly increases from 1 8 mpa to 4 2 mpa in 47 s and then remains steady the rising gradient of the outlet pressure is about half of the one in the first and second test in fig 10 c the variation of the outlet pressure of variable hydraulic motor is very similar to the first and second test under the influence of the variable outlet pressure of hydraulic pump b and variable outlet pressure of variable hydraulic motor the speed of the variable hydraulic motor remains stable as shown in fig 10 d the overshoot of the speed at the initial moment is only 5 8 the speed error is very small during the whole test and is within 10 of the stable speed at around 47 s the total resistance torque generated by hydraulic pump b exceeds the drive capability of the variable hydraulic motor and then the motor stops through the comparison of the speed overshoot of the variable hydraulic motor in three tests it can be concluded that the overshoot of speed can be reduced by increasing the proportional gain of pid controller of the test system when the simulated seawater pressure increases the proportional gains of pid controller are shown in table 1 the conversion efficiency of the whole system comprises the efficiency of the variable hydraulic motor and the efficiency of auxiliary parts 7 η η 1 η 2 8 η 1 t r ω d t p q d t where the η is the conversion efficiency of the whole system η 1 is the efficiency of the variable hydraulic motor and η 2 is the efficiency of the auxiliary parts t r is the simulated sediment resistance torque on the variable hydraulic motor s shaft and is calculated according to the displacement and outlet pressure of pump b ω is angular speed of the variable hydraulic motor p and q are the inlet pressure and flow rate of the variable hydraulic motor the variable hydraulic motor is the central energy conversion component of the whole system and its efficiency determines the overall efficiency of the whole system through appropriately designing auxiliary parts such as the friction wheels and pipes and the reversal valve the influence of the efficiency of auxiliary parts on the overall conversion efficiency of the whole system is minor compared to the efficiency of the variable hydraulic motor besides because there are no friction wheels and the reversal valve in the experiment system the efficiency of the auxiliary parts can t be obtained in the experiment system thus the efficiency of the variable hydraulic motor is used to represent the conversion efficiency of the whole system according to eqs 7 and 8 the energy conversion efficiency in three tests are calculated based on the measured data the energy efficiency for three tests are 88 6 84 2 and 87 3 respectively the high conversion efficiency of the system benefits from the single stage energy conversion and the high efficiency of the variable hydraulic motor the single stage energy conversion from the hydrostatic energy to the mechanical energy avoids a large amount of energy being lost in the long energy conversion chain besides the variable hydraulic motor is employed to stabilize its speed through adjusting its displacement rather than changing the throttle orifice of valve just like the flow control valve which avoids massive fluid energy loss at the throttle orifice the feature enables the variable hydraulic motor to achieve high efficiency furthermore appropriate matching between the driving ability of the variable hydraulic motor and the resistance torque is significant for the conversion rig to achieve the high efficiency because the displacement of variable hydraulic motor is one of the main factors on the efficiency when the resistance is very low relative to the driving ability of the hydraulic motor the displacement of hydraulic motor would stay very small so as to balance the resistance which decreases the efficiency when the inlet pressure of the variable hydraulic motor increases by 50 from 4 mpa to 6mpa the energy conversion efficiency only increases from 84 2 to 88 6 when the increasing gradient of the simulated sediment resistance torque decreases by half the energy conversion efficiency increases from 84 2 to 87 3 from the experiment results of the three tests it is indicated that the energy conversion efficiency of the rig is slightly influenced by the seawater pressure and the variation gradient of the sediment resistance the conclusion agrees with the theoretical modeling and analysis results of the same type of hydrostatic energy conversion apparatus tang and wang 2019 when the simulated seawater pressure increases from 4 mpa to 6 mpa the proportional gain of the controller increases from 0 036 to 0 052 to enhance the control effect so as to stabilize the speed of the variable hydraulic motor and reduce the speed error the conclusion agrees with the theoretical modeling and analysis results of the same type of hydrostatic energy conversion apparatus wang et al 2018 when the seawater hydrostatic energy conversion rig in the experiment is used to drive the seafloor sediment sampler the available maximum length of the sediment sample is calculated according to eqs 3 6 and the result is shown in fig 11 the parameters of the sediment sampler are shown in table 1 in fig 11 the available maximum length of the sediment sample decreases with the gradient of the sediment s shear strength and increases with the depth of seawater when the seawater hydrostatic energy conversion rig in the experiment is used to drive the seabed cpt rig the available output energy density of the conversion rig is compared with the electrical energy of the batteries carried by the penfeld cpt rig which uses the large battery packs and electrical motor and hydraulic power pack to drive the rod penfeld cpt rig is featured by being capable of working at maximum water depth of 6000m and its maximum penetration depth of investigation into the seabed sediment reaches 30 m meunier et al 2004 2005 the dimensions and weight of the oil balanced lead battery pack that the penfeld used are not described in the references thus the dimensions and weight of a similar oil balanced lead acid battery pack that can also be used in water depth of 6000m are used in the comparison the energy density of the oil balanced lead battery pack normalized by the volume is around 0 025 kwh l the electrical energy of the battery pack of the penfeld is firstly transformed into the mechanical energy of the electrical motor and then into the pressure energy of the hydraulic pump and finally into the mechanical energy of the hydraulic motor 30 there are three energy conversion stages which greatly reduces the overall energy efficiency of the system there is no data about the energy efficiency of the penfeld system hence it is assume that the energy conversion efficiency of each conversion stage is 90 which is almost the highest efficiency that the electrical motor or hydraulic motor or pump can achieve in practical application then the overall energy efficiency of the penfeld system is 73 by comparison there are only one energy conversion stage in the hydrostatic conversion rig which is the pressure energy of the seawater being transformed into the mechanical energy of the variable hydraulic motor the advantage enables the average overall energy conversion efficiency of the conversion rig to reach around 85 as is measured in the experiment after considering the overall energy conversion efficiency of the two systems the comparison result of the energy density normalized by volume between the hydrostatic conversion rig and the penfeld is shown in fig 12 as shown in fig 12 the energy density of the seawater hydrostatic energy increases with the depth of water and reaches the same level as the oil balanced lead batteries of the penfeld at the water depth of 7700 m and then exceeds it indicates that the hydrostatic energy conversion rig has the advantage in terms of energy density only in very deep water in relatively shallow water where the energy density of hydrostatic energy is relatively low the total available hydrostatic energy can be increased by simply increasing the number or volume of the empty chambers for the applications such as the seafloor sediment sampling and the seabed cpt the increase of the empty chambers is convenient and does not penalize the system because the system in such applications must be heavy enough to react against the huge sediment resistance 5 conclusions the test system of a seawater hydrostatic energy conversion rig is designed and built and is used to test the conversion rig in lab the test system can properly simulate the seawater hydrostatic energy and the variable sediment resistance and the changing air pressure in low pressure chambers the experiment results in three tests are presented and analyzed in the three tests the speed of the variable hydraulic motor of the conversion rig remains stable under the great influence of the variable resistance torque and variable outlet pressure the speed error is very small during the test and is within 10 of the stable speed the feature makes the conversion rig qualified for driving the seabed cpt operation the hydrostatic energy conversion efficiency of the conversion rig in three tests are 88 6 84 2 and 87 3 respectively the high conversion efficiency benefits from the single stage energy conversion and the good energy performance of the variable hydraulic motor the high energy efficiency enables the sediment sampler to obtain longer sediment sample and makes seabed cpt rig collect the geotechnical data of deeper sediments the experiment results demonstrate the feasibility of the seawater hydrostatic energy conversion rig and show its excellent performance credit authorship contribution statement jianjun wang formal analysis writing original draft guoyuan tang resources methodology aisi li investigation software declaration of competing interest the authors declare that they have no known competing financial interests or personal relationships that could have appeared to influence the work reported in this paper acknowledgement we acknowledge the financial support of the national natural science foundation of china grant no 51609092 
21849,the seawater s hydrostatic energy is an alternative power source for seafloor operation apparatus such as the sediment sampler cone penetration test rig and long term platform for underwater sensors a seawater hydrostatic energy conversion rig which is proposed to harness the seawater hydrostatic energy to drive the seafloor sediment sampler and seabed cone penetration test rig was built and tested in lab the test system of the energy conversion rig in lab can properly simulate the seawater hydrostatic energy and the fluctuating sediment resistance under the great influence of the fluctuating resistance the rig can hold stable speed and attain high energy efficiency at different depth of water the speed error is very small during the test and is within 10 of the stable speed the feature makes the conversion rig qualified to drive the seabed cone penetration test rig and high quality sediment sampler the hydrostatic energy conversion efficiency of the conversion rig in different cases are all higher than 80 which enables the sediment sampler to obtain longer sediment sample and make cone penetration test rig obtain deeper sediment s geotechnical data the experiment results demonstrate the feasibility of the seawater hydrostatic energy conversion rig and show its excellent performance keywords seawater hydrostatic energy energy conversion equipment energy efficiency speed control 1 introduction the utilization of the renewable energy in the ocean exploration is increasingly emerging such as the ocean thermal energy for of hydrothermal vent detection xie et al 2016 and underwater glider kong et al 2010 and the wave energy for ocean glider daniel et al 2011 and artificial upwelling fan et al 2016 because the energy can remarkably improve the performance of the system the seawater s hydrostatic energy is an alternative renewable power source for seafloor operation apparatus the hydrostatic energy of seawater comes from its massive pressure and it can be mobilized by mounting empty chambers to the apparatus when the apparatus dives into the seawater the pressure difference between the pressurized seawater and the low pressure air in the empty chamber can drive the apparatus until the empty chamber is full of seawater the available amount of seawater hydrostatic energy is equal to the seawater pressure multiplied by the volume of empty chamber the deeper water and larger chamber mean larger amount of available hydrostatic energy for instance the available amount of hydrostatic energy for the apparatus with empty chamber of 200 l at the depth of 1000m is 0 56 kwh compared to the 3 33 kwh at the depth of 6000 m thus the seawater hydrostatic energy is very suitable for the heavy apparatus which can carry large pressure chambers and work in deep water the storage of the seawater hydrostatic energy only needs empty pressure chambers and thus is more safe and robust and is very low sensitive to the seawater leakage compared to the underwater battery the underwater system which uses the batteries as power source needs the electric conversion chain and associated safety devices such as power reverser over current and over temperature protection devices internal air flow control and power management electronics and so on these devices increase the risk and the cost of the system by comparison these devices are not needed in the system which is powered by the seawater hydrostatic energy besides recharging the underwater batteries especially the large batteries for underwater application with heavy load such as the seabed cone penetration test and sediment sampling generally costs several hours and even more than 10 h which is very challenging and time consuming by comparison recharging of the seawater hydrostatic energy is automatically completed when the system is lifted to the water surface with respect to the energy density the energy density of the hydrostatic energy is lower than the underwater batteries but the total hydrostatic energy can be increased by simply increasing the number or volume of the empty pressure chambers for the applications such as the seafloor sediment sampling and the cone penetration test the increase of the empty pressure chambers is convenient and does not penalize the system because the system in such applications must be heavy enough to react against the huge sediment resistance compared with the umbilical electrical cable or hydraulic hose because no energy transmission from the water surface is needed for the hydrostatic energy there is no transmission loss hence the requirement for capability of support vessel is greatly decreased the features in terms of energy storage and transmission make the utilization of seawater hydrostatic energy cost effective moreover the seawater hydrostatic energy is widespread underwater and environment friendly because of these advantages the underwater apparatus powered by the seawater hydrostatic energy have been reported since 1960s most of these apparatus are seafloor heavy equipment such as seafloor sediment samplers rosfelder and marshall 1967 kristoffersen et al 2006 and seabed rock driller brooke and gilbert 1968 and electrical generator wang et al 2008 2014 and seabed cone penetration test rig wang et al 2018 lunne 2012 for seafloor sediment samplers the seawater hydrostatic energy is mainly used in two ways kristoffersen kristoffersen et al 2006 and wang wang et al 2013 proposed a type of sediment sampler which hammers its long sample tube into the seabed like a pile driver the type of hydrostatic sediment sampler is good at handling very stiff sediment and even the soft seabed rock but the quality of the sediment sample is degraded because of the repeated hammering its hydrostatic energy conversion efficiency varies from 10 to 60 and decreases greatly with the seawater pressure the advantage of handling the stiff sediment conceal its low energy efficiency another type of hydrostatic sediment sampler uses the massive pressure of seawater to push the sample tube into the seabed the pushing speed of the sample tube is controllable for some samplers liu 2009 smits 1990 and uncontrollable for the others rosfelder and marshall 1967 aardal 2062 the sediment samplers that can control and stabilize the speed of its sample tube can obtain sediment sample of much better quality lunne and long 2006 skinner and mccave 2003 the speed of the sample tube is stabilized by a flow regulate valve but the valve will greatly reduce the hydrostatic energy conversion efficiency of the sampler tang and wang 2019 therefore there is no subsequent report about application and experiment of the type of hydrostatic sampler wang wang et al 2008 built and tested an underwater electrical generator for the purpose of supplying the electrical power to long term platform for underwater sensors the generator is powered by the seawater hydrostatic energy and it can achieve the maximum efficiency of 63 8 in sea trial when the load is constant and optimum for the system and certain water depth but the generator haven t been reported to be capable of handling the changeable load the seawater hydrostatic energy is also very suitable for powering the seabed cone penetration test rig cpt rig the seabed cone penetration test has become one of the most widely used and accepted test methods for determining geotechnical properties of marine sediments lunne 2012 the cpt rig pushes a thin rod with geotechnical sensors on tip into the seabed in a stable speed the stable pushing speed is very important for the sensors of cpt rig to get accurate geotechnical data the seabed cpt rig is usually powered by the umbilical electrical cable or underwater batteries the designs that the seawater hydrostatic energy is used to power the seabed cpt rig have been proposed the hydrostatic cpt rig contains an energy conversion rig which is powered by the hydrostatic energy of seawater to drive the rod the conversion rig is either the combination lunne 2012 of a hydraulic cylinder and a flow control valve or a variable displacement hydraulic motor wang et al 2018 the combination of the hydraulic cylinder and flow control valve have the same disadvantage of low energy efficiency with the sediment sampler mentioned above thus there have been no practical applications of this type of cpt rig the cpt rig which uses the variable displacement hydraulic motor to harness the seawater hydrostatic energy has been proposed and theoretically proven to be capable of remaining high energy efficiency and stable speed when handling changeable sediment resistance tang and wang 2019 however till now none of the seabed cpt rig powered by seawater hydrostatic energy is built and tested and thus there is no data on its actual performance in practice except the underwater heavy apparatus there is report about the design and lab experiment study of light and small underwater device that uses the seawater hydrostatic energy as power source shafer shafer et al 2015 proposed a marine life tag which can harvest the hydrostatic pressure cycle energy as energy source when the marine animal dives and surfaces repeatedly the new energy source was theoretically analyzed and expected to greatly extend the deployment time of the tag which is carried by the diving animal and used to collect the data of the animal behavior and its surrounding environment but in the lab experiment the maximum efficiency of the energy conversion apparatus for the marine life tag was measured to be only 2 17 which hinders the practical application of the energy in marine life tag the trend of the utilization of the seawater hydrostatic energy is to be capable of handling the changeable payload and meantime remaining high energy efficiency the feature can greatly expand the application scope of the hydrostatic energy and enhance its practical application value but till now there is no experimental data about the energy conversion efficiency and work performance of the type of hydrostatic energy conversion rig with such feature although the data is very important for its practical application the paper build an experimental hydrostatic energy conversion rig and its test system the performance data of the energy conversion rig at different operation conditions is attained which fills the gap between the theory and the experimental application the experiment results demonstrate that the hydrostatic energy conversion rig can be used to handle changeable payload and meantime remain high energy efficiency and very stable speed the work performance of the sediment sampler and seabed cpt rig is analyzed and attained based on the experimental data of the conversion rig when the hydrostatic energy conversion rig is used to drive them for the sediment sampler and seabed cpt rig both the energy conversion efficiency and stable speed are very important the high efficiency enables the sediment sampler to obtain longer sediment sample and makes seabed cpt rig collect geotechnical data of deeper sediments the stable speed is the guarantee of high quality sediment sample and accurate geotechnical data of sediments especially for seabed cpt rig the fluctuation magnitude of the rod s speed can t exceed 10 of the required stable speed in order to attain the energy performance and speed control effect a seawater hydrostatic energy conversion rig mainly for the purpose of driving seafloor sediment sampler and seabed cpt rig was built and tested in lab the conversion rig is firstly described then the test system of the conversion rig is presented at last the experiment results are analyzed and discussed 2 overview of the seawater hydrostatic energy conversion rig till now the system which uses seawater hydrostatic energy as power source uses either the seawater and corresponding seawater hydraulic components or the hydraulic oil and corresponding oil hydraulic components the seawater hydraulic components cost much higher than the oil hydraulic components but the system that uses the oil hydraulic components needs additional rubber containers which are full of oil and of the same volume of the low pressure chambers to transfer the high pressure of the seawater to the oil in the rubber container the oil is pressurized and then used as the power fluid in the system both above methods have been demonstrated in the sea trial brooke and gilbert 1968 wang et al 2008 2017 the seawater hydrostatic conversion rig in the experiment employs the hydraulic oil as power fluid and uses the oil hydraulic components considering the high cost of seawater hydraulic components as shown in fig 1 a the seawater hydrostatic energy conversion rig is mainly composed of empty low pressure chambers and rubber containers and a reversal valve and a variable displacement hydraulic motor and some sensors and mechanical parts the high pressure seawater compresses the oil in the rubber container making the oil pressure equal to the seawater pressure all the time the pressurized oil flows through the reversal valve and then into the hydraulic motor and finally into the empty chambers the driving torque of the hydraulic motor comes from the pressure difference between the high pressure seawater and the air pressure in chambers the output torque of the hydraulic motor is used to drive the sediment sample tube or the cpt rig s rod through the mechanical connection the magnitude of the driving torque of the hydraulic motor is determined by the seawater s pressure and the motor s displacement fig 1 b shows a feasible design of the sediment sampler or cpt rig that is driven by the conversion rig in the design the low pressure empty chambers are evacuated before the deployment and the number of the chambers can be changed according to the mission when the mission needs more energy to make the sampler or cpt rig get deeper sediments sample or data the number of chambers should increase 3 test system of the hydrostatic energy conversion rig the test system of the seawater hydrostatic energy conversion rig is built as shown in fig 2 the test system uses an axial piston pump pump a and a manual relief valve to provide the constant pressure oil to simulate the seawater hydrostatic pressure the pressure of oil can be adjusted by the manual relief valve the pressurized oil from the pump a flows into a variable displacement hydraulic motor and drives it to work after the variable displacement hydraulic motor the oil flows through a proportional relief valve a and then into a tank the proportional relief valve a is used to control the outlet pressure of the variable displacement hydraulic motor to simulate the air pressure in low pressure chambers the air inside the chambers is compressed when the seawater flows into chambers it is assumed that the air in the chambers goes through an isothermal compression because the chambers are usually made of steel and can sufficiently exchange the heat with the surrounding cold seawater chen et al 2007 therefore the air pressure in the low pressure chambers is calculated as follows 1 p a p 0 v 0 v 0 v 1 where p a is the air pressure in the chambers v 0 is the initial volume of chambers v 1 is the accumulative volume of seawater that has flowed into the chambers and p 0 is the initial air pressure in the chambers the shaft of the variable displacement hydraulic motor is connected with the shaft of axial piston hydraulic pump b through a mechanical coupler the rotation of the variable hydraulic motor drives pump b to output high pressure oil the pressure of the high pressure oil is determined by proportional relief valve b the axial piston hydraulic pump b is of constant displacement pump b and proportional relief valve b are combined to simulate the changeable sediment resistance that the sediment sampler or cpt rig encounter during the penetration into the sediment the sediment resistance acts on the shaft of the variable hydraulic motor through the friction wheels and the decelerator and generate the resistance torque to the motor similarly pump b can generate the same resistance torque to the motor the resistance torque generated by the pump b is determined by the displacement of the hydraulic pump b and the inlet pressure of proportional relief valve b which also equals to the outlet pressure of hydraulic pump b to keep the speed of the variable displacement hydraulic motor stable a speed feedback closed loop control method combined with pid control algorithm is used see fig 3 the rotation speed of the variable hydraulic motor is measured by a speed sensor and then the speed signal is transmitted to the controller the controller receives the speed signal and calculates the speed error between the measured speed and set speed according to the speed error the controller calculates and outputs corresponding current to the variable displacement hydraulic motor the variable hydraulic motor receives the current signal and then changes its displacement to balance the resistance torque generated by pump b when the driving torque and resistance torque on the shaft of variable hydraulic motor are balanced the speed of the motor remains stable the pid control algorithm which runs in the controller is as follows 2 i s e s k p 1 1 t i s k d s where k p t i and k d are the proportional gain integral time and derivative gain i is the output current signal of the controller and e is the speed error between the set speed and measured speed of the variable hydraulic motor the control block diagram of the test system is shown as follows when the seawater hydrostatic energy conversion rig in the experiment is used to drive the seafloor sediment sampler or the seabed cpt rig rod the total sediment resistance on the tube or the rod is expressed as follows wang et al 2017 lee et al 1988 3 f r α s u a s n c s u a f 1 j w n s u c k l where f r α su a s n c a f are the total sediment resistance the friction coefficient between the sample tube and the sediment undrained shear strength of sediments the contact area of the tube with the sediment which increases linearly with the penetration depth the bearing capacity factor of the sediment the sectional area of the tube tip w c k l are the velocity of the tube or the rod the undrained shear strength of the sediment at the surface of seabed the gradient of the sediment s shear strength with the depth the length of the sediment sample j is the plastic damping coefficient which is correlated with the undrained shear strength for the cohesive sediment the exponent n reflects the nonlinearity of the damping force with the velocity and is experimentally determined if the experimental data is lacking a value of 0 2 can be used j and n represent the viscous effect of the sediment resistance when the sediment resistance torque on the shaft of variable hydraulic motor equals to the maximum driving torque of hydrostatic energy conversion rig the conversion rig stops the maximum length of available sediment sample is calculated as follows 4 t r f r r i 5 t d m p s p a d max η m 2 π 6 t r t d m l l 0 v 1 v max where t r r i are the sediment resistance torque radius of friction wheels and the reduction ratio of the decelerator t dm p s l 0 η m are the maximum driving torque of hydrostatic energy conversion rig the seawater pressure the length of the sample tube and the mechanical efficiency of the variable hydraulic motor respectively 4 test results and discussion the tests were conducted to obtain the speed stability and energy conversion efficiency of the conversion rig under the fluctuation of sediment resistance at different depths of water both the speed stability and the energy efficiency are very important for the conversion rig because the two indices determine the rig s feasibility to get the performance of the conversion rig at different depths of water the levels of pressure in the experiment are set to 4 mpa 5 mpa 6 mpa respectively in each test which is corresponding to a pressure level the speed of the conversion rig is recorded and used to judge the speed stability and the pressure and flow rate are recorded to calculate the conversion efficiency of the rig in the tests the load on the conversion rig simulate the actual sediment resistance in the actual condition igoe et al 2013 the total sediment resistance on the tube or rod increases almost linearly with the penetration depth and then decreases when the tube or rod enters the soft sediment layer although the sediment resistance at different layers of sediment varies significantly the type of variation trend of the total sediment resistance during the penetration of pile or tube or rod is very common in the actual conditions thus the simulated sediment resistance in the tests adopts the same variation trend besides the property of sediment at different sites varies significantly hence although the variation trend of total sediment resistance is similar the gradient of the variation is different the variation gradient of the total sediment resistance have a great influence on the speed stability of the conversion rig the high gradient impairs the speed stability and even causes the instability of the speed hence it is necessary to test the conversion rig with the high variation gradient of total sediment resistance if the speed of the conversion rig is stable under very high gradient the speed stability of the rig can be guaranteed in the vast majority of cases therefore the variation gradient of the total sediment resistance in the tests are greatly magnified the parameters and values of the test system are in table 1 the set speed of the variable hydraulic motor is 600 rev min which is the control goal of the controller because of the different simulated seawater pressure and sediment resistance the gains of pid controller need to be carefully tuned to stabilize the speed of the motor in different cases in the first test the inlet pressure of the variable hydraulic motor was maintained at 6 mpa during the test the measured pressure curve is in fig 4 as shown in fig 4 the inlet pressure of the variable hydraulic motor is very stable and is very similar to the constant seawater pressure in fig 5 the outlet pressure of hydraulic pump b firstly increases from 1 8 mpa to 5 4 mpa in 24 s and then remains steady before decreasing from 5 4 mpa to 1 8 mpa the simulated sediment resistance is proportional to the outlet pressure of hydraulic pump b because the minimum displacement of the variable hydraulic motor is not zero but 15 8 cc rev the minimum outlet pressure of pump b has to exceed the minimum driving capability of the variable hydraulic motor in order to make the stable speed of the motor possible in the test the resistance torque to the variable hydraulic motor first increases linearly and gets close to the ultimate driving capability of the motor in 24 s the rising rate of the resistance torque is much higher compared to the actual sediment sampling or seabed cpt for instance the rod of cpt rig is pushed into the seabed sediment as deep as tens of meters by the speed of 0 025 m s which indicates that it takes more than 10 min for the sediment resistance to reach the cpt rig s maximum drive capability lunne 2012 as shown in fig 6 the outlet pressure of the variable hydraulic motor increases linearly with the time the pressure is used to simulate the air pressure in the low pressure chambers the comparison between the outlet pressure of the variable hydraulic motor and the air pressure in chamber is in fig 6 the air pressure in the chambers is calculated according to eq 1 the air pressure mainly influences the speed stability of the conversion rig when the pressure is very low compared to the high input pressure of the variable displacement hydraulic motor which are 4 mpa 5 mpa 6 mpa the influence is negligible hence only the high pressure part of the air pressure curve in fig 6 is simulated the high pressure part of the curve represents the last stage in which the chambers is nearly full of seawater as shown in fig 7 the speed of the variable hydraulic motor remains stable when the resistance torque varies significantly the overshoot of the speed at the initial moment is only 3 5 the speed error is very small during the whole test and is within 10 of the required stable speed the feature makes the conversion rig meet the requirement of the seabed cpt rig in fig 8 the flowrate of variable hydraulic motor changes in the way similar to the outlet pressure of hydraulic pump b because the speed of the variable hydraulic motor is stable the flowrate changes with its displacement the curve in fig 8 indicates that the variable hydraulic motor changes its displacement to balance the variable resistance torque to stabilize the speed in the second test the inlet pressure of the variable hydraulic motor is maintained at 4 mpa the measured curves in the second case are shown in fig 9 as shown in fig 9 a the inlet pressure of the variable hydraulic motor is very stable during the test as shown in fig 9 b and c the variation of both the outlet pressure of hydraulic pump b and the outlet pressure of variable hydraulic motor are very similar to the ones in the first test under the influence of the variable outlet pressure of hydraulic pump b and variable outlet pressure of variable hydraulic motor the speed of the variable hydraulic motor can still remain stable as shown in fig 9 d the overshoot of the speed at the initial moment is only 7 5 the speed error is very small during the whole test and is within 10 of the stable speed in the third test the inlet pressure of the variable hydraulic motor is maintained at 5 mpa the measured curves in the third case are shown in fig 10 as shown in fig 10 a the inlet pressure of the variable hydraulic motor is very stable during the test as shown in fig 10 b the variation of the outlet pressure of hydraulic pump b during the test is different from the first and second test in the third test the outlet pressure of hydraulic pump b firstly increases from 1 8 mpa to 4 2 mpa in 47 s and then remains steady the rising gradient of the outlet pressure is about half of the one in the first and second test in fig 10 c the variation of the outlet pressure of variable hydraulic motor is very similar to the first and second test under the influence of the variable outlet pressure of hydraulic pump b and variable outlet pressure of variable hydraulic motor the speed of the variable hydraulic motor remains stable as shown in fig 10 d the overshoot of the speed at the initial moment is only 5 8 the speed error is very small during the whole test and is within 10 of the stable speed at around 47 s the total resistance torque generated by hydraulic pump b exceeds the drive capability of the variable hydraulic motor and then the motor stops through the comparison of the speed overshoot of the variable hydraulic motor in three tests it can be concluded that the overshoot of speed can be reduced by increasing the proportional gain of pid controller of the test system when the simulated seawater pressure increases the proportional gains of pid controller are shown in table 1 the conversion efficiency of the whole system comprises the efficiency of the variable hydraulic motor and the efficiency of auxiliary parts 7 η η 1 η 2 8 η 1 t r ω d t p q d t where the η is the conversion efficiency of the whole system η 1 is the efficiency of the variable hydraulic motor and η 2 is the efficiency of the auxiliary parts t r is the simulated sediment resistance torque on the variable hydraulic motor s shaft and is calculated according to the displacement and outlet pressure of pump b ω is angular speed of the variable hydraulic motor p and q are the inlet pressure and flow rate of the variable hydraulic motor the variable hydraulic motor is the central energy conversion component of the whole system and its efficiency determines the overall efficiency of the whole system through appropriately designing auxiliary parts such as the friction wheels and pipes and the reversal valve the influence of the efficiency of auxiliary parts on the overall conversion efficiency of the whole system is minor compared to the efficiency of the variable hydraulic motor besides because there are no friction wheels and the reversal valve in the experiment system the efficiency of the auxiliary parts can t be obtained in the experiment system thus the efficiency of the variable hydraulic motor is used to represent the conversion efficiency of the whole system according to eqs 7 and 8 the energy conversion efficiency in three tests are calculated based on the measured data the energy efficiency for three tests are 88 6 84 2 and 87 3 respectively the high conversion efficiency of the system benefits from the single stage energy conversion and the high efficiency of the variable hydraulic motor the single stage energy conversion from the hydrostatic energy to the mechanical energy avoids a large amount of energy being lost in the long energy conversion chain besides the variable hydraulic motor is employed to stabilize its speed through adjusting its displacement rather than changing the throttle orifice of valve just like the flow control valve which avoids massive fluid energy loss at the throttle orifice the feature enables the variable hydraulic motor to achieve high efficiency furthermore appropriate matching between the driving ability of the variable hydraulic motor and the resistance torque is significant for the conversion rig to achieve the high efficiency because the displacement of variable hydraulic motor is one of the main factors on the efficiency when the resistance is very low relative to the driving ability of the hydraulic motor the displacement of hydraulic motor would stay very small so as to balance the resistance which decreases the efficiency when the inlet pressure of the variable hydraulic motor increases by 50 from 4 mpa to 6mpa the energy conversion efficiency only increases from 84 2 to 88 6 when the increasing gradient of the simulated sediment resistance torque decreases by half the energy conversion efficiency increases from 84 2 to 87 3 from the experiment results of the three tests it is indicated that the energy conversion efficiency of the rig is slightly influenced by the seawater pressure and the variation gradient of the sediment resistance the conclusion agrees with the theoretical modeling and analysis results of the same type of hydrostatic energy conversion apparatus tang and wang 2019 when the simulated seawater pressure increases from 4 mpa to 6 mpa the proportional gain of the controller increases from 0 036 to 0 052 to enhance the control effect so as to stabilize the speed of the variable hydraulic motor and reduce the speed error the conclusion agrees with the theoretical modeling and analysis results of the same type of hydrostatic energy conversion apparatus wang et al 2018 when the seawater hydrostatic energy conversion rig in the experiment is used to drive the seafloor sediment sampler the available maximum length of the sediment sample is calculated according to eqs 3 6 and the result is shown in fig 11 the parameters of the sediment sampler are shown in table 1 in fig 11 the available maximum length of the sediment sample decreases with the gradient of the sediment s shear strength and increases with the depth of seawater when the seawater hydrostatic energy conversion rig in the experiment is used to drive the seabed cpt rig the available output energy density of the conversion rig is compared with the electrical energy of the batteries carried by the penfeld cpt rig which uses the large battery packs and electrical motor and hydraulic power pack to drive the rod penfeld cpt rig is featured by being capable of working at maximum water depth of 6000m and its maximum penetration depth of investigation into the seabed sediment reaches 30 m meunier et al 2004 2005 the dimensions and weight of the oil balanced lead battery pack that the penfeld used are not described in the references thus the dimensions and weight of a similar oil balanced lead acid battery pack that can also be used in water depth of 6000m are used in the comparison the energy density of the oil balanced lead battery pack normalized by the volume is around 0 025 kwh l the electrical energy of the battery pack of the penfeld is firstly transformed into the mechanical energy of the electrical motor and then into the pressure energy of the hydraulic pump and finally into the mechanical energy of the hydraulic motor 30 there are three energy conversion stages which greatly reduces the overall energy efficiency of the system there is no data about the energy efficiency of the penfeld system hence it is assume that the energy conversion efficiency of each conversion stage is 90 which is almost the highest efficiency that the electrical motor or hydraulic motor or pump can achieve in practical application then the overall energy efficiency of the penfeld system is 73 by comparison there are only one energy conversion stage in the hydrostatic conversion rig which is the pressure energy of the seawater being transformed into the mechanical energy of the variable hydraulic motor the advantage enables the average overall energy conversion efficiency of the conversion rig to reach around 85 as is measured in the experiment after considering the overall energy conversion efficiency of the two systems the comparison result of the energy density normalized by volume between the hydrostatic conversion rig and the penfeld is shown in fig 12 as shown in fig 12 the energy density of the seawater hydrostatic energy increases with the depth of water and reaches the same level as the oil balanced lead batteries of the penfeld at the water depth of 7700 m and then exceeds it indicates that the hydrostatic energy conversion rig has the advantage in terms of energy density only in very deep water in relatively shallow water where the energy density of hydrostatic energy is relatively low the total available hydrostatic energy can be increased by simply increasing the number or volume of the empty chambers for the applications such as the seafloor sediment sampling and the seabed cpt the increase of the empty chambers is convenient and does not penalize the system because the system in such applications must be heavy enough to react against the huge sediment resistance 5 conclusions the test system of a seawater hydrostatic energy conversion rig is designed and built and is used to test the conversion rig in lab the test system can properly simulate the seawater hydrostatic energy and the variable sediment resistance and the changing air pressure in low pressure chambers the experiment results in three tests are presented and analyzed in the three tests the speed of the variable hydraulic motor of the conversion rig remains stable under the great influence of the variable resistance torque and variable outlet pressure the speed error is very small during the test and is within 10 of the stable speed the feature makes the conversion rig qualified for driving the seabed cpt operation the hydrostatic energy conversion efficiency of the conversion rig in three tests are 88 6 84 2 and 87 3 respectively the high conversion efficiency benefits from the single stage energy conversion and the good energy performance of the variable hydraulic motor the high energy efficiency enables the sediment sampler to obtain longer sediment sample and makes seabed cpt rig collect the geotechnical data of deeper sediments the experiment results demonstrate the feasibility of the seawater hydrostatic energy conversion rig and show its excellent performance credit authorship contribution statement jianjun wang formal analysis writing original draft guoyuan tang resources methodology aisi li investigation software declaration of competing interest the authors declare that they have no known competing financial interests or personal relationships that could have appeared to influence the work reported in this paper acknowledgement we acknowledge the financial support of the national natural science foundation of china grant no 51609092 
