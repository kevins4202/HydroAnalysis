index,text
22400,a design method of bulkhead reinforcement of trimaran based on topological optimization is proposed which can reduce the mass of bulkhead and reinforcement as much as possible while ensuring that bulkhead has sufficient structural strength based on rules for the classification of trimarans seven structural strength checking conditions are designed stress distribution of trimaran bulkhead structure and reinforcement before and after optimization under different conditions are calculated by using finite element method and variable density topology optimization method the results show that the maximum stress distribution area of bulkhead and reinforcement occurs near the connecting bridge and the large opening when the volume constraints are changed the stress distribution and maximum stress of the optimized bulkhead and reinforcement will change accordingly there is no positive correlation between the maximum stress and the volume reduction ratio of reinforcement the maximum bulkhead stress cannot be reduced by increasing the volume retention ratio of the reinforcement the distribution of the optimized reinforcement is similar to that of the real bulkhead on the premise that the bulkhead has sufficient structural strength the lightweight design of trimaran structure can be realized based on the topological optimization method keywords trimaran bulkhead reinforcement finite element method topology optimization lightweight design 1 introduction some advantages like good stability and seakeeping low resistance under high speed navigation etc are within trimaran lightweight design of trimaran structure can effectively improve its comprehensive performance on the premise of ensuring structural safety some studies attempt to apply rules based design method zhang and wang 2007 zhen et al 2012 fuentes et al 2015 design method based on existing ships fuentes et al 2015 and auxiliary design method based on environmental load and finite element calculation ren et al 2012 to optimize the structure of trimaran these design methods have contributed to ensuring the safety of hull structures but their contribution to lightweight design of ships is very limited some studies attempt to lighten the bridge structure of trimaran aiming at ensuring structural strength and weight reduction and obtain the corresponding optimal structure yang 2008 2010 deng 2008 under specific working conditions with the development of intelligent optimization methods researchers have gradually applied intelligent optimization methods such as particle swarm optimization ehlers 2012 and genetic algorithm du et al 2018 to ship structure lightweight design intelligent optimization method can improve material utilization ehlers 2012 effectively reduce the quality of ship structure and obtain hull structure with target quality du et al 2018 and ensure that the optimized structure has sufficient strength ehlers 2012 du et al 2018 compared with intelligent optimization method topology optimization method has more prominent advantages in structural lightweight design especially in structural lightweight design for continuum based on the principle of computational mechanics the continuous structure topology optimization design method bendsoe and kijuchi 1998 bendsoe 1989 xie and steven 1993 allaire et al 2002 and the discrete structure topology optimization design method cheng and guo 1997 su et al 2009 can realize the lightweight design of the structure on the premise of ensuring the safety of engineering structures at present these kinds of methods have been widely used in civil engineering xu et al 2018 aerospace science and technology munk and verstraete 2017 oktay and akay 2011 large deformation flexible structure zhu et al 2019 and biomechanics chen et al 2018 in addition through the latest research wang and zhang 2018 it can be seen that the topology optimization design method has been applied to the design of high precision instruments the objective of this method is no longer the traditional structural mechanical response but the performance response parameters of the instrument at present the application of topology optimization method in ship structure optimization design is relatively limited and the optimization zone is small but the contribution is obvious for example zhang zhang and yang 2015 applied shape optimization method and topology optimization method to small scale optimization design of ship bottom frame structure and the weight of optimized structure was reduced by 15 82 compared with that of un optimized structure at present the application of topology optimization method to the optimization design of large scale ship structures such as bulkhead and bulkhead reinforcement structures of trimaran ships is rare in view of the current research situation this paper carries out structural strength checking design on the basis of rules for the classification of trimarans which is the code of the lloyd s classification society of britain the preliminary design of the transverse bulkhead of a specific trimaran is a prototype of structural optimization and the static response of the bulkhead structure is calculated by the finite element method subsequently on the premise of guaranteeing that the structural strength conforms to the design specifications the topology optimization of bulkhead structure is carried out with the minimum flexibility as the optimization objective finally the optimized bulkhead structure is taken as the reinforcement structure the strength of the optimized bulkhead structure is analyzed and the stress distributions under different working conditions and different weight reduction conditions are compared in addition the optimization results of this paper are compared with those of the actual ship bulkhead reinforcement structure distribution and the results of the trimaran transverse bulkhead topology optimization are evaluated to provide technical reference for the trimaran main structure topology optimization design and the bulkhead reinforcement structure distribution area design 2 topology optimization theory of continuous structures based on finite element method the optimization region is divided into several finite elements and the relative density ρ i of each element is taken as the design variable 1 ρ i 1 i ω m a t 0 i ω ω m a t here i is the number of the finite element ω m a t is the retaining material area and ω is the whole design area according to ρ i we have 2 ω ρ i ⅆ ω v 0 0 ρ i 1 i ω here v 0 is the total volume of the design domain the optimization problem expression with the objective of minimizing structural flexibility under volume constraints is 3 f i n d ρ i i 1 2 m min c f t u s t v v 0 f 0 k u f 0 ρ min ρ i 1 here m is the total element number of units the objective function c represents the total structural compliance f is the overall load vector and u is the displacement vector v is the optimized total volume and f is the volume ratio k is the global stiffness matrix in order to prevent the singularity of stiffness matrix the lower limit of relative density of element ρ min is introduced ρ min 0 001 after established the model the sensitivity values of the constraint and the objective function are required applying solid isotropic microstructures penalty simp model can avoid solving the discrete value design problem zhang and yang 2015 olsen and vanderplaats 1989 bendsoe and sigmund 2003 zhou and rozvany 1991 gave the conditions that the real simp difference needs to satisfy 4 p p max 15 1 γ 0 7 5 γ 0 3 2 1 γ 0 1 2 γ 0 here γ 0 is poisson s ratio p is penalty factor lower limit and p is penalty factor in the following optimization work based on ansys parameter design language and combined with the above theory the structural topology optimization design of trimaran bulkhead will be carried out in this paper 3 structural strength checking of trimaran bulkhead 3 1 bulkhead information and load case design in this section a special trimaran bulkhead structure is taken as the optimization object to optimize its structure topology the main parameters of bulkhead are shown in table 1 and the geometric shape of bulkhead is shown in fig 1 because the transverse bulkhead of trimaran has the symmetry of longitudinal mid section of the ship the half bulkhead model shown in fig 1 will be selected in this section for finite element calculation of bulkhead and the topological optimization of bulkhead will be carried out based on the calculation results in the absence of hydrodynamic loads on wet surface of trimaran the working conditions can be designed and checked in combination with rules for the classification of trimarans combining with the bulkhead model in this paper the load in this section is selected as follows horizontal bending moment fig 2 longitudinal torque fig 3 arch state in lateral separation moment fig 4 and vertical state in lateral separation moment fig 5 according to the rules for the classification of trimarans the approximate formula for calculating horizontal bending moment is as follows 5 m h d f l f f s e r v l r 2 d c b 0 7 6 l f 70 l r 100 2 5 l r 10 3 here m h is the horizontal bending moment d f is the longitudinal distribution factor 0 is taken at the bow and stern 1 is taken at the bow and stern and other positions are obtained by interpolation l f is the captain change factor f serv is the service area coefficient l r is the length between the main vertical lines d is the depth of the main hull c b is the square coefficient the expression for calculating the lateral bending moment at the connection between the bridge and the main body is as follows 7 m s p h 9 81 f s e r v w s h 1 a z y s h b m h 2 8 m s p s 9 81 f s e r v w s h δ 2 δ s h 2 a z y s h b m h 2 here m sph is the lateral separation bending moment mid arch w sh is the weight of a single hull which can be obtained by multiplying the total weight of the trimaran by the percentage of the drainage of a single hull a z is the vertical acceleration y sh is the distance from the center line of the hull to the center line of the main hull b mh is the main hull width δis the overall hull drainage and δ sh is the main hull drainage the transverse bending moment at the joint of the connecting bridge and the sheet is calculated as follows 9 m s p h 9 81 f s e r v w s h 1 a z y s h y 0 10 m s p s 9 81 f s e r v w s h δ 2 δ s h 2 a z y s h y 0 here y 0 is the transverse distance between the longitudinal section of the main hull and the connecting bridge the expression for calculating the longitudinal torque is as follows 11 m l t 7 5 t f f s e r v ρ v s h v c d v m h s 2 y c s a h c a v e here m lt is the longitudinal torque t f is the longitudinal torque distribution coefficient v sh is the volume of the slice v cd is the volume of the connecting bridge v mhs is the volume of the main body as the length of the slice y cs is the transverse section of the slice the distance between the central line of the connecting bridge and the central line of the main hull a hcave is the pitching acceleration combining with the optimized object in this paper the checking conditions in this section are as follows case1 0 3 transverse separation moment mid arch case 2 0 3 transverse separated case3 transverse separated bending moment mid arch 0 2 longitudinal torque case4 lateral separation moment mid vertical 0 2 longitudinal torque case5 0 3 horizontal moment 0 4 lateral separation moment middle arch longitudinal torque case6 horizontal moment 0 4 transverse separation moment mid arch case7 0 2 horizontal moment 0 6 lateral separation moment mid arch 3 2 finite element analysis of bulkhead structure of trimaran in this section the hydrostatic bending moment and transverse torsion are neglected in the calculation of bulkhead structural stress the structural stress of bulkhead under seven working conditions are calculated by ansys higher order triangular mesh and quadrilateral mesh with intermediate nodes are used to mesh bulkhead as shown in fig 6 a the results of stress distribution of bulkhead structure are shown in fig 6 b h the bulkhead structure will be loaded based on figs 2 5 and equations 5 11 according to the calculation results of fig 6 the maximum stress area of bulkhead mainly occurs near the connecting bridge and the bulkhead opening in case5 the maximum stress of bulkhead structure is 270 04 mpa the dangerous area is the bottom of connecting bridge and the vicinity of bulkhead opening in this case the bulkhead will be damaged therefore it is necessary to add reinforcement structure to bulkhead 4 optimization design of bulkhead structure although the stress value of bulkhead structure corresponding to case 5 is the largest and the bulkhead structure will be destroyed only in this case this section will carry out the topological optimization design of bulkhead structure under seven working conditions the optimized bulkhead structure is taken as the original reinforced structure of the un optimized bulkhead the optimal design will minimize the volume of the reinforced structure i e the optimized bulkhead as much as possible on the premise of ensuring the structural safety of bulkhead and reinforced structure in fig 7 a the blue area is the optimum area and the gray area is the preservation area under the constraints of 50 volume reduction in the optimized area the optimized and smoothed trimaran bulkhead structure is shown in fig 7 b h change the shape preservation of trimaran bulkhead optimization area the volume retention ratio of the optimized area is set to 0 50 55 60 65 respectively 95 100 and the bulkhead topology optimization the optimized bulkhead is used as a reinforcement structure and pasted on the un optimized bulkhead the strength of the new structure is checked again fig 8 shows the maximum stress of composite structures under different volume constraints from the results of fig 8 it can be seen that the maximum stress of the optimized composite structure are different under different volume constraints there is no positive correlation between the maximum stress and the volume retention ratio of composite structures for example in case 7 the maximum stress of bulkhead structure increases first and then decreases when the volume retention ratio of optimized area increases from 60 to 70 when the retention ratio increases from 65 to 75 the maximum stress of bulkhead structure will first decrease and then increase in addition fig 8 shows that the maximum stress of bulkhead reinforcement structure i e the optimized bulkhead structure with sticking on the unoptimized bulkhead is generally higher than that of bulkhead in section 3 the maximum stress of bulkhead in case 5 is far greater than the allowable stress of bulkhead from fig 8 e it can be seen that the structural stress of bulkhead decreases obviously with the attachment of reinforcement structure and the maximum stress of bulkhead and the maximum stress of reinforcement structure will change with the change of retention ratio of optimized area volume fig 9 shows the stress distribution of bulkhead structure with different volume conformity under condition 5 and fig 10 shows the corresponding stress distribution of reinforced structure combining figs 8 e figs 9 and 10 we can see that the maximum stress distribution area of the composite structure is concentrated under the connecting bridge and near the large opening the maximum stresses of bulkhead structure and reinforced structure are lower than the allowable stresses when the reinforced structure is added when the conformity ratio is reduced from 100 to 50 the stress of the composite structure does not increase significantly which indicates that if the structure is optimized reasonably the mass of the structure can be greatly reduced and the safety of the structure can be ensured in addition although the optimum region is far away from the large opening the change of its structural form will also influence the stress distribution in the dangerous region 5 optimized contrast and rationality verification fig 11 is the construction site of austal s trimaran the distribution of bulkhead structure and reinforcement can be seen in the figure according to the structure in the drawing the finite element model is established and the static analysis under seven working conditions are carried out based on the calculation results the bulkhead is topology optimized and the optimization results are shown in fig 12 by comparison the results of optimized bulkheads in case1 case5 are highly similar to those reinforcement in fig 11 which shows that the lightweight design of trimaran bulkheads based on topological optimization method is feasible 6 discussion and conclusion based on rules for the classification of trimarans this paper designs seven checking conditions for trimaran bulkhead structure and carries out topological optimization design and stress analysis for a particular trimaran bulkhead structure the optimized bulkhead can be used as a reinforcement structure to paste on the unoptimized bulkhead to obtain a new composite structure compared with the original structure the stress of the new structure is significantly reduced and in most cases the stress of the reinforced structure is higher than that of the bulkhead the optimized bulkhead structure has an effect on the stress distribution of the new structure there is no positive correlation between the stress amplitude of the new structure and the conformation ratio of the optimized region which indicates that the potential factors affecting the stress amplitude of the structure may include the location and shape of the material area removed the influence of these factors on structural strength needs to be verified by further research it should be noted that from the point of view of technology the optimized bulkhead is not easy to be pasted on the bulkhead as a reinforced structure however the material distribution area of the optimized structure can be used as a reference for the design of bulkhead reinforcement structures that is the reinforcement structures can be arranged in these areas in addition the optimization method in this paper can also be used as the optimization method of non watertight bulkhead by comparison the results of the optimized bulkhead are highly similar to the distribution of the actual bulkhead reinforcement structure in some cases which shows that the lightweight design of trimaran bulkhead and the design of the reinforced structure based on the topological optimization method are feasible appendix based on the results of the topological optimization in fig 12 the appendix establishes the reinforcement structure of the bulkhead according to the results of the material distribution of the topological optimization the bulkhead surface has a reinforced structure perpendicular to the bulkhead with a height of 0 2 m and a thickness of 10 mm the bulkhead has a reinforced structure with a thickness of 8 mm and a width of 0 1 m fig a1 shows the stress analysis results of the reinforced bulkhead image 1 similar to the results in section 4 the distribution of reinforcement structure will affect the stress distribution and stress amplitude of bulkhead structure the maximum stress is still distributed near the bulkhead connection bridge and the large opening 
22400,a design method of bulkhead reinforcement of trimaran based on topological optimization is proposed which can reduce the mass of bulkhead and reinforcement as much as possible while ensuring that bulkhead has sufficient structural strength based on rules for the classification of trimarans seven structural strength checking conditions are designed stress distribution of trimaran bulkhead structure and reinforcement before and after optimization under different conditions are calculated by using finite element method and variable density topology optimization method the results show that the maximum stress distribution area of bulkhead and reinforcement occurs near the connecting bridge and the large opening when the volume constraints are changed the stress distribution and maximum stress of the optimized bulkhead and reinforcement will change accordingly there is no positive correlation between the maximum stress and the volume reduction ratio of reinforcement the maximum bulkhead stress cannot be reduced by increasing the volume retention ratio of the reinforcement the distribution of the optimized reinforcement is similar to that of the real bulkhead on the premise that the bulkhead has sufficient structural strength the lightweight design of trimaran structure can be realized based on the topological optimization method keywords trimaran bulkhead reinforcement finite element method topology optimization lightweight design 1 introduction some advantages like good stability and seakeeping low resistance under high speed navigation etc are within trimaran lightweight design of trimaran structure can effectively improve its comprehensive performance on the premise of ensuring structural safety some studies attempt to apply rules based design method zhang and wang 2007 zhen et al 2012 fuentes et al 2015 design method based on existing ships fuentes et al 2015 and auxiliary design method based on environmental load and finite element calculation ren et al 2012 to optimize the structure of trimaran these design methods have contributed to ensuring the safety of hull structures but their contribution to lightweight design of ships is very limited some studies attempt to lighten the bridge structure of trimaran aiming at ensuring structural strength and weight reduction and obtain the corresponding optimal structure yang 2008 2010 deng 2008 under specific working conditions with the development of intelligent optimization methods researchers have gradually applied intelligent optimization methods such as particle swarm optimization ehlers 2012 and genetic algorithm du et al 2018 to ship structure lightweight design intelligent optimization method can improve material utilization ehlers 2012 effectively reduce the quality of ship structure and obtain hull structure with target quality du et al 2018 and ensure that the optimized structure has sufficient strength ehlers 2012 du et al 2018 compared with intelligent optimization method topology optimization method has more prominent advantages in structural lightweight design especially in structural lightweight design for continuum based on the principle of computational mechanics the continuous structure topology optimization design method bendsoe and kijuchi 1998 bendsoe 1989 xie and steven 1993 allaire et al 2002 and the discrete structure topology optimization design method cheng and guo 1997 su et al 2009 can realize the lightweight design of the structure on the premise of ensuring the safety of engineering structures at present these kinds of methods have been widely used in civil engineering xu et al 2018 aerospace science and technology munk and verstraete 2017 oktay and akay 2011 large deformation flexible structure zhu et al 2019 and biomechanics chen et al 2018 in addition through the latest research wang and zhang 2018 it can be seen that the topology optimization design method has been applied to the design of high precision instruments the objective of this method is no longer the traditional structural mechanical response but the performance response parameters of the instrument at present the application of topology optimization method in ship structure optimization design is relatively limited and the optimization zone is small but the contribution is obvious for example zhang zhang and yang 2015 applied shape optimization method and topology optimization method to small scale optimization design of ship bottom frame structure and the weight of optimized structure was reduced by 15 82 compared with that of un optimized structure at present the application of topology optimization method to the optimization design of large scale ship structures such as bulkhead and bulkhead reinforcement structures of trimaran ships is rare in view of the current research situation this paper carries out structural strength checking design on the basis of rules for the classification of trimarans which is the code of the lloyd s classification society of britain the preliminary design of the transverse bulkhead of a specific trimaran is a prototype of structural optimization and the static response of the bulkhead structure is calculated by the finite element method subsequently on the premise of guaranteeing that the structural strength conforms to the design specifications the topology optimization of bulkhead structure is carried out with the minimum flexibility as the optimization objective finally the optimized bulkhead structure is taken as the reinforcement structure the strength of the optimized bulkhead structure is analyzed and the stress distributions under different working conditions and different weight reduction conditions are compared in addition the optimization results of this paper are compared with those of the actual ship bulkhead reinforcement structure distribution and the results of the trimaran transverse bulkhead topology optimization are evaluated to provide technical reference for the trimaran main structure topology optimization design and the bulkhead reinforcement structure distribution area design 2 topology optimization theory of continuous structures based on finite element method the optimization region is divided into several finite elements and the relative density ρ i of each element is taken as the design variable 1 ρ i 1 i ω m a t 0 i ω ω m a t here i is the number of the finite element ω m a t is the retaining material area and ω is the whole design area according to ρ i we have 2 ω ρ i ⅆ ω v 0 0 ρ i 1 i ω here v 0 is the total volume of the design domain the optimization problem expression with the objective of minimizing structural flexibility under volume constraints is 3 f i n d ρ i i 1 2 m min c f t u s t v v 0 f 0 k u f 0 ρ min ρ i 1 here m is the total element number of units the objective function c represents the total structural compliance f is the overall load vector and u is the displacement vector v is the optimized total volume and f is the volume ratio k is the global stiffness matrix in order to prevent the singularity of stiffness matrix the lower limit of relative density of element ρ min is introduced ρ min 0 001 after established the model the sensitivity values of the constraint and the objective function are required applying solid isotropic microstructures penalty simp model can avoid solving the discrete value design problem zhang and yang 2015 olsen and vanderplaats 1989 bendsoe and sigmund 2003 zhou and rozvany 1991 gave the conditions that the real simp difference needs to satisfy 4 p p max 15 1 γ 0 7 5 γ 0 3 2 1 γ 0 1 2 γ 0 here γ 0 is poisson s ratio p is penalty factor lower limit and p is penalty factor in the following optimization work based on ansys parameter design language and combined with the above theory the structural topology optimization design of trimaran bulkhead will be carried out in this paper 3 structural strength checking of trimaran bulkhead 3 1 bulkhead information and load case design in this section a special trimaran bulkhead structure is taken as the optimization object to optimize its structure topology the main parameters of bulkhead are shown in table 1 and the geometric shape of bulkhead is shown in fig 1 because the transverse bulkhead of trimaran has the symmetry of longitudinal mid section of the ship the half bulkhead model shown in fig 1 will be selected in this section for finite element calculation of bulkhead and the topological optimization of bulkhead will be carried out based on the calculation results in the absence of hydrodynamic loads on wet surface of trimaran the working conditions can be designed and checked in combination with rules for the classification of trimarans combining with the bulkhead model in this paper the load in this section is selected as follows horizontal bending moment fig 2 longitudinal torque fig 3 arch state in lateral separation moment fig 4 and vertical state in lateral separation moment fig 5 according to the rules for the classification of trimarans the approximate formula for calculating horizontal bending moment is as follows 5 m h d f l f f s e r v l r 2 d c b 0 7 6 l f 70 l r 100 2 5 l r 10 3 here m h is the horizontal bending moment d f is the longitudinal distribution factor 0 is taken at the bow and stern 1 is taken at the bow and stern and other positions are obtained by interpolation l f is the captain change factor f serv is the service area coefficient l r is the length between the main vertical lines d is the depth of the main hull c b is the square coefficient the expression for calculating the lateral bending moment at the connection between the bridge and the main body is as follows 7 m s p h 9 81 f s e r v w s h 1 a z y s h b m h 2 8 m s p s 9 81 f s e r v w s h δ 2 δ s h 2 a z y s h b m h 2 here m sph is the lateral separation bending moment mid arch w sh is the weight of a single hull which can be obtained by multiplying the total weight of the trimaran by the percentage of the drainage of a single hull a z is the vertical acceleration y sh is the distance from the center line of the hull to the center line of the main hull b mh is the main hull width δis the overall hull drainage and δ sh is the main hull drainage the transverse bending moment at the joint of the connecting bridge and the sheet is calculated as follows 9 m s p h 9 81 f s e r v w s h 1 a z y s h y 0 10 m s p s 9 81 f s e r v w s h δ 2 δ s h 2 a z y s h y 0 here y 0 is the transverse distance between the longitudinal section of the main hull and the connecting bridge the expression for calculating the longitudinal torque is as follows 11 m l t 7 5 t f f s e r v ρ v s h v c d v m h s 2 y c s a h c a v e here m lt is the longitudinal torque t f is the longitudinal torque distribution coefficient v sh is the volume of the slice v cd is the volume of the connecting bridge v mhs is the volume of the main body as the length of the slice y cs is the transverse section of the slice the distance between the central line of the connecting bridge and the central line of the main hull a hcave is the pitching acceleration combining with the optimized object in this paper the checking conditions in this section are as follows case1 0 3 transverse separation moment mid arch case 2 0 3 transverse separated case3 transverse separated bending moment mid arch 0 2 longitudinal torque case4 lateral separation moment mid vertical 0 2 longitudinal torque case5 0 3 horizontal moment 0 4 lateral separation moment middle arch longitudinal torque case6 horizontal moment 0 4 transverse separation moment mid arch case7 0 2 horizontal moment 0 6 lateral separation moment mid arch 3 2 finite element analysis of bulkhead structure of trimaran in this section the hydrostatic bending moment and transverse torsion are neglected in the calculation of bulkhead structural stress the structural stress of bulkhead under seven working conditions are calculated by ansys higher order triangular mesh and quadrilateral mesh with intermediate nodes are used to mesh bulkhead as shown in fig 6 a the results of stress distribution of bulkhead structure are shown in fig 6 b h the bulkhead structure will be loaded based on figs 2 5 and equations 5 11 according to the calculation results of fig 6 the maximum stress area of bulkhead mainly occurs near the connecting bridge and the bulkhead opening in case5 the maximum stress of bulkhead structure is 270 04 mpa the dangerous area is the bottom of connecting bridge and the vicinity of bulkhead opening in this case the bulkhead will be damaged therefore it is necessary to add reinforcement structure to bulkhead 4 optimization design of bulkhead structure although the stress value of bulkhead structure corresponding to case 5 is the largest and the bulkhead structure will be destroyed only in this case this section will carry out the topological optimization design of bulkhead structure under seven working conditions the optimized bulkhead structure is taken as the original reinforced structure of the un optimized bulkhead the optimal design will minimize the volume of the reinforced structure i e the optimized bulkhead as much as possible on the premise of ensuring the structural safety of bulkhead and reinforced structure in fig 7 a the blue area is the optimum area and the gray area is the preservation area under the constraints of 50 volume reduction in the optimized area the optimized and smoothed trimaran bulkhead structure is shown in fig 7 b h change the shape preservation of trimaran bulkhead optimization area the volume retention ratio of the optimized area is set to 0 50 55 60 65 respectively 95 100 and the bulkhead topology optimization the optimized bulkhead is used as a reinforcement structure and pasted on the un optimized bulkhead the strength of the new structure is checked again fig 8 shows the maximum stress of composite structures under different volume constraints from the results of fig 8 it can be seen that the maximum stress of the optimized composite structure are different under different volume constraints there is no positive correlation between the maximum stress and the volume retention ratio of composite structures for example in case 7 the maximum stress of bulkhead structure increases first and then decreases when the volume retention ratio of optimized area increases from 60 to 70 when the retention ratio increases from 65 to 75 the maximum stress of bulkhead structure will first decrease and then increase in addition fig 8 shows that the maximum stress of bulkhead reinforcement structure i e the optimized bulkhead structure with sticking on the unoptimized bulkhead is generally higher than that of bulkhead in section 3 the maximum stress of bulkhead in case 5 is far greater than the allowable stress of bulkhead from fig 8 e it can be seen that the structural stress of bulkhead decreases obviously with the attachment of reinforcement structure and the maximum stress of bulkhead and the maximum stress of reinforcement structure will change with the change of retention ratio of optimized area volume fig 9 shows the stress distribution of bulkhead structure with different volume conformity under condition 5 and fig 10 shows the corresponding stress distribution of reinforced structure combining figs 8 e figs 9 and 10 we can see that the maximum stress distribution area of the composite structure is concentrated under the connecting bridge and near the large opening the maximum stresses of bulkhead structure and reinforced structure are lower than the allowable stresses when the reinforced structure is added when the conformity ratio is reduced from 100 to 50 the stress of the composite structure does not increase significantly which indicates that if the structure is optimized reasonably the mass of the structure can be greatly reduced and the safety of the structure can be ensured in addition although the optimum region is far away from the large opening the change of its structural form will also influence the stress distribution in the dangerous region 5 optimized contrast and rationality verification fig 11 is the construction site of austal s trimaran the distribution of bulkhead structure and reinforcement can be seen in the figure according to the structure in the drawing the finite element model is established and the static analysis under seven working conditions are carried out based on the calculation results the bulkhead is topology optimized and the optimization results are shown in fig 12 by comparison the results of optimized bulkheads in case1 case5 are highly similar to those reinforcement in fig 11 which shows that the lightweight design of trimaran bulkheads based on topological optimization method is feasible 6 discussion and conclusion based on rules for the classification of trimarans this paper designs seven checking conditions for trimaran bulkhead structure and carries out topological optimization design and stress analysis for a particular trimaran bulkhead structure the optimized bulkhead can be used as a reinforcement structure to paste on the unoptimized bulkhead to obtain a new composite structure compared with the original structure the stress of the new structure is significantly reduced and in most cases the stress of the reinforced structure is higher than that of the bulkhead the optimized bulkhead structure has an effect on the stress distribution of the new structure there is no positive correlation between the stress amplitude of the new structure and the conformation ratio of the optimized region which indicates that the potential factors affecting the stress amplitude of the structure may include the location and shape of the material area removed the influence of these factors on structural strength needs to be verified by further research it should be noted that from the point of view of technology the optimized bulkhead is not easy to be pasted on the bulkhead as a reinforced structure however the material distribution area of the optimized structure can be used as a reference for the design of bulkhead reinforcement structures that is the reinforcement structures can be arranged in these areas in addition the optimization method in this paper can also be used as the optimization method of non watertight bulkhead by comparison the results of the optimized bulkhead are highly similar to the distribution of the actual bulkhead reinforcement structure in some cases which shows that the lightweight design of trimaran bulkhead and the design of the reinforced structure based on the topological optimization method are feasible appendix based on the results of the topological optimization in fig 12 the appendix establishes the reinforcement structure of the bulkhead according to the results of the material distribution of the topological optimization the bulkhead surface has a reinforced structure perpendicular to the bulkhead with a height of 0 2 m and a thickness of 10 mm the bulkhead has a reinforced structure with a thickness of 8 mm and a width of 0 1 m fig a1 shows the stress analysis results of the reinforced bulkhead image 1 similar to the results in section 4 the distribution of reinforcement structure will affect the stress distribution and stress amplitude of bulkhead structure the maximum stress is still distributed near the bulkhead connection bridge and the large opening 
22401,in order to improve the overall performance of trimaran the lightweight design of trimaran bulkhead is proposed by using structural topology optimization method and ensure that the trimaran bulkhead has sufficient structural strength while the structural quality is reduced seven structural strength checking conditions of trimaran are designed based on rules for the classification of trimarans variable density topology optimization method is applied to calculate the bulkhead structure of trimaran before and after optimization under different working conditions the results of calculation and optimization show that the stress distribution on the optimized bulkhead and the maximum stress of the optimized bulkhead with different volume constraint condition in special cases are different the maximum stress of the trimaran bulkhead before and after the bulkhead being optimized are most close in a specific case when the volume reduction rate is 50 by comparing with the design of the actual ship bulkhead the distribution of the connecting material of the optimized bulkhead is consistent with the distribution of the stiffeners of the trimaran bulkhead design and the optimization result has a high similarity with the actual ship bulkhead design keywords trimaran bulkhead structural strength topology optimization lightweight 1 introduction as a high performance ship trimaran has many advantages such as good stability and seakeeping low resistance under high speed sailing and full expansion of deck area military trimaran with large deck area has larger deck volume to deploy fire equipment and helicopters and good stability means strong survivability for high speed ships such as trimarans lightning the ship s structural quality can effectively improve the performance indicators of trimarans on the premise of ensuring the safety of the ship s structure compared with the research on hydrodynamic performance of trimaran the optimization design of trimaran structure develops slowly and there are less related researches yang dexi yang 2010 calculates the structural stress distribution of the connection bridge of trimaran three design methods are proposed to improve the structural strength of the connection bridge namely increasing the number of transverse bulkheads increasing the number of struts and increasing the thickness of wet deck the validity of the method is verified by checking calculation deng le and yang zhaohua deng 2008 yang 2008 made a preliminary structural design of the passenger ferry with trimaran based on multi hull ship data and checked the hull structure by finite element calculation according to its structural characteristics at the same time the performances of connection bridges with different structural forms were analyzed and compared the results show that the structure with dense stiffeners is the optimal structural form of ship connection bridges of the target type zhang li et al zhang and wang 2007 designed the boundary constraints on the basis of specifications by using centralized data of lsight software to optimize and analyze the ship structure this work laid the foundation for researchers to apply lsight software to ship structure optimization design widely zhang huixin zhang and yang 2015 focused on the application of shape optimization and topology optimization technology to optimize the structure of the ship bottom frame the weight of the optimized structure was reduced by 15 82 compared with the unoptimized weight ehlers 2012 applies particle swarm optimization pso to the optimization analysis of high strength steel ship structure when this method is applied to lng ship collision problem it can effectively optimize the utilization ratio of high strength steel for ship hull zhan chunbo zhan et al 2012 and others made strength analysis of trimaran structure with reference to the code of british lloyd s classification society and put forward suggestions for optimum design of trimaran structure on the basis of calculation results that is there is obvious stress concentration at the intersection of transverse bulkhead of main hull and connecting bridge of trimaran under transverse wave conditions which should be paid special attention to in the design of trimaran structure ren huilong ren et al 2012 et al used spectral analysis method to analyze the fatigue strength of a trimaran determined the structural parts of the connection bridge with serious fatigue problems and obtained the fatigue life values under typical load conditions through fatigue tests two trimaran hull forms hstt 180 and triferry were selected and optimized using the multi island genetic algorithm optimization process in du et al 2018 and the optimum structural weights were obtained the structural analysis of a trimaran was carried out and the results were analysed and high stress regions were determined and compared to admissible stresses to conclude the suitability of the structural arrangement to safely withstand the design loads fuentes et al 2015 compared with the traditional semi empirical design method the continuous structure topology optimization design method based on engineering mechanics principle and computer aided design technology bendsoe and kijuchi 1998 bendsoe 1989 xie and steven 1993 allaire et al 2002 and the discrete structure topology optimization design method cheng and guo 1997 su et al 2009 can better realize the lightweight design of ship structure and lighten the structure quality of trimaran on the premise of ensuring the safety of ship structure at present this method has been widely used in automobile civil engineering aerospace and other industries munk and verstraete 2017 oktay and akay 2011 xu et al 2018 patel and rokade 2018 raj and jonesb 2011 however there are few studies on the topological optimization of the main structures of trimarans in view of the current research situation this paper carries out load design on the basis of rules for the classification of trimarans lloyd s register lr 2006 which is the code of lloyd s classification society uk based on the preliminary design of the main non watertight bulkhead structure of a foreign trimaran the strength analysis of the target structure is carried out by using the finite element method at the same time on the premise of guaranteeing the structural strength conforms to the design specifications taking the minimum flexibility as the optimization objective the bulkhead structure is optimized by topology and the strength of the optimized bulkhead structure is analyzed and the stress situation under different working conditions and different weight reduction conditions is compared at the same time the optimization results of this paper are compared with the actual ship bulkhead and the results of trimaran transverse bulkhead topology optimization are evaluated which provides technical reference for ship main structure topology optimization design in this paper only the mechanical properties of the non watertight bulkhead of trimaran are discussed while the other structures and their overall properties as well as the manufacturing technology will be studied in the future 2 topology optimization 2 1 constructing an optimal model the basic idea of topology optimization is to find the optimal distribution of materials in a given design area choosing appropriate optimization objectives and establishing reasonable models are the basis of structural topology optimization in this paper an optimization model is established based on the variable density method which has the characteristics of simple sensitivity derivation and high calculation efficiency the optimization region is divided into finite units and the relative density of each unit is taken as the design variable the relative density of each unit is expressed as follows 1 ρ i 1 i ω m a t 0 i ω ω m a t among them ρ i is the relative density of the unit i is the label of the finite unit ω m a t is the area of retaining material ω is the whole design area ρ i 1 is the existence of material in the area and vice versa it is the absence of material in the area fig 1 is the optimized model in this paper according to the relative density of the unit it can be obtained 2 ω ρ i ⅆ ω v 0 0 ρ i 1 i ω in the formula v 0 represents the total volume of the design domain the model expression with the objective of minimizing structural flexibility under volume constraints is as follows 3 f i n d ρ i i 1 2 m min c f t u s t v v 0 f 0 k u f 0 ρ min ρ i 1 in the formula m is the total number of units and objective function c represents the total structural compliance f is the overall load vector and u is the displacement vector v represents the optimized total volume and f is the volume ratio k is the global stiffness matrix in order to prevent the singularity of stiffness matrix the lower limit of relative density of element is introduced ρ min 0 001 2 2 solution algorithms and sensitivity analysis after the model is established the sensitivity values of the constraint function and the objective function are generally required when solving the topology optimization problem in order to avoid solving the discrete value design problem olsen and vanderplaats 1989 0 1 problem zhou and rozvany 1991 proposed penalty solid isotropic microstructures simp model the relationship between the elastic modulus of the element and the relative density of the element is as follows 4 e i ρ i p e i 0 i 1 2 m in the formula e i is the modulus of elasticity of the i th element e i 0 is the inherent modulus of elasticity of the i th element p is the penalty factor and its function is to reduce the middle density region and make the relative density of the element approach 0 or 1 as far as possible bendsoe and sigmund 2003 give the conditions that the real model of simp difference needs to satisfy namely 5 p p max 2 1 γ 0 4 1 γ 0 2 d 6 p p max 15 1 γ 0 7 5 γ 0 3 2 1 γ 0 1 2 γ 0 3 d for a given poisson s ratio of material when the value of γ 0 is different corresponding to different penalty factor lower limit p sensitivity analysis of minimum compliance of objective function is carried out the expression of total compliance is as follows 7 c f t u u ˆ t k u f where u ˆ is an arbitrary vector formula 4 partial derivatives of relative density variables ρ i of elements on both sides are obtained 8 c ρ i f t u ˆ t k u ρ i u ˆ t k ρ i u k has symmetry by establishing the adjoint equation k u ˆ f then 9 c ρ i u ˆ t k ρ i u then according to the interpolation relation in formula 3 the final sensitivity expression of the objective function can be simplified as follows 10 c ρ i p ρ i p 1 u i t k i 0 u i the u i is the displacement vector corresponding to the i th element and the k i 0 is the initial element stiffness matrix of the i th element 3 topological optimization design of trimaran bulkhead structure 3 1 load calculation and working condition design taking the general trimaran bulkhead structure as the optimum structure the yield strength of bulkhead material σ s 235 mpa the allowable stress σ e 235 0 85 199 75 mpa young s modulus e 2 1 10 5 mpa poisson s ratio υ 0 3 steel density ρ 7850 kg m3 and bulkhead thickness 10 mm are selected the effect of corrosion margin for 20 years of ship life is taken into account in this thickness because of the symmetry of the structure half bulkhead is selected for stress analysis and structural topology optimization rules for the classification of trimarans stipulates that the connection bridge of trimaran is one of the key points of strength checking combining rules for the classification of trimarans with the bulkhead structure selected in this paper the selected loads are horizontal bending moment fig 2 arch state in lateral separation moment fig 3 and vertical state in lateral separation moment fig 4 according to the empirical formula given by rules for the classification of trimarans the approximate formula for calculating horizontal bending moment is as follows 11 m h d f l f f s e r v l r 2 d c b 0 7 12 l f 70 l r 100 2 5 l r 10 3 in the formula m h is the horizontal bending moment d f is the longitudinal distribution factor 0 is taken at the bow and stern 1 is taken at the bow and stern and other positions are obtained by interpolation l f is the captain change factor f serv is the service area coefficient l r is the length between the main vertical lines d is the depth of the main hull c b is the block coefficient of the main hull the expression for calculating the lateral bending moment at the connection between the bridge and the main body is as follows 13 m s p h 9 81 f s e r v w s h 1 a z y s h b m h 2 14 m s p s 9 81 f s e r v w s h δ 2 δ s h 2 a z y s h b m h 2 m sph is the lateral separation bending moment mid arch w sh is the weight of a single hull which can be obtained by multiplying the total weight of the trimaran by the percentage of the drainage of a single hull a z is the vertical acceleration y sh is the distance from the center line of the hull to the center line of the main hull b mh is the main hull width δ is the overall hull drainage and δ sh is the main hull drainage the transverse bending moment at the joint of the connecting bridge and the sheet is calculated as follows 15 m s p h 9 81 f s e r v w s h 1 a z y s h y 0 16 m s p s 9 81 f s e r v w s h δ 2 δ s h 2 a z y s h y 0 among them y 0 is the transverse distance between the longitudinal section of the main hull and the connecting bridge combining with the optimized object in this paper the checking conditions in this section are shown in table 1 3 2 finite element analysis of three body ship bulkhead structure because ansys has been widely used in the field of ship structure analysis and there are also some topology optimization work based on ansys in this paper ansys is applied to calculate the response of bulkhead structure and to do the topology optimization of bulkhead structure because there is no complete data of trimaran it is impossible to use static method to calculate hydrostatic bending moment and other loads in addition considering the analysis object because some loads have little influence on the optimization results this paper does not take these loads into account in the finite element analysis of bulkhead structure such as hydrostatic bending moment transverse torsion etc in reference strang and fix 1973 it is pointed out that the sensitivity of the mesh and the convergence of the calculation are related to the geometric shape of the mesh and the size of element relative to the structure in the finite element analysis of bulkhead it is necessary to ensure that the mesh has good quality in the application of ansys to static structural analysis good mesh quality can ensure that the mesh has sufficient sensitivity and good convergence nine different mesh metrics are used in ansys to evaluate the quality of meshes the parallel deviation and maximum corner angle of these mesh metrics can be used to describe the geometric shape of the mesh mentioned above in this research element quality metric is applied to evaluate the mesh quality good sensitivity and good convergence can be acquired by good mesh quality in the finite element analysis of bulkhead structure in this section we use the global mesh size of 200 mm 150 mm 100 mm and 50 mm to mesh the bulkhead and use the first order element and the second order element to mesh the bulkhead with the mesh size of 200 mm the shape of the mesh is mainly quadrilateral and some areas are triangular after the bulkhead is meshed the mesh quality corresponding to different mesh is given as shown in fig 5 information on the number of elements and nodes is shown in table 2 comparing a with b in table 2 it can be found that the number of nodes obtained by meshing based on quadratic elements is about three times as much as that of the mesh based on linear elements however the element quality of the one based on quadratic is much better than that of the mesh based on linear element according to fig 5a and b according to fig 5 and table 2 when the global mesh size decreases from 200 mm to 100 mm the element and node number will increase the quality of the mesh will gradually improve and the number and percentage of high quality elements will increase when the global mesh size is 50 mm the grid quality of bulkhead is higher than before however in this case the element and node number are about four times as much as the number when the global size is 100 mm larger node number will lead to longer computation time considering the mesh quality and computing time the global mesh size of the bulkhead is set as 100 mm and quadratic elements are accepted the results of stress distribution of bulkhead structure under different working conditions are obtained by finite element software as shown in fig 6 the maximum stress values under different working conditions before optimization of bulkhead structure are shown in table 3 table 3 shows that the maximum stress of bulkhead structure under case 5 is 189 1 mpa and higher stress area appears at the connecting bridge and opening near main hull the maximum stress of bulkhead structure under each checking condition is smaller than the allowable stress of material therefore the strength requirements are met in all seven working conditions 3 3 topology optimization analysis of bulkhead structure section 2 2 shows that the stress value of the trimaran bulkhead corresponding to case5 is the largest 189 1 mpa in this section the trimaran bulkhead structure under case5 will be topologically optimized firstly to minimize the bulkhead volume while ensuring the safety of the bulkhead structure the blue area in fig 7 is the optimum area and the gray area is the conformal area taking the volume reduction of trimaran bulkhead optimization area as constraint condition the trimaran bulkhead structure smoothed under case5 is imported into the finite element software for static structure analysis and the stress distribution of trimaran bulkhead structure after optimization is obtained the results are shown in fig 8 fig 9 highlights the area with higher stress comparing the calculation results of figs 8 and 6 under case5 it can be seen that the maximum stress of trimaran bulkhead structure before and after topological optimization is similar under the same computational load and constraints in oblique waves the maximum stress value of the optimized bulkhead structure is 188 53 mpa which is 0 57 mpa different from the maximum stress value of the optimized bulkhead structure from the stress distribution map it can be seen that the higher stress of the trimaran bulkhead structure is located at the connecting bridge and opening near main hull especially at the big opening near the main hull it can be concluded that the maximum stress value and stress distribution of the trimaran bulkhead structure are basically the same before and after the topological optimization in this case change the shape preservation of trimaran bulkhead optimization area the volume reduction ratio of modified optimization area is 5 10 15 20 25 30 35 40 45 and 50 respectively fig 10 and fig 11 are the stress result of trimaran bulkhead topology optimization under different volume constraints of case5 in fig 11 very higher stress area are highlighted under different volume constraints the smooth trimaran bulkhead structure is imported into the finite element software for static structural analysis and the maximum stress results of the optimized trimaran bulkhead structure are obtained as shown in table 4 the results in table 4 show that the stress distribution and maximum stress of the optimized trimaran bulkhead are different under different volume constraints of case5 there is no positive correlation between the volume reduction ratio and the maximum stress of bulkhead structure for example when the volume reduction ratio is 20 the maximum stress of bulkhead is higher than that of bulkhead when the volume reduction ratio is 15 and 35 when the volume reduction ratio is 40 the maximum stress of bulkhead is lower than that of bulkhead when the volume reduction ratio is 35 and 45 when the volume reduction ratio is 20 the maximum stress of bulkhead is closest to that of case5 before optimization when the volume of trimaran bulkhead is reduced by 30 the bulkhead structure is more reasonable and the maximum stress is less than the initial stress at this time there are no superfluous accessory structures and micro porous structures in bulkhead structure material layout based on the above calculation results we find that in case5 case the higher stress area mainly distributes at connecting bridge and big opening near the main hull however when volume reduction ratio is further increased the area where higher stress occurs may change fig 12 shows the topology optimization result of trimaran bulkhead with 60 reduction ratio when the volume reduction is higher the optimized bulkhead will be porous these holes are very small and the number of these holes is large compared with the lower volume reduction case this phenomenon will make the optimized model difficult to be smoothed however when the volume reduction ratio is 100 the bulkhead structure in the optimized area will be completely removed and the stress of bulkhead structure in this extreme state can be calculated fig 13 shows the stress distribution of bulkhead with 100 volume reduction ratio from fig 13 we can find that the area with higher stress not only appears at connecting bridge and big opening near the main hull the stress of bulkhead near the large opening of side appendage also increases the stress in this area is generally higher even higher than that of the connecting bridge this result shows that it is possible to change the higher stress distribution area of the structure by increasing the volume reduction ratio and it is meaningful to optimize the structure of non watertight bulkhead reasonably in future research the way to prevent the occurrence of porous phenomenon can be studied and the effect of higher volume reduction ratio on structural stress can also be studied on the other hand the stress distribution is different from each load case so the after weight reduction the maximum stress can be generated for other loading condition at other location due to the reason mentioned above here stress analysis of the optimized bulkhead with 20 volume reduction ratio in case5 are carried here with the load in case1 case2 case3 case4 case6 and case7 case5 is already discussed previously in fig 8 as shown in fig 14 in case1 2 3 4 and 7 higher stress appears at connecting bridge and big opening near the main hull while in case6 it appears not only at that two areas in appendix a more optimization examples and stress distribution calculation of the optimized structure are performed although it is not easily to quantitatively analyzed the effect of volume reduction ratio on stress of the structure for the time being by comparing the optimization results with each other especially with the extreme case the influence of work cases on the stress distribution region of structures can be qualitatively analyzed and the significance of topological optimization for non watertight bulkheads can also be illustrate 3 4 optimized contrast and rationality verification fig 15 is the construction site of austal s trimaran the structure of bulkhead and the distribution of reinforcement can be seen in the figure according to the structure in the figure the finite element model is established and the static analysis is carried out fig 16 the optimized structure is compared with the bulkhead in fig 15 to verify the rationality of the application of structural topology optimization in ship here conventional type of stiffeners attached to plating is used instead of corrugated plating in modeling here because it is a little complicated to use corrugated plating in modeling although the effect of corrugated plating cannot be completely replaced by conventional type of stiffeners attached to plating in modeling the bulkhead structure can be described at a certain level by using conventional type of stiffeners attached to plating in addition it is easier to mesh bulkhead structure with conventional type of stiffeners attached to plating modeling than with corrugated plating modeling the results show that the maximum stress of the bulkhead structure under case5 is 191 8 mpa which is less than the allowable stress of the material compared with the maximum stress of the original bulkhead structure the maximum stress of the bulkhead is only 2 7 mpa and the stress distribution in the connecting bridge area is basically the same then by changing the shape preservation of trimaran bulkhead volume the volume reduction ratios in the design domain are 20 30 40 and 50 respectively the structural topology optimization is carried out fig 17 is a stress cloud diagram of the actual ship bulkhead optimized under different volume ratio constraints the results are shown in table 5 table 5 shows that the maximum stress of bulkhead is the closest to the maximum stress of case5 before optimization when the volume of bulkhead optimization area decreases by 30 and again shows that there is no positive correlation between the volume reduction ratio and the maximum stress of bulkhead structure when the volume of bulkhead optimization area decreases by 40 the maximum stress of bulkhead optimization area is basically equal to the allowable stress of material and the maximum stress is 199 69 mpa the distribution of retained connecting materials in the optimized bulkhead is consistent with the number and distribution of bulkhead stiffeners in fig 15 and the structural optimization is more reasonable 4 structure response considering longitudinal member in this section some structural response calculations taking longitudinal member into account will be performed in order to discuss weight optimization for non watertight bulkhead set the distance between two adjacent frames to 700 mm there are 14 frames in the ship hull structure in this section two watertight bulkheads are away from two frames at each end respectively the non watertight bulkhead is in the middle frame in this section all frames and longitudinal members are modeled using beam elements the section size of the beam is 90 4 mm2 plate thickness is 10 mm the hull in this section is subjected to same hydrostatic and gravity fig 18 fig 20 show the total deformation the axial force and bending moment distribution of the beam structures including frames and longitudinal members the structure response of neighboring frames of the optimized bulkhead can also be acquired five different optimized bulkheads are randomly selected and applied to the calculation in this section in addition unoptimized bulkheads and bulkheads with volume reduction ratio 100 are also selected finally frames with the same external contour as bulkheads are also selected to replace non watertight bulkheads briefly speaking eight sets of calculations are performed from figs 18 20 it can be inferred that volume reduction ratio and the location distribution of the removal area are all factors affecting the structural response particularly when the volume reduction ratio is 35 optimized bulkheads from different cases lead to different structure response besides the structural response in the case with a frame instead of optimized bulkhead is the largest higher than that in case the case with an optimized bulkhead this phenomenon shows that it is necessary to use a non watertight bulkhead in the hull structure meanwhile the structural response in the case with a 100 reduction ratio optimized bulkhead is higher than that in case with a less than 100 reduction ratio optimized bulkhead and the structural response in case with a less than 100 reduction ratio optimized bulkhead is higher than that in case with a unoptimized bulkhead therefore reasonable optimum design schemes will be needed to reduce the weight of the structure while ensuring the safety of the structure although the structural modeling of the hull here is not entirely true qualitative design suggestions for the work of ship bulkhead structural topology optimization can be given based on the calculation results besides partial but incomplete quantitative explanations can also be given which is sufficient to illustrate the significance of topology optimization work based on above result 5 conclusion in this paper seven checking conditions of trimaran bulkhead structure are designed according to rules for the classification of trimarans topological optimization design and stress analysis of a special trimaran non watertight bulkhead structure are carried out the results of bulkhead optimization are compared with those of real ship bulkhead design the results show that 1 under the same specific working condition the stress distribution and maximum stress of trimaran bulkhead are different with different volume reduction ratios as constraints there is no positive correlation between volume reduction ratios and maximum stress of bulkhead structure it is unreasonable to reduce the bulkhead stress by increasing the volume conformity ratio reasonable material distribution should be adopted to reduce the bulkhead stress and reduce the bulkhead structure weight 2 the non watertight bulkhead of trimaran is optimized by variable density topology optimization method the optimum material layout in the design area is obtained the weight of bulkhead structure is well controlled and the volume of bulkhead optimization area is reduced by 50 the maximum stress of bulkhead structure after optimization is close to the maximum stress of bulkhead structure before optimization and the stress distribution before and after optimization is basically the same 3 by comparing with the actual bulkhead structure when the volume of the optimized area is reduced by 30 the distribution of connecting materials in the bulkhead after optimization is consistent with the distribution of bulkhead reinforcement in fig 15 which fully verifies the rationality of the structural topology optimization method used in this paper 4 if the bulkhead of trimaran is watertight bulkhead the bulkhead structure design in fig 15 is applied if the bulkhead of trimaran is non watertight bulkhead the bulkhead structure optimized in this paper can effectively reduce the weight of bulkhead structure within the allowable stress range of material the lightweight design of trimaran can be realized by topological optimization method on the premise that the strength of bulkhead structure is basically unchanged when the high stress area of bulkhead is concentrated the structure can be designed by means of local reinforcement however when the volume reduction ratio is particularly high e g close to 100 the distribution of high stress area is relatively uniform in this case a reasonable topology optimization design will be more meaningful when the volume reduction is higher the optimized bulkhead will be porous these holes are very small and the number of these holes is large compared with the lower volume reduction case this phenomenon will make the optimized model difficult to be smoothed in future research the way to prevent the occurrence of porous phenomenon can be studied and the effect of higher volume reduction ratio on structural stress can also be studied the main meaning of the optimization analysis performed in this paper could be regarded as reference for case5 since case5 causes the maximum stress distribution the design of non watertight bulkheads based on topological optimization can be further discussed by calculating the response of trimaran structures with more detailed load design and structural design and optimizing the design of non watertight bulkheads what this paper does is to design a specific structure which needs to be further divided into sections and the overall structure design can be discussed in future research what about industrialization should be explained and also discussed in future research acknowledgement we thank mr yaoze zhuang of dalian university of technology and mr qisheng sun of china classification society for their help in writing and revising papers appendix a topology optimization and stress analysis of the bulkhead in case1 case2 case3 case4 case6 and case7 in this section topology optimization and stress analysis of the bulkhead in case1 case2 case3 case4 case6 and case7 with different volume reduction ratio are performed image 1 image 2 image 3 image 4 image 5 image 6 image 7 image 8 image 9 image 10 image 11 image 12 image 13 image 14 image 15 image 16 image 17 image 18 image 19 in addition the structural stress distribution of bulkhead structure with volume reduction ratio 100 under six cases are also given here image 20 image 21 when the volume reduction ratio is particularly high e g close to 100 the distribution of high stress area is relatively uniform in this case a reasonable topology optimization design will be more meaningful 
22401,in order to improve the overall performance of trimaran the lightweight design of trimaran bulkhead is proposed by using structural topology optimization method and ensure that the trimaran bulkhead has sufficient structural strength while the structural quality is reduced seven structural strength checking conditions of trimaran are designed based on rules for the classification of trimarans variable density topology optimization method is applied to calculate the bulkhead structure of trimaran before and after optimization under different working conditions the results of calculation and optimization show that the stress distribution on the optimized bulkhead and the maximum stress of the optimized bulkhead with different volume constraint condition in special cases are different the maximum stress of the trimaran bulkhead before and after the bulkhead being optimized are most close in a specific case when the volume reduction rate is 50 by comparing with the design of the actual ship bulkhead the distribution of the connecting material of the optimized bulkhead is consistent with the distribution of the stiffeners of the trimaran bulkhead design and the optimization result has a high similarity with the actual ship bulkhead design keywords trimaran bulkhead structural strength topology optimization lightweight 1 introduction as a high performance ship trimaran has many advantages such as good stability and seakeeping low resistance under high speed sailing and full expansion of deck area military trimaran with large deck area has larger deck volume to deploy fire equipment and helicopters and good stability means strong survivability for high speed ships such as trimarans lightning the ship s structural quality can effectively improve the performance indicators of trimarans on the premise of ensuring the safety of the ship s structure compared with the research on hydrodynamic performance of trimaran the optimization design of trimaran structure develops slowly and there are less related researches yang dexi yang 2010 calculates the structural stress distribution of the connection bridge of trimaran three design methods are proposed to improve the structural strength of the connection bridge namely increasing the number of transverse bulkheads increasing the number of struts and increasing the thickness of wet deck the validity of the method is verified by checking calculation deng le and yang zhaohua deng 2008 yang 2008 made a preliminary structural design of the passenger ferry with trimaran based on multi hull ship data and checked the hull structure by finite element calculation according to its structural characteristics at the same time the performances of connection bridges with different structural forms were analyzed and compared the results show that the structure with dense stiffeners is the optimal structural form of ship connection bridges of the target type zhang li et al zhang and wang 2007 designed the boundary constraints on the basis of specifications by using centralized data of lsight software to optimize and analyze the ship structure this work laid the foundation for researchers to apply lsight software to ship structure optimization design widely zhang huixin zhang and yang 2015 focused on the application of shape optimization and topology optimization technology to optimize the structure of the ship bottom frame the weight of the optimized structure was reduced by 15 82 compared with the unoptimized weight ehlers 2012 applies particle swarm optimization pso to the optimization analysis of high strength steel ship structure when this method is applied to lng ship collision problem it can effectively optimize the utilization ratio of high strength steel for ship hull zhan chunbo zhan et al 2012 and others made strength analysis of trimaran structure with reference to the code of british lloyd s classification society and put forward suggestions for optimum design of trimaran structure on the basis of calculation results that is there is obvious stress concentration at the intersection of transverse bulkhead of main hull and connecting bridge of trimaran under transverse wave conditions which should be paid special attention to in the design of trimaran structure ren huilong ren et al 2012 et al used spectral analysis method to analyze the fatigue strength of a trimaran determined the structural parts of the connection bridge with serious fatigue problems and obtained the fatigue life values under typical load conditions through fatigue tests two trimaran hull forms hstt 180 and triferry were selected and optimized using the multi island genetic algorithm optimization process in du et al 2018 and the optimum structural weights were obtained the structural analysis of a trimaran was carried out and the results were analysed and high stress regions were determined and compared to admissible stresses to conclude the suitability of the structural arrangement to safely withstand the design loads fuentes et al 2015 compared with the traditional semi empirical design method the continuous structure topology optimization design method based on engineering mechanics principle and computer aided design technology bendsoe and kijuchi 1998 bendsoe 1989 xie and steven 1993 allaire et al 2002 and the discrete structure topology optimization design method cheng and guo 1997 su et al 2009 can better realize the lightweight design of ship structure and lighten the structure quality of trimaran on the premise of ensuring the safety of ship structure at present this method has been widely used in automobile civil engineering aerospace and other industries munk and verstraete 2017 oktay and akay 2011 xu et al 2018 patel and rokade 2018 raj and jonesb 2011 however there are few studies on the topological optimization of the main structures of trimarans in view of the current research situation this paper carries out load design on the basis of rules for the classification of trimarans lloyd s register lr 2006 which is the code of lloyd s classification society uk based on the preliminary design of the main non watertight bulkhead structure of a foreign trimaran the strength analysis of the target structure is carried out by using the finite element method at the same time on the premise of guaranteeing the structural strength conforms to the design specifications taking the minimum flexibility as the optimization objective the bulkhead structure is optimized by topology and the strength of the optimized bulkhead structure is analyzed and the stress situation under different working conditions and different weight reduction conditions is compared at the same time the optimization results of this paper are compared with the actual ship bulkhead and the results of trimaran transverse bulkhead topology optimization are evaluated which provides technical reference for ship main structure topology optimization design in this paper only the mechanical properties of the non watertight bulkhead of trimaran are discussed while the other structures and their overall properties as well as the manufacturing technology will be studied in the future 2 topology optimization 2 1 constructing an optimal model the basic idea of topology optimization is to find the optimal distribution of materials in a given design area choosing appropriate optimization objectives and establishing reasonable models are the basis of structural topology optimization in this paper an optimization model is established based on the variable density method which has the characteristics of simple sensitivity derivation and high calculation efficiency the optimization region is divided into finite units and the relative density of each unit is taken as the design variable the relative density of each unit is expressed as follows 1 ρ i 1 i ω m a t 0 i ω ω m a t among them ρ i is the relative density of the unit i is the label of the finite unit ω m a t is the area of retaining material ω is the whole design area ρ i 1 is the existence of material in the area and vice versa it is the absence of material in the area fig 1 is the optimized model in this paper according to the relative density of the unit it can be obtained 2 ω ρ i ⅆ ω v 0 0 ρ i 1 i ω in the formula v 0 represents the total volume of the design domain the model expression with the objective of minimizing structural flexibility under volume constraints is as follows 3 f i n d ρ i i 1 2 m min c f t u s t v v 0 f 0 k u f 0 ρ min ρ i 1 in the formula m is the total number of units and objective function c represents the total structural compliance f is the overall load vector and u is the displacement vector v represents the optimized total volume and f is the volume ratio k is the global stiffness matrix in order to prevent the singularity of stiffness matrix the lower limit of relative density of element is introduced ρ min 0 001 2 2 solution algorithms and sensitivity analysis after the model is established the sensitivity values of the constraint function and the objective function are generally required when solving the topology optimization problem in order to avoid solving the discrete value design problem olsen and vanderplaats 1989 0 1 problem zhou and rozvany 1991 proposed penalty solid isotropic microstructures simp model the relationship between the elastic modulus of the element and the relative density of the element is as follows 4 e i ρ i p e i 0 i 1 2 m in the formula e i is the modulus of elasticity of the i th element e i 0 is the inherent modulus of elasticity of the i th element p is the penalty factor and its function is to reduce the middle density region and make the relative density of the element approach 0 or 1 as far as possible bendsoe and sigmund 2003 give the conditions that the real model of simp difference needs to satisfy namely 5 p p max 2 1 γ 0 4 1 γ 0 2 d 6 p p max 15 1 γ 0 7 5 γ 0 3 2 1 γ 0 1 2 γ 0 3 d for a given poisson s ratio of material when the value of γ 0 is different corresponding to different penalty factor lower limit p sensitivity analysis of minimum compliance of objective function is carried out the expression of total compliance is as follows 7 c f t u u ˆ t k u f where u ˆ is an arbitrary vector formula 4 partial derivatives of relative density variables ρ i of elements on both sides are obtained 8 c ρ i f t u ˆ t k u ρ i u ˆ t k ρ i u k has symmetry by establishing the adjoint equation k u ˆ f then 9 c ρ i u ˆ t k ρ i u then according to the interpolation relation in formula 3 the final sensitivity expression of the objective function can be simplified as follows 10 c ρ i p ρ i p 1 u i t k i 0 u i the u i is the displacement vector corresponding to the i th element and the k i 0 is the initial element stiffness matrix of the i th element 3 topological optimization design of trimaran bulkhead structure 3 1 load calculation and working condition design taking the general trimaran bulkhead structure as the optimum structure the yield strength of bulkhead material σ s 235 mpa the allowable stress σ e 235 0 85 199 75 mpa young s modulus e 2 1 10 5 mpa poisson s ratio υ 0 3 steel density ρ 7850 kg m3 and bulkhead thickness 10 mm are selected the effect of corrosion margin for 20 years of ship life is taken into account in this thickness because of the symmetry of the structure half bulkhead is selected for stress analysis and structural topology optimization rules for the classification of trimarans stipulates that the connection bridge of trimaran is one of the key points of strength checking combining rules for the classification of trimarans with the bulkhead structure selected in this paper the selected loads are horizontal bending moment fig 2 arch state in lateral separation moment fig 3 and vertical state in lateral separation moment fig 4 according to the empirical formula given by rules for the classification of trimarans the approximate formula for calculating horizontal bending moment is as follows 11 m h d f l f f s e r v l r 2 d c b 0 7 12 l f 70 l r 100 2 5 l r 10 3 in the formula m h is the horizontal bending moment d f is the longitudinal distribution factor 0 is taken at the bow and stern 1 is taken at the bow and stern and other positions are obtained by interpolation l f is the captain change factor f serv is the service area coefficient l r is the length between the main vertical lines d is the depth of the main hull c b is the block coefficient of the main hull the expression for calculating the lateral bending moment at the connection between the bridge and the main body is as follows 13 m s p h 9 81 f s e r v w s h 1 a z y s h b m h 2 14 m s p s 9 81 f s e r v w s h δ 2 δ s h 2 a z y s h b m h 2 m sph is the lateral separation bending moment mid arch w sh is the weight of a single hull which can be obtained by multiplying the total weight of the trimaran by the percentage of the drainage of a single hull a z is the vertical acceleration y sh is the distance from the center line of the hull to the center line of the main hull b mh is the main hull width δ is the overall hull drainage and δ sh is the main hull drainage the transverse bending moment at the joint of the connecting bridge and the sheet is calculated as follows 15 m s p h 9 81 f s e r v w s h 1 a z y s h y 0 16 m s p s 9 81 f s e r v w s h δ 2 δ s h 2 a z y s h y 0 among them y 0 is the transverse distance between the longitudinal section of the main hull and the connecting bridge combining with the optimized object in this paper the checking conditions in this section are shown in table 1 3 2 finite element analysis of three body ship bulkhead structure because ansys has been widely used in the field of ship structure analysis and there are also some topology optimization work based on ansys in this paper ansys is applied to calculate the response of bulkhead structure and to do the topology optimization of bulkhead structure because there is no complete data of trimaran it is impossible to use static method to calculate hydrostatic bending moment and other loads in addition considering the analysis object because some loads have little influence on the optimization results this paper does not take these loads into account in the finite element analysis of bulkhead structure such as hydrostatic bending moment transverse torsion etc in reference strang and fix 1973 it is pointed out that the sensitivity of the mesh and the convergence of the calculation are related to the geometric shape of the mesh and the size of element relative to the structure in the finite element analysis of bulkhead it is necessary to ensure that the mesh has good quality in the application of ansys to static structural analysis good mesh quality can ensure that the mesh has sufficient sensitivity and good convergence nine different mesh metrics are used in ansys to evaluate the quality of meshes the parallel deviation and maximum corner angle of these mesh metrics can be used to describe the geometric shape of the mesh mentioned above in this research element quality metric is applied to evaluate the mesh quality good sensitivity and good convergence can be acquired by good mesh quality in the finite element analysis of bulkhead structure in this section we use the global mesh size of 200 mm 150 mm 100 mm and 50 mm to mesh the bulkhead and use the first order element and the second order element to mesh the bulkhead with the mesh size of 200 mm the shape of the mesh is mainly quadrilateral and some areas are triangular after the bulkhead is meshed the mesh quality corresponding to different mesh is given as shown in fig 5 information on the number of elements and nodes is shown in table 2 comparing a with b in table 2 it can be found that the number of nodes obtained by meshing based on quadratic elements is about three times as much as that of the mesh based on linear elements however the element quality of the one based on quadratic is much better than that of the mesh based on linear element according to fig 5a and b according to fig 5 and table 2 when the global mesh size decreases from 200 mm to 100 mm the element and node number will increase the quality of the mesh will gradually improve and the number and percentage of high quality elements will increase when the global mesh size is 50 mm the grid quality of bulkhead is higher than before however in this case the element and node number are about four times as much as the number when the global size is 100 mm larger node number will lead to longer computation time considering the mesh quality and computing time the global mesh size of the bulkhead is set as 100 mm and quadratic elements are accepted the results of stress distribution of bulkhead structure under different working conditions are obtained by finite element software as shown in fig 6 the maximum stress values under different working conditions before optimization of bulkhead structure are shown in table 3 table 3 shows that the maximum stress of bulkhead structure under case 5 is 189 1 mpa and higher stress area appears at the connecting bridge and opening near main hull the maximum stress of bulkhead structure under each checking condition is smaller than the allowable stress of material therefore the strength requirements are met in all seven working conditions 3 3 topology optimization analysis of bulkhead structure section 2 2 shows that the stress value of the trimaran bulkhead corresponding to case5 is the largest 189 1 mpa in this section the trimaran bulkhead structure under case5 will be topologically optimized firstly to minimize the bulkhead volume while ensuring the safety of the bulkhead structure the blue area in fig 7 is the optimum area and the gray area is the conformal area taking the volume reduction of trimaran bulkhead optimization area as constraint condition the trimaran bulkhead structure smoothed under case5 is imported into the finite element software for static structure analysis and the stress distribution of trimaran bulkhead structure after optimization is obtained the results are shown in fig 8 fig 9 highlights the area with higher stress comparing the calculation results of figs 8 and 6 under case5 it can be seen that the maximum stress of trimaran bulkhead structure before and after topological optimization is similar under the same computational load and constraints in oblique waves the maximum stress value of the optimized bulkhead structure is 188 53 mpa which is 0 57 mpa different from the maximum stress value of the optimized bulkhead structure from the stress distribution map it can be seen that the higher stress of the trimaran bulkhead structure is located at the connecting bridge and opening near main hull especially at the big opening near the main hull it can be concluded that the maximum stress value and stress distribution of the trimaran bulkhead structure are basically the same before and after the topological optimization in this case change the shape preservation of trimaran bulkhead optimization area the volume reduction ratio of modified optimization area is 5 10 15 20 25 30 35 40 45 and 50 respectively fig 10 and fig 11 are the stress result of trimaran bulkhead topology optimization under different volume constraints of case5 in fig 11 very higher stress area are highlighted under different volume constraints the smooth trimaran bulkhead structure is imported into the finite element software for static structural analysis and the maximum stress results of the optimized trimaran bulkhead structure are obtained as shown in table 4 the results in table 4 show that the stress distribution and maximum stress of the optimized trimaran bulkhead are different under different volume constraints of case5 there is no positive correlation between the volume reduction ratio and the maximum stress of bulkhead structure for example when the volume reduction ratio is 20 the maximum stress of bulkhead is higher than that of bulkhead when the volume reduction ratio is 15 and 35 when the volume reduction ratio is 40 the maximum stress of bulkhead is lower than that of bulkhead when the volume reduction ratio is 35 and 45 when the volume reduction ratio is 20 the maximum stress of bulkhead is closest to that of case5 before optimization when the volume of trimaran bulkhead is reduced by 30 the bulkhead structure is more reasonable and the maximum stress is less than the initial stress at this time there are no superfluous accessory structures and micro porous structures in bulkhead structure material layout based on the above calculation results we find that in case5 case the higher stress area mainly distributes at connecting bridge and big opening near the main hull however when volume reduction ratio is further increased the area where higher stress occurs may change fig 12 shows the topology optimization result of trimaran bulkhead with 60 reduction ratio when the volume reduction is higher the optimized bulkhead will be porous these holes are very small and the number of these holes is large compared with the lower volume reduction case this phenomenon will make the optimized model difficult to be smoothed however when the volume reduction ratio is 100 the bulkhead structure in the optimized area will be completely removed and the stress of bulkhead structure in this extreme state can be calculated fig 13 shows the stress distribution of bulkhead with 100 volume reduction ratio from fig 13 we can find that the area with higher stress not only appears at connecting bridge and big opening near the main hull the stress of bulkhead near the large opening of side appendage also increases the stress in this area is generally higher even higher than that of the connecting bridge this result shows that it is possible to change the higher stress distribution area of the structure by increasing the volume reduction ratio and it is meaningful to optimize the structure of non watertight bulkhead reasonably in future research the way to prevent the occurrence of porous phenomenon can be studied and the effect of higher volume reduction ratio on structural stress can also be studied on the other hand the stress distribution is different from each load case so the after weight reduction the maximum stress can be generated for other loading condition at other location due to the reason mentioned above here stress analysis of the optimized bulkhead with 20 volume reduction ratio in case5 are carried here with the load in case1 case2 case3 case4 case6 and case7 case5 is already discussed previously in fig 8 as shown in fig 14 in case1 2 3 4 and 7 higher stress appears at connecting bridge and big opening near the main hull while in case6 it appears not only at that two areas in appendix a more optimization examples and stress distribution calculation of the optimized structure are performed although it is not easily to quantitatively analyzed the effect of volume reduction ratio on stress of the structure for the time being by comparing the optimization results with each other especially with the extreme case the influence of work cases on the stress distribution region of structures can be qualitatively analyzed and the significance of topological optimization for non watertight bulkheads can also be illustrate 3 4 optimized contrast and rationality verification fig 15 is the construction site of austal s trimaran the structure of bulkhead and the distribution of reinforcement can be seen in the figure according to the structure in the figure the finite element model is established and the static analysis is carried out fig 16 the optimized structure is compared with the bulkhead in fig 15 to verify the rationality of the application of structural topology optimization in ship here conventional type of stiffeners attached to plating is used instead of corrugated plating in modeling here because it is a little complicated to use corrugated plating in modeling although the effect of corrugated plating cannot be completely replaced by conventional type of stiffeners attached to plating in modeling the bulkhead structure can be described at a certain level by using conventional type of stiffeners attached to plating in addition it is easier to mesh bulkhead structure with conventional type of stiffeners attached to plating modeling than with corrugated plating modeling the results show that the maximum stress of the bulkhead structure under case5 is 191 8 mpa which is less than the allowable stress of the material compared with the maximum stress of the original bulkhead structure the maximum stress of the bulkhead is only 2 7 mpa and the stress distribution in the connecting bridge area is basically the same then by changing the shape preservation of trimaran bulkhead volume the volume reduction ratios in the design domain are 20 30 40 and 50 respectively the structural topology optimization is carried out fig 17 is a stress cloud diagram of the actual ship bulkhead optimized under different volume ratio constraints the results are shown in table 5 table 5 shows that the maximum stress of bulkhead is the closest to the maximum stress of case5 before optimization when the volume of bulkhead optimization area decreases by 30 and again shows that there is no positive correlation between the volume reduction ratio and the maximum stress of bulkhead structure when the volume of bulkhead optimization area decreases by 40 the maximum stress of bulkhead optimization area is basically equal to the allowable stress of material and the maximum stress is 199 69 mpa the distribution of retained connecting materials in the optimized bulkhead is consistent with the number and distribution of bulkhead stiffeners in fig 15 and the structural optimization is more reasonable 4 structure response considering longitudinal member in this section some structural response calculations taking longitudinal member into account will be performed in order to discuss weight optimization for non watertight bulkhead set the distance between two adjacent frames to 700 mm there are 14 frames in the ship hull structure in this section two watertight bulkheads are away from two frames at each end respectively the non watertight bulkhead is in the middle frame in this section all frames and longitudinal members are modeled using beam elements the section size of the beam is 90 4 mm2 plate thickness is 10 mm the hull in this section is subjected to same hydrostatic and gravity fig 18 fig 20 show the total deformation the axial force and bending moment distribution of the beam structures including frames and longitudinal members the structure response of neighboring frames of the optimized bulkhead can also be acquired five different optimized bulkheads are randomly selected and applied to the calculation in this section in addition unoptimized bulkheads and bulkheads with volume reduction ratio 100 are also selected finally frames with the same external contour as bulkheads are also selected to replace non watertight bulkheads briefly speaking eight sets of calculations are performed from figs 18 20 it can be inferred that volume reduction ratio and the location distribution of the removal area are all factors affecting the structural response particularly when the volume reduction ratio is 35 optimized bulkheads from different cases lead to different structure response besides the structural response in the case with a frame instead of optimized bulkhead is the largest higher than that in case the case with an optimized bulkhead this phenomenon shows that it is necessary to use a non watertight bulkhead in the hull structure meanwhile the structural response in the case with a 100 reduction ratio optimized bulkhead is higher than that in case with a less than 100 reduction ratio optimized bulkhead and the structural response in case with a less than 100 reduction ratio optimized bulkhead is higher than that in case with a unoptimized bulkhead therefore reasonable optimum design schemes will be needed to reduce the weight of the structure while ensuring the safety of the structure although the structural modeling of the hull here is not entirely true qualitative design suggestions for the work of ship bulkhead structural topology optimization can be given based on the calculation results besides partial but incomplete quantitative explanations can also be given which is sufficient to illustrate the significance of topology optimization work based on above result 5 conclusion in this paper seven checking conditions of trimaran bulkhead structure are designed according to rules for the classification of trimarans topological optimization design and stress analysis of a special trimaran non watertight bulkhead structure are carried out the results of bulkhead optimization are compared with those of real ship bulkhead design the results show that 1 under the same specific working condition the stress distribution and maximum stress of trimaran bulkhead are different with different volume reduction ratios as constraints there is no positive correlation between volume reduction ratios and maximum stress of bulkhead structure it is unreasonable to reduce the bulkhead stress by increasing the volume conformity ratio reasonable material distribution should be adopted to reduce the bulkhead stress and reduce the bulkhead structure weight 2 the non watertight bulkhead of trimaran is optimized by variable density topology optimization method the optimum material layout in the design area is obtained the weight of bulkhead structure is well controlled and the volume of bulkhead optimization area is reduced by 50 the maximum stress of bulkhead structure after optimization is close to the maximum stress of bulkhead structure before optimization and the stress distribution before and after optimization is basically the same 3 by comparing with the actual bulkhead structure when the volume of the optimized area is reduced by 30 the distribution of connecting materials in the bulkhead after optimization is consistent with the distribution of bulkhead reinforcement in fig 15 which fully verifies the rationality of the structural topology optimization method used in this paper 4 if the bulkhead of trimaran is watertight bulkhead the bulkhead structure design in fig 15 is applied if the bulkhead of trimaran is non watertight bulkhead the bulkhead structure optimized in this paper can effectively reduce the weight of bulkhead structure within the allowable stress range of material the lightweight design of trimaran can be realized by topological optimization method on the premise that the strength of bulkhead structure is basically unchanged when the high stress area of bulkhead is concentrated the structure can be designed by means of local reinforcement however when the volume reduction ratio is particularly high e g close to 100 the distribution of high stress area is relatively uniform in this case a reasonable topology optimization design will be more meaningful when the volume reduction is higher the optimized bulkhead will be porous these holes are very small and the number of these holes is large compared with the lower volume reduction case this phenomenon will make the optimized model difficult to be smoothed in future research the way to prevent the occurrence of porous phenomenon can be studied and the effect of higher volume reduction ratio on structural stress can also be studied the main meaning of the optimization analysis performed in this paper could be regarded as reference for case5 since case5 causes the maximum stress distribution the design of non watertight bulkheads based on topological optimization can be further discussed by calculating the response of trimaran structures with more detailed load design and structural design and optimizing the design of non watertight bulkheads what this paper does is to design a specific structure which needs to be further divided into sections and the overall structure design can be discussed in future research what about industrialization should be explained and also discussed in future research acknowledgement we thank mr yaoze zhuang of dalian university of technology and mr qisheng sun of china classification society for their help in writing and revising papers appendix a topology optimization and stress analysis of the bulkhead in case1 case2 case3 case4 case6 and case7 in this section topology optimization and stress analysis of the bulkhead in case1 case2 case3 case4 case6 and case7 with different volume reduction ratio are performed image 1 image 2 image 3 image 4 image 5 image 6 image 7 image 8 image 9 image 10 image 11 image 12 image 13 image 14 image 15 image 16 image 17 image 18 image 19 in addition the structural stress distribution of bulkhead structure with volume reduction ratio 100 under six cases are also given here image 20 image 21 when the volume reduction ratio is particularly high e g close to 100 the distribution of high stress area is relatively uniform in this case a reasonable topology optimization design will be more meaningful 
22402,developing a high level autonomous collision avoidance system for ships that can operate in an unstructured and unpredictable environment is challenging particularly in congested sea areas each ship should make decisions continuously to avoid collisions with other ships in a busy and complex waterway furthermore recent reports indicate that a large number of marine collision accidents are caused by or are related to human decision failures concerning a lack of situational awareness and failure to comply with the convention on the international regulations for preventing collisions at sea colregs in this study we propose an efficient method to overcome multiship collision avoidance problems based on the deep reinforcement learning drl algorithm by expanding our previous study zhao et al 2019 the proposed method directly maps the states of encountered ships to an ownship s steering commands in terms of rudder angle using the deep neural network dnn this dnn is trained over multiple ships in rich encountering situations using the policy gradient based drl algorithm to address multiple encountered ships we classify them into four regions based on colregs and consider only the nearest ship in each region we validate the proposed collision avoidance method in a variety of simulated scenarios with thorough performance evaluations and demonstrate that the final drl controller can obtain time efficient and collision free paths for multiple ships simulation results indicate that multiple ships can avoid collisions with each other while following their own predefined paths simultaneously in addition the proposed approach demonstrates its excellent adaptability to unknown complex environments with various encountered ships keywords multiship collision avoidance autonomous ship colregs deep reinforcement learning deep neural network 1 introduction 1 1 background developing a high level autonomous collision avoidance system for ships that can operate in an unstructured and unpredictable environment is challenging moreover in congested water areas the probability that one ship reacting to avoid collisions with more than one ship is likely to increase thereby making collision avoidance decision making more complex for example in amsterdam where 25 of the city surface is water a fleet of autonomous ships are being utilized to transport goods people and garbage as well as collecting data on water quality and pollution levels in narrow urban canals wang et al 2018 in such situations a real time autonomous collision avoidance system is necessary to be implemented for reducing marine collision accidents and improving marine safety in addition recent reports indicate that more than 80 of marine collision accidents are caused by or related to human decision failures concerning the lack of situational awareness and failure to comply with the convention on the international regulations for preventing collisions at sea colregs when one ship is operating in the waterway with other manned or unmanned ships instead of developing new traffic rules for the ship to avoid collisions with each other the autonomous collision avoidance system is expected to follow the existing guidelines based on colregs in this study we aim to solve the problem of maneuvering to avoid collisions with multiple small scale ships in congested coastal ports or urban canals which constitutes a part of the autonomous ship development in the collision avoidance system development we propose a robust and efficient approach to the system for multiple ships based on the deep reinforcement learning drl algorithm 1 2 literature review and motivation a wide range of control methods for ship collision avoidance has been conducted extensively most of them can be divided into two classes model based and model free methods wang et al 2017 proposed a collision avoidance support system that quantified the distance at closest point of approach dcpa and time to the closest point of approach tcpa to ass ess the collision risk between two encountered ships and subsequently employed a proportional integral differential control method to calculate the ship maneuvering motion the simulation result indicates that the own ship can avoid only one target ship most studies have assumed the first person view where the own ship is the only maneuvering party while the target ships remain at the detected bearing therefore this research was confined to one ship one ship situations similarly he et al 2017 presented a quantitative analysis system for colregs that included a series of adaptive judging models based on the collision risk with the encountered target ships it can handle one ship multiple ships situations where one ship could avoid multiple target ships simultaneously zhao et al 2016 adopted the optimal reciprocal collision avoidance algorithm to determine a collision avoidance maneuver that was colregs compliant while this study did not consider environmental disturbances zhang et al 2015 proposed a distributed anti collision decision support formulation using a decision tree in multiship situations under colregs similarly the approach can manage complex scenarios with multiple target ships model predictive control mpc a popular model based method can compute an optimal trajectory based on the target ships motion prediction while considering its uncertainty within this approach it is possible to incorporate models of the target ships motion the evolution of the dynamic environment and different operational constraints abdelaal et al 2018 eriksen and breivik 2017 johansen et al 2016 the optimization problem can be solved by integrating a cost function with constraints with the increasing of the number of target ships it will lead to very expensive computation although several studies have demonstrated the ability to calculate a collision free path for ships several challenges must be addressed first as the maritime system becomes complex model based methods generally do not scale well to manage a large number of target ships in dense traffic and simultaneously consider the dynamics of the ship steering and propulsion system and environmental disturbances next the control logic of these methods is formed as complicated formulas that consider all possible situations thus slight changes in the environment may lead to failure furthermore most of the algorithms cannot easily predict the uncertainties in practical applications instead of attempting to formulate complex dynamic model we increase the data collection capabilities and use deep neural network dnn techniques to estimate the system and obtain the control policy using model free reinforcement learning rl algorithm model free rl can adapt well to complex systems and is capable of self learning thus providing a natural method to address extremely complex systems and discover optimal policies from an unknown environment through trial and error interactions sutton and barto 2017 in this context rl has been extensively studied for collision avoidance in automotive vehicles chae et al 2018 autonomous aerial vehicles kahn et al 2017 singla et al 2018 and multi robot systems everett et al 2018 long et al 2018 however unlike these applications multi ship collision avoidance has special constraints which is highly dependent upon seamanship and the colregs rules several studies have used model free rl to model the complex interactions between a ship and its encountered dynamic or static obstacles q network a value based rl algorithm for collision avoidance systems has been developed by cheng and zhang 2018 bhopale et al 2019 utilized the q learning algorithm for static obstacle collision avoidance these studies focused only on static obstacles and did not consider environmental disturbances more recently shen et al 2019 adopted the deep q learning algorithm to solve the multiple ships collision avoidance problem cui et al 2019 presented an integrated method combining a model based rl with mpc for application in ship control in a real implementation this method has to accurately consider multiple target ships and the colregs motivated by these requirements in this study we extend our previous method to learn a collision avoidance policy based on the observation of an arbitrary number of target ships with respect to colregs compliancy zhao et al 2019 first all the ships are information responsive and can actively exchange information with each other in addition they possess computing power for performing calculations such that each ship can react from the first person perspective according to the states of the target ships the proposed method is expected to enable multiple ships to simultaneously determine the action to avoid each other during training the algorithm directly maps the states of the target ships to a so called own ship steering command in terms of rudder angle using the dnns the states of the own ship and its encountered target ships are regarded as the input to the dnns the dnns are trained over multiple ships on various scenarios using a policy gradient based on the drl algorithm here the key challenge is that the number of states related to the target ships changes continuously in the environment however the typical feedforward dnns used in the domain requires a fixed dimensional input to address the challenge of a variable number of target ships in the environment one solution is to define a maximum number of agents that the network can observe however the maximum number of agents is limited by the increased state of agents another strategy uses long short term memory cells of the network input thus enabling the algorithm to make decisions based on an arbitrary number of other agents target ships everett et al 2018 in this study we present a novel strategy to set the input dimension by categorizing the target ships into four regions defined by colregs this proposed method can guarantee the collision avoidance of multiple ships by ensuring that each ship follows its predefined path the remainder of this paper is organized as follows section 2 provides a brief overview of the formulation of multiship collision avoidance section 3 introduces the components of the proposed method for this problem the implementation and learning results of the simulation are presented in section 4 conclusions and future work are presented in section 5 2 multiship collision avoidance problem the objective of the study is to solve a multiship collision avoidance problem where all the ships can autonomously make a decision to avoid their target ships while complying with the colregs by expanding our previous study zhao et al 2019 in this section we provide a brief overview of the formulation of the multiship collision avoidance and an introduction to the colregs required to understand this study 2 1 drl algorithm for multiship collision avoidance the multiship collision avoidance problem can be defined based on the sequential decision making problem the markov decision process mdp is typically used to model sequential decision making problems in the mdp the decision maker which is called an agent executes an action in the environment and the environment in turn yields a new state and reward more formally the agent and environment interact at each sequence of time steps t 0 1 2 at each time step the agent receives the state of the environment s t s where s is the set of possible states and the agent executes an action a t a s t following a policy where a s t is the set of actions available in state s t one time step later the agent receives a numerical reward from the environment r t 1 r and finds itself in a new state s t 1 the mapping from state to actions is called the policy denoted as π θ π θ a s represents the probability that a t a if s t s sutton and barto 2017 the reward r is the feedback that informs the agent about the immediate quality of its actions the goal at each time step is to perform an action that maximizes the discounted future rewards given by the return g t k 0 γ k r t k 1 where γ 0 1 is the discount rate that prioritizes near the term reward the state value function v π s e r t s t s is the expected return for following policy π θ from the state s t the state action value function q π s a e r t s t s a t a is the expected return for selecting action a t in the state s t and subsequently following policy π θ sutton and barto 2017 to address the multiship collision avoidance problem we propose to formulate the problem using multiagent drl in this formulation as illustrated in fig 1 the policy corresponds to the controller that observes the state and applies actions to the agent before the training the state action and reward functions must be designed appropriately subsequently a policy that maximizes the sum of future rewards return received during the interaction with the environment is learned self play trials are conducted in this manner to determine the control strategy based on the observed state once the training process is completed all ships can automatically navigate along the predefined paths and arrive at the destination while avoiding collisions with their target ships and comply with the colregs under the commands of the policy given the current state s t the own ship computes an action a t sampled from a stochastic policy π θ a t s t with policy parameter θ all terms will be redefined in the next section 1 a t π θ a t s t consequently the multiship collision avoidance has been formulated as a sequential decision making problem 2 2 colregs compliance before applying drl to the multiship collision avoidance problem we must consider the colregs as a ship makes decision from the first person perspective according to its observations and state information received from ships nearby it treats itself as the own ship os and other nearby ships as the target ships tss assume that an os navigates along a predefined path when tss appear in its safe area the os must react to avoid the tss while complying with colregs and subsequently return to its predefined path once safety is confirmed during the decision making ships can be specified as a stand on ship and give way ship between two encountered ships each ship makes a decision while complying with colregs under some typical encounter situations in which the give way ship should react to avoid collision and the stand on ship maintains its initial status as illustrated in fig 2 a diagram centered on the os is divided into four parts head on crossing give way overtaking and crossing stand on in other words the encounter situations between two encountered ships can be categorized into the following four types a crossing stand on b head on c overtaking and d crossing give way which is shown in fig 3 implementing the first person perspective centered upon the os enables us to understand the rule better a crossing stand on situation occurs when a ts is approaching the os at its port side in this situation the ts is specified as the give way ship that should change course to the starboard and pass the stand on ship os on its port side to avoid a collision while the os maintains its course and speed on the contrary when a ts is approaching the os at its starboard side the os is expected to change course to the starboard while the ts maintains its course and speed the diagram of the crossing situations are shown in fig 3 a and d in the head on situation as shown in fig 3 b both ships are requested to turn right to achieve the port to port maneuver finally the overtaking situation is shown in fig 3 c the ts is responsible for the collision avoidance maneuver by passing the starboard or port of an os depending on the colregs in these encounter situations all give way ships are requested to avoid a collision and return to their predefined paths 2 3 collision risk assessment to reduce the collision risk to the minimum extensive studies mou et al 2010 have been performed to assess the collision risk using parameters based on the properties related to the closest point of approach cpa such as time tcpa and distance dcpa the schematic diagram of the cpa is illustrated on the right side of fig 4 similarly the ship domain concept is suggested to calculate the collision risk area and is used to define a safety area around the os or tss that represents the region where other ships should not enter to avoid evasive maneuvers the process of creating of a hexagon shaped collision danger risk area around a given target is shown in fig 4 which was proposed byśmierzchalski 2005 the lengths of the ship domain are determined by the ship s length and speed along with the minimum time and tcpa and dcpa shen et al 2019 2 d 1 d c p a 2 d 2 t c p a v u d 3 b v 0 44 u d 4 t c p a v u d 5 l v 1 26 30 v u d 6 d b 2 where d cpa and t cpa denote the assumed values of the dcpa and tcpa respectively l and b are the length and width of the ship respectively v max v 0 v rel v refers to the ship speed v 0 v rel are the os speed and relative speed with the ts respectively u is the error in estimating the location and d b is the safe distance consequently the ship domain defines the safety area that is shown on the left side of fig 4 the safety area around the os defined an area where the tss should avoid 3 method for multiship collision avoidance we now present the proposed method for multiship collision avoidance based on the drl algorithm the state action and reward function definitions of this problem are presented in this section here we assign the os as the maneuver party and all tss nearby the os is denoted as tss 3 1 drl configuration 3 1 1 state space it is assumed that the state in this study can be fully observed we define the state as the information that the agent receives regarding the environment at a given time step t the state is divided into two parts s ot and s tt s ot s tt s t where s ot denotes the os state and s tt is the state related to the tss it can be expressed as 3 s o t y e ψ e ψ e χ e χ e p g o a l p 2 φ δ δ l 4 s t t p t s i v t s i p p t s i 2 χ χ t s i 2 l i the os state s ot consists of 10 elements where y e is the cross error ψ e is the heading angle error and χ e is the course angle error zhao et al 2019 see fig 5 these values can be calculated by the dynamic equation of the ship ψ e and χ e are the angular rates of the heading angle error and course angle error respectively p goal p 2 represents the distance between the positions of the os and destination φ is the relative angle between the course angle of the os and the angle pointing to the destination from the os the rudder angle δ rudder angular rate δ and length of the os l are also considered as part of the state space as the values may affect the action space it is also included in the state space the state of the tss s tt consists of five elements for every ts it contains the positions p tsi and velocities v tsi of the tss in the local frame attached to the os the relative distances between the os and tss p p tsi 2 and the relative angles between the os and tss χ χ tsi 2 are also included in the vector s tt moreover the lengths of the tss l i are included in the state space where i represents the index of tss with respect to the os see fig 6 during the training all states are regarded as the input to the neural networks nn as the number of encountered tss changes continuously the number of states related to tss is also changed correspondingly recall that one key limitation of the learning based collision avoidance method is that the feedforward nn typically uses a fixed size input here we present fig 7 that can be useful for understanding the limitation of the existing methods for example from the os s perspective the os successively encounters several tss on its way to the destination in the beginning when ship 1 is approaching the os the input to the nn is composed of the os state s ot and the ship 1 state s tt after successfully avoiding ship 1 the input to the nn will increase and involve the os state s ot and ships 2 and 3 states s tt because the os encounters with ships 2 and 3 simultaneously thereby to solve this problem we propose a novel method by setting the input size of the nn as shown in the right side of fig 7 the input to the nn is divided into two parts the os state and the tss state it is noteworthy that the ts state is divided into four parts based on the colregs consequently the os state is comprised of 10 elements and the ts state is comprised of 20 elements as explained in the previous state definition therefore the next step is to categorize the type of encountered tss the type of tss based on an os can be determined by the following procedure that is similar to that of tam and bucknall 2010 the optimal strategy corresponds to a course offset toward the starboard side until the ts has passed at a safe distance on the os s port side the procedure of ts categorization is performed in four steps first we verify whether the encountered tss must be considered if the ts occurs in the ship domain see section 2 3 then proceed to the next step next the ts is categorized based on its instantaneous position with respect to the os position according to the regions defined in fig 8 the ts can be designated as belonging to one of the following four regions head on crossing stand on crossing give way and overtaking subsequently the ts is further categorized based on its relative heading with respect to the os heading where v o and v t i represent the velocity vectors of the os and tss respectively finally the ts type can be determined based on the combination of instantaneous position and relative heading of the ts with respect to the position and heading of the os the overall procedure is illustrated in fig 9 3 1 2 action space in ship collision avoidance the navigator operates by changing the heading and speed to guarantee ship safety in complex navigational areas while an expert judgment based on past experience is required for an appropriate decision in the automatic collision avoidance system the ship must be fully trained prior to its application as the ship can turn left right or maintain its course under rudder control only the action is discretized accordingly into three discrete values a δ max 0 δ max this command of the rudder angle can affect the control force 3 1 3 reward function design the reward function is computed as the sum of rewards accumulated in each episode where the reward is a measurement of action quality and the episode is a hypothetical scenario for the training process the objective of the study is to maneuver the os for collision avoidance by moving its tss while ensuring that the ship follows a predefined path consequently the reward function can be specified to reward the agent for following the path and avoiding collision with the tss while complying with colregs however these two rewards are contradictory because when the os starts to avoid collision with the tss it also deviates from the predefined path correspondingly thereby to solve this problem we define the reward functions by switching two modes path following and collision avoidance first the os is continuously imposed with the path following reward function when it is in a safe situation four reward functions are used for setting the path following reward function as shown in fig 10 the goal reward r goal is designed to guide the os to arrive at the destination it can be expressed mathematically as 5 r g o a l r g o a l i f p t p g o a l 10 λ g o a l p t 1 p g o a l p t p g o a l o t h e r w i s e where p goal and p t are the destination position and current os position respectively λ goal is a hyperparameter when the ship approaches the destination the more substantial distance reward value is imposed on the agent the ship is awarded by r goal for reaching the goal less than ten meters the heading error reward and cross error reward are two important components that are involved in the path following reward functions to encourage the os to follow the predesigned path the course angle error and cross error must converge to zero when calculating the heading error reward within a small range ψ e ψ we propose an exponential reward function to model it see eq 6 if the heading angle error and the heading angular rate error are zero implying no deviation between the os and path the agent receives the maximum reward at the current time step similarly the cross error reward function is defined in eq 7 6 r h e a d i n g exp k d ψ e 2 ψ e 2 i f ψ e ψ r h e a d i n g e r r o t h e r w i s e 7 r c r o s s exp k c y e 2 y e 2 i f y e y r c r o s s e r r o t h e r w i s e where k d and k c define the parameters of the exponential function that relate to the convergence speed r headingerr and r crosserr are positive values when the os deviates from the path at a relatively large angle in addition to avoid drift the linear sway velocity v must be smaller than the surge velocity u consequently the drift reward function can be formulated as follows 8 r d r i f t r d r i f t i f u v 0 o t h e r w i s e where r drift refers to the drift reward value when drift occurs as illustrated in fig 11 the collision threat i e tss entering the ship domain of the os is detected thus the collision avoidance mode will be triggered we simplify the hexagon shaped ship domain by a circle of radius d 5 which is calculated from eq 2 the radius d 5 can be regarded as the minimum passing distance between the os and tss as mentioned previously the encountered ts type is categorized based on the procedure in fig 9 the os can change its course to avoid the tss in the head on overtaking and crossing give way regions at this time the collision avoidance reward function must be imposed on the agent it therefore performs a course change to avoid and pass the tss the collision avoidance reward function comprises two functions when the os collides with the tss in the range of a circle of radius r 0 it is penalized by the collision reward r collision 9 r c o l l i s i o n r c o l l i s i o n i f p p ts i 2 r 0 0 o t h e r w i s e where p tsi represents the current position of the tss because the os must avoid the tss in compliance with the colregs the related reward function r colregs must be added 10 r c o l r e g s r c o l r e g s i f t u r n r i g h t r c o l r e g s o t h e r w i s e when the os avoids and passes the tss at a safe distance it will switch to the path following mode consequently the path following reward function had started to be imposed on the agent 3 2 implementation of the drl algorithm the drl algorithm in the proposed method consists of an agent represented by a nn interacting with a complex and unknown environment the nn consists of an actor network policy function and a critic network value function as shown in fig 12 the critic network is used to estimate a value function v φ with parameter φ and the actor network is used to estimate a policy a set of action probability outputs consequently the agent uses the value function estimate to update the policy more intelligently as mentioned in section 3 1 1 the state consisting of the os state and its related ts state is fed into two fully connected fc layers the fc multilayer perceptron consists of two hidden layers consisting of 64 and 32 hidden units with tanh nonlinearities outputting the probability over the action space the agent selects and executes an action according to the policy with the highest probability we define the loss functions for each nn and use it to update the weights of the two nns in the back propagate gradient computation in the multiship collision avoidance each ship is expected to avoid collision with each other in conjunction with colregs in other words each ship is an agent to participate in the training process and share one policy we employ a policy gradient based drl algorithm clipped proximal policy optimization ppo in this study as shown in fig 13 which is adapted from long et al 2018 schulman et al 2017 the algorithm for iteratively updating the policy and value function is shown below at each iteration each agent collects t time steps of the state action and reward values where t is significantly shorter than the episode length and performs the policy for t time steps here each ship is specified as an agent that collects the state including the os state and its surrounding ts state subsequently we construct a clipped surrogate objective function l ppo θ as the actor network objective function it is formulated in eq 11 schulman et al 2017 11 l p p o θ e ˆ min r t θ a ˆ i t c l i p r t θ 1 ε 1 ε a ˆ i t w h e r e r t θ π θ a i t s i t π θ o l d a i t s i t r t θ is the ratio of the probabilities under the current and previous policies where π θ a i t s i t is the probability of the action under the current policy with the policy parameter θ and π θold a i t s i t is the probability of the action under the previous policy this implies that if the action is more applicable for the current policy it is greater than 1 if the action is less applicable for the current policy than for the previous one it is between 0 and 1 the ratio is clipped between 1 ε and 1 ε in the objective function where ε is a hyperparameter that is typically set to 0 1 or 0 2 in addition a ˆ i t refers to the estimated advantage at time t for each agent and is defined as the difference between the state action value function and state value function the value targets are calculated based on the generalized advantage estimation schulman et al 2015 consequently using the policy ratio r t θ we can construct the objective function l ppo θ to clip the estimated advantage if the new policy is distant from the old policy and it will update the policy conservatively by clipping the policy ratio within a small range around 1 in the next step the objective function is optimized with the adam optimizer kingma and ba 2014 for e π epochs by using the gradient ascent step on this function with respect to the policy parameter θ the action results in a higher reward the state value function vφ s i t which is used as a baseline to estimate the generalized advantage estimation gae a ˆ i t is approximated using the critic network with the parameter φ to update the state value function we construct the mean squared error loss l v φ for vφ s i t on the sampled episodes above and subsequently optimize it with the adam optimizer for e v epochs we update π θ a i t s i t and vφ s t in the actor and critic networks independently and their parameters θ and φ are not shared because using two separated networks yield better results in practice the hyperparameters in the algorithm are presented in table 1 4 application examples the proposed method has been evaluated with simulation tests for a large and complex environment the simulation is illustrated in the following cases from the one one to multiple multiple collision avoidance that demonstrate the scalability of the proposed method in all simulation cases the same parameter settings are used all ships are assigned to avoid collisions with each other and converge to their predefined paths 4 1 preparation for simulation 4 1 1 mathematical modeling in this study a simplified three degree of freedom 3 dof dynamic ship model is used to describe the ship motions in the horizontal plane surge sway and yaw fossen 2011 the dynamic equation for the ship can be expressed in the following form 12 m ν c ν ν d ν ν τ where v u v r t represents the vessel fixed velocities m m rb m a is the mass matrix consisting of the rigid body mass and hydrodynamic added mass c v c rb c a v is the matrix consisting of the rigid body and hydrodynamic coriolis and centripetal matrices d v is the nonlinear damping matrix which can be defined as the sum of linear damping and nonlinear damping d v d l d nl v we assume that the ship contains only one control input rudder angle δ and maintains the constant propeller speed the control force τ assumes the form τ x δ δ y δ δ n δ δ t where x δ y δ and n δ are the rudder coefficients associated with the surge sway force and yaw moment respectively the control force can be calculated by the aforementioned output action the principal dimensions of the ship with its actuator are shown in table 2 perez and blanke 2002 4 1 2 simulation setup for the multiship collision avoidance to visualize the simulation results the three dimensional visualization tool rviz provided by robot operating system was used it visualizes the simulated environment including the multiple ships and the generated paths the calculation module using the python software package interacts with rviz to set the position and orientation of the ships the generated path considered in this study is composed of a collection of randomly created waypoints during the training process the positions and numbers of waypoints were generated randomly because the environment changes unpredictably in the real world implementations we adopt a strategy where eight ships are trained simultaneously and one policy is shared such that the efficiency of policy convergence and a higher reward are guaranteed all the ships maneuver at the same velocity and will collide with each other if the colregs rules are not satisfied fig 14 shows four situations at each segment path crossing stand on head on overtaking and crossing give way all which comply with colregs it is noteworthy that the names of the situations herein are defined from the points of view of ships a c e and g moreover to improve the training speed the initial and end positions of the paths are set randomly within an acceptable range as described in section 2 2 the ships can be specified as a stand on ship and give way ship between two encountered ships each ship makes a decision that complies with the colregs under some typical encounter situations in which the give way ship should react to avoid the collision and the stand on ship maintains its initial status the simulation setup with multiple ships is shown in fig 14 in case a a crossing stand on situation occurs if the ts ship b is coming from more than 22 5 abaft the beam when two ships are involved in a dangerous ship domain their surrounding regions are painted with the corresponding colors to visualize the encounter situations better for example from the view of ship a when ship b enters the crossing stand on region of ship a its corresponding region is painted in purple simultaneously ship a is regarded as located in the crossing give way region of ship b such that the color of the region becomes orange in case b a head on situation occurs if two ships ships c and d are approaching each other on reciprocal courses in the range of 10 in this situation ships c and d are found to be located in the other party s head on region and the corresponding regions are all painted in red in case c an overtaking situation occurs if the other ship ship e is overtaking ship f in the range of 135 in case d a crossing give way situation occurs if the other ship ship h is coming from the starboard side of ship g once the training process is completed all ships can automatically navigate along the predefined path and arrive at the destination while avoiding collisions with their tss 4 2 case 1 in case 1 the simulation objective is to control the aforementioned eight ships to avoid their tss with respect to colregs compliancy while ensuring that they follow their predefined paths the simulation results of multiship collision avoidance are illustrated in figs 16 and 17 in this task fig 14 we trained the drl agent to avoid the tss using the clipped ppo algorithm according to section 3 1 the state input of each agent s t consists of the os state observed by itself s ot and s tt which is defined by its tss the output of the network is the rudder angle the integrated time step was set to δt 0 1 s at each training iteration each agent ship exploits the policy to generate trajectories until the maximum of t max 10240 time steps is reached we subsequently select samples randomly from the collected data including the state reward and action the selected sampled mini batch 64 is used to construct the surrogate loss function that is optimized by the adam optimizer for e π e π 20 epochs the average reward is computed as the sum of the rewards accumulated in each episode where the reward functions follow the rules defined in section 3 1 3 an episode ends if one of the following situations occur any pair of ships collide with each other all ships reach the destination or all ships are distant from the predefined path subsequently all ships are restored to its initial position and a new episode begins after completing the given training iteration the optimal policy can be obtained according to the simulation results all the ships can follow the path and avoid collision while complying with colregs with the reactive action of the surrounding tss being considered as shown in fig 15 in the a crossing stand on situation the give way ship b alters the course to avoid the stand on ship a while ship a has the right to stand on in the b head on situation both give way ships i e ships c and d should change course to the starboard to avoid each other in the c overtaking situation when the give way ship e is overtaking a slower stand on ship f ship e avoids collision with ship f in its both sides in the d crossing give way situation contrary to situation a the give way ship g can avoid the stand on ship h while ship h maintains its initial direction to the destination in the crossing situations a and d ships a and h maintain their initial statuses even if a potential collision risk with the tss exist because the two ships are specified as the stand on ship with respect to colregs however if the give way ship in the situations above fails to react to avoid a collision the stand on ships a and h should have the capability to take alternative actions in real world implementations fig 16 shows the average reward for multiship collision avoidance in case 1 1 the average reward converges to a maximum value after approximately 250 iterations the performance of the rudder angle of the 8 ships in case 1 1 is depicted in figs 17 and 18 it shows that when passing through each waypoint the rudder angle is set to maximum as described in section 3 1 3 we define the reward functions by switching two modes path following and collision avoidance if a collision risk occurs not only within the head on overtaking and crossing give way regions but also in the crossing stand on region the ship must consider the collision avoidance reward function we train and implement it to crossing situations a and d as shown in fig 19 the simulation results indicate that all ships can avoid collisions with each other while complying with colregs in addition the proposed method demonstrated its excellent flexibility and scalability for various tasks in unknown environments 4 3 case 2 to demonstrate the colregs compliance we adopted a more complex simulation in which four ships are designed to head to the center point the trained agent in case 1 was used for the simulation of case 2 the specifications of the ships are listed in table 3 the initial positions of the ships have been well designed to be the give way ship if any of the ships do not take avoidance actions it collides with the surrounding tss fig 20 illustrates the simulation process of collision avoidance with four ships first the four ships from ship a to ship d start to set sail to their destinations for example from ship a s point of view three tss are approaching ship d in the crossing stand on region ship c in the head on region and ship b in the crossing give way region therefore ship a is responsible for changing course to the starboard to avoid ships b and ship c and it can ignore ship d as it is located in its crossing stand on region consequently each ship starts to change course to the starboard to avoid their tss as shown in fig 20 3 next the four ships move circularly to pass other tss while not deviating significantly from their predefined paths finally the four ships converge to a path until they reach their destinations figs 21 and 22 illustrate the simulation results of case 2 ships a and c start in the opposite position when ships are arriving from the starboard side it changes course to the starboard and passes the tss on the port side similarly ships b and d start in the opposite position when ships are arriving from the starboard side they change course to the starboard and passes the tss on the port side finally the two ships return to their predefined paths the proposed method demonstrated that it can manage complex scenarios 5 conclusion and future works in this study we proposed a novel method for multiship collision avoidance based on the deep reinforcement learning drl algorithm the collision avoidance method is crucial for ensuring the safety of both the ship and its surrounding target ships in congested sea areas the proposed method directly mapped the states of the encountered ships to an ownship s steering commands in terms of rudder angle using the deep neural network dnn the dnn was trained over multiple ships on rich encountering situations using the policy gradient based drl algorithm however the typical feedforward dnns used in the domain required a fixed dimensional input to address multiple encountered ships we proposed a novel strategy to solve the varied input problem of multiship collision avoidance by categorizing the tss into four regions that were defined by the convention on the international regulations for preventing collisions at sea colregs the proposed strategy demonstrated its excellent adaptability to unknown complex environments with various encountered ships we further designed a united reward function for solving the path following and collision avoidance problems simultaneously the decision procedure of the reward functions demonstrated that it can be flexibly applied in emergency situations at sea subsequently we simultaneously trained multiple ships on different scenarios defined by colregs which have improved the efficiency of the training process significantly finally to provide a practical simulation environment a 3 dof dynamic model of the ship was used we implemented path following and collision avoidance while complying with the colregs and incorporating ship maneuverability for this problem we validated the proposed collision avoidance method in a variety of simulated scenarios with thorough performance evaluations and the simulation results indicated that the proposed method enabled multiple ships to simultaneously determine the action to avoid each other while ensuring that they followed the predefined paths this algorithm could be applied to a wide range of tasks from one one collision avoidance to multiple multiple collision avoidance for future work we will focus on improving the model free drl algorithm adopted in this study the high sample complexity of purely model free drl algorithms rendered them difficult for use in learning in the real world where sample collection oscillation of the rudder angle are limited by the constraints of real time operations we will improve the method for collision risk assessment including the revision of the ship domain we will attempt to combine it with model based rl to achieve good sample efficiency and stable performance in addition the collision free path planning will be optimized in the future study finally a hardware experiment will be implemented to validate the proposed method for multiship collision avoidance including the comparison with other existing methods for collision avoidance acknowledgment this work is an expansion of our previous study zhao et al 2019 and supported by research institute of marine systems engineering of seoul national university republic of korea 
22402,developing a high level autonomous collision avoidance system for ships that can operate in an unstructured and unpredictable environment is challenging particularly in congested sea areas each ship should make decisions continuously to avoid collisions with other ships in a busy and complex waterway furthermore recent reports indicate that a large number of marine collision accidents are caused by or are related to human decision failures concerning a lack of situational awareness and failure to comply with the convention on the international regulations for preventing collisions at sea colregs in this study we propose an efficient method to overcome multiship collision avoidance problems based on the deep reinforcement learning drl algorithm by expanding our previous study zhao et al 2019 the proposed method directly maps the states of encountered ships to an ownship s steering commands in terms of rudder angle using the deep neural network dnn this dnn is trained over multiple ships in rich encountering situations using the policy gradient based drl algorithm to address multiple encountered ships we classify them into four regions based on colregs and consider only the nearest ship in each region we validate the proposed collision avoidance method in a variety of simulated scenarios with thorough performance evaluations and demonstrate that the final drl controller can obtain time efficient and collision free paths for multiple ships simulation results indicate that multiple ships can avoid collisions with each other while following their own predefined paths simultaneously in addition the proposed approach demonstrates its excellent adaptability to unknown complex environments with various encountered ships keywords multiship collision avoidance autonomous ship colregs deep reinforcement learning deep neural network 1 introduction 1 1 background developing a high level autonomous collision avoidance system for ships that can operate in an unstructured and unpredictable environment is challenging moreover in congested water areas the probability that one ship reacting to avoid collisions with more than one ship is likely to increase thereby making collision avoidance decision making more complex for example in amsterdam where 25 of the city surface is water a fleet of autonomous ships are being utilized to transport goods people and garbage as well as collecting data on water quality and pollution levels in narrow urban canals wang et al 2018 in such situations a real time autonomous collision avoidance system is necessary to be implemented for reducing marine collision accidents and improving marine safety in addition recent reports indicate that more than 80 of marine collision accidents are caused by or related to human decision failures concerning the lack of situational awareness and failure to comply with the convention on the international regulations for preventing collisions at sea colregs when one ship is operating in the waterway with other manned or unmanned ships instead of developing new traffic rules for the ship to avoid collisions with each other the autonomous collision avoidance system is expected to follow the existing guidelines based on colregs in this study we aim to solve the problem of maneuvering to avoid collisions with multiple small scale ships in congested coastal ports or urban canals which constitutes a part of the autonomous ship development in the collision avoidance system development we propose a robust and efficient approach to the system for multiple ships based on the deep reinforcement learning drl algorithm 1 2 literature review and motivation a wide range of control methods for ship collision avoidance has been conducted extensively most of them can be divided into two classes model based and model free methods wang et al 2017 proposed a collision avoidance support system that quantified the distance at closest point of approach dcpa and time to the closest point of approach tcpa to ass ess the collision risk between two encountered ships and subsequently employed a proportional integral differential control method to calculate the ship maneuvering motion the simulation result indicates that the own ship can avoid only one target ship most studies have assumed the first person view where the own ship is the only maneuvering party while the target ships remain at the detected bearing therefore this research was confined to one ship one ship situations similarly he et al 2017 presented a quantitative analysis system for colregs that included a series of adaptive judging models based on the collision risk with the encountered target ships it can handle one ship multiple ships situations where one ship could avoid multiple target ships simultaneously zhao et al 2016 adopted the optimal reciprocal collision avoidance algorithm to determine a collision avoidance maneuver that was colregs compliant while this study did not consider environmental disturbances zhang et al 2015 proposed a distributed anti collision decision support formulation using a decision tree in multiship situations under colregs similarly the approach can manage complex scenarios with multiple target ships model predictive control mpc a popular model based method can compute an optimal trajectory based on the target ships motion prediction while considering its uncertainty within this approach it is possible to incorporate models of the target ships motion the evolution of the dynamic environment and different operational constraints abdelaal et al 2018 eriksen and breivik 2017 johansen et al 2016 the optimization problem can be solved by integrating a cost function with constraints with the increasing of the number of target ships it will lead to very expensive computation although several studies have demonstrated the ability to calculate a collision free path for ships several challenges must be addressed first as the maritime system becomes complex model based methods generally do not scale well to manage a large number of target ships in dense traffic and simultaneously consider the dynamics of the ship steering and propulsion system and environmental disturbances next the control logic of these methods is formed as complicated formulas that consider all possible situations thus slight changes in the environment may lead to failure furthermore most of the algorithms cannot easily predict the uncertainties in practical applications instead of attempting to formulate complex dynamic model we increase the data collection capabilities and use deep neural network dnn techniques to estimate the system and obtain the control policy using model free reinforcement learning rl algorithm model free rl can adapt well to complex systems and is capable of self learning thus providing a natural method to address extremely complex systems and discover optimal policies from an unknown environment through trial and error interactions sutton and barto 2017 in this context rl has been extensively studied for collision avoidance in automotive vehicles chae et al 2018 autonomous aerial vehicles kahn et al 2017 singla et al 2018 and multi robot systems everett et al 2018 long et al 2018 however unlike these applications multi ship collision avoidance has special constraints which is highly dependent upon seamanship and the colregs rules several studies have used model free rl to model the complex interactions between a ship and its encountered dynamic or static obstacles q network a value based rl algorithm for collision avoidance systems has been developed by cheng and zhang 2018 bhopale et al 2019 utilized the q learning algorithm for static obstacle collision avoidance these studies focused only on static obstacles and did not consider environmental disturbances more recently shen et al 2019 adopted the deep q learning algorithm to solve the multiple ships collision avoidance problem cui et al 2019 presented an integrated method combining a model based rl with mpc for application in ship control in a real implementation this method has to accurately consider multiple target ships and the colregs motivated by these requirements in this study we extend our previous method to learn a collision avoidance policy based on the observation of an arbitrary number of target ships with respect to colregs compliancy zhao et al 2019 first all the ships are information responsive and can actively exchange information with each other in addition they possess computing power for performing calculations such that each ship can react from the first person perspective according to the states of the target ships the proposed method is expected to enable multiple ships to simultaneously determine the action to avoid each other during training the algorithm directly maps the states of the target ships to a so called own ship steering command in terms of rudder angle using the dnns the states of the own ship and its encountered target ships are regarded as the input to the dnns the dnns are trained over multiple ships on various scenarios using a policy gradient based on the drl algorithm here the key challenge is that the number of states related to the target ships changes continuously in the environment however the typical feedforward dnns used in the domain requires a fixed dimensional input to address the challenge of a variable number of target ships in the environment one solution is to define a maximum number of agents that the network can observe however the maximum number of agents is limited by the increased state of agents another strategy uses long short term memory cells of the network input thus enabling the algorithm to make decisions based on an arbitrary number of other agents target ships everett et al 2018 in this study we present a novel strategy to set the input dimension by categorizing the target ships into four regions defined by colregs this proposed method can guarantee the collision avoidance of multiple ships by ensuring that each ship follows its predefined path the remainder of this paper is organized as follows section 2 provides a brief overview of the formulation of multiship collision avoidance section 3 introduces the components of the proposed method for this problem the implementation and learning results of the simulation are presented in section 4 conclusions and future work are presented in section 5 2 multiship collision avoidance problem the objective of the study is to solve a multiship collision avoidance problem where all the ships can autonomously make a decision to avoid their target ships while complying with the colregs by expanding our previous study zhao et al 2019 in this section we provide a brief overview of the formulation of the multiship collision avoidance and an introduction to the colregs required to understand this study 2 1 drl algorithm for multiship collision avoidance the multiship collision avoidance problem can be defined based on the sequential decision making problem the markov decision process mdp is typically used to model sequential decision making problems in the mdp the decision maker which is called an agent executes an action in the environment and the environment in turn yields a new state and reward more formally the agent and environment interact at each sequence of time steps t 0 1 2 at each time step the agent receives the state of the environment s t s where s is the set of possible states and the agent executes an action a t a s t following a policy where a s t is the set of actions available in state s t one time step later the agent receives a numerical reward from the environment r t 1 r and finds itself in a new state s t 1 the mapping from state to actions is called the policy denoted as π θ π θ a s represents the probability that a t a if s t s sutton and barto 2017 the reward r is the feedback that informs the agent about the immediate quality of its actions the goal at each time step is to perform an action that maximizes the discounted future rewards given by the return g t k 0 γ k r t k 1 where γ 0 1 is the discount rate that prioritizes near the term reward the state value function v π s e r t s t s is the expected return for following policy π θ from the state s t the state action value function q π s a e r t s t s a t a is the expected return for selecting action a t in the state s t and subsequently following policy π θ sutton and barto 2017 to address the multiship collision avoidance problem we propose to formulate the problem using multiagent drl in this formulation as illustrated in fig 1 the policy corresponds to the controller that observes the state and applies actions to the agent before the training the state action and reward functions must be designed appropriately subsequently a policy that maximizes the sum of future rewards return received during the interaction with the environment is learned self play trials are conducted in this manner to determine the control strategy based on the observed state once the training process is completed all ships can automatically navigate along the predefined paths and arrive at the destination while avoiding collisions with their target ships and comply with the colregs under the commands of the policy given the current state s t the own ship computes an action a t sampled from a stochastic policy π θ a t s t with policy parameter θ all terms will be redefined in the next section 1 a t π θ a t s t consequently the multiship collision avoidance has been formulated as a sequential decision making problem 2 2 colregs compliance before applying drl to the multiship collision avoidance problem we must consider the colregs as a ship makes decision from the first person perspective according to its observations and state information received from ships nearby it treats itself as the own ship os and other nearby ships as the target ships tss assume that an os navigates along a predefined path when tss appear in its safe area the os must react to avoid the tss while complying with colregs and subsequently return to its predefined path once safety is confirmed during the decision making ships can be specified as a stand on ship and give way ship between two encountered ships each ship makes a decision while complying with colregs under some typical encounter situations in which the give way ship should react to avoid collision and the stand on ship maintains its initial status as illustrated in fig 2 a diagram centered on the os is divided into four parts head on crossing give way overtaking and crossing stand on in other words the encounter situations between two encountered ships can be categorized into the following four types a crossing stand on b head on c overtaking and d crossing give way which is shown in fig 3 implementing the first person perspective centered upon the os enables us to understand the rule better a crossing stand on situation occurs when a ts is approaching the os at its port side in this situation the ts is specified as the give way ship that should change course to the starboard and pass the stand on ship os on its port side to avoid a collision while the os maintains its course and speed on the contrary when a ts is approaching the os at its starboard side the os is expected to change course to the starboard while the ts maintains its course and speed the diagram of the crossing situations are shown in fig 3 a and d in the head on situation as shown in fig 3 b both ships are requested to turn right to achieve the port to port maneuver finally the overtaking situation is shown in fig 3 c the ts is responsible for the collision avoidance maneuver by passing the starboard or port of an os depending on the colregs in these encounter situations all give way ships are requested to avoid a collision and return to their predefined paths 2 3 collision risk assessment to reduce the collision risk to the minimum extensive studies mou et al 2010 have been performed to assess the collision risk using parameters based on the properties related to the closest point of approach cpa such as time tcpa and distance dcpa the schematic diagram of the cpa is illustrated on the right side of fig 4 similarly the ship domain concept is suggested to calculate the collision risk area and is used to define a safety area around the os or tss that represents the region where other ships should not enter to avoid evasive maneuvers the process of creating of a hexagon shaped collision danger risk area around a given target is shown in fig 4 which was proposed byśmierzchalski 2005 the lengths of the ship domain are determined by the ship s length and speed along with the minimum time and tcpa and dcpa shen et al 2019 2 d 1 d c p a 2 d 2 t c p a v u d 3 b v 0 44 u d 4 t c p a v u d 5 l v 1 26 30 v u d 6 d b 2 where d cpa and t cpa denote the assumed values of the dcpa and tcpa respectively l and b are the length and width of the ship respectively v max v 0 v rel v refers to the ship speed v 0 v rel are the os speed and relative speed with the ts respectively u is the error in estimating the location and d b is the safe distance consequently the ship domain defines the safety area that is shown on the left side of fig 4 the safety area around the os defined an area where the tss should avoid 3 method for multiship collision avoidance we now present the proposed method for multiship collision avoidance based on the drl algorithm the state action and reward function definitions of this problem are presented in this section here we assign the os as the maneuver party and all tss nearby the os is denoted as tss 3 1 drl configuration 3 1 1 state space it is assumed that the state in this study can be fully observed we define the state as the information that the agent receives regarding the environment at a given time step t the state is divided into two parts s ot and s tt s ot s tt s t where s ot denotes the os state and s tt is the state related to the tss it can be expressed as 3 s o t y e ψ e ψ e χ e χ e p g o a l p 2 φ δ δ l 4 s t t p t s i v t s i p p t s i 2 χ χ t s i 2 l i the os state s ot consists of 10 elements where y e is the cross error ψ e is the heading angle error and χ e is the course angle error zhao et al 2019 see fig 5 these values can be calculated by the dynamic equation of the ship ψ e and χ e are the angular rates of the heading angle error and course angle error respectively p goal p 2 represents the distance between the positions of the os and destination φ is the relative angle between the course angle of the os and the angle pointing to the destination from the os the rudder angle δ rudder angular rate δ and length of the os l are also considered as part of the state space as the values may affect the action space it is also included in the state space the state of the tss s tt consists of five elements for every ts it contains the positions p tsi and velocities v tsi of the tss in the local frame attached to the os the relative distances between the os and tss p p tsi 2 and the relative angles between the os and tss χ χ tsi 2 are also included in the vector s tt moreover the lengths of the tss l i are included in the state space where i represents the index of tss with respect to the os see fig 6 during the training all states are regarded as the input to the neural networks nn as the number of encountered tss changes continuously the number of states related to tss is also changed correspondingly recall that one key limitation of the learning based collision avoidance method is that the feedforward nn typically uses a fixed size input here we present fig 7 that can be useful for understanding the limitation of the existing methods for example from the os s perspective the os successively encounters several tss on its way to the destination in the beginning when ship 1 is approaching the os the input to the nn is composed of the os state s ot and the ship 1 state s tt after successfully avoiding ship 1 the input to the nn will increase and involve the os state s ot and ships 2 and 3 states s tt because the os encounters with ships 2 and 3 simultaneously thereby to solve this problem we propose a novel method by setting the input size of the nn as shown in the right side of fig 7 the input to the nn is divided into two parts the os state and the tss state it is noteworthy that the ts state is divided into four parts based on the colregs consequently the os state is comprised of 10 elements and the ts state is comprised of 20 elements as explained in the previous state definition therefore the next step is to categorize the type of encountered tss the type of tss based on an os can be determined by the following procedure that is similar to that of tam and bucknall 2010 the optimal strategy corresponds to a course offset toward the starboard side until the ts has passed at a safe distance on the os s port side the procedure of ts categorization is performed in four steps first we verify whether the encountered tss must be considered if the ts occurs in the ship domain see section 2 3 then proceed to the next step next the ts is categorized based on its instantaneous position with respect to the os position according to the regions defined in fig 8 the ts can be designated as belonging to one of the following four regions head on crossing stand on crossing give way and overtaking subsequently the ts is further categorized based on its relative heading with respect to the os heading where v o and v t i represent the velocity vectors of the os and tss respectively finally the ts type can be determined based on the combination of instantaneous position and relative heading of the ts with respect to the position and heading of the os the overall procedure is illustrated in fig 9 3 1 2 action space in ship collision avoidance the navigator operates by changing the heading and speed to guarantee ship safety in complex navigational areas while an expert judgment based on past experience is required for an appropriate decision in the automatic collision avoidance system the ship must be fully trained prior to its application as the ship can turn left right or maintain its course under rudder control only the action is discretized accordingly into three discrete values a δ max 0 δ max this command of the rudder angle can affect the control force 3 1 3 reward function design the reward function is computed as the sum of rewards accumulated in each episode where the reward is a measurement of action quality and the episode is a hypothetical scenario for the training process the objective of the study is to maneuver the os for collision avoidance by moving its tss while ensuring that the ship follows a predefined path consequently the reward function can be specified to reward the agent for following the path and avoiding collision with the tss while complying with colregs however these two rewards are contradictory because when the os starts to avoid collision with the tss it also deviates from the predefined path correspondingly thereby to solve this problem we define the reward functions by switching two modes path following and collision avoidance first the os is continuously imposed with the path following reward function when it is in a safe situation four reward functions are used for setting the path following reward function as shown in fig 10 the goal reward r goal is designed to guide the os to arrive at the destination it can be expressed mathematically as 5 r g o a l r g o a l i f p t p g o a l 10 λ g o a l p t 1 p g o a l p t p g o a l o t h e r w i s e where p goal and p t are the destination position and current os position respectively λ goal is a hyperparameter when the ship approaches the destination the more substantial distance reward value is imposed on the agent the ship is awarded by r goal for reaching the goal less than ten meters the heading error reward and cross error reward are two important components that are involved in the path following reward functions to encourage the os to follow the predesigned path the course angle error and cross error must converge to zero when calculating the heading error reward within a small range ψ e ψ we propose an exponential reward function to model it see eq 6 if the heading angle error and the heading angular rate error are zero implying no deviation between the os and path the agent receives the maximum reward at the current time step similarly the cross error reward function is defined in eq 7 6 r h e a d i n g exp k d ψ e 2 ψ e 2 i f ψ e ψ r h e a d i n g e r r o t h e r w i s e 7 r c r o s s exp k c y e 2 y e 2 i f y e y r c r o s s e r r o t h e r w i s e where k d and k c define the parameters of the exponential function that relate to the convergence speed r headingerr and r crosserr are positive values when the os deviates from the path at a relatively large angle in addition to avoid drift the linear sway velocity v must be smaller than the surge velocity u consequently the drift reward function can be formulated as follows 8 r d r i f t r d r i f t i f u v 0 o t h e r w i s e where r drift refers to the drift reward value when drift occurs as illustrated in fig 11 the collision threat i e tss entering the ship domain of the os is detected thus the collision avoidance mode will be triggered we simplify the hexagon shaped ship domain by a circle of radius d 5 which is calculated from eq 2 the radius d 5 can be regarded as the minimum passing distance between the os and tss as mentioned previously the encountered ts type is categorized based on the procedure in fig 9 the os can change its course to avoid the tss in the head on overtaking and crossing give way regions at this time the collision avoidance reward function must be imposed on the agent it therefore performs a course change to avoid and pass the tss the collision avoidance reward function comprises two functions when the os collides with the tss in the range of a circle of radius r 0 it is penalized by the collision reward r collision 9 r c o l l i s i o n r c o l l i s i o n i f p p ts i 2 r 0 0 o t h e r w i s e where p tsi represents the current position of the tss because the os must avoid the tss in compliance with the colregs the related reward function r colregs must be added 10 r c o l r e g s r c o l r e g s i f t u r n r i g h t r c o l r e g s o t h e r w i s e when the os avoids and passes the tss at a safe distance it will switch to the path following mode consequently the path following reward function had started to be imposed on the agent 3 2 implementation of the drl algorithm the drl algorithm in the proposed method consists of an agent represented by a nn interacting with a complex and unknown environment the nn consists of an actor network policy function and a critic network value function as shown in fig 12 the critic network is used to estimate a value function v φ with parameter φ and the actor network is used to estimate a policy a set of action probability outputs consequently the agent uses the value function estimate to update the policy more intelligently as mentioned in section 3 1 1 the state consisting of the os state and its related ts state is fed into two fully connected fc layers the fc multilayer perceptron consists of two hidden layers consisting of 64 and 32 hidden units with tanh nonlinearities outputting the probability over the action space the agent selects and executes an action according to the policy with the highest probability we define the loss functions for each nn and use it to update the weights of the two nns in the back propagate gradient computation in the multiship collision avoidance each ship is expected to avoid collision with each other in conjunction with colregs in other words each ship is an agent to participate in the training process and share one policy we employ a policy gradient based drl algorithm clipped proximal policy optimization ppo in this study as shown in fig 13 which is adapted from long et al 2018 schulman et al 2017 the algorithm for iteratively updating the policy and value function is shown below at each iteration each agent collects t time steps of the state action and reward values where t is significantly shorter than the episode length and performs the policy for t time steps here each ship is specified as an agent that collects the state including the os state and its surrounding ts state subsequently we construct a clipped surrogate objective function l ppo θ as the actor network objective function it is formulated in eq 11 schulman et al 2017 11 l p p o θ e ˆ min r t θ a ˆ i t c l i p r t θ 1 ε 1 ε a ˆ i t w h e r e r t θ π θ a i t s i t π θ o l d a i t s i t r t θ is the ratio of the probabilities under the current and previous policies where π θ a i t s i t is the probability of the action under the current policy with the policy parameter θ and π θold a i t s i t is the probability of the action under the previous policy this implies that if the action is more applicable for the current policy it is greater than 1 if the action is less applicable for the current policy than for the previous one it is between 0 and 1 the ratio is clipped between 1 ε and 1 ε in the objective function where ε is a hyperparameter that is typically set to 0 1 or 0 2 in addition a ˆ i t refers to the estimated advantage at time t for each agent and is defined as the difference between the state action value function and state value function the value targets are calculated based on the generalized advantage estimation schulman et al 2015 consequently using the policy ratio r t θ we can construct the objective function l ppo θ to clip the estimated advantage if the new policy is distant from the old policy and it will update the policy conservatively by clipping the policy ratio within a small range around 1 in the next step the objective function is optimized with the adam optimizer kingma and ba 2014 for e π epochs by using the gradient ascent step on this function with respect to the policy parameter θ the action results in a higher reward the state value function vφ s i t which is used as a baseline to estimate the generalized advantage estimation gae a ˆ i t is approximated using the critic network with the parameter φ to update the state value function we construct the mean squared error loss l v φ for vφ s i t on the sampled episodes above and subsequently optimize it with the adam optimizer for e v epochs we update π θ a i t s i t and vφ s t in the actor and critic networks independently and their parameters θ and φ are not shared because using two separated networks yield better results in practice the hyperparameters in the algorithm are presented in table 1 4 application examples the proposed method has been evaluated with simulation tests for a large and complex environment the simulation is illustrated in the following cases from the one one to multiple multiple collision avoidance that demonstrate the scalability of the proposed method in all simulation cases the same parameter settings are used all ships are assigned to avoid collisions with each other and converge to their predefined paths 4 1 preparation for simulation 4 1 1 mathematical modeling in this study a simplified three degree of freedom 3 dof dynamic ship model is used to describe the ship motions in the horizontal plane surge sway and yaw fossen 2011 the dynamic equation for the ship can be expressed in the following form 12 m ν c ν ν d ν ν τ where v u v r t represents the vessel fixed velocities m m rb m a is the mass matrix consisting of the rigid body mass and hydrodynamic added mass c v c rb c a v is the matrix consisting of the rigid body and hydrodynamic coriolis and centripetal matrices d v is the nonlinear damping matrix which can be defined as the sum of linear damping and nonlinear damping d v d l d nl v we assume that the ship contains only one control input rudder angle δ and maintains the constant propeller speed the control force τ assumes the form τ x δ δ y δ δ n δ δ t where x δ y δ and n δ are the rudder coefficients associated with the surge sway force and yaw moment respectively the control force can be calculated by the aforementioned output action the principal dimensions of the ship with its actuator are shown in table 2 perez and blanke 2002 4 1 2 simulation setup for the multiship collision avoidance to visualize the simulation results the three dimensional visualization tool rviz provided by robot operating system was used it visualizes the simulated environment including the multiple ships and the generated paths the calculation module using the python software package interacts with rviz to set the position and orientation of the ships the generated path considered in this study is composed of a collection of randomly created waypoints during the training process the positions and numbers of waypoints were generated randomly because the environment changes unpredictably in the real world implementations we adopt a strategy where eight ships are trained simultaneously and one policy is shared such that the efficiency of policy convergence and a higher reward are guaranteed all the ships maneuver at the same velocity and will collide with each other if the colregs rules are not satisfied fig 14 shows four situations at each segment path crossing stand on head on overtaking and crossing give way all which comply with colregs it is noteworthy that the names of the situations herein are defined from the points of view of ships a c e and g moreover to improve the training speed the initial and end positions of the paths are set randomly within an acceptable range as described in section 2 2 the ships can be specified as a stand on ship and give way ship between two encountered ships each ship makes a decision that complies with the colregs under some typical encounter situations in which the give way ship should react to avoid the collision and the stand on ship maintains its initial status the simulation setup with multiple ships is shown in fig 14 in case a a crossing stand on situation occurs if the ts ship b is coming from more than 22 5 abaft the beam when two ships are involved in a dangerous ship domain their surrounding regions are painted with the corresponding colors to visualize the encounter situations better for example from the view of ship a when ship b enters the crossing stand on region of ship a its corresponding region is painted in purple simultaneously ship a is regarded as located in the crossing give way region of ship b such that the color of the region becomes orange in case b a head on situation occurs if two ships ships c and d are approaching each other on reciprocal courses in the range of 10 in this situation ships c and d are found to be located in the other party s head on region and the corresponding regions are all painted in red in case c an overtaking situation occurs if the other ship ship e is overtaking ship f in the range of 135 in case d a crossing give way situation occurs if the other ship ship h is coming from the starboard side of ship g once the training process is completed all ships can automatically navigate along the predefined path and arrive at the destination while avoiding collisions with their tss 4 2 case 1 in case 1 the simulation objective is to control the aforementioned eight ships to avoid their tss with respect to colregs compliancy while ensuring that they follow their predefined paths the simulation results of multiship collision avoidance are illustrated in figs 16 and 17 in this task fig 14 we trained the drl agent to avoid the tss using the clipped ppo algorithm according to section 3 1 the state input of each agent s t consists of the os state observed by itself s ot and s tt which is defined by its tss the output of the network is the rudder angle the integrated time step was set to δt 0 1 s at each training iteration each agent ship exploits the policy to generate trajectories until the maximum of t max 10240 time steps is reached we subsequently select samples randomly from the collected data including the state reward and action the selected sampled mini batch 64 is used to construct the surrogate loss function that is optimized by the adam optimizer for e π e π 20 epochs the average reward is computed as the sum of the rewards accumulated in each episode where the reward functions follow the rules defined in section 3 1 3 an episode ends if one of the following situations occur any pair of ships collide with each other all ships reach the destination or all ships are distant from the predefined path subsequently all ships are restored to its initial position and a new episode begins after completing the given training iteration the optimal policy can be obtained according to the simulation results all the ships can follow the path and avoid collision while complying with colregs with the reactive action of the surrounding tss being considered as shown in fig 15 in the a crossing stand on situation the give way ship b alters the course to avoid the stand on ship a while ship a has the right to stand on in the b head on situation both give way ships i e ships c and d should change course to the starboard to avoid each other in the c overtaking situation when the give way ship e is overtaking a slower stand on ship f ship e avoids collision with ship f in its both sides in the d crossing give way situation contrary to situation a the give way ship g can avoid the stand on ship h while ship h maintains its initial direction to the destination in the crossing situations a and d ships a and h maintain their initial statuses even if a potential collision risk with the tss exist because the two ships are specified as the stand on ship with respect to colregs however if the give way ship in the situations above fails to react to avoid a collision the stand on ships a and h should have the capability to take alternative actions in real world implementations fig 16 shows the average reward for multiship collision avoidance in case 1 1 the average reward converges to a maximum value after approximately 250 iterations the performance of the rudder angle of the 8 ships in case 1 1 is depicted in figs 17 and 18 it shows that when passing through each waypoint the rudder angle is set to maximum as described in section 3 1 3 we define the reward functions by switching two modes path following and collision avoidance if a collision risk occurs not only within the head on overtaking and crossing give way regions but also in the crossing stand on region the ship must consider the collision avoidance reward function we train and implement it to crossing situations a and d as shown in fig 19 the simulation results indicate that all ships can avoid collisions with each other while complying with colregs in addition the proposed method demonstrated its excellent flexibility and scalability for various tasks in unknown environments 4 3 case 2 to demonstrate the colregs compliance we adopted a more complex simulation in which four ships are designed to head to the center point the trained agent in case 1 was used for the simulation of case 2 the specifications of the ships are listed in table 3 the initial positions of the ships have been well designed to be the give way ship if any of the ships do not take avoidance actions it collides with the surrounding tss fig 20 illustrates the simulation process of collision avoidance with four ships first the four ships from ship a to ship d start to set sail to their destinations for example from ship a s point of view three tss are approaching ship d in the crossing stand on region ship c in the head on region and ship b in the crossing give way region therefore ship a is responsible for changing course to the starboard to avoid ships b and ship c and it can ignore ship d as it is located in its crossing stand on region consequently each ship starts to change course to the starboard to avoid their tss as shown in fig 20 3 next the four ships move circularly to pass other tss while not deviating significantly from their predefined paths finally the four ships converge to a path until they reach their destinations figs 21 and 22 illustrate the simulation results of case 2 ships a and c start in the opposite position when ships are arriving from the starboard side it changes course to the starboard and passes the tss on the port side similarly ships b and d start in the opposite position when ships are arriving from the starboard side they change course to the starboard and passes the tss on the port side finally the two ships return to their predefined paths the proposed method demonstrated that it can manage complex scenarios 5 conclusion and future works in this study we proposed a novel method for multiship collision avoidance based on the deep reinforcement learning drl algorithm the collision avoidance method is crucial for ensuring the safety of both the ship and its surrounding target ships in congested sea areas the proposed method directly mapped the states of the encountered ships to an ownship s steering commands in terms of rudder angle using the deep neural network dnn the dnn was trained over multiple ships on rich encountering situations using the policy gradient based drl algorithm however the typical feedforward dnns used in the domain required a fixed dimensional input to address multiple encountered ships we proposed a novel strategy to solve the varied input problem of multiship collision avoidance by categorizing the tss into four regions that were defined by the convention on the international regulations for preventing collisions at sea colregs the proposed strategy demonstrated its excellent adaptability to unknown complex environments with various encountered ships we further designed a united reward function for solving the path following and collision avoidance problems simultaneously the decision procedure of the reward functions demonstrated that it can be flexibly applied in emergency situations at sea subsequently we simultaneously trained multiple ships on different scenarios defined by colregs which have improved the efficiency of the training process significantly finally to provide a practical simulation environment a 3 dof dynamic model of the ship was used we implemented path following and collision avoidance while complying with the colregs and incorporating ship maneuverability for this problem we validated the proposed collision avoidance method in a variety of simulated scenarios with thorough performance evaluations and the simulation results indicated that the proposed method enabled multiple ships to simultaneously determine the action to avoid each other while ensuring that they followed the predefined paths this algorithm could be applied to a wide range of tasks from one one collision avoidance to multiple multiple collision avoidance for future work we will focus on improving the model free drl algorithm adopted in this study the high sample complexity of purely model free drl algorithms rendered them difficult for use in learning in the real world where sample collection oscillation of the rudder angle are limited by the constraints of real time operations we will improve the method for collision risk assessment including the revision of the ship domain we will attempt to combine it with model based rl to achieve good sample efficiency and stable performance in addition the collision free path planning will be optimized in the future study finally a hardware experiment will be implemented to validate the proposed method for multiship collision avoidance including the comparison with other existing methods for collision avoidance acknowledgment this work is an expansion of our previous study zhao et al 2019 and supported by research institute of marine systems engineering of seoul national university republic of korea 
22403,the ability to predict the tug s handling effectiveness and safety at early design stage is paramount in view of an optimal design process in this framework the availability of a reliable manoeuvrability prediction model is beneficial this paper presents a novel 4 dof parametric manoeuvrability model dedicated to the manoeuvrability analysis of azimuthal stern drive escort tugs an extensive captive model testing campaign is exploited to develop the mathematical model conceived following the mmg model concept the modelling pursues a physics based approach aimed at characterising the complete manoeuvring hydrodynamics of the vessel the hull skeg and azimuthals force contributions are analysed separately and are then coupled to analyse their interaction a complete real time simulator is presented which is capable of simulating the dynamics of a towing convoy in several real case scenarios this capability is envisaged to become a very useful tool for the tug designer allowing to address realistic operational conditions with a focus on manoeuvring capabilities risk assessment risk mitigation operational safety and effectiveness keywords tugs escort towing manoeuvring model z drive azimuthal stern drive dynamic simulation 1 introduction tug assistance is usually required whenever the manoeuvring capabilities of a large vessel are limited or hampered by the physical constraints of the waterway by a failure of the ship systems or as a result of the meteorological situation among these scenarios two in particular jeopardise the manoeuvring performance of a ship firstly whenever the vessel speed needs to be reduced to such an extent as to make the vessel uncontrollable e g during harbour approaches mooring and docking operations or while navigating in restricted waters secondly when the ship incurs in a failure of the propulsion or control systems united states congress 101st 1990 the towing service may thus be required in confined and deep waters alike and it may concern the partial or total handling of the vessel two different towing practices are identified according to the use of the propulsive system namely the direct and indirect towing capt hensen 2003 the direct towing exploits directly the sole propulsive thrust of the tug and it is employed almost exclusively at low speeds the indirect towing uses the propulsive power to indirectly generate towing forces exploiting the hydrodynamic forces of the tug speed is the threshold critical parameter indeed escort tugs the indirect towing is aimed at assisting ships during navigation over an intermediate range of speeds which corresponds to operations between the harbour manoeuvres and the cruise speed i e around 6 10 kn fig 1 at these speed ranges the tug sustains particularly challenging situations owing to the relatively high speed the ship interference with the tug seaway and the danger of tug girting such factors render the adoption of stern tug assistance a necessity kasteren 2012 capt brooks and capt slough 2000 capt hensen 2012 escort tugs ets are developed in response to these needs their chief purpose is to provide stern towing assistance i e escort to ships with reduced manoeuvring capabilities transiting critical or hazardous areas the principle of indirect towing is as follows while the ship is able to manoeuvre independently the et passively follows the ship which may or may not be tethered in cases of emergency the propulsive system of the et is used to maintain the vessel in a forced steady drifting motion strong hull hydrodynamic forces caused by the large drifting attitude are balanced by the towline reaction hence causing the indirect tensioning of the line allan 2000 by controlling the strength and direction of this indirect towing force the et aids the ship keeping her track so that the risk of groundings or collisions is reduced the et must thus be capable of braking and steering the tethered ship at speeds where direct towing would be both inefficient or ineffective for instance fig 2 illustrates the different steering capabilities of an azimuthal stern drive asd tug delivering a 85 t bollard pull as it operates in direct and indirect towing mode the graph shows the critical speed threshold beyond which the direct towing steering forces are exceeded by those generated by indirect towing it should be noted how the former exhibits a customary ducted propeller thrust speed relationship whereas the indirect towing increases almost quadratically with speed this behaviour is typical of lifting surfaces and justifies the adoption of the indirect method to generate stronger towing forces at higher speeds to generate such forces ets often boast unique hull designs and propulsive solutions the main aim of the et design is to take advantage of the hull s hydrodynamic forces to generate a safe and stable towing force capt hensen 2012 conceiving a hull capable of generating such strong drifting forces is a design challenge that has sparked the adoption of many solutions throughout the years both numerical allan and molyneux 2004 smoker 2009 jahra et al 2015 and empirical molyneux and earle 2001 molyneux and bose 2007 procedures are commonly adopted to assess the towing forces the tug handling and the operational safety of ets during escort towing these methods have been consistently used to improve the state of the art of ets and their effectiveness leading to the development of very diverse hull and skeg geometries and to the adoption of peculiar propulsive choices the development of the large hydrodynamic forces typical of ets is indeed a matter of integrated hull and propulsion system design broadly speaking ets boast larger projected hull lateral areas than conventional tugs on the other hand several different tug propulsion arrangements are applied allan and smoker 2013 which include asd tugs jukola and castleman 1995 and tractor tugs voith drive or z drive propulsion jürgens and palm 2012 subsequently innovative designs led to the adoption of alternative and more complex multi propulsor systems and sliding towing point concepts kooren et al 2000 lisagor et al 2015 safetug 2015 the technological advancements of ets also progress coherently with the regulations of class societies and in parallel with their development see e g abs 2019 dnv gl 2018 given the wide range of solutions and operations the ability of designing ets and of predicting their escorting performance is essential in particular numerical simulations have been successfully used for training design validation risk assessment and risk mitigation gray and elizabeth 2001 merrick 2002 the glosten associates 2004 sophisticated models can be used to include the effects of weather ship size and on board failures to simulate real case scenarios waclawek and molyneux 2000 li and calisal 2005 quadvileg and kaul 2006 hydrodynamic principle fig 3 shows a schematic of the earlier described indirect towing principle the hydrodynamic forces acting on the et and generated by its forced drift motion may be regarded in analogy with the theory of slender lifting bodies as the tug drifts in the water its hull acts as an aerofoil in a flow at a non zero incidence angle the resultant lift forces generated by the et are generally much greater than the mere direct pull practically the et can be thought of as an external rudder which is free to move about the stern of the tethered ship transmitting the hydrodynamic forces across the towing line from a hull design standpoint the enhancement of the hydrodynamic lifting performance is achieved by large skegs or large lateral hull surfaces in analogy with semi balanced rudders the hull centre of pressure of the ets is typically brought forward by having a larger lateral area in the forebody as a consequence the lifting forces move closer to the towing point i e the towing staple relieving the propulsive and steering effort in the rudder analogy the torque required on the rudder stock on the other hand the large static and dynamic heeling angles sustained by ets require wider hull breadths to improve the transverse restoring moment from the above description it becomes necessary to model the et s manoeuvring performance at high speeds and large drift and heel angles rationale the manoeuvring characteristics of marine vessels are traditionally of great interest in the field of naval architecture when common hull forms are involved several mathematical regression models and extensive manoeuvrability tests are found in the literature see e g lewis and sname 1988 kose 1982 abkowitz 1964 conversely very few studies have been devoted to the understanding of the manoeuvring and broadly the hydrodynamic behaviour of more unusual vessels tugs represent a challenge for work boat designers and operators the general growth of merchant vessel sizes requires the use of tugs with increasingly greater towing power primarily this translates into stronger bollard pull forces traditionally achieved by increasing the tug s power and size however some disadvantages arise inevitably with it medium size ships are prepared to safely sustain neither large push forces onto the side shell nor extremely strong pulls on the towing bitts on the other hand large size tugs are not optimal for assistance in restricted or busy harbour waters and they generally require higher overall capital investments and daily costs in this framework ets are preferred to handle larger vessels and its manoeuvring capabilities are therefore paramount in view of an optimal holistic design framework the ability of predicting the et s handling effectiveness and safety is key to its design whose goodness cannot be quantified by a single parameter of the like of the bollard pull for conventional tugs at early design stages only model scale testing or numerical ranse computations or alternatively analytical models derived from tests on similar vessels may be used for this purpose figari et al 2018b piaggio et al 2018 in this framework the availability of a reliable parametric manoeuvrability model is of the highest importance the present paper presents a novel manoeuvrability model for an azimuthal stern drive escort tug an extensive experimental campaign is purposely devised to investigate the hydrodynamic characteristics and manoeuvrability performance of the et and to validate the mathematical model this study paves the way for a wider mathematical parametric model for asd escort tugs which envisages a simulation for design strategy 2 the tug to develop the novel mathematical model the present paper characterises the manoeuvrability of a medium size et figari et al 2018b a capable of good ahead astern performance maximum achievable speed and low wave pattern and of fulfilling the requirements for tugs stability with large margins resolution msc 415 97 enacted on the 1st january 2020 the case study vessel is a 28 m 12 m azimuthal stern drive asd multi purpose escort tug which is capable of about 65t full scale bollard pull its main characteristics are summarised in table 1 the tug boasts two ducted azimuthal thrusters and a medium size fore skeg which aims to achieve good escort performance without impairing the readiness of low speed manoeuvring in addition a double hull configuration allows damaged hull survivability in accordance with the requirements of resolution msc 235 82 for offshore support vessels osv 3 the experimental campaign an extensive experimental campaign was designed to aid the selection of the manoeuvrability mathematical model that describes the operational domain of the vessel to the largest extent this should encompass large drift angles fast manoeuvring dynamics large heeling angles and propulsion dynamics therefore an effort is devoted to understand quantify and capture all the major underlying hydrodynamic phenomena involved with a view to an holistic simplified dynamic model of the vessel the investigation focuses on the development of a reliable and robust modular force model capable of describing the two force components generated by hull skeg azimuthals and the combination hull skeg azimuthals resulting from their mutual interaction this study mainly deals with the problems of high speed escort manoeuvring and presents a secondary insight on low speed operations model tank facility the model tug was constructed to represent its full scale counterpart the model is shown in fig 4 and was built to a scale of 1 11 075 it features the two ducted azimuthal thrusters and the fore skeg in addition it was provided with bow fenders a main deck bulwarks and a simplified superstructure the main hull geometrical characteristics and non dimensional ratios of the model et are reported in tables 2 4 the tests were carried out in a towing tank 240 m long 12 m wide and a water depth of 5 4 m see fig 5 all the tests were performed at f n 0 279 corresponding to a full scale speed of 9 knots some critical tests were also conducted at the lower speed of f n 0 093 3 knots full scale experimental set up captive model test are customary techniques applied to determine the hydrodynamic coefficients i e the so called manoeuvring derivatives used in a mathematical model of ship manoeuvring motion for manoeuvrability tests the model was mounted underneath a large planar motion mechanism system pmm which constraints the motions to the horizontal plane therefore surge sway yaw and heel are forced the deck plating is manufactured with a large opening to fit the pmm mechanism the x longitudinal and y transverse forces and the n yaw and k roll moments which act in the constrained directions were measured by a multi component force balance installed in the pmm the forces acting on the escorted vessel could therefore be represented in the tug fixed reference system b t f r a m e see fig 3 for free sailing escort tests the model was self propelled and unconstrained a specific escort setup was devised which included a towline connecting the tug model to the carriage fig 6 both towing bitts were instrumented with gauges to measure the forces exerted by the tug and the vessel the instrumented towing bitt on the tug model xy force gauge see table 5 was located on the cl 0 235 m from the tug s bow and 0 783 m above the base line the towing point on the carriage xyz gauge in the tank reference system t f r a m e was located 0 903 m above the water surface and the towline was 6 32 m long 70 m full scale the model motions were measured by use of on board inclinometers and an external optical tracking system all the instrumentation cabling was pulled vertically above the model to avoid any type of interference with the experiment during all tests the thrust and torque produced by the azimuthal thrusters were collected by in house built dynamometers mounted inside each thruster s leg the total forces acting on the thruster units were measured by means of axial and transverse force gauges while similar gauges monitored the forces on the ducts all the parameters related to the azimuthal thruster units i e thrust torque nozzle force longitudinal x a z and transverse y a z total forces were measured in the thrusters local coordinate systems z f r a m e s which rotate relative to the model fixed coordinate system by the azimuthal angles a summary of the measuring references are illustrated in fig 7 3 1 test framework broadly speaking tugs are atypical in terms of navigation and manoeuvres their operational profile is not confined to a few combinations of design speed and loading cases but it spreads over several off design conditions this peculiarity renders the modelling of their broad manoeuvring capabilities rather complex the challenges are exacerbated when dealing with ets which are normally subjected to coupled motions with misaligned azimuthal configurations both at low speeds during harbour operations and at high speeds during escort or free sailing high drift angles may be generated modelling the oblique sailing attitudes is thus very important especially with respect to indirect towing modes in the perspective of a complete comprehension of the phenomena the experimental campaign is subdivided into four logical blocks concerning respectively 1 hull skeg 2 azimuthals 3 hull skeg azimuthals 4 free running escort towing a summary of the high speed test matrix is reported in table 6 hull skeg pure sway pure drift tests and pure yaw tests addressed the identification of the manoeuvrability characteristics of the vessel in the pure motions yaw drift tests were instead aimed at assessing the coupled forces with particular regard to the dynamics engaged around escort equilibria an extensive experimental matrix covering large drift angles and yaw rates was designed with particular attention to the heeling effect which is constraining in escort manoeuvring heeling effects were further explored through pure drift heel tests azimuthals when dealing with steerable propulsive systems during escort manoeuvres the correct modelling of the azimuthal forces becomes essential for the manoeuvrability prediction to assess the direction of the thrust force as a function of the azimuthal angle two tests were performed standard open water tests in the first and fourth performance quadrant n 0 v 0 and n 0 v 0 respectively were at first conducted at varying propeller loads secondly oblique flow propulsion was assessed focusing on thrust and torque variations particular attention was devoted to the lateral force whose effect considerably affects the tug s manoeuvrability hull skeg azimuthals once hull skeg and azimuthals model tests are accomplished their interactions must be investigated since a linear superposition of their effects is not legitimate the hull and the azimuthal thruster forces must be analysed together the functioning of the propellers in underneath hull condition can be thus more accurately assessed the axial and transversal forces acting on the total unit are assessed by varying the azimuthal helm angles and the vessel drift angle and by looking at their effect on the total hull forces the degree of complexity of the investigation requires that azimuthal and drift angles be initially varied independently they are then varied together to reproduce the escort towing captively the yaw rate effect is left to future investigations since an escort manoeuvring model is here of prior interest a scheme of the pmm tests is represented in fig 8 with the basic nomenclature escort tests finally escort free running tests are performed for validation purposes the self propelled model is positioned behind the carriage to which it is tethered by means of a towline the carriage is instrumented with a dual axis xy strain gauge aligned with the tank allowing to measure the braking and steering force components both helm angles and propeller speed of the azimuthal thrusters are progressively increased until the transversal heeling results in green water on deck the configurations of equilibrium are recorded no deepening about uncertainty analysis of pmm force measurements is tackled at the present stage of the investigation however a brief sensitivity analysis on how force errors propagate through the manoeuvring models is provided in this paper after the validation of the escort model future work will deal with a more detailed uncertainty analysis 4 manoeuvrability models 4 1 hull skeg models the adopted manoeuvring model is based on the classical sname multivariate polynomial taylor expansions let φ be the generic force and φ ˆ its estimate the even regressors are related to kinematically symmetric forces i e x while the odd terms are devoted to the skew symmetric motion dynamics i e y n k added mass formulations are assumed linear forces and moments follow the customary non dimensional notation as in the following equation 1a x x 0 5 ρ v 2 l 2 1b y y 0 5 ρ v 2 l 2 1c n n 0 5 ρ v 2 l 3 1d k k 0 5 ρ v 2 l 3 the polynomial of the regressor is formally defined as 2 φ ˆ i 0 n 1 μ i v α i r β i ϕ γ i μ v v μ r r where α i β i 0 1 2 3 4 5 γ i 0 1 2 3 and α i β i γ i 5 hence a time domain multi run lsq approach is pursued piaggio et al 2018 defined by the following equation 3 μ argmin k 1 n φ k φ ˆ k μ 2 the hydrodynamic derivative tuple μ is inferred by exploiting all the data acquired from the series of pmm tests each k t h o u t o f n pmm run represents an input to the regression process and is part of a subset of the experimental matrix the resulting forces of each run are estimated by means of a global optimisation problem e g least square problem with square euclidean metric the regression process ensures the optimal fit of the global response surface by minimising the quadratic cost function over the predefined kinematic domain the complete set of the hull skeg pmm tests is composed by the mean force measured across the pmm cycles on the domain plane v r the regression process is then carried out in pursuit of the best steady surface of estimation up to dynamic contributions clearly the minor is the distance of the surface model from the data cloud the better is the estimate the regression result is conveniently expressed by a mixed 5th order polynomial with heel effects restricted to 3rd order the x force is considered to be dependent only from the drift due to the negligible correlation with yaw and heel the dataset cloud is then reduced to the stationary part and fitted against the model to verify the steady response surface fig 9 a the distance of the single point from the surface is defined as the residual error at each instant whose distribution is shown over the tested domain in fig 9 b ideally the sequential distribution of the residuals should behave as a white random process within an admissible 95 confidence interval the mean rmse over the runs is then defined as the average of the mean errors across each run within the domain of interest the quality of the estimation is constantly evaluated and monitored across the identification process in order to understand the goodness of fit and to ensure global rmse around 5 for x y n and 10 for k auto correlation function techniques are finally exploited to verify the goodness of each time series in the identification process by means of a median 35 confidence interval piaggio et al 2018 a focus on the pure drift features of the escort towing is represented in figs 10 14 firstly the effect of speed for x y n and k forces is considered comparing values measured at the full scale speeds of 3 and 9 kn then the effect of the heel angle on the same forces is considered in both cases an insight over the whole 0 180 deg range is given then the graphs focus on the 0 60 deg range v 0 0 85 which is more representative of escort conditions no particular speed effects fig 10 are apparent in escort ranges until stall angles contrary to expectations the higher speed run unveils an anticipated stall clearly visible both in y and n diagrams some less important and yet sensible differences arise in terms of k moment possibly due to dynamic trim and squat in the case of higher speeds the forces measured in crabbing conditions and in the stern quarter drifting quadrant result instead particularly altered probably due to green water on deck and the variation of the attitude the effect is particularly evident in terms of k moment that unexpectedly changes sign hindering its interpretation this unexpected behaviour occurs at angles over 90 deg this effect may be linked to issues in the experimental setup which occurred at both speeds an interesting behaviour is observed for the x force due to the high lifting capabilities of the hull skeg configuration the vessel experiences an increasing reduction of the forward resistance until stall angle fig 11 focuses on the tests conducted at 9 kn full scale the experiments are demonstrated to be sufficiently well caught by the model within the escort ranges of interest up to about 45 50 deg it may be speculated that higher order terms e g a 6th order monomial could be introduced in the model to capture the out of range stalling effect previously described nevertheless the effect is considered to be negligible to limit the complexity of the model with respect to the influence of the heel angle the results obtained at 10 deg heel figs 12 13 reveal interesting effects the asymmetrical hull geometry in the flow breaks the skew symmetry of the forces and offsets forces and moments at zero incidence angle more importantly the lateral force and yaw moment are amplified at the larger angles corresponding to typical escort ranges emphasising the importance of considering the effects induced by the heel angle particularly the k moment shows severe discrepancies at larger drift angles which are probably correlated with the green water on deck nevertheless the escort range 45 60 deg appears negligibly affected the hull lift effect is then further clarified by considering the forces in the tank reference i e the perpendicular lift component y τ its parallel drag counterpart x τ and the yaw moment relative to the towing point n t p fig 14 allows a more direct analysis of the hull skeg behaviour in accordance with the low aspect ratio lifting surface theory the phenomenon can be regarded as the camber like effect of a lifting surface which is in this case embodied by the asymmetric hull the curvilinear distribution of the underwater volumes alters the hydrodynamic angle of attack at the bow causing the flow to break the symmetry whereas the effect is less apparent at zero attack angle i e zero drift a much larger effect stands in the postponement of the stall angle the camber effect may be fundamentally explained as producing a better hydrodynamic orientation of the inflow at the bow and delaying the flow separation on the other hand the variations of the lateral force induced by the tug s heel are negligible shifting the reference fulcrum to the towing staple i e n t p allows an interesting observation with respect to the behaviour of the n moment due to the hull skeg configuration producing larger underwater volumes and lifting area in the forebody the n is null over a wide range of drift angles 0 15 deg on the one hand this proves the intrinsic course instability of the vessel when free sailing on the other hand it is a strong endorsement of the convenience of such hull configuration for the indirect towing in fact the azimuthals must produce a yawing moment equal and opposite to that generated by the imbalance between hydrodynamic and towing forces to maintain the equilibrium drift angle clearly a drifting attitude is more easily attained and maintained if the azimuthals need to counteract a smaller moment in this perspective pure hydrodynamic forces can be developed by very little effort hence resulting in a large towing capacity the analogy with the semi balanced rudder upholds and is here made clearer the azimuthals act as the steering gear by forcing an attack angle on the hull skeg system disclosing the benefits of the fore skeg for the indirect towing finally figs 15 and 16 illustrate the effect of speed and heel on the displacement of the longitudinal centre of pressure l c p the figures show that the speed and heel do not cause particular effects regardless the stall variations observed since y and n maintain their balance throughout interestingly both graphs indirectly demonstrate how the fore skeg pushes the l c p forward delaying the zero crossing to around 110 deg this is a consequence of the large yaw moments which are useful for escort manoeuvring but detrimental to course stability conversely a slightly preferable situation for course stability occurs when sailing astern i e tractoring the beneficial effect is apparent both in the longitudinal levers and in the yaw moment derivative around 0 and 180 deg drifting regression coefficients for the hull skeg hydrodynamics in the upright condition are reported in table 7 the heel effect on drift manoeuvring is included in table 8 heel is assumed to have negligible effect on yawing due to its minor impact during escort operations the range of validity of the high speed escort model is about 0 60 deg drift angle and 0 0 85 non dimensional yaw rate for larger drift angles full curves must be adopted 4 2 azimuthals models the complete hydrodynamic characterisation of the two azimuthals in oblique flow requires a model representation spanning the entire working domain of the advance angle ϵ i e hydrodynamic pitch angle and azimuthal angle δ the complete response surfaces of the total axial longitudinal force x a z the total transversal force y a z and the propeller torque q are investigated in uncoupled and coupled dependence from the variables the non dimensional coefficients are defined in the azimuthal fixed reference system rotated by the azimuthal angle i e longitudinally aligned with the propeller shaft 4a c x δ ϵ x a z δ ϵ 0 5 ρ v t 2 a o 4b c y δ ϵ y a z δ ϵ 0 5 ρ v t 2 a o 4c c q δ ϵ q δ ϵ 0 5 ρ v t 2 a o d where v t v a 2 0 7 π n d 2 0 5 and a o π d 2 4 the open water tests were performed in two parts the first was conducted with zero incidence angle i e δ 0 d e g and variable advance angle 90 ϵ 90 deg complementarily the second was carried out as an oblique flow test with variable incidence angle 180 δ 180 d e g and constant advance angle ϵ 15 3 d e g the open water tests were then extrapolated over the entire working domain by means of calibrated literature data oosterveld 1970 nienhuis 1992 brandner and renilson 1998 the ϵ δ domain represents the pure open water tests namely the two quadrant open water curves ϵ variation at zero angle and the bollard pull capability constant for ϵ 0 and δ 0 conversely the oblique flow test portrays two intersections of the surface at fixed advance angle of 15 3 deg due to symmetries complete response surfaces in terms of the c x δ ϵ c y δ ϵ and c q δ ϵ were inferred and extended fig 17 in the graphs the blade load increases radially while the polar angle represents the azimuthal angle the geometrical and undisturbed blade advance angle and the incidence angle on the azimuthals can be translated in a behind hull formulation by using the vessel s advance speed v a and drift angle β following the standard conventions 5 ϵ t a n 1 v a 0 7 π n d 6 β t a n 1 v u 4 3 hull skeg azimuthals models when considering the complete hull skeg azimuthals model the forces of the azimuthals alone have to be referred to the kinematic conditions of the whole system the inflow velocity at each azimuthal must be firstly referred to the azimuthal propeller disc centre positioned at p p o both the local speed and the inflow incidence angle are modified by the hull drift angle β across the azimuthal angle δ and the rotation vector ω whose components are p q r the effective angle δ e and loading ϵ e at the azimuthals can be assessed after the evaluation of the propeller local drift angles β p 7 ϵ e t a n 1 v ω p p o b 1t 0 7 π n d 8 β p t a n 1 v ω p p o b 2t u 9 δ e β p δ the reciprocal interaction of the combined hull skeg azimuthals in drifting motion then follows a semi empirical approach whereby more complicated configurations are gradually considered these are devoted to the inclusion of the hull propeller propeller propeller and propeller hull effects due to hull wake flow straightening and mutual interaction hull propeller interaction the presence of the hull induces a variation of the flow field around the propellers in function of the drift angle furthermore this effect varies with the azimuthal angle due to the different interactions between the propeller and hull flow fields in fact considering the huge size of the propulsors compared to the tug s dimensions the presence of the struts ducts and skeg significantly alters the flow field the longitudinal flow and transverse cross flow at the propellers are hence highly affected by both the drift angle and the azimuthal angle in this respect a large wake shadow on the downstream azimuthal was observed from the experiments which is caused by the upstream presence of the hull and mostly of the skeg the shadowing area induces a substantial reduction of the speed perceived at the propeller and increases the propeller loading and hence the thrust and torque incidentally the upstream azimuthal was practically undisturbed the alteration of the propeller inflow can be modelled by means of a variation of the propeller working point in terms of effective attack angle δ e and effective advance angle ϵ e such variations expressed as δ δ e and δ ϵ e and given as a function of the local drift angle and the azimuthal angle are summed to the ideal geometric open water inflow 10a c x c x δ e δ δ e ϵ e δ ϵ e 10b c y c y δ e δ δ e ϵ e δ ϵ e 10c c q c q δ e δ δ e ϵ e δ ϵ e δ δ e and δ ϵ e were obtained by means of dedicated experiments for certain configurations the perturbations earlier described may be mathematically described as a bivariate gaussian like perturbation of the flow field speed and direction wise eq 11 this concept may also be interpreted geometrically whereby the parameters locate the wake shadowing peaks β δ on a β δ plane and describe their amplitude δ ϵ e δ δ e and spread σ τ the wake shadowing is then superimposed to the behind hull pure rudder effects merging the open water behaviour to the behind hull configuration through the variations δ ϵ e 0 δ δ e 0 δ ϵ e 0 encompasses and represents the classical straight navigation effective wake fraction 1 w δ δ e 0 is instead an expression of the mean wake direction in straight navigation and zero azimuthal angle 11 δ ϵ e δ ϵ e 0 δ ϵ e c o s β β σ ζ c o s δ δ τ ξ 12 δ δ e δ δ e 0 δ δ e c o s β β σ ζ c o s δ δ τ ξ the above presented approach not only can be customised for a specific combination of hull skeg and azimuthals its advantage stands in its potential generalisation provided that a large number of data is available for a sufficient number of different configurations at present further work would be needed to obtain the necessary data either by means of experiments or numerical calculations however a generalisation of the approach could potentially lead to the development of tools useful in design phases where specific experimental data are not available propeller propeller interaction the interaction between the two azimuthals is assessed in terms of a variation of the inflow speed at the trailing azimuthal the analysis is conducted in two different conditions firstly only one azimuthal is given a helm angle while the other is fixed amidships secondly both azimuthals are given a helm angle the degree of interference of the leading propeller on the trailing propeller is evaluated by modelling the slipstream acceleration of the former the flow acceleration is computed by employing the standard momentum theory and the relative positioning of propellers brandner and renilson 1998 a slipstream fraction coefficient is thus introduced to model this interference resulting in an additional advance angle variation δ ϵ e and a propeller inflow direction variation at the trailing propeller δ δ e it is assumed that the leading azimuthal is undisturbed propeller hull interaction the influence of the azimuthals on the hull is kept into account by employing an extended mmg like model ogawa and kasai 1978 by which the forces are corrected in function of the drift angle β the azimuthal angle δ and the heel angle ϕ each force exerted on the azimuthal is firstly rotated in the tug s reference system by the helm angle δ the yaw and roll moments are consequently defined according to their geometric positioning subsequently forces and moments perceived by the hull skeg system are corrected by means of the interaction factor a h and the application point x a h the amplification of the hull forces and moments is hence proportional to the azimuthal forces rotated in the hull reference 13a x a z 1 t β δ a h ϕ x a z 13b y a z 1 a h β a h ϕ y a z 13c n a z x p x a h a h β a h δ y a z 13d k a z z p y a z in fig 18 the forces and moments obtained using the above described hull skeg azimuthals model are compared with experimental values obtained from the escort mimic tests at 0 15 and 30 deg of drift angles and variable azimuthal angle the aim of the tests was to reproduce the escort equilibria in order to understand all the underlying interactions forces are referred to the tug fixed reference frame hull skeg dash line azimuthal dash dot line and hull skeg azimuthals totals solid line are compared with experiments markers the zero drift angle plot represent the pure rudder runs while the 15 and 30 deg plots represent the inclined conditions positive rudder angles produce escort equilibria while the negative angles portray counter rudder scenarios the simplified model matches the experiments with good agreement particularly in escort conditions the estimation of the longitudinal force is in general less accurate but still adequate given its minor impact on the model the calculated lateral force and yaw moment in the drifting configurations captures the trend of the experiments both for the uncoupled components and for the totals no additional amplifications of the roll moment are deemed necessary the force estimation is observed to lose accuracy in the pure rudder tests at large azimuthal angles however those conditions produce a large yawing imbalance which in turn results in a larger drift angle thus these conditions fall in the other graphs the overall quality of the force model is then demonstrated to be satisfactory and a good compromise with the complexity of the manoeuvres 5 manoeuvrability simulations 5 1 escort validation the free running escort tests fig 19 consisted of runs conducted in still water at a speed corresponding to 9 knots at two different propeller rpm and at azimuthal angles of 20 30 45 55 and 140 degrees tests were performed at 3 7 m draught full scale with null trim angle the results were extrapolated by froude scaling to full scale and averaged over the recorded periods a series of runs at low rpm was first conducted to familiarise with the vessel immediately followed by a higher rpm series once the azimuthal angle was set the propeller revolutions were raised keeping into account the limiting factor of the heel angle to avoid deck submergence tables 9 and 10 report the experimental results while tables 11 and 12 show the simulation results fig 20 compares the results of the novel mathematical model presented in this paper with the experimental data specifically the figure presents the steering and braking forces the drift angle the heel angle the relative horizontal angle to the towing point and the power demand the high rpm runs are reported in red while the low rpm runs are reported in black the forces the kinematic behaviour and the magnitude of the variables are correctly reproduced and show a good agreement with the experiments the mathematical model appears to capture the effects of the large unbalance between the downstream shadowed and upstream undisturbed azimuthals across the entire steering range at the higher azimuthal angles the braking forces are maximised the unbalancing of the power follows an inverted trend coherently with the experiments the interaction between the azimuthals emerges at those angles whereby the downstream propeller is washed by the slipstream of the other one thus reducing its loading it may be concluded that the steering and braking capabilities of the et the escort equilibria and the requested power at the shafts at both the rpms are well captured it may be noticed that at the high rpm runs spans wider range of relative towline angles this can be justified by the fact that the azimuthals can shift the equilibria along the trajectory created by the relative towing angle and the stretched length of the towline the component of the azimuthal forces tangential to the trajectory determines whether the tug will move towards the side of the ship or towards its stern a higher azimuthal power will always result in an increase of the drift angle and thereby of the towing force interestingly it was noted that the action of the azimuthals produces a significant righting moment the central equilibrium condition that requires minimal azimuthal power is the previously mentioned intrinsic escort equilibrium i e the purest indirect towing condition that does not require the intervention of any propulsive power therefore the larger the azimuthal powering the larger is the range of equilibrium configurations spreading from the central equilibrium and greater are the towing forces furthermore it can be observed that already a valuable indirect steering assistance can be achieved with almost no propulsive effort as in the low rpm run the model is able to replicate the physical phenomena involved and it is suitable for simulation purposes the tank like conditions are run until the desired criteria are met regardless of the availability of power the same model can be run using a suitable propulsive system model altosole et al 2017 2019 allowing to show the capabilities of the simulation tool as a support in the design phase for instance fig 21 a shows the results of a free running escort simulation conducted at the high rpm run and achieving 30 deg azimuthal angle the et is here driven by a pair of high speed diesel engines 2x2 000kw 1800 rpm the manoeuvre starts from the standby sailing position of the et behind the ship carriage at a full scale speed of 9 kn the tug then initiates the manoeuvre gradually increasing the azimuthal angle in two steps to limit heeling overshoots while at the same time accelerating the engines the time series of the tug trajectory kinematics and dynamics show the transients until equilibrium is achieved smoothly the tug reaches equilibrium in spite of small overshoots of the yaw and heel angle and of the towline tension fig 21 b displays the engine dynamics starting from the standby condition where the tug is basically towed by the ship a smooth and controlled rise in torque and power follows where the port and starboard lines separate as soon as drift forces are engaged showing the imbalance between the two thrusters at the point of maximum towing force power and revolutions are still available with large margins once again demonstrating the great indirect towing ability of the tug in conclusion the tug was able to generate a stable pull with a magnitude comparable to the bollard capability by exerting a minimum power effort in addition the manoeuvre was conducted in a speed range not practicable for direct towing by exploiting the indirect forces and always maintaining a safe position astern the tethered vessel 5 2 escort sensitivity analysis a brief sensitivity analysis was carried out by varying the hull skeg and the azimuthal forces contribution of 10 of the nominal values the free running escort tests were systematically re simulated to allow a preliminary assessment of the error propagation through the model in the future such analysis will be applied to the understanding of the degree of uncertainty affecting the estimate of the escort capability the results of the variations of the hull lateral force y yaw moment n their combined effect y n and roll moment k are plotted on top of the original high rpm curves in different colours in fig 22 additionally a combined variation of the lateral force exerted by the azimuthals on the tug and induced yaw moment y n a z is considered the most relevant parameter affecting the indirect towing features is the yaw moment the larger are the drift forces the larger is the moment that the towline needs to counteract secondarily greater lateral forces offer larger steering assistance across smaller drift angles in fact the increases of y and n alone keeping constant n and y induce respectively a longitudinal shift of l c p astern and ahead with the result of affecting the drift equilibria consequently the combined effect of y and n plays the most influential role in the escort manoeuvre by not affecting the position of the hydrodynamic hull forces on the other hand the role of the azimuthals remains marginal indeed indirect the force they develop is small compared to the predominant hull skeg forces generated by the escort oriented design of the tug however it must be considered that the dynamics are significantly affected by harsher or milder transients the results of the sensitivity analysis are summarised in table 13 the table reports the maximum steering and the maximum braking forces and the relative tug attitudes which occurred at 30 deg and 140 deg of azimuthal angle respectively the propagation of the 10 error plays the role of affecting the maximum steering ability of about a 7 smaller but similar effects are spotted in terms of maximum braking force 5 3 escort simulations the developed towing simulation model piaggio et al 2016 consists of the following three blocks the ship block i e a literature single screw merchant ship oltmann and sharma 1984 the escort tug block the towline block which plays the role of the dynamic coupling between the other two the whole system is assumed to be manoeuvring in an undisturbed environment and independently from geographical location or water depth no environmental forces are considered at this stage although they will be object of further investigation the tug is studied in 4 dof with an emphasis on inclining moments and heel hydrodynamic effects which notably jeopardise the tug s operational safety the towline is modelled as an elastic catenary the simulator can be run in two different modes namely 1 isolated tug mode which allows to focus on the capabilities and handling of the tug in tank like conditions and 2 full convoy mode were the dynamics of the whole convoy complex are considered in isolated tug mode the assisted ship behaves similarly to the carriage of the earlier experiments i e sailing ahead undisturbed at a predetermined uniform speed and unaffected by the tug s action this allows a closer focus on the intrinsic features of the et regardless of the size and kind of the tethered ship the tug s handling the steering and braking abilities and the escort stability in drifting position are some of the features that can be inspected as already stressed earlier the towing performance profile of a tug traced by the simulator run in isolated tug mode may be then obtained during the tug s early design stages an insight on the influence of each design parameter on the towing characteristics of the tug would thus be gained allowing its effectiveness safety and commercial value to be more realistically discussed the most interesting feature of the isolated tug mode regards the possibility of obtaining the towing characteristics of the tug at the desired ship and engine speed once the engine and eventual operational constraints are selected such characteristics can be summarised by the so called escort capability plots fig 23 shows a full escort capability plot of the 28m 12 m tug which is powered by 2x2 000kw 1800rpm high speed engines with the towline angle limited to 90 deg and the heeling angle limited to 12 5 deg the escort capabilities could be explored within the operational range of the engines to discover the efficiency peaks of the towing performance pure indirect steering ability powered indirect steering braking and direct reverse braking could be investigated keeping into account dynamics controllability stability and safety in fig 23 a set of different azimuthal angles has been investigated ranging 15 180 deg 180 deg is fundamentally a direct towing with engines running astern for each of these angles the towline angle the steering and the braking force are represented the combination of propeller rpm and azimuthal angles having a maximum steering force of about 55 60 t 25 30 deg azimuthal angle is clearly distinguishable as the azimuthal angle increases the braking component of the towing force rises until the shaft power demand incurs in the overload limit of engines eventually the braking limitations of the direct towing is clearly visible when comparing its limited effect with the braking force of the indirect towing on the other hand the 15 25 deg powered indirect configurations incur in the towline angle limitation and all correspond to the same relative positioning to the ship an increasing towline tension is recorded with the increase of the azimuthal angle i e for increasing forced drift angle and the heel the full convoy mode discloses a fully coupled manoeuvrability scenario which allows to evaluate both the behaviour of the tethered vessel and the tug s effectiveness and safety in line with rule requirements dnv gl 2018 abs 2019 the ability of simulating the manoeuvring of the complete towing convoy opens up a wider scope of simulations assisted steering turning circles assisted zig zag mirror and many other manoeuvres conducted with the aid of built in real time controls emphasise all the benefits of the study emergency situations can also be modelled by defining geographical constraints and eventual failures of ship or tug once the sizes and the failures of ship and tug are defined the safety clearance lengths the restored tactical diameter and the rapidity of steering and avoiding obstacles become key features in the assessment of the suitability of the tug ship pair for instance in figs 24 and 25 respectively an assisted turning and a mirror zig zag manoeuvre are performed in manual control the graphs show examples of the effectiveness of the 28 12 m tug when assisting a 190 000 dwt tanker of 290 m or a 30 000 dwt tanker of 170 m at the speed of 9 kn both manoeuvres starts with the tug in a standby configuration i e trailing the assisted ship with slackened towline for the assisted turning a failure of the rudder system and a loss of engine power on the tethered vessels was simulated the ships rudder is kept amidships the et is then requested to perform an emergency turning to confine the ship in a delimited circumscribed area in the mirror zig zag manoeuvre the ships are passively subjected to the tug assistance keeping the rudder amidships and the rpm constant the et engages an emergency evasive manoeuvre to starboard and then restores the ships straight sailing in the first manoeuvre fig 24 the tug engages on the ships portsides powering up the engines and quickly moving to an effective indirect towing configuration the two assisted ships react differently to the steering forces in accordance with their size i e inertia and resistance to rotation as expected the larger the ship the less effective is the tug assistance the tug steers the smaller vessel within a tactical diameter of about 5 ship lengths corresponding to 3 lengths of the larger ship the larger vessel requires instead more than twice the space the evasive manoeuvre fig 25 also results much more rapid and confined for the smaller vessel avoiding the hypothetical obstacle in practically half the space and time it can be concluded that based on the route the eventual geographical constraints and the eventual failures the suitability of a towing service can be evaluated by means of the proposed simulator eventually tugs with larger sizes or with alternative designs may be considered and tested 6 conclusions this paper presented a complete novel 4 dof manoeuvrability model dedicated to the manoeuvring analysis of escort tugs the model is conceived in a similar fashion to the well known mmg manoeuvrability model the paper at first described the extensive experimental campaign purposely designed to construct and validate the model the forces and dynamics arising from the indirect towing have been studied simulated and compared with the experimental results employing both captive and free running tests the estimation of the attitude and of the equilibrium conditions during the manoeuvres resulted rather satisfactory with particular emphasis on escort steering and braking forces the dynamics of the tug and its shaftlines were thoroughly modelled and coupled allowing to capture the asymmetrical behaviour of the two azimuthals during escort towing the model separates the hydrodynamic effects of the logical blocks that compose the tug i e hull skeg and azimuthals and the totals encompassing their mutual interaction hull skeg azimuthals at the present stage hull and skeg are incorporated in a single model since the experimental results do not allow to separate them however it is believed that the effects of modifications to the skeg geometry may be introduced in the model by using cfd calculations this will be the object of future activities with the aim of obtaining a complete and extended parametric mathematical model of a larger class of tugs in addition a follow up investigation on the scaling effect of the hydrodynamic forces and their impact on full scale manoeuvring will be subject of further study lastly a scalable complete mathematical model of the assisted ship is made available the ship model is used in this paper to study the dynamics of a generic towing convoy tug ship linked by the towline constraint the manoeuvrability model was conceived as a physics based parametric manoeuvring model in other words several parameters related to the tug e g main hull particulars propulsion dimension engine type the towline e g length weight per unit length elasticity towing staple position and the assisted ship e g size type dwt can simply be defined and tuned before starting the simulation as a consequence the model lends itself to investigating the effect and impact of a conspicuous number of design parameters on the manoeuvrability handling and safety of the tug the tug can be controlled in real time by the joint or independent definition of the set points of the two azimuthals i e azimuthal angles engine revolutions towline s lengths can be adjusted by rendering and recovering future applications will involve the modelling of escort winches hawsers on the other hand the ship can be in turn controlled by the definition of the propeller rate of revolutions and the rudder angle a complete simulation tool for design is hence provided which paves the way for future design strategies and for the assessment of different towing solutions clearly comparing the simulations with real operation full scale measurements will be thus essential to confirm the simulator s predictions and it will be the natural validating prosecution of the present study in fact the ability of addressing real world operative profiles widens even more the advantages of a parametric model among them are the direct assessment of the impact of design choices on operations risk assessments and real scenario simulation and training acknowledgements the research project is conducted in cooperation with rosetti marino spa ravenna and it is partially funded by italian ministry of infrastructures transports waterborne transports division 4 under general director decree no 7883 on 13th october 2016 the authors are grateful for the kind collaboration of eng luca martinelli and eng lucia enoizi from rosetti marino 
22403,the ability to predict the tug s handling effectiveness and safety at early design stage is paramount in view of an optimal design process in this framework the availability of a reliable manoeuvrability prediction model is beneficial this paper presents a novel 4 dof parametric manoeuvrability model dedicated to the manoeuvrability analysis of azimuthal stern drive escort tugs an extensive captive model testing campaign is exploited to develop the mathematical model conceived following the mmg model concept the modelling pursues a physics based approach aimed at characterising the complete manoeuvring hydrodynamics of the vessel the hull skeg and azimuthals force contributions are analysed separately and are then coupled to analyse their interaction a complete real time simulator is presented which is capable of simulating the dynamics of a towing convoy in several real case scenarios this capability is envisaged to become a very useful tool for the tug designer allowing to address realistic operational conditions with a focus on manoeuvring capabilities risk assessment risk mitigation operational safety and effectiveness keywords tugs escort towing manoeuvring model z drive azimuthal stern drive dynamic simulation 1 introduction tug assistance is usually required whenever the manoeuvring capabilities of a large vessel are limited or hampered by the physical constraints of the waterway by a failure of the ship systems or as a result of the meteorological situation among these scenarios two in particular jeopardise the manoeuvring performance of a ship firstly whenever the vessel speed needs to be reduced to such an extent as to make the vessel uncontrollable e g during harbour approaches mooring and docking operations or while navigating in restricted waters secondly when the ship incurs in a failure of the propulsion or control systems united states congress 101st 1990 the towing service may thus be required in confined and deep waters alike and it may concern the partial or total handling of the vessel two different towing practices are identified according to the use of the propulsive system namely the direct and indirect towing capt hensen 2003 the direct towing exploits directly the sole propulsive thrust of the tug and it is employed almost exclusively at low speeds the indirect towing uses the propulsive power to indirectly generate towing forces exploiting the hydrodynamic forces of the tug speed is the threshold critical parameter indeed escort tugs the indirect towing is aimed at assisting ships during navigation over an intermediate range of speeds which corresponds to operations between the harbour manoeuvres and the cruise speed i e around 6 10 kn fig 1 at these speed ranges the tug sustains particularly challenging situations owing to the relatively high speed the ship interference with the tug seaway and the danger of tug girting such factors render the adoption of stern tug assistance a necessity kasteren 2012 capt brooks and capt slough 2000 capt hensen 2012 escort tugs ets are developed in response to these needs their chief purpose is to provide stern towing assistance i e escort to ships with reduced manoeuvring capabilities transiting critical or hazardous areas the principle of indirect towing is as follows while the ship is able to manoeuvre independently the et passively follows the ship which may or may not be tethered in cases of emergency the propulsive system of the et is used to maintain the vessel in a forced steady drifting motion strong hull hydrodynamic forces caused by the large drifting attitude are balanced by the towline reaction hence causing the indirect tensioning of the line allan 2000 by controlling the strength and direction of this indirect towing force the et aids the ship keeping her track so that the risk of groundings or collisions is reduced the et must thus be capable of braking and steering the tethered ship at speeds where direct towing would be both inefficient or ineffective for instance fig 2 illustrates the different steering capabilities of an azimuthal stern drive asd tug delivering a 85 t bollard pull as it operates in direct and indirect towing mode the graph shows the critical speed threshold beyond which the direct towing steering forces are exceeded by those generated by indirect towing it should be noted how the former exhibits a customary ducted propeller thrust speed relationship whereas the indirect towing increases almost quadratically with speed this behaviour is typical of lifting surfaces and justifies the adoption of the indirect method to generate stronger towing forces at higher speeds to generate such forces ets often boast unique hull designs and propulsive solutions the main aim of the et design is to take advantage of the hull s hydrodynamic forces to generate a safe and stable towing force capt hensen 2012 conceiving a hull capable of generating such strong drifting forces is a design challenge that has sparked the adoption of many solutions throughout the years both numerical allan and molyneux 2004 smoker 2009 jahra et al 2015 and empirical molyneux and earle 2001 molyneux and bose 2007 procedures are commonly adopted to assess the towing forces the tug handling and the operational safety of ets during escort towing these methods have been consistently used to improve the state of the art of ets and their effectiveness leading to the development of very diverse hull and skeg geometries and to the adoption of peculiar propulsive choices the development of the large hydrodynamic forces typical of ets is indeed a matter of integrated hull and propulsion system design broadly speaking ets boast larger projected hull lateral areas than conventional tugs on the other hand several different tug propulsion arrangements are applied allan and smoker 2013 which include asd tugs jukola and castleman 1995 and tractor tugs voith drive or z drive propulsion jürgens and palm 2012 subsequently innovative designs led to the adoption of alternative and more complex multi propulsor systems and sliding towing point concepts kooren et al 2000 lisagor et al 2015 safetug 2015 the technological advancements of ets also progress coherently with the regulations of class societies and in parallel with their development see e g abs 2019 dnv gl 2018 given the wide range of solutions and operations the ability of designing ets and of predicting their escorting performance is essential in particular numerical simulations have been successfully used for training design validation risk assessment and risk mitigation gray and elizabeth 2001 merrick 2002 the glosten associates 2004 sophisticated models can be used to include the effects of weather ship size and on board failures to simulate real case scenarios waclawek and molyneux 2000 li and calisal 2005 quadvileg and kaul 2006 hydrodynamic principle fig 3 shows a schematic of the earlier described indirect towing principle the hydrodynamic forces acting on the et and generated by its forced drift motion may be regarded in analogy with the theory of slender lifting bodies as the tug drifts in the water its hull acts as an aerofoil in a flow at a non zero incidence angle the resultant lift forces generated by the et are generally much greater than the mere direct pull practically the et can be thought of as an external rudder which is free to move about the stern of the tethered ship transmitting the hydrodynamic forces across the towing line from a hull design standpoint the enhancement of the hydrodynamic lifting performance is achieved by large skegs or large lateral hull surfaces in analogy with semi balanced rudders the hull centre of pressure of the ets is typically brought forward by having a larger lateral area in the forebody as a consequence the lifting forces move closer to the towing point i e the towing staple relieving the propulsive and steering effort in the rudder analogy the torque required on the rudder stock on the other hand the large static and dynamic heeling angles sustained by ets require wider hull breadths to improve the transverse restoring moment from the above description it becomes necessary to model the et s manoeuvring performance at high speeds and large drift and heel angles rationale the manoeuvring characteristics of marine vessels are traditionally of great interest in the field of naval architecture when common hull forms are involved several mathematical regression models and extensive manoeuvrability tests are found in the literature see e g lewis and sname 1988 kose 1982 abkowitz 1964 conversely very few studies have been devoted to the understanding of the manoeuvring and broadly the hydrodynamic behaviour of more unusual vessels tugs represent a challenge for work boat designers and operators the general growth of merchant vessel sizes requires the use of tugs with increasingly greater towing power primarily this translates into stronger bollard pull forces traditionally achieved by increasing the tug s power and size however some disadvantages arise inevitably with it medium size ships are prepared to safely sustain neither large push forces onto the side shell nor extremely strong pulls on the towing bitts on the other hand large size tugs are not optimal for assistance in restricted or busy harbour waters and they generally require higher overall capital investments and daily costs in this framework ets are preferred to handle larger vessels and its manoeuvring capabilities are therefore paramount in view of an optimal holistic design framework the ability of predicting the et s handling effectiveness and safety is key to its design whose goodness cannot be quantified by a single parameter of the like of the bollard pull for conventional tugs at early design stages only model scale testing or numerical ranse computations or alternatively analytical models derived from tests on similar vessels may be used for this purpose figari et al 2018b piaggio et al 2018 in this framework the availability of a reliable parametric manoeuvrability model is of the highest importance the present paper presents a novel manoeuvrability model for an azimuthal stern drive escort tug an extensive experimental campaign is purposely devised to investigate the hydrodynamic characteristics and manoeuvrability performance of the et and to validate the mathematical model this study paves the way for a wider mathematical parametric model for asd escort tugs which envisages a simulation for design strategy 2 the tug to develop the novel mathematical model the present paper characterises the manoeuvrability of a medium size et figari et al 2018b a capable of good ahead astern performance maximum achievable speed and low wave pattern and of fulfilling the requirements for tugs stability with large margins resolution msc 415 97 enacted on the 1st january 2020 the case study vessel is a 28 m 12 m azimuthal stern drive asd multi purpose escort tug which is capable of about 65t full scale bollard pull its main characteristics are summarised in table 1 the tug boasts two ducted azimuthal thrusters and a medium size fore skeg which aims to achieve good escort performance without impairing the readiness of low speed manoeuvring in addition a double hull configuration allows damaged hull survivability in accordance with the requirements of resolution msc 235 82 for offshore support vessels osv 3 the experimental campaign an extensive experimental campaign was designed to aid the selection of the manoeuvrability mathematical model that describes the operational domain of the vessel to the largest extent this should encompass large drift angles fast manoeuvring dynamics large heeling angles and propulsion dynamics therefore an effort is devoted to understand quantify and capture all the major underlying hydrodynamic phenomena involved with a view to an holistic simplified dynamic model of the vessel the investigation focuses on the development of a reliable and robust modular force model capable of describing the two force components generated by hull skeg azimuthals and the combination hull skeg azimuthals resulting from their mutual interaction this study mainly deals with the problems of high speed escort manoeuvring and presents a secondary insight on low speed operations model tank facility the model tug was constructed to represent its full scale counterpart the model is shown in fig 4 and was built to a scale of 1 11 075 it features the two ducted azimuthal thrusters and the fore skeg in addition it was provided with bow fenders a main deck bulwarks and a simplified superstructure the main hull geometrical characteristics and non dimensional ratios of the model et are reported in tables 2 4 the tests were carried out in a towing tank 240 m long 12 m wide and a water depth of 5 4 m see fig 5 all the tests were performed at f n 0 279 corresponding to a full scale speed of 9 knots some critical tests were also conducted at the lower speed of f n 0 093 3 knots full scale experimental set up captive model test are customary techniques applied to determine the hydrodynamic coefficients i e the so called manoeuvring derivatives used in a mathematical model of ship manoeuvring motion for manoeuvrability tests the model was mounted underneath a large planar motion mechanism system pmm which constraints the motions to the horizontal plane therefore surge sway yaw and heel are forced the deck plating is manufactured with a large opening to fit the pmm mechanism the x longitudinal and y transverse forces and the n yaw and k roll moments which act in the constrained directions were measured by a multi component force balance installed in the pmm the forces acting on the escorted vessel could therefore be represented in the tug fixed reference system b t f r a m e see fig 3 for free sailing escort tests the model was self propelled and unconstrained a specific escort setup was devised which included a towline connecting the tug model to the carriage fig 6 both towing bitts were instrumented with gauges to measure the forces exerted by the tug and the vessel the instrumented towing bitt on the tug model xy force gauge see table 5 was located on the cl 0 235 m from the tug s bow and 0 783 m above the base line the towing point on the carriage xyz gauge in the tank reference system t f r a m e was located 0 903 m above the water surface and the towline was 6 32 m long 70 m full scale the model motions were measured by use of on board inclinometers and an external optical tracking system all the instrumentation cabling was pulled vertically above the model to avoid any type of interference with the experiment during all tests the thrust and torque produced by the azimuthal thrusters were collected by in house built dynamometers mounted inside each thruster s leg the total forces acting on the thruster units were measured by means of axial and transverse force gauges while similar gauges monitored the forces on the ducts all the parameters related to the azimuthal thruster units i e thrust torque nozzle force longitudinal x a z and transverse y a z total forces were measured in the thrusters local coordinate systems z f r a m e s which rotate relative to the model fixed coordinate system by the azimuthal angles a summary of the measuring references are illustrated in fig 7 3 1 test framework broadly speaking tugs are atypical in terms of navigation and manoeuvres their operational profile is not confined to a few combinations of design speed and loading cases but it spreads over several off design conditions this peculiarity renders the modelling of their broad manoeuvring capabilities rather complex the challenges are exacerbated when dealing with ets which are normally subjected to coupled motions with misaligned azimuthal configurations both at low speeds during harbour operations and at high speeds during escort or free sailing high drift angles may be generated modelling the oblique sailing attitudes is thus very important especially with respect to indirect towing modes in the perspective of a complete comprehension of the phenomena the experimental campaign is subdivided into four logical blocks concerning respectively 1 hull skeg 2 azimuthals 3 hull skeg azimuthals 4 free running escort towing a summary of the high speed test matrix is reported in table 6 hull skeg pure sway pure drift tests and pure yaw tests addressed the identification of the manoeuvrability characteristics of the vessel in the pure motions yaw drift tests were instead aimed at assessing the coupled forces with particular regard to the dynamics engaged around escort equilibria an extensive experimental matrix covering large drift angles and yaw rates was designed with particular attention to the heeling effect which is constraining in escort manoeuvring heeling effects were further explored through pure drift heel tests azimuthals when dealing with steerable propulsive systems during escort manoeuvres the correct modelling of the azimuthal forces becomes essential for the manoeuvrability prediction to assess the direction of the thrust force as a function of the azimuthal angle two tests were performed standard open water tests in the first and fourth performance quadrant n 0 v 0 and n 0 v 0 respectively were at first conducted at varying propeller loads secondly oblique flow propulsion was assessed focusing on thrust and torque variations particular attention was devoted to the lateral force whose effect considerably affects the tug s manoeuvrability hull skeg azimuthals once hull skeg and azimuthals model tests are accomplished their interactions must be investigated since a linear superposition of their effects is not legitimate the hull and the azimuthal thruster forces must be analysed together the functioning of the propellers in underneath hull condition can be thus more accurately assessed the axial and transversal forces acting on the total unit are assessed by varying the azimuthal helm angles and the vessel drift angle and by looking at their effect on the total hull forces the degree of complexity of the investigation requires that azimuthal and drift angles be initially varied independently they are then varied together to reproduce the escort towing captively the yaw rate effect is left to future investigations since an escort manoeuvring model is here of prior interest a scheme of the pmm tests is represented in fig 8 with the basic nomenclature escort tests finally escort free running tests are performed for validation purposes the self propelled model is positioned behind the carriage to which it is tethered by means of a towline the carriage is instrumented with a dual axis xy strain gauge aligned with the tank allowing to measure the braking and steering force components both helm angles and propeller speed of the azimuthal thrusters are progressively increased until the transversal heeling results in green water on deck the configurations of equilibrium are recorded no deepening about uncertainty analysis of pmm force measurements is tackled at the present stage of the investigation however a brief sensitivity analysis on how force errors propagate through the manoeuvring models is provided in this paper after the validation of the escort model future work will deal with a more detailed uncertainty analysis 4 manoeuvrability models 4 1 hull skeg models the adopted manoeuvring model is based on the classical sname multivariate polynomial taylor expansions let φ be the generic force and φ ˆ its estimate the even regressors are related to kinematically symmetric forces i e x while the odd terms are devoted to the skew symmetric motion dynamics i e y n k added mass formulations are assumed linear forces and moments follow the customary non dimensional notation as in the following equation 1a x x 0 5 ρ v 2 l 2 1b y y 0 5 ρ v 2 l 2 1c n n 0 5 ρ v 2 l 3 1d k k 0 5 ρ v 2 l 3 the polynomial of the regressor is formally defined as 2 φ ˆ i 0 n 1 μ i v α i r β i ϕ γ i μ v v μ r r where α i β i 0 1 2 3 4 5 γ i 0 1 2 3 and α i β i γ i 5 hence a time domain multi run lsq approach is pursued piaggio et al 2018 defined by the following equation 3 μ argmin k 1 n φ k φ ˆ k μ 2 the hydrodynamic derivative tuple μ is inferred by exploiting all the data acquired from the series of pmm tests each k t h o u t o f n pmm run represents an input to the regression process and is part of a subset of the experimental matrix the resulting forces of each run are estimated by means of a global optimisation problem e g least square problem with square euclidean metric the regression process ensures the optimal fit of the global response surface by minimising the quadratic cost function over the predefined kinematic domain the complete set of the hull skeg pmm tests is composed by the mean force measured across the pmm cycles on the domain plane v r the regression process is then carried out in pursuit of the best steady surface of estimation up to dynamic contributions clearly the minor is the distance of the surface model from the data cloud the better is the estimate the regression result is conveniently expressed by a mixed 5th order polynomial with heel effects restricted to 3rd order the x force is considered to be dependent only from the drift due to the negligible correlation with yaw and heel the dataset cloud is then reduced to the stationary part and fitted against the model to verify the steady response surface fig 9 a the distance of the single point from the surface is defined as the residual error at each instant whose distribution is shown over the tested domain in fig 9 b ideally the sequential distribution of the residuals should behave as a white random process within an admissible 95 confidence interval the mean rmse over the runs is then defined as the average of the mean errors across each run within the domain of interest the quality of the estimation is constantly evaluated and monitored across the identification process in order to understand the goodness of fit and to ensure global rmse around 5 for x y n and 10 for k auto correlation function techniques are finally exploited to verify the goodness of each time series in the identification process by means of a median 35 confidence interval piaggio et al 2018 a focus on the pure drift features of the escort towing is represented in figs 10 14 firstly the effect of speed for x y n and k forces is considered comparing values measured at the full scale speeds of 3 and 9 kn then the effect of the heel angle on the same forces is considered in both cases an insight over the whole 0 180 deg range is given then the graphs focus on the 0 60 deg range v 0 0 85 which is more representative of escort conditions no particular speed effects fig 10 are apparent in escort ranges until stall angles contrary to expectations the higher speed run unveils an anticipated stall clearly visible both in y and n diagrams some less important and yet sensible differences arise in terms of k moment possibly due to dynamic trim and squat in the case of higher speeds the forces measured in crabbing conditions and in the stern quarter drifting quadrant result instead particularly altered probably due to green water on deck and the variation of the attitude the effect is particularly evident in terms of k moment that unexpectedly changes sign hindering its interpretation this unexpected behaviour occurs at angles over 90 deg this effect may be linked to issues in the experimental setup which occurred at both speeds an interesting behaviour is observed for the x force due to the high lifting capabilities of the hull skeg configuration the vessel experiences an increasing reduction of the forward resistance until stall angle fig 11 focuses on the tests conducted at 9 kn full scale the experiments are demonstrated to be sufficiently well caught by the model within the escort ranges of interest up to about 45 50 deg it may be speculated that higher order terms e g a 6th order monomial could be introduced in the model to capture the out of range stalling effect previously described nevertheless the effect is considered to be negligible to limit the complexity of the model with respect to the influence of the heel angle the results obtained at 10 deg heel figs 12 13 reveal interesting effects the asymmetrical hull geometry in the flow breaks the skew symmetry of the forces and offsets forces and moments at zero incidence angle more importantly the lateral force and yaw moment are amplified at the larger angles corresponding to typical escort ranges emphasising the importance of considering the effects induced by the heel angle particularly the k moment shows severe discrepancies at larger drift angles which are probably correlated with the green water on deck nevertheless the escort range 45 60 deg appears negligibly affected the hull lift effect is then further clarified by considering the forces in the tank reference i e the perpendicular lift component y τ its parallel drag counterpart x τ and the yaw moment relative to the towing point n t p fig 14 allows a more direct analysis of the hull skeg behaviour in accordance with the low aspect ratio lifting surface theory the phenomenon can be regarded as the camber like effect of a lifting surface which is in this case embodied by the asymmetric hull the curvilinear distribution of the underwater volumes alters the hydrodynamic angle of attack at the bow causing the flow to break the symmetry whereas the effect is less apparent at zero attack angle i e zero drift a much larger effect stands in the postponement of the stall angle the camber effect may be fundamentally explained as producing a better hydrodynamic orientation of the inflow at the bow and delaying the flow separation on the other hand the variations of the lateral force induced by the tug s heel are negligible shifting the reference fulcrum to the towing staple i e n t p allows an interesting observation with respect to the behaviour of the n moment due to the hull skeg configuration producing larger underwater volumes and lifting area in the forebody the n is null over a wide range of drift angles 0 15 deg on the one hand this proves the intrinsic course instability of the vessel when free sailing on the other hand it is a strong endorsement of the convenience of such hull configuration for the indirect towing in fact the azimuthals must produce a yawing moment equal and opposite to that generated by the imbalance between hydrodynamic and towing forces to maintain the equilibrium drift angle clearly a drifting attitude is more easily attained and maintained if the azimuthals need to counteract a smaller moment in this perspective pure hydrodynamic forces can be developed by very little effort hence resulting in a large towing capacity the analogy with the semi balanced rudder upholds and is here made clearer the azimuthals act as the steering gear by forcing an attack angle on the hull skeg system disclosing the benefits of the fore skeg for the indirect towing finally figs 15 and 16 illustrate the effect of speed and heel on the displacement of the longitudinal centre of pressure l c p the figures show that the speed and heel do not cause particular effects regardless the stall variations observed since y and n maintain their balance throughout interestingly both graphs indirectly demonstrate how the fore skeg pushes the l c p forward delaying the zero crossing to around 110 deg this is a consequence of the large yaw moments which are useful for escort manoeuvring but detrimental to course stability conversely a slightly preferable situation for course stability occurs when sailing astern i e tractoring the beneficial effect is apparent both in the longitudinal levers and in the yaw moment derivative around 0 and 180 deg drifting regression coefficients for the hull skeg hydrodynamics in the upright condition are reported in table 7 the heel effect on drift manoeuvring is included in table 8 heel is assumed to have negligible effect on yawing due to its minor impact during escort operations the range of validity of the high speed escort model is about 0 60 deg drift angle and 0 0 85 non dimensional yaw rate for larger drift angles full curves must be adopted 4 2 azimuthals models the complete hydrodynamic characterisation of the two azimuthals in oblique flow requires a model representation spanning the entire working domain of the advance angle ϵ i e hydrodynamic pitch angle and azimuthal angle δ the complete response surfaces of the total axial longitudinal force x a z the total transversal force y a z and the propeller torque q are investigated in uncoupled and coupled dependence from the variables the non dimensional coefficients are defined in the azimuthal fixed reference system rotated by the azimuthal angle i e longitudinally aligned with the propeller shaft 4a c x δ ϵ x a z δ ϵ 0 5 ρ v t 2 a o 4b c y δ ϵ y a z δ ϵ 0 5 ρ v t 2 a o 4c c q δ ϵ q δ ϵ 0 5 ρ v t 2 a o d where v t v a 2 0 7 π n d 2 0 5 and a o π d 2 4 the open water tests were performed in two parts the first was conducted with zero incidence angle i e δ 0 d e g and variable advance angle 90 ϵ 90 deg complementarily the second was carried out as an oblique flow test with variable incidence angle 180 δ 180 d e g and constant advance angle ϵ 15 3 d e g the open water tests were then extrapolated over the entire working domain by means of calibrated literature data oosterveld 1970 nienhuis 1992 brandner and renilson 1998 the ϵ δ domain represents the pure open water tests namely the two quadrant open water curves ϵ variation at zero angle and the bollard pull capability constant for ϵ 0 and δ 0 conversely the oblique flow test portrays two intersections of the surface at fixed advance angle of 15 3 deg due to symmetries complete response surfaces in terms of the c x δ ϵ c y δ ϵ and c q δ ϵ were inferred and extended fig 17 in the graphs the blade load increases radially while the polar angle represents the azimuthal angle the geometrical and undisturbed blade advance angle and the incidence angle on the azimuthals can be translated in a behind hull formulation by using the vessel s advance speed v a and drift angle β following the standard conventions 5 ϵ t a n 1 v a 0 7 π n d 6 β t a n 1 v u 4 3 hull skeg azimuthals models when considering the complete hull skeg azimuthals model the forces of the azimuthals alone have to be referred to the kinematic conditions of the whole system the inflow velocity at each azimuthal must be firstly referred to the azimuthal propeller disc centre positioned at p p o both the local speed and the inflow incidence angle are modified by the hull drift angle β across the azimuthal angle δ and the rotation vector ω whose components are p q r the effective angle δ e and loading ϵ e at the azimuthals can be assessed after the evaluation of the propeller local drift angles β p 7 ϵ e t a n 1 v ω p p o b 1t 0 7 π n d 8 β p t a n 1 v ω p p o b 2t u 9 δ e β p δ the reciprocal interaction of the combined hull skeg azimuthals in drifting motion then follows a semi empirical approach whereby more complicated configurations are gradually considered these are devoted to the inclusion of the hull propeller propeller propeller and propeller hull effects due to hull wake flow straightening and mutual interaction hull propeller interaction the presence of the hull induces a variation of the flow field around the propellers in function of the drift angle furthermore this effect varies with the azimuthal angle due to the different interactions between the propeller and hull flow fields in fact considering the huge size of the propulsors compared to the tug s dimensions the presence of the struts ducts and skeg significantly alters the flow field the longitudinal flow and transverse cross flow at the propellers are hence highly affected by both the drift angle and the azimuthal angle in this respect a large wake shadow on the downstream azimuthal was observed from the experiments which is caused by the upstream presence of the hull and mostly of the skeg the shadowing area induces a substantial reduction of the speed perceived at the propeller and increases the propeller loading and hence the thrust and torque incidentally the upstream azimuthal was practically undisturbed the alteration of the propeller inflow can be modelled by means of a variation of the propeller working point in terms of effective attack angle δ e and effective advance angle ϵ e such variations expressed as δ δ e and δ ϵ e and given as a function of the local drift angle and the azimuthal angle are summed to the ideal geometric open water inflow 10a c x c x δ e δ δ e ϵ e δ ϵ e 10b c y c y δ e δ δ e ϵ e δ ϵ e 10c c q c q δ e δ δ e ϵ e δ ϵ e δ δ e and δ ϵ e were obtained by means of dedicated experiments for certain configurations the perturbations earlier described may be mathematically described as a bivariate gaussian like perturbation of the flow field speed and direction wise eq 11 this concept may also be interpreted geometrically whereby the parameters locate the wake shadowing peaks β δ on a β δ plane and describe their amplitude δ ϵ e δ δ e and spread σ τ the wake shadowing is then superimposed to the behind hull pure rudder effects merging the open water behaviour to the behind hull configuration through the variations δ ϵ e 0 δ δ e 0 δ ϵ e 0 encompasses and represents the classical straight navigation effective wake fraction 1 w δ δ e 0 is instead an expression of the mean wake direction in straight navigation and zero azimuthal angle 11 δ ϵ e δ ϵ e 0 δ ϵ e c o s β β σ ζ c o s δ δ τ ξ 12 δ δ e δ δ e 0 δ δ e c o s β β σ ζ c o s δ δ τ ξ the above presented approach not only can be customised for a specific combination of hull skeg and azimuthals its advantage stands in its potential generalisation provided that a large number of data is available for a sufficient number of different configurations at present further work would be needed to obtain the necessary data either by means of experiments or numerical calculations however a generalisation of the approach could potentially lead to the development of tools useful in design phases where specific experimental data are not available propeller propeller interaction the interaction between the two azimuthals is assessed in terms of a variation of the inflow speed at the trailing azimuthal the analysis is conducted in two different conditions firstly only one azimuthal is given a helm angle while the other is fixed amidships secondly both azimuthals are given a helm angle the degree of interference of the leading propeller on the trailing propeller is evaluated by modelling the slipstream acceleration of the former the flow acceleration is computed by employing the standard momentum theory and the relative positioning of propellers brandner and renilson 1998 a slipstream fraction coefficient is thus introduced to model this interference resulting in an additional advance angle variation δ ϵ e and a propeller inflow direction variation at the trailing propeller δ δ e it is assumed that the leading azimuthal is undisturbed propeller hull interaction the influence of the azimuthals on the hull is kept into account by employing an extended mmg like model ogawa and kasai 1978 by which the forces are corrected in function of the drift angle β the azimuthal angle δ and the heel angle ϕ each force exerted on the azimuthal is firstly rotated in the tug s reference system by the helm angle δ the yaw and roll moments are consequently defined according to their geometric positioning subsequently forces and moments perceived by the hull skeg system are corrected by means of the interaction factor a h and the application point x a h the amplification of the hull forces and moments is hence proportional to the azimuthal forces rotated in the hull reference 13a x a z 1 t β δ a h ϕ x a z 13b y a z 1 a h β a h ϕ y a z 13c n a z x p x a h a h β a h δ y a z 13d k a z z p y a z in fig 18 the forces and moments obtained using the above described hull skeg azimuthals model are compared with experimental values obtained from the escort mimic tests at 0 15 and 30 deg of drift angles and variable azimuthal angle the aim of the tests was to reproduce the escort equilibria in order to understand all the underlying interactions forces are referred to the tug fixed reference frame hull skeg dash line azimuthal dash dot line and hull skeg azimuthals totals solid line are compared with experiments markers the zero drift angle plot represent the pure rudder runs while the 15 and 30 deg plots represent the inclined conditions positive rudder angles produce escort equilibria while the negative angles portray counter rudder scenarios the simplified model matches the experiments with good agreement particularly in escort conditions the estimation of the longitudinal force is in general less accurate but still adequate given its minor impact on the model the calculated lateral force and yaw moment in the drifting configurations captures the trend of the experiments both for the uncoupled components and for the totals no additional amplifications of the roll moment are deemed necessary the force estimation is observed to lose accuracy in the pure rudder tests at large azimuthal angles however those conditions produce a large yawing imbalance which in turn results in a larger drift angle thus these conditions fall in the other graphs the overall quality of the force model is then demonstrated to be satisfactory and a good compromise with the complexity of the manoeuvres 5 manoeuvrability simulations 5 1 escort validation the free running escort tests fig 19 consisted of runs conducted in still water at a speed corresponding to 9 knots at two different propeller rpm and at azimuthal angles of 20 30 45 55 and 140 degrees tests were performed at 3 7 m draught full scale with null trim angle the results were extrapolated by froude scaling to full scale and averaged over the recorded periods a series of runs at low rpm was first conducted to familiarise with the vessel immediately followed by a higher rpm series once the azimuthal angle was set the propeller revolutions were raised keeping into account the limiting factor of the heel angle to avoid deck submergence tables 9 and 10 report the experimental results while tables 11 and 12 show the simulation results fig 20 compares the results of the novel mathematical model presented in this paper with the experimental data specifically the figure presents the steering and braking forces the drift angle the heel angle the relative horizontal angle to the towing point and the power demand the high rpm runs are reported in red while the low rpm runs are reported in black the forces the kinematic behaviour and the magnitude of the variables are correctly reproduced and show a good agreement with the experiments the mathematical model appears to capture the effects of the large unbalance between the downstream shadowed and upstream undisturbed azimuthals across the entire steering range at the higher azimuthal angles the braking forces are maximised the unbalancing of the power follows an inverted trend coherently with the experiments the interaction between the azimuthals emerges at those angles whereby the downstream propeller is washed by the slipstream of the other one thus reducing its loading it may be concluded that the steering and braking capabilities of the et the escort equilibria and the requested power at the shafts at both the rpms are well captured it may be noticed that at the high rpm runs spans wider range of relative towline angles this can be justified by the fact that the azimuthals can shift the equilibria along the trajectory created by the relative towing angle and the stretched length of the towline the component of the azimuthal forces tangential to the trajectory determines whether the tug will move towards the side of the ship or towards its stern a higher azimuthal power will always result in an increase of the drift angle and thereby of the towing force interestingly it was noted that the action of the azimuthals produces a significant righting moment the central equilibrium condition that requires minimal azimuthal power is the previously mentioned intrinsic escort equilibrium i e the purest indirect towing condition that does not require the intervention of any propulsive power therefore the larger the azimuthal powering the larger is the range of equilibrium configurations spreading from the central equilibrium and greater are the towing forces furthermore it can be observed that already a valuable indirect steering assistance can be achieved with almost no propulsive effort as in the low rpm run the model is able to replicate the physical phenomena involved and it is suitable for simulation purposes the tank like conditions are run until the desired criteria are met regardless of the availability of power the same model can be run using a suitable propulsive system model altosole et al 2017 2019 allowing to show the capabilities of the simulation tool as a support in the design phase for instance fig 21 a shows the results of a free running escort simulation conducted at the high rpm run and achieving 30 deg azimuthal angle the et is here driven by a pair of high speed diesel engines 2x2 000kw 1800 rpm the manoeuvre starts from the standby sailing position of the et behind the ship carriage at a full scale speed of 9 kn the tug then initiates the manoeuvre gradually increasing the azimuthal angle in two steps to limit heeling overshoots while at the same time accelerating the engines the time series of the tug trajectory kinematics and dynamics show the transients until equilibrium is achieved smoothly the tug reaches equilibrium in spite of small overshoots of the yaw and heel angle and of the towline tension fig 21 b displays the engine dynamics starting from the standby condition where the tug is basically towed by the ship a smooth and controlled rise in torque and power follows where the port and starboard lines separate as soon as drift forces are engaged showing the imbalance between the two thrusters at the point of maximum towing force power and revolutions are still available with large margins once again demonstrating the great indirect towing ability of the tug in conclusion the tug was able to generate a stable pull with a magnitude comparable to the bollard capability by exerting a minimum power effort in addition the manoeuvre was conducted in a speed range not practicable for direct towing by exploiting the indirect forces and always maintaining a safe position astern the tethered vessel 5 2 escort sensitivity analysis a brief sensitivity analysis was carried out by varying the hull skeg and the azimuthal forces contribution of 10 of the nominal values the free running escort tests were systematically re simulated to allow a preliminary assessment of the error propagation through the model in the future such analysis will be applied to the understanding of the degree of uncertainty affecting the estimate of the escort capability the results of the variations of the hull lateral force y yaw moment n their combined effect y n and roll moment k are plotted on top of the original high rpm curves in different colours in fig 22 additionally a combined variation of the lateral force exerted by the azimuthals on the tug and induced yaw moment y n a z is considered the most relevant parameter affecting the indirect towing features is the yaw moment the larger are the drift forces the larger is the moment that the towline needs to counteract secondarily greater lateral forces offer larger steering assistance across smaller drift angles in fact the increases of y and n alone keeping constant n and y induce respectively a longitudinal shift of l c p astern and ahead with the result of affecting the drift equilibria consequently the combined effect of y and n plays the most influential role in the escort manoeuvre by not affecting the position of the hydrodynamic hull forces on the other hand the role of the azimuthals remains marginal indeed indirect the force they develop is small compared to the predominant hull skeg forces generated by the escort oriented design of the tug however it must be considered that the dynamics are significantly affected by harsher or milder transients the results of the sensitivity analysis are summarised in table 13 the table reports the maximum steering and the maximum braking forces and the relative tug attitudes which occurred at 30 deg and 140 deg of azimuthal angle respectively the propagation of the 10 error plays the role of affecting the maximum steering ability of about a 7 smaller but similar effects are spotted in terms of maximum braking force 5 3 escort simulations the developed towing simulation model piaggio et al 2016 consists of the following three blocks the ship block i e a literature single screw merchant ship oltmann and sharma 1984 the escort tug block the towline block which plays the role of the dynamic coupling between the other two the whole system is assumed to be manoeuvring in an undisturbed environment and independently from geographical location or water depth no environmental forces are considered at this stage although they will be object of further investigation the tug is studied in 4 dof with an emphasis on inclining moments and heel hydrodynamic effects which notably jeopardise the tug s operational safety the towline is modelled as an elastic catenary the simulator can be run in two different modes namely 1 isolated tug mode which allows to focus on the capabilities and handling of the tug in tank like conditions and 2 full convoy mode were the dynamics of the whole convoy complex are considered in isolated tug mode the assisted ship behaves similarly to the carriage of the earlier experiments i e sailing ahead undisturbed at a predetermined uniform speed and unaffected by the tug s action this allows a closer focus on the intrinsic features of the et regardless of the size and kind of the tethered ship the tug s handling the steering and braking abilities and the escort stability in drifting position are some of the features that can be inspected as already stressed earlier the towing performance profile of a tug traced by the simulator run in isolated tug mode may be then obtained during the tug s early design stages an insight on the influence of each design parameter on the towing characteristics of the tug would thus be gained allowing its effectiveness safety and commercial value to be more realistically discussed the most interesting feature of the isolated tug mode regards the possibility of obtaining the towing characteristics of the tug at the desired ship and engine speed once the engine and eventual operational constraints are selected such characteristics can be summarised by the so called escort capability plots fig 23 shows a full escort capability plot of the 28m 12 m tug which is powered by 2x2 000kw 1800rpm high speed engines with the towline angle limited to 90 deg and the heeling angle limited to 12 5 deg the escort capabilities could be explored within the operational range of the engines to discover the efficiency peaks of the towing performance pure indirect steering ability powered indirect steering braking and direct reverse braking could be investigated keeping into account dynamics controllability stability and safety in fig 23 a set of different azimuthal angles has been investigated ranging 15 180 deg 180 deg is fundamentally a direct towing with engines running astern for each of these angles the towline angle the steering and the braking force are represented the combination of propeller rpm and azimuthal angles having a maximum steering force of about 55 60 t 25 30 deg azimuthal angle is clearly distinguishable as the azimuthal angle increases the braking component of the towing force rises until the shaft power demand incurs in the overload limit of engines eventually the braking limitations of the direct towing is clearly visible when comparing its limited effect with the braking force of the indirect towing on the other hand the 15 25 deg powered indirect configurations incur in the towline angle limitation and all correspond to the same relative positioning to the ship an increasing towline tension is recorded with the increase of the azimuthal angle i e for increasing forced drift angle and the heel the full convoy mode discloses a fully coupled manoeuvrability scenario which allows to evaluate both the behaviour of the tethered vessel and the tug s effectiveness and safety in line with rule requirements dnv gl 2018 abs 2019 the ability of simulating the manoeuvring of the complete towing convoy opens up a wider scope of simulations assisted steering turning circles assisted zig zag mirror and many other manoeuvres conducted with the aid of built in real time controls emphasise all the benefits of the study emergency situations can also be modelled by defining geographical constraints and eventual failures of ship or tug once the sizes and the failures of ship and tug are defined the safety clearance lengths the restored tactical diameter and the rapidity of steering and avoiding obstacles become key features in the assessment of the suitability of the tug ship pair for instance in figs 24 and 25 respectively an assisted turning and a mirror zig zag manoeuvre are performed in manual control the graphs show examples of the effectiveness of the 28 12 m tug when assisting a 190 000 dwt tanker of 290 m or a 30 000 dwt tanker of 170 m at the speed of 9 kn both manoeuvres starts with the tug in a standby configuration i e trailing the assisted ship with slackened towline for the assisted turning a failure of the rudder system and a loss of engine power on the tethered vessels was simulated the ships rudder is kept amidships the et is then requested to perform an emergency turning to confine the ship in a delimited circumscribed area in the mirror zig zag manoeuvre the ships are passively subjected to the tug assistance keeping the rudder amidships and the rpm constant the et engages an emergency evasive manoeuvre to starboard and then restores the ships straight sailing in the first manoeuvre fig 24 the tug engages on the ships portsides powering up the engines and quickly moving to an effective indirect towing configuration the two assisted ships react differently to the steering forces in accordance with their size i e inertia and resistance to rotation as expected the larger the ship the less effective is the tug assistance the tug steers the smaller vessel within a tactical diameter of about 5 ship lengths corresponding to 3 lengths of the larger ship the larger vessel requires instead more than twice the space the evasive manoeuvre fig 25 also results much more rapid and confined for the smaller vessel avoiding the hypothetical obstacle in practically half the space and time it can be concluded that based on the route the eventual geographical constraints and the eventual failures the suitability of a towing service can be evaluated by means of the proposed simulator eventually tugs with larger sizes or with alternative designs may be considered and tested 6 conclusions this paper presented a complete novel 4 dof manoeuvrability model dedicated to the manoeuvring analysis of escort tugs the model is conceived in a similar fashion to the well known mmg manoeuvrability model the paper at first described the extensive experimental campaign purposely designed to construct and validate the model the forces and dynamics arising from the indirect towing have been studied simulated and compared with the experimental results employing both captive and free running tests the estimation of the attitude and of the equilibrium conditions during the manoeuvres resulted rather satisfactory with particular emphasis on escort steering and braking forces the dynamics of the tug and its shaftlines were thoroughly modelled and coupled allowing to capture the asymmetrical behaviour of the two azimuthals during escort towing the model separates the hydrodynamic effects of the logical blocks that compose the tug i e hull skeg and azimuthals and the totals encompassing their mutual interaction hull skeg azimuthals at the present stage hull and skeg are incorporated in a single model since the experimental results do not allow to separate them however it is believed that the effects of modifications to the skeg geometry may be introduced in the model by using cfd calculations this will be the object of future activities with the aim of obtaining a complete and extended parametric mathematical model of a larger class of tugs in addition a follow up investigation on the scaling effect of the hydrodynamic forces and their impact on full scale manoeuvring will be subject of further study lastly a scalable complete mathematical model of the assisted ship is made available the ship model is used in this paper to study the dynamics of a generic towing convoy tug ship linked by the towline constraint the manoeuvrability model was conceived as a physics based parametric manoeuvring model in other words several parameters related to the tug e g main hull particulars propulsion dimension engine type the towline e g length weight per unit length elasticity towing staple position and the assisted ship e g size type dwt can simply be defined and tuned before starting the simulation as a consequence the model lends itself to investigating the effect and impact of a conspicuous number of design parameters on the manoeuvrability handling and safety of the tug the tug can be controlled in real time by the joint or independent definition of the set points of the two azimuthals i e azimuthal angles engine revolutions towline s lengths can be adjusted by rendering and recovering future applications will involve the modelling of escort winches hawsers on the other hand the ship can be in turn controlled by the definition of the propeller rate of revolutions and the rudder angle a complete simulation tool for design is hence provided which paves the way for future design strategies and for the assessment of different towing solutions clearly comparing the simulations with real operation full scale measurements will be thus essential to confirm the simulator s predictions and it will be the natural validating prosecution of the present study in fact the ability of addressing real world operative profiles widens even more the advantages of a parametric model among them are the direct assessment of the impact of design choices on operations risk assessments and real scenario simulation and training acknowledgements the research project is conducted in cooperation with rosetti marino spa ravenna and it is partially funded by italian ministry of infrastructures transports waterborne transports division 4 under general director decree no 7883 on 13th october 2016 the authors are grateful for the kind collaboration of eng luca martinelli and eng lucia enoizi from rosetti marino 
22404,by thoroughly considering the fluid structure interaction this paper aims to analytically analyze the free vibration of liquid sloshing in partially filled two dimensional flexible rectangular tanks it is assumed that the fluid is compressible irrotational and inviscid additionally a closed form formula is derived for estimating the fundamental natural frequency of this system by performing comprehensive curve fitting through various numerical examples the correctness of authors exact solutions is corroborated and the effects of different parameters on sloshing natural frequencies and mode shapes of the aforesaid fluid structure system are assessed keywords fluid structure interaction partially filled rectangular tank sloshing hydrodynamic pressure natural frequency free vibration closed form solution nomenclature a cross sectional area k stiffness matrix of the structure a a a c b b c b g g d j d c e j e c unknown constants l tank width b the interaction matrix l sloshing characteristic matrix d nodal displacement vector m mass matrix e elasticity modulus p pressure function g fluid generalized mass matrix p pressure vector h fluid generalized stiffness matrix x y functions defined in eq 18 h tank height b the subscript which denotes the base model h a the length of the beam adjacent to the air c the speed of the sound h f water depth c i unknown constant i moment of inertia of the tank wall f e e b f c c b functions introduced in section 6 i 1 i i 2 i i 3 i i 4 i j 1 i j 2 i j 3 i j 4 i integrations defined in eqs 42 and 43 f ρ ρ b f ρ f ρ f b functions defined in section 6 i n i i n c integrations defined in eqs 36 and 37 f h h l t w h h f h function introduced in section 6 g the gravitational acceleration x y cartesian coordinates k parameter introduced in eq 22 z parameter introduced in eq 2 k parameter introduced in eq 28 α 1 i θ i j η i j and κ i j parameters introduced in appendix a k c parameter introduced in eq 29 α 1 θ i η i a n d κ i parameters introduced in relations 53 and 54 n mode number φ 1 φ 2 ψ 1 and ψ 2 parameters introduced in appendix a n f fluid s number of degrees of freedom λ constant defined in eq 20 n s structural number of degrees of freedom λ c the root of eq 25 t time μ parameter introduced in eq 5 t w wall thickness ρ structure mass density u a deformation function of the right beam in contact with the air ρ f fluid mass density u f deformation function of the right beam in contact with the fluid ω natural frequency of the vibrating system u f c u a c v f c v a c complementary solutions of eq 1 introduced in relation 4 ω r n n th natural frequency of the rigid tank v a deformation function of the left beam in contact with the air ω parameter introduced in eq 50 v f deformation function of the left beam in contact with the air 1 introduction in the views of many people such as aerospace civil and nuclear engineers physicists designers of road and ship tankers and mathematicians the problem of liquid sloshing in moving or stationary containers remains of great concern for instance civil engineers and seismologist have been investigating the influences of liquid sloshing on large dams oil tanks and elevated water towers during ground motions since the early 1960s sloshing phenomenon has considerably attracted the attention of aerospace engineers studying the influence of liquid propellant sloshing on the flight performance of jet vehicles the main problem of liquid sloshing deals with computing the hydrodynamic pressure distribution forces moments and natural frequencies of the free liquid surface obviously these parameters are tightly related to the dynamic behavior of fluid structure systems it should be highlighted that analytical solutions are restricted to regular tank shapes such as cylindrical and rectangular the nature of sloshing in cylindrical tanks is better understood in comparison to prismatic ones ibrahim 2005 since the fluid structure interaction affects the dynamic behavior of the structure it should be included to accurately assess the dynamic behavior of liquid storage tanks it is worthwhile to remark that considering this interaction results in the coupled differential equations governing these systems the complexity of analyzing the aforesaid systems is rooted in these equations based on authors knowledge most analytical formulations presented for free surface liquid motion in rectangular tanks neglected the fluid compressibility and solid flexibility as well as most of the famous design codes such as aci 350 3 06 aci 2006 clearly these simplifying unrealistic assumptions need more investigations accordingly this paper aims to rigorously take fluid compressibility and structure flexibility into account and proposes an exact solution for investigating the free vibration of liquid sloshing in two dimensional partially filled rectangular tanks moreover it presents a direct formula for calculating the first natural frequency of the aforesaid system prior to these some of the research works dealt with free liquid motion in tanks are briefly reviewed in the following paragraphs assuming that the fluid was homogeneous isotropic viscous newtonian a nonlinear liquid sloshing inside a partially filled rectangular tank was investigated by celebi and akyldiz celebi and akyildiz 2002 for future works these researchers suggested to assess the effect of compressibility on the case of extreme sloshing by employing lagrangian finite element dogangun and livaoglu 2004 investigated the hydrodynamic pressures and sloshing motions of a flexible rectangular container which stored a linear elastic inviscid and compressible liquid furthermore these researchers remarked that more improvements were necessary for sloshing problem in rectangular fluid containers in addition by combining the rayleigh ritz and galerkin tactics zhou and liu 2007 derived the eigen frequency of the 3d liquid tank system to have better responses the surface waves of liquid and wall flexibility were taken into account besides chen et al 2007 performed the numerical and experimental study on sloshing in cylindrical and rectangular tanks they applied three dimensional boundary element method furthermore arafa 2007 developed the finite element approach for studying the sloshing of liquids in partially filled rigid rectangular tanks undergoing base excitation furthermore daneshmand and ghavanloo 2010 analyzed the free vibration of the fluid filled rectangular rigid container with a sagged flexible bottom membrane in two dimensional space ghaemmaghami and kianoush 2010 developed a finite element tactic for investigating the seismic behavior of rectangular liquid tanks their technique was capable of considering both convective and impulsive responses of the liquid tank system in order to analyze the seismic behavior of concrete rectangular tanks under various ground motions kianoush and ghaemmaghami 2011 used finite element tactic for numerical simulation of a three dimensional soil structure fluid interaction in this work linear free surface boundary condition was applied to find the dynamic impulsive and convective response of three dimensional flexible rectangular tanks an analytical technique was developed by hashemi et al 2013 for this purpose rayleigh ritz scheme was utilized moreover jung et al 2015 studied the effect of natural frequency modes on liquid sloshing in a rigid rectangular tank in 2016 goudarzi and danesh 2016 numerically and analytically studied the effect of vertical baffles inside a liquid storage tank besides wang et al 2016 analyzed transient lateral sloshing in the partially filled cylindrical tanks with multi baffles recently yu et al 2017 experimentally and numerically assessed sloshing phenomenon in a membrane type lng tank with two floating plates chiba and magata 2017 assessed the influence of liquid sloshing on the dynamics of space structures moreover abbasi and durali 2017 found a new methodology for assessing the fluid carrying vehicles such as pendulum or mass spring models besides zhang and yang 2018 established the dynamic equation of sloshing by using hamilton principle and changed it into a linear state space equation in another study kolaei and rakheja 2018 developed a finite element model for investigating free vibration of a liquid in a tank with arbitrary geometry for this purpose they used a flexible membrane constraining the liquid free surface they assumed that the fluid was inviscid incompressible and irrotational this paper is organized as follows in section 2 based on the assumption that the liquid is inviscid irrotational and compressible the coupled boundary value problem governing the free vibration of a two dimensional partially filled flexible rectangular tank is established in this process the free surface motion is taken into account and the tank walls are presumed to be flexible beams section 3 directly solves this boundary value problem and the sloshing natural frequencies and mode shapes are exactly achieved in section 4 the well known finite element approach is employed for analyzing this system in this procedure the walls and fluid domain are modeled by the classical euler bernoulli beam element and compressible fluid four sided element respectively afterwards by conducting a fully comprehensive curve fitting and studying more than one million different tanks a closed form formula for estimating the fundamental sloshing natural frequency of the flexible rectangular tank partially filled with compressible liquid is extracted in section 5 based on authors knowledge no explicit expression has been suggested for directly calculating the sloshing natural frequency of this system yet then with the help of several numerical examples the presented formulations are examined in section 6 moreover the effect of various parameters on the natural frequencies and mode shapes of free surface liquid motion is assessed finally the conclusions are summarized in section 7 2 the governing boundary value problem as previously mentioned this paper studies the free vibration of liquid in a partially filled rectangular storage tank it should be added that the sloshing phenomenon is considered schematically this system is illustrated in fig 1 regarding the fluid and structure the governing boundary value problem bvp includes two differential equations and independent and dependent boundary conditions bcs the dependent conditions are named interaction boundary conditions in the coming subsections the structural and fluid differential equation in a companion with their independent bcs are defined respectively then the interaction boundary conditions are presented 2 1 structure governing equations in this study the tank walls are modeled by employing vertical euler bernoulli beams with uniform rectangular cross section as a consequence the mass and the flexural stiffness are uniform along the beam height recall that the geometrical and mechanical properties of the walls are presumed to be analogous each wall includes two beam elements the first one is adjacent to the fluid and the second one is in contact with the air based on the small deformation theory beams equation of motion can be expressed in the frequency domain as follows laura et al 1975 e i 4 u f y 4 ρ a ω 2 u f 0 0 y h f e i 4 u a z 4 ρ a ω 2 u a 0 0 z h a e i 4 v f y 4 ρ a ω 2 v f 0 0 y h f 1 e i 4 v a z 4 ρ a ω 2 v a 0 0 z h a in which 2 z y h f in these relations the flexural stiffness cross sectional area and mass density of the beams are demonstrated by e i a and ρ correspondingly also ω is the natural frequency of the vibrating system fluid tank furthermore the length of each beam next to air and fluid equal to h a and h f respectively besides the deformation functions of the right beams in contact with the fluid and air are denoted by u f and u a correspondingly in addition the deflection functions of the left beams next to the fluid and air are denoted by v f and v a respectively clearly the beam displacements are a function of coordinate y and the natural frequency of the system in the equations corresponding to 0 y h f the hydrodynamic pressure is not inserted yet it should be highlighted that the beams adjacent to fluid are under hydrodynamic pressure the distributed hydrodynamic pressure p x y ω is schematically illustrated in fig 2 hence by adding the hydrodynamic pressure to the right side of equation 1 they are corrected as follows e i 4 u f y 4 ρ a ω 2 u f p l y ω 0 y h f e i 4 u a z 4 ρ a ω 2 u a 0 0 z h a e i 4 v f y 4 ρ a ω 2 v f p 0 y ω 0 y h f 3 e i 4 v a z 4 ρ a ω 2 v a 0 0 z h a where l is the tank width in this way non homogenous differential equations associated with eq 1 are achieved it is worth mentioning that the particular solution depends on the fluid pressure distribution it will be obtained in the coming sections the corresponding complementary solutions have the subsequent shapes u f c y ω c 1 sin μ y c 2 cos μ y c 3 sinh μ y c 4 cosh μ y u a c z ω c 5 sin μ z c 6 cos μ z c 7 sinh μ z c 8 cosh μ z v f c y ω c 9 sin μ y c 10 cos μ y c 11 sinh μ y c 12 cosh μ y 4 v a c z ω c 13 sin μ z c 14 cos μ z c 15 sinh μ z c 16 cosh μ z in which 5 μ ρ a ω 2 e i 4 in these equalities c i is an unknown constant obviously sixteen unknowns exist in the aforesaid equations consequently sixteen boundary conditions are necessary now the corresponding boundary conditions are introduced in the frequency domain for the beams adjacent to liquid the displacement is zero at their base these boundary conditions can be expressed in the below mathematical forms u f 0 ω 0 6 v f 0 ω 0 note that both complementary and particular solutions should satisfy the boundary conditions corresponding to the walls at the supports of beams next to fluid the rotations are restrained mathematically speaking these conditions have the next shapes u f y 0 ω 0 7 v f y 0 ω 0 at the common point of two beams which forms each wall the compatibility of deformations should be satisfied as follows u f h f ω u a 0 ω v f h f ω v a 0 ω u f y h f ω u a z 0 ω 8 v f y h f ω v a z 0 ω at the aforesaid points the shear forces and bending moments of beams are equal correspondingly these boundary conditions have the succeeding shapes 2 u f y 2 h f ω 2 u a z 2 0 ω 9 2 v f y 2 h f ω 2 v a z 2 0 ω 3 u f y 3 h f ω 3 u a z 3 0 ω 10 3 v f y 3 h f ω 3 v a z 3 0 ω at the free ends of beams in contact with air the shear forces and bending moments are zero respectively these conditions can be expressed as follows 3 u a z 3 h a ω 0 11 3 v a z 3 h a ω 0 2 u a z 2 h a ω 0 12 2 v a z 2 h a ω 0 2 2 fluid governing equations helmholtz equation wave equation is the free vibration differential equation of fluid and it has the following shape in the frequency domain 13 2 p x 2 2 p y 2 ω 2 c 2 p 0 in which the constant speed of sound in fluid and the unknown pressure function are shown by c and p correspondingly recall that the pressure function is in terms of coordinates and the natural frequency of the vibrating system note that the wave propagation speed c is infinite in incompressible fluid in this case laplace s equation should be used instead of eq 13 herein the fluid is assumed to be compressible inviscid and irrotational it should be added that the wave equation can be derived by combining the momentum equations and the mass equation sigrist 2015 in other words the wave equation in terms of pressure can be used instead of the momentum and mass equation which makes the formulation simpler in this paper the sloshing behavior is simulated by utilizing linear free surface boundary condition this phenomenon is mathematically expressed as follows 14 p y x h f ω ω 2 g p x h f ω in this equation h f and g denote the water depth and gravitational acceleration respectively it is worthwhile to mention that the flux on fluid s boundaries is equal to the fluid mass density multiplied by negative normal acceleration of the boundary hence the flux is zero at the bottom of the tank because the free vibration is investigated during this study therefore the next condition should be satisfied 15 p y x 0 ω 0 up to now the governing equations of the fluid and structure have been introduced additionally their independent boundary conditions are presented in what follows the dependent boundary conditions named interaction boundary conditions are proposed these equations are dependent on both structure and fluid 2 3 interaction boundary condition in addition to the aforementioned boundary conditions the total accelerations of the beams adjacent to fluid are equal to the normal acceleration on the wet surface obviously the outward normal vector of the fluid region is in positive x direction for the right wet surface accordingly the next result can be obtained 16 p x x l ρ f ω 2 u f in which ρ f denotes the fluid mass density on the other hand the outward normal vector of the fluid region is in negative x direction for the left side of the tank hence the subsequent condition is achieved 17 p x x 0 ρ f ω 2 u f it is worthwhile to highlight that the relation which exists between fluid and structure can be defined with the help of the aforesaid boundary conditions in the coming section the analytical solution of the current boundary value problem is derived 3 closed form solution of the fluid structure system the separation of variable s method is utilized for finding the solution of this boundary value problem linton and mciver 2001 firstly the solution of the fluid governing equation is found for this purpose it is presumed that the pressure function has the subsequent appearance 18 p x y ω x x ω y y ω with the help of this function the helmholtz equation can be written in the succeeding form 19 x x ω 2 c 2 y y it is obvious that the left and right side of this relation are functions of dissimilar variables consequently they are equal to a constant value making the assumption that both sides are equal to the constant value of λ 2 leads to the coming equations 20 x x ω 2 c 2 λ 2 y y λ 2 x ω 2 c 2 λ 2 x 0 y λ 2 y 0 by solving these ordinary differential equations the following functions can be achieved 21 x x ω a e k x b e k x y y ω a sin λ y b cos λ y where 22 k λ 2 ω c 2 in these relations a b a and b are constants note that k is always real for λ ω c by utilizing the independent fluid boundary condition related to the bottom of the tank one of these constants can be obtained as follows 23 p y x 0 ω 0 a 0 applying the free surface boundary condition yields the next equation 24 p y x h f ω ω 2 g p x h f ω sin λ h f ω 2 g cos λ h f λ 0 this equation has an infinite number of real roots and it has a complex root in the form of λ i λ c inserting the complex root into equation 24 and using simple mathematical identities result in the coming equation 25 sinh λ c h f ω 2 g cosh λ c h f λ c 0 it is worth mentioning this equation only has one root with the help of relations 24 and 25 the succeeding function can be gained 26 y y ω j 1 b j cos λ j y b c cosh λ c y in these equations b j and b c are unknown constants accordingly the subsequent infinite series represents the hydrodynamic pressure distribution 27 p x y ω j 1 a j e k j x b j e k j x b j cos λ j y a c e k x b c e k x b c cosh λ c y where 28 k i k c and 29 k c λ c 2 ω c 2 by defining new constants eq 27 can be simplified as the subsequent form 30 p x y ω j 1 d j e k j x e j e k j x cos λ j y d c sin k c x e c cos k c x cosh λ c y the infinite series is related to the real roots of relation 24 while the second term of the pressure function is dependent on its complex root after constructing the pressure function it is inserted into the governing equations of beams adjacent to the fluid in this way the right sides of these equations will be achieved therefore they will be rewritten in the next form e i 4 u f y 4 ρ a ω 2 u f j 1 d j e k j l e j e k j l cos λ j y d c sin k c l e c cos k c l cosh λ c y 0 y h f 31 e i 4 v f y 4 ρ a ω 2 v f j 1 d j e j cos λ j y e c cosh λ c y 0 y h f the particular solutions of these non homogenous equations can be obtained based on their right sides it should be reminded that the related complementary solution was previously mentioned in eq 4 eventually the following deformation functions can be achieved 32 u f y ω u f c y ω j 1 d j e k j l e j e k j l e i λ j 4 μ 4 cos λ j y d c sin k c l e i λ c 4 μ 4 e c cos k c l e i λ c 4 μ 4 cosh λ c y 33 u a y ω u a c y ω 34 v f y ω v f c y ω j 1 d j e j e e i λ j 4 μ 4 cos λ j y e c e i λ c 4 μ 4 cosh λ c y 35 v a y ω v a c y ω in these equations d j e j d c and e c are unknown constants it should be noted that the sixteen constants of structural complementary solutions in eq 4 i e c 1 through c 16 are still unknown the sixteen unknowns can be computed by employing all sixteen structural boundary conditions appendix b presents these conditions in detail in this way the aforesaid constants are obtained in terms of d j e j d c and e c to be brief the complex relationships between these constants and the sixteen unknowns of eq 4 are not presented to find these remaining constants the interaction boundary conditions are used in both sides of these conditions d j e j d c and e c exist hence a novel strategy is deployed to calculate these constants in this tactic both sides of the interaction conditions are multiplied by cos λ i y and cosh λ c y respectively afterwards they are integrated along the height of the beam adjacent to the liquid based on the orthogonal property of these functions the correctness of the succeeding integrations is proved 36 i n i 0 h f cos λ i y cos λ i y d y 2 h f λ i sin 2 h f λ i 4 λ i 37 i n c 0 h f cosh λ c y cosh λ c y d y 2 h f λ c sin 2 h f λ c 4 λ c accordingly the coming results can be achieved 38 d i e k i l e i e k i l k i i n i ρ f ω 2 0 h f cos λ i y u f c y ω d y d i e k i l e i e k i l e i λ i 4 μ 4 i n i 39 d c cos k c l e c sin k c l k c i n c ρ f ω 2 0 h f cos h λ c y u f c y ω d y d c sin k c l e c cos k c l e i λ c 4 μ 4 i n c 40 d i e i k i i n i ρ f ω 2 0 h f cos λ i y v f c y ω d y d i e i e i λ i 4 μ 4 i n i 41 d c k c i n c ρ f ω 2 0 h f cosh λ c y v f c y ω d y e c e i λ c 4 μ 4 i n c there are eight integrations in the last equations their closed forms have the next shapes i 1 i 0 h f cos λ i y sin μ y d y 1 λ i 2 μ 2 μ μ cos λ i h f cos μ h f λ i sin λ i h f sin μ h f i 2 i 0 h f cos λ i y cos μ y d y 1 λ i 2 μ 2 λ i sin λ i h f cos μ h f μ cos λ i h f sin μ h f i 3 i 0 h f cos λ i y sinh μ y d y 1 λ i 2 μ 2 μ μ cos λ i h f cosh μ h f λ i sin λ i h f sinh μ h f 42 i 4 i 0 h f cos λ i y cosh μ y d y 1 λ i 2 μ 2 λ i sin λ i h f cosh μ h f μ cos λ i h f sinh μ h f j 1 i 0 h f cosh λ i y sin μ y d y 1 λ i 2 μ 2 μ μ cosh λ i h f cos μ h f λ i sinh λ i h f sin μ h f j 2 i 0 h f cosh λ i y cos μ y d y 1 λ i 2 μ 2 μ cosh λ i h f sin μ h f λ i sinh λ i h f cos μ h f j 3 i 0 h f c o s h λ i y s i n h μ y d y 1 λ i 2 μ 2 μ μ c o s h λ i h f c o s h μ h f λ i s i n h λ i h f s i n h μ h f 43 j 4 i 0 h f c o s h λ i y c o s h μ y d y 1 λ i 2 μ 2 λ i s i n h λ i h f c o s h μ h f μ c o s h λ i h f s i n h μ h f substituting i 1 i i 2 i i 3 i i 4 i j 1 i j 2 i j 3 i and j 4 i into eqs 38 41 yields the following relations 44 d i e k i l e i e k i l k i i n i ρ f ω 2 c 1 i 1 i c 2 i 2 i c 3 i 3 i c 4 i 4 i ρ f ω 2 e i λ i 4 μ 4 d i e k i l e i e k i l i n i 0 45 d c cos k c l e c sin k c l k c i n c ρ f ω 2 c 1 j 1 i c 2 j 2 i c 3 j 3 i c 4 j 4 i ρ f ω 2 e i λ c 4 μ 4 d c sin k c l e c cos k c l i n c 0 46 d i e i k i i n i ρ f ω 2 c 9 i 1 i c 10 i 2 i c 11 i 3 i c 12 i 4 i ρ f ω 2 e i λ i 4 μ 4 d i e i i n i 0 47 d c k c i n c ρ f ω 2 c 9 j 1 i c 10 j 2 i c 11 j 3 i c 12 j 4 i ρ f ω 2 e i λ c 4 μ 4 e c cos k c l i n c 0 although relations 30 and 32 35 consist of infinite terms it can be observed that utilizing only a limited number of terms leads to relatively exact results it is worthwhile to highlight that usage of more terms give better accurate responses mathematical operation shows that c i is in terms of d j e j d c and e c consequently the aforesaid equations are homogenous and their unknowns are d j e j d c and e c by setting the determinant of the coefficient matrix equal to zero the natural frequencies of the system can be computed furthermore the coupled mode shapes of the fluid structure system can be obtained from the pressure and deflection functions 4 the finite element method up to now the free vibration of liquid sloshing in a fluid tank system has been analytically investigated now the related governing equations are discretized for this purpose the well known finite element strategy is employed this method divides a domain into sub regions which are named elements in this way the continuous unknown function of the governing differential equations is discretized and a system of linear equations is obtained it should be reminded that its responses are values of the unknown function in a limited number of points named nodes schematically the discrete model of the fluid and structure domain are shown in fig 3 the coupled undamped free vibration equation of the system can be expressed in the frequency domain as below aftabi sani and lotfi 2010 48 k b t 0 h ω 2 m 0 ρ f b g 1 g l d p 0 in this equality the stiffness and mass matrix of the tank walls are denoted by k and m respectively the dimension of these matrices equals to the structural number of degrees of freedom n s moreover the generalized stiffness and mass matrices of the fluid domain are shown by h and g correspondingly it should be added that the number of rows and columns of these matrices are equal to the number of fluid s degrees of freedom n f moreover rectangular matrix b referred to as the interaction matrix has n f rows and n s columns it is worth emphasizing matrix b relates the structural degrees of freedom to those of the fluid furthermore l is the sloshing matrix whose size is similar to fluid s characteristic matrices note that by assembling the corresponding matrix of each element these matrices are set up in this study nodal displacements and pressures vectors are shown by d and p correspondingly recall that these vectors have n s and n f entries respectively in this paper the classical 2 node euler bernoulli beam element which has four degrees of freedom is applied to model the tank walls for discretizing the fluid domain a four sided element is utilized each node of this element has only one pressure degree of freedom 5 closed form formula for fundamental sloshing frequency in the common and simple structures the parameters which affect their free vibration behavior and the relationship between these factors and their principal natural frequencies are fairly known nevertheless when these structures are next to a liquid it is complicated to introduce a meticulous function for expressing the main sloshing natural frequency of the coupled system in terms of specific parameters based on authors knowledge no comprehensive explicit equation exists for calculating the principal sloshing frequency of a 2d deformable rectangular tank partially filled with inviscid irrotational and compressible liquid in this study by neglecting the tank flexibility and fluid compressibility the following simple closed form relationship can be utilized for computing the natural frequencies of a two dimensional rectangular tank jung et al 2015 49 ω r n n π g l tanh n π h f l where n denotes the mode number actually the principal sloshing natural frequency of a flexible partially filled tank depends on its dimensions fluid depth liquid density wave propagation s speed in the fluid the elasticity modulus and mass density of the walls this section aims to explicitly find the complex relation between the practical values of these parameters and the fundamental natural frequency of free surface motion in the aforesaid system for tanks with 0 002 t w h 0 006 experiences have shown that these thickness to height ratios are very common in stainless steel tanks it is worth emphasizing that eq 49 is suitable even for tanks with t w h 0 006 to fulfil this goal large number of tanks i e more than one million tanks with various properties are numerically studied according to the achieved results the least square curve fitting is thoroughly conducted in this way an explicit expression which is a combination of simple algebraic functions is obtained for calculating the first sloshing natural frequency of the aforementioned system for this purpose the following dimensionless parameter is defined hasheminejad and soleimani 2017 50 ω ω 2 h g in this equality the first natural frequency of the desired tank is shown by ω by studying a large number of flexible rectangular tanks containing compressible irrotational and inviscid fluid it is found that ω is a product of five algebraic functions these functions construct a very good approximate formula for calculating the above cited dimensionless parameter as follows 51 ω f h h l t w h h f h f e e b f ρ ρ b f c c b f ρ f ρ f b where subscript b denotes the base model and constants e b and c b are equal to 2 06 10 11 n m 2 and 144 0 m sec correspondingly moreover ρ b and ρ f b are 7680 kg m 3 and 1000 kg m 3 respectively additionally the tank width height and wall thickness are shown by h l and t w correspondingly also h f is the fluid depth comprehensive numerical study shows that f h h l t w h h f h has the next shape for tanks with 0 5 h 2 5 0 2 h l 1 and 0 8 h f h 1 52 f h h l t w h h f h α 1 θ 1 t w h η 1 κ 1 η 1 t w h η 1 θ 2 t w h η 2 κ 2 η 2 t w h η 2 h l in which 53 α 1 α 11 h α 12 α 13 θ 1 θ 11 θ 12 h θ 13 h 2 η 1 η 11 h η 12 η 13 κ 1 κ 11 h κ 12 κ 13 and 54 θ 2 θ 21 θ 22 h θ 23 h 2 η 2 η 21 η 22 h η 23 h 2 κ 2 κ 21 κ 22 h κ 23 h 2 in these relations α 1 i θ i j η i j and κ i j are functions of h f h and they are presented in appendix a vast numerical studies show that the effect of wave propagation speed and walls mass density on the first sloshing natural coupled frequency can be negligible for the practical values of these parameters as a consequence the functions which are in terms of ρ and c have the next forms respectively 55 f ρ ρ b 1 0 8 ρ b ρ 1 2 ρ b 56 f c c b 1 0 5 c b c 2 c b numerical simulations show that f ρ f ρ f b and f e e b can be expressed in the following form 57 f ρ f ρ f b φ 1 ψ 1 ρ f ρ f b 0 8 ρ f b ρ f 1 2 ρ f b 58 f e e b φ 2 ψ 2 e e b 0 8 e b e 1 2 e b where φ 1 φ 2 ψ 1 and ψ 2 are constants introduced in appendix a without requiring any knowledge about differential equations governing the aforementioned coupled fluid structure system and its related finite element formulation the first sloshing natural frequency can be approximately estimated in a simple and fast manner by using eq 51 in other words the first eigen value of a 2d flexible rectangular container partially filled with liquid is computed with the help of several very simple algebraic functions and no commercial fem software or complicated computer programming is needed furthermore it is possible to easily study the relationship between the fundamental sloshing natural frequency and various parameters 6 numerical examples this section includes four sub sections the correctness of the aforementioned finite element procedure is proved in the first one to achieve this goal the first sloshing natural frequencies of a tall and shallow benchmark problem are calculated with the help of the proposed finite element tactic afterwards the obtained results are compared with those of other researchers in sub section 2 the convergence of the finite element approach and the closed form solution are assessed then their eigen pairs are compared to evaluate the robustness of the approximate relation 51 the third sub section uses this formula to calculate the first sloshing natural frequency of the fluid tank systems the fourth sub section deals with investigating the effects of various parameters on the natural frequencies of the free surface motion it should be remarked that special programs were developed for performing the finite element and analytical analysis in this work 6 1 verification of the fem model with the help of the above cited finite element procedure the sloshing natural frequencies of shallow and tall benchmark tanks are obtained as previously mentioned in this process the classical 2 node euler bernoulli beam element is employed to model the walls of the tanks and a four sided element is used to discretize the fluid domain the wall height thickness width and water level of the shallow tank are equal to 6 m 0 6 m 30 m and 5 5 m correspondingly this tank is made of concrete the elasticity modulus e 2 644 10 10 n m 2 the density ρ 2300 kg m 3 the wall height thickness width and water level of the tall tank are 12 3 m 1 2 m 19 6 m and 11 2 m respectively this tank is made of concrete with the elasticity modulus of e 2 077 10 10 n m 2 and the density of 2300 kg m 3 these tanks store water with density of ρ f 1000 kg m 3 furthermore the wave propagation speed in water is c 1440 m sec since the models take into account fluid s compressibility this parameter is only utilized in the present work in table 1 the first natural frequencies of these tanks are tabulated to solve the problem the fluid domains of the shallow and tall tank are modeled by a 33 36 and 31 34 mesh respectively the meshes include square elements moreover 36 and 34 beam elements are utilized for each of their walls correspondingly it should be reminded that the aforesaid tanks are not full of water obviously the results of the present study are compatible with those of other researchers since the models and assumptions of the various methods are not analogous the negligible differences between their results can be observed consequently it is clear that the proposed finite element model is comprehensively verified it is worth emphasizing that aci 350 3 06 aci 2006 ignores the flexibility of walls while the others take into account this parameter the flexural rigidity of these tanks are high hence the wall flexibility does not affect the sloshing natural frequency considerably therefore natural frequencies obtained from aci 350 3 06 aci 2006 are close to those of other approaches 6 2 convergence tests at this stage free vibration of a tank with flexible walls is evaluated in this process the sloshing modes are desired the wall height h thickness and width l of the tank are 0 5 m 0 001 m and 0 5 m respectively this tank is made of stainless steel having the density ρ 7680 kg m 3 the elasticity modulus and e 2 06 10 11 n m 2 amabili 1996 it should be added that amabili 1996 assessed a cylinder having a radius of 175 mm a thickness of 1 mm and a length of 664 mm it is assumed that the tank is partially filled with water whose density is ρ f 1000 kg m 3 furthermore the wave propagation speed is c 1440 m sec the water level h f is 0 4 m initially the analytical solution is employed for computing the first five natural frequencies of this coupled system to achieve this goal various numbers of terms are used in the response infinite series afterwards the results are illustrated in fig 4 according to this convergence curve the correctness of the suggested analytical formulations is proved as previously stated increasing the number of terms employed in the response series yields more accurate results numerical experiences have shown that the natural frequencies achieved by utilizing 5 or more terms are fairly analogous now to find the first five natural frequencies of this tank the finite element method is deployed to model this structure various numbers of elements are used it should be added that the applied meshes utilized for the fluid domain include square elements the achieved results are illustrated in fig 5 the correctness of the finite element model is corroborated by this curve based on the finite element responses it can be concluded that increasing the number of element s results in more exact natural frequencies furthermore it is clear that employing a 12 15 mesh for the fluid domain and using 15 beam elements for each wall lead to the results with acceptable accuracy in fact the natural frequencies achieved from finer meshes are fairly similar to those of the aforesaid mesh by applying this mesh the first five sloshing natural frequencies obtained from fem and the analytical solution which is achieved by applying six terms in response series are inserted in table 2 based on these findings it is clear that the finite element method and analytical solution are compatible and the differences between their results are negligible in what follows the finite element scheme and analytical strategy are applied for calculating the mode shapes it should be reminded that the above mentioned response and mesh are employed in fig 6 the first three pressure contours corresponding to mode shapes are demonstrated obviously the finite element contours are slightly different from those of the closed form results due to the numerical errors surprisingly the pressure is not zero at the fluid surface because sloshing is taken into account furthermore the distribution of the pressure on the walls corresponding to mode shapes is shown in fig 7 according to the obtained outcomes the numerical and the analytical pressure distributions are analogous as previously mentioned non zero pressure is observed at the free surface this is because the sloshing is considered with the help of eq 14 moreover the fluid surface shapes corresponding to various mode shapes are presented in fig 8 accordingly the free surface shapes of the finite element and the analytical formulation are the same finally the mode shapes related to the walls deformations are compared in fig 9 it should be added that the free surface profile is not shown in this figure based on these investigations the analytical solution and the finite element approach are absolutely compatible therefore the validity of the closed form solution and the finite element model are thoroughly confirmed 6 3 numerical investigation of the natural frequency formula as previously mentioned numerical methods such as famous finite element approach analytical and semi analytical techniques are usually employed for finding the fundamental sloshing natural frequencies of the flexible rectangular tanks containing compressible liquid these schemes are generally computationally expensive and time consuming moreover knowledge of fluid structure interaction is required in this paper relation 51 defeat these difficulties in other words the first natural frequency of free surface motion can be achieved in a simple and fast manner at this stage the robustness of this formula is thoroughly evaluated by performing numerical examples function f h h l t w h h f h plays the most important role in eq 51 obviously it is in terms of the tank width height and thickness additionally it depends on the liquid level herein its accuracy is investigated for this purpose the first sloshing natural frequencies of 1250 tanks are estimated by employing relation 51 in these tanks it is assumed that 0 002 t w h 0 006 0 5 h 2 5 0 2 h l 1 and 0 8 h f h 1 besides it is presumed that c 144 0 m sec e 2 06 10 11 n m 2 ρ 7680 kg m 3 and ρ f 1000 kg m 3 afterwards the corresponding principal sloshing natural frequency is calculated by utilizing the finite element strategy for the fluid domain a mesh including square elements is utilized and 20 beam elements are applied for each wall additionally eq 49 is deployed for comparison the errors which exist in the results of relations 49 and 51 are calculated and their maximum and mean errors are listed in table 3 accordingly the maximum error is 10 11 when the suggested formula is employed additionally the mean error is 2 66 in other words the produced error is considerably less than the maximum value for most tanks but it is clear that eq 49 which ignores the tank flexibility performs very weak in estimating the principal natural frequency of the free surface motion hence it is not appropriate for flexible tanks at all as previously remarked relation 49 is applicable for tanks with high rigidity herein the natural frequencies of several tanks with different characteristics are computed by applying eqs 49 and 51 moreover the finite element and analytical methods are used the finite element scheme utilizes a mesh including square elements for the fluid domain and 20 beam elements for each wall and the analytical approach applies six terms in response series table 4 presents the obtained results obviously the suggested formula can estimate the first sloshing natural frequency of the flexible rectangular tank partially filled with liquid in a simple and fast manner by utilizing this relation there is no need to employ the finite element and analytical approaches which require complex computer programming and knowledge of fluid structure interaction 6 4 sensitivity analysis this sub section deals with the investigation of the different parameters effects on the sloshing natural frequencies of the fluid tank system for this purpose the system assessed in the second sub section is considered as the base model to make dimensionless the results various values of a specific parameter are divided by the corresponding parameter of the base model and the calculated natural frequencies are divided by the corresponding natural frequencies of the base model ω b it should be mentioned that the subscript b denotes the base characteristic at first the influence of the wall flexural rigidity e i is studied for various values of this parameter the sloshing natural frequencies are computed to make the parameters dimensionless the aforesaid procedure is employed for comparison relation 49 is employed for calculating the natural frequencies recall that this equation ignores the flexibility of the walls fig 10 demonstrates the findings obviously the first three natural frequencies increase as the walls become more rigid this is because the system gets stiffer as the rigidity of the walls increase note that relation 49 is independent from structural flexibility as a consequence changing the flexural rigidity of the walls does not affect the natural frequencies obtained from eq 49 as it was expected the natural frequencies achieved from the finite element tactic or the analytical one converge to the values of equation 49 as the wall flexural rigidity increases in an analogous manner the effect of walls density on the natural frequencies is evaluated the results are presented in fig 11 it is clear that increasing the wall density reduces the natural frequencies at the next stage the effect of liquid density ρ f on the natural frequencies is investigated the gained results are illustrated in fig 12 it should be mentioned that increasing the fluid density decreases the sloshing natural frequencies at this stage the natural frequencies of the tanks with various dimensions are calculated their ratios of height to width thickness to height and liquid level are analogous to those of the base model fig 13 based on fig 13 the tanks with larger dimensions have smaller natural frequencies it is worth emphasizing that the liquid depth h f also affect the natural frequencies the curves shown in fig 14 demonstrate the relation between this parameter and the first three sloshing natural frequencies in addition the results obtained from equation 49 are presented for comparison in a different manner to previous curves the eigen values are divided by the corresponding natural frequencies of the base model when it is full of liquid according to these curves it can be observed that the aforesaid three natural frequencies increase first as the fluid level rises and then they decline it should be reminded that the methods used in this investigation consider flexibility surprisingly the compatibility of the achieved natural frequencies with relation 49 gradually decreases when the liquid level increases up to now the effects of various parameters on the sloshing natural frequencies of a rectangular tank have been studied it is worth mentioning that the influences of other parameters on the natural frequencies are not major 7 conclusions to fulfil the first aim the free vibration of the two dimensional flexible rectangular tanks was analytically evaluated in a new manner in this process the compressibility of the liquid and the linear sloshing were taken into account for this purpose the corresponding governing equations and boundary conditions were extracted this problem was solved with the help of separation of variables additionally the finite element method was employed to calculate the natural frequencies and mode shapes of the aforesaid system based on the findings their results were compatible moreover a novel closed form formula was derived to approximately compute the principal sloshing natural frequencies of the 2d flexible rectangular tanks containing compressible liquid with the help of this relation no expensive and time consuming numerical or analytical techniques are required eventually the correctness and robustness of the developed formula were thoroughly proved by solving the diverse numerical examples furthermore the sensitivity analysis was conducted to investigate the effect of various parameters on the sloshing natural frequencies of the 2d deformable tanks funding this study was not funded by any company conflicts of interest the authors declare that they have no conflict of interest appendix c supplementary data the following is the supplementary data to this article multimedia component 1 multimedia component 1 appendix c supplementary data supplementary data to this article can be found online at https doi org 10 1016 j oceaneng 2019 106400 appendix a table a 1 coefficients of quadratic functions α 1 i table a 1 i α 1 i β i γ i h f h χ i h f h 2 β i γ i χ i 1 0 3049 0 5428 0 2582 2 2 6657 4 9770 2 6961 3 1 7345 6 2470 4 1911 table a 2 coefficients of quadratic functions θ 1 i and θ 2 i table a 2 i θ 1 i β i γ i h f h χ i h f h 2 θ 2 i β i γ i h f h χ i h f h 2 β i γ i χ i β i γ i χ i 1 0 8738 0 4953 0 0000 4 0719 0 9815 0 3750 2 0 3922 0 9882 0 6559 1 1219 2 3835 1 2350 3 0 4476 0 8252 0 3794 0 9776 2 3705 1 4650 table a 3 coefficients of quadratic functions η 1 i and η 2 i table a 3 i η 1 i β i γ i h f h χ i h f h 2 η 2 i β i γ i h f h χ i h f h 2 β i γ i χ i β i γ i χ i 1 206 0700 490 000 283 8400 2 3813 3 1100 1 7100 2 231 6400 545 8400 320 5200 1 7522 3 9280 1 9500 3 65 3130 153 67 90 4500 0 6278 1 4350 0 7900 table a 4 coefficients of quadratic functions κ 1 i and κ 2 i table a 4 i κ 1 i β i γ i h f h χ i h f h 2 κ 2 i β i γ i h f h χ i h f h 2 β i γ i χ i β i γ i χ i 1 0 0008 0 0053 0 0000 0 0036 0 0065 0 0050 2 6 0105 12 7250 7 0354 0 0033 0 0065 0 0050 3 1 4408 4 0823 2 4538 0 0002 0 0000 0 0000 table a 5 the values of φ 1 φ 2 ψ 1 and ψ 2 table a 5 i φ i ψ i 1 1 4126 0 4064 2 0 5793 0 4162 appendix b to clarify the presented closed form solution the relationship between the unknown constants introduced in section 3 is presented for this purpose the boundary conditions corresponding to eq 6 are rewritten as follows b 1 c 2 c 4 j 1 d j e k j l e j e k j l e i λ j 4 μ 4 d c sin k c l e i λ c 4 μ 4 e c cos k c l e i λ c 4 μ 4 0 b 2 c 10 c 12 j 1 d j e j e i λ j 4 μ 4 e c e i λ c 4 μ 4 0 correspondingly boundary conditions 7 are expressed in the following form b 3 c 1 c 3 0 b 4 c 9 c 11 0 equation 8 are expanded in the coming lines b 5 c 1 sin μ h f c 2 cos μ h f c 3 sinh μ h f c 4 cosh μ h f j 1 d j e k j l e j e k j l e i λ j 4 μ 4 cos λ j h f d c sin k c l e i λ c 4 μ 4 e c cos k c l e i λ c 4 μ 4 cosh λ c h f c 6 c 8 0 b 6 c 9 sin μ h f c 10 cos μ h f c 11 sinh μ h f c 12 cosh μ h f j 1 d j e j e i λ j 4 μ 4 cos λ j h f e c e i λ c 4 μ 4 cosh λ c h f c 14 c 16 0 b 7 c 1 μ c o s μ h f c 2 μ s i n μ h f c 3 μ c o s h μ h f c 4 μ s i n h μ h f j 1 d j e k j l e j e k j l e i λ j 4 μ 4 λ j s i n λ j h f d c s i n k c l e i λ c 4 μ 4 e c c o s k c l e i λ c 4 μ 4 λ c s i n h λ c h f c 5 μ c 7 μ 0 b 8 c 9 μ cos μ h f c 10 μ sin μ h f c 11 μ cosh μ h f c 12 μ sinh μ h f j 1 d j e j e i λ j 4 μ 4 λ j sin λ j h f e c e i λ c 4 μ 4 λ c sinh λ c h f c 13 μ c 15 μ 0 at this stage boundary conditions 9 are presented as the subsequent shapes b 9 c 1 μ 2 sin μ h f c 2 μ 2 cos μ h f c 3 μ 2 sinh μ h f c 4 μ 2 cosh μ h f j 1 d j e k j l e j e k j l e i λ j 4 μ 4 λ j 2 cos λ j h f d c sin k c l e i λ c 4 μ 4 e c cos k c l e i λ c 4 μ 4 λ c 2 cosh λ c h f c 6 μ 2 c 8 μ 2 0 b 10 c 9 μ 2 sin μ h f c 10 μ 2 cos μ h f c 11 μ 2 sinh μ h f c 12 μ 2 cosh μ h f j 1 d j e j e i λ j 4 μ 4 λ j 2 cos λ j h f e c e i λ c 4 μ 4 λ c 2 cosh λ c y c 14 μ 2 c 16 μ 2 0 in what follows boundary conditions 10 are written in the succeeding the form b 11 c 1 μ 3 cos μ h f c 2 μ 3 sin μ h f c 3 μ 3 cosh μ h f c 4 μ 3 sinh μ h f j 1 d j e k j l e j e k j l e i λ j 4 μ 4 λ j 3 sin λ j y d c sin k c l e i λ c 4 μ 4 e c cos k c l e i λ c 4 μ 4 λ c 3 sinh λ c y c 5 μ 3 c 7 μ 3 0 b 12 c 9 μ 3 cos μ h f c 10 μ 3 sin μ h f c 11 μ 3 cosh μ h f c 12 μ 3 sinh μ h f j 1 d j e j e i λ j 4 μ 4 λ j 3 sin λ j y e c e i λ c 4 μ 4 λ c 3 sinh λ c y c 13 μ 3 c 15 μ 3 0 in what follows boundary conditions 11 and 12 are proposed respectively b 13 c 5 μ 3 cos μ h a c 6 μ 3 sin μ h a c 7 μ 3 cosh μ h a c 8 μ 3 sinh μ h a 0 b 14 c 13 μ 3 cos μ h a c 14 μ 3 sin μ h a c 15 μ 3 cosh μ h a c 16 μ 3 sinh μ h a 0 b 15 c 5 μ 2 sin μ h a c 6 μ 2 cos μ h a c 7 μ 2 sinh μ h a c 8 μ 2 cosh μ h a 0 b 16 c 13 μ 2 sin μ h a c 14 μ 2 cos μ h a c 15 μ 2 sinh μ h a c 16 μ 2 cosh μ h a 0 clearly by using the above mentioned equations c i can be obtained in terms of d j e j d c and e c by substituting the achieved c i in the interaction boundary conditions relations 38 41 a system of equation is achieved whose unknowns are d j e j d c and e c note that the size of this system of equation is related to the number of terms used in the response series by setting the determinant of the corresponding coefficient matrix equal to zero the natural frequencies of the system can be computed furthermore the coupled mode shapes of the fluid structure system can be obtained from the pressure and deflection functions as previously mentioned the authors have been developed a special purpose program for conducting this process 
22404,by thoroughly considering the fluid structure interaction this paper aims to analytically analyze the free vibration of liquid sloshing in partially filled two dimensional flexible rectangular tanks it is assumed that the fluid is compressible irrotational and inviscid additionally a closed form formula is derived for estimating the fundamental natural frequency of this system by performing comprehensive curve fitting through various numerical examples the correctness of authors exact solutions is corroborated and the effects of different parameters on sloshing natural frequencies and mode shapes of the aforesaid fluid structure system are assessed keywords fluid structure interaction partially filled rectangular tank sloshing hydrodynamic pressure natural frequency free vibration closed form solution nomenclature a cross sectional area k stiffness matrix of the structure a a a c b b c b g g d j d c e j e c unknown constants l tank width b the interaction matrix l sloshing characteristic matrix d nodal displacement vector m mass matrix e elasticity modulus p pressure function g fluid generalized mass matrix p pressure vector h fluid generalized stiffness matrix x y functions defined in eq 18 h tank height b the subscript which denotes the base model h a the length of the beam adjacent to the air c the speed of the sound h f water depth c i unknown constant i moment of inertia of the tank wall f e e b f c c b functions introduced in section 6 i 1 i i 2 i i 3 i i 4 i j 1 i j 2 i j 3 i j 4 i integrations defined in eqs 42 and 43 f ρ ρ b f ρ f ρ f b functions defined in section 6 i n i i n c integrations defined in eqs 36 and 37 f h h l t w h h f h function introduced in section 6 g the gravitational acceleration x y cartesian coordinates k parameter introduced in eq 22 z parameter introduced in eq 2 k parameter introduced in eq 28 α 1 i θ i j η i j and κ i j parameters introduced in appendix a k c parameter introduced in eq 29 α 1 θ i η i a n d κ i parameters introduced in relations 53 and 54 n mode number φ 1 φ 2 ψ 1 and ψ 2 parameters introduced in appendix a n f fluid s number of degrees of freedom λ constant defined in eq 20 n s structural number of degrees of freedom λ c the root of eq 25 t time μ parameter introduced in eq 5 t w wall thickness ρ structure mass density u a deformation function of the right beam in contact with the air ρ f fluid mass density u f deformation function of the right beam in contact with the fluid ω natural frequency of the vibrating system u f c u a c v f c v a c complementary solutions of eq 1 introduced in relation 4 ω r n n th natural frequency of the rigid tank v a deformation function of the left beam in contact with the air ω parameter introduced in eq 50 v f deformation function of the left beam in contact with the air 1 introduction in the views of many people such as aerospace civil and nuclear engineers physicists designers of road and ship tankers and mathematicians the problem of liquid sloshing in moving or stationary containers remains of great concern for instance civil engineers and seismologist have been investigating the influences of liquid sloshing on large dams oil tanks and elevated water towers during ground motions since the early 1960s sloshing phenomenon has considerably attracted the attention of aerospace engineers studying the influence of liquid propellant sloshing on the flight performance of jet vehicles the main problem of liquid sloshing deals with computing the hydrodynamic pressure distribution forces moments and natural frequencies of the free liquid surface obviously these parameters are tightly related to the dynamic behavior of fluid structure systems it should be highlighted that analytical solutions are restricted to regular tank shapes such as cylindrical and rectangular the nature of sloshing in cylindrical tanks is better understood in comparison to prismatic ones ibrahim 2005 since the fluid structure interaction affects the dynamic behavior of the structure it should be included to accurately assess the dynamic behavior of liquid storage tanks it is worthwhile to remark that considering this interaction results in the coupled differential equations governing these systems the complexity of analyzing the aforesaid systems is rooted in these equations based on authors knowledge most analytical formulations presented for free surface liquid motion in rectangular tanks neglected the fluid compressibility and solid flexibility as well as most of the famous design codes such as aci 350 3 06 aci 2006 clearly these simplifying unrealistic assumptions need more investigations accordingly this paper aims to rigorously take fluid compressibility and structure flexibility into account and proposes an exact solution for investigating the free vibration of liquid sloshing in two dimensional partially filled rectangular tanks moreover it presents a direct formula for calculating the first natural frequency of the aforesaid system prior to these some of the research works dealt with free liquid motion in tanks are briefly reviewed in the following paragraphs assuming that the fluid was homogeneous isotropic viscous newtonian a nonlinear liquid sloshing inside a partially filled rectangular tank was investigated by celebi and akyldiz celebi and akyildiz 2002 for future works these researchers suggested to assess the effect of compressibility on the case of extreme sloshing by employing lagrangian finite element dogangun and livaoglu 2004 investigated the hydrodynamic pressures and sloshing motions of a flexible rectangular container which stored a linear elastic inviscid and compressible liquid furthermore these researchers remarked that more improvements were necessary for sloshing problem in rectangular fluid containers in addition by combining the rayleigh ritz and galerkin tactics zhou and liu 2007 derived the eigen frequency of the 3d liquid tank system to have better responses the surface waves of liquid and wall flexibility were taken into account besides chen et al 2007 performed the numerical and experimental study on sloshing in cylindrical and rectangular tanks they applied three dimensional boundary element method furthermore arafa 2007 developed the finite element approach for studying the sloshing of liquids in partially filled rigid rectangular tanks undergoing base excitation furthermore daneshmand and ghavanloo 2010 analyzed the free vibration of the fluid filled rectangular rigid container with a sagged flexible bottom membrane in two dimensional space ghaemmaghami and kianoush 2010 developed a finite element tactic for investigating the seismic behavior of rectangular liquid tanks their technique was capable of considering both convective and impulsive responses of the liquid tank system in order to analyze the seismic behavior of concrete rectangular tanks under various ground motions kianoush and ghaemmaghami 2011 used finite element tactic for numerical simulation of a three dimensional soil structure fluid interaction in this work linear free surface boundary condition was applied to find the dynamic impulsive and convective response of three dimensional flexible rectangular tanks an analytical technique was developed by hashemi et al 2013 for this purpose rayleigh ritz scheme was utilized moreover jung et al 2015 studied the effect of natural frequency modes on liquid sloshing in a rigid rectangular tank in 2016 goudarzi and danesh 2016 numerically and analytically studied the effect of vertical baffles inside a liquid storage tank besides wang et al 2016 analyzed transient lateral sloshing in the partially filled cylindrical tanks with multi baffles recently yu et al 2017 experimentally and numerically assessed sloshing phenomenon in a membrane type lng tank with two floating plates chiba and magata 2017 assessed the influence of liquid sloshing on the dynamics of space structures moreover abbasi and durali 2017 found a new methodology for assessing the fluid carrying vehicles such as pendulum or mass spring models besides zhang and yang 2018 established the dynamic equation of sloshing by using hamilton principle and changed it into a linear state space equation in another study kolaei and rakheja 2018 developed a finite element model for investigating free vibration of a liquid in a tank with arbitrary geometry for this purpose they used a flexible membrane constraining the liquid free surface they assumed that the fluid was inviscid incompressible and irrotational this paper is organized as follows in section 2 based on the assumption that the liquid is inviscid irrotational and compressible the coupled boundary value problem governing the free vibration of a two dimensional partially filled flexible rectangular tank is established in this process the free surface motion is taken into account and the tank walls are presumed to be flexible beams section 3 directly solves this boundary value problem and the sloshing natural frequencies and mode shapes are exactly achieved in section 4 the well known finite element approach is employed for analyzing this system in this procedure the walls and fluid domain are modeled by the classical euler bernoulli beam element and compressible fluid four sided element respectively afterwards by conducting a fully comprehensive curve fitting and studying more than one million different tanks a closed form formula for estimating the fundamental sloshing natural frequency of the flexible rectangular tank partially filled with compressible liquid is extracted in section 5 based on authors knowledge no explicit expression has been suggested for directly calculating the sloshing natural frequency of this system yet then with the help of several numerical examples the presented formulations are examined in section 6 moreover the effect of various parameters on the natural frequencies and mode shapes of free surface liquid motion is assessed finally the conclusions are summarized in section 7 2 the governing boundary value problem as previously mentioned this paper studies the free vibration of liquid in a partially filled rectangular storage tank it should be added that the sloshing phenomenon is considered schematically this system is illustrated in fig 1 regarding the fluid and structure the governing boundary value problem bvp includes two differential equations and independent and dependent boundary conditions bcs the dependent conditions are named interaction boundary conditions in the coming subsections the structural and fluid differential equation in a companion with their independent bcs are defined respectively then the interaction boundary conditions are presented 2 1 structure governing equations in this study the tank walls are modeled by employing vertical euler bernoulli beams with uniform rectangular cross section as a consequence the mass and the flexural stiffness are uniform along the beam height recall that the geometrical and mechanical properties of the walls are presumed to be analogous each wall includes two beam elements the first one is adjacent to the fluid and the second one is in contact with the air based on the small deformation theory beams equation of motion can be expressed in the frequency domain as follows laura et al 1975 e i 4 u f y 4 ρ a ω 2 u f 0 0 y h f e i 4 u a z 4 ρ a ω 2 u a 0 0 z h a e i 4 v f y 4 ρ a ω 2 v f 0 0 y h f 1 e i 4 v a z 4 ρ a ω 2 v a 0 0 z h a in which 2 z y h f in these relations the flexural stiffness cross sectional area and mass density of the beams are demonstrated by e i a and ρ correspondingly also ω is the natural frequency of the vibrating system fluid tank furthermore the length of each beam next to air and fluid equal to h a and h f respectively besides the deformation functions of the right beams in contact with the fluid and air are denoted by u f and u a correspondingly in addition the deflection functions of the left beams next to the fluid and air are denoted by v f and v a respectively clearly the beam displacements are a function of coordinate y and the natural frequency of the system in the equations corresponding to 0 y h f the hydrodynamic pressure is not inserted yet it should be highlighted that the beams adjacent to fluid are under hydrodynamic pressure the distributed hydrodynamic pressure p x y ω is schematically illustrated in fig 2 hence by adding the hydrodynamic pressure to the right side of equation 1 they are corrected as follows e i 4 u f y 4 ρ a ω 2 u f p l y ω 0 y h f e i 4 u a z 4 ρ a ω 2 u a 0 0 z h a e i 4 v f y 4 ρ a ω 2 v f p 0 y ω 0 y h f 3 e i 4 v a z 4 ρ a ω 2 v a 0 0 z h a where l is the tank width in this way non homogenous differential equations associated with eq 1 are achieved it is worth mentioning that the particular solution depends on the fluid pressure distribution it will be obtained in the coming sections the corresponding complementary solutions have the subsequent shapes u f c y ω c 1 sin μ y c 2 cos μ y c 3 sinh μ y c 4 cosh μ y u a c z ω c 5 sin μ z c 6 cos μ z c 7 sinh μ z c 8 cosh μ z v f c y ω c 9 sin μ y c 10 cos μ y c 11 sinh μ y c 12 cosh μ y 4 v a c z ω c 13 sin μ z c 14 cos μ z c 15 sinh μ z c 16 cosh μ z in which 5 μ ρ a ω 2 e i 4 in these equalities c i is an unknown constant obviously sixteen unknowns exist in the aforesaid equations consequently sixteen boundary conditions are necessary now the corresponding boundary conditions are introduced in the frequency domain for the beams adjacent to liquid the displacement is zero at their base these boundary conditions can be expressed in the below mathematical forms u f 0 ω 0 6 v f 0 ω 0 note that both complementary and particular solutions should satisfy the boundary conditions corresponding to the walls at the supports of beams next to fluid the rotations are restrained mathematically speaking these conditions have the next shapes u f y 0 ω 0 7 v f y 0 ω 0 at the common point of two beams which forms each wall the compatibility of deformations should be satisfied as follows u f h f ω u a 0 ω v f h f ω v a 0 ω u f y h f ω u a z 0 ω 8 v f y h f ω v a z 0 ω at the aforesaid points the shear forces and bending moments of beams are equal correspondingly these boundary conditions have the succeeding shapes 2 u f y 2 h f ω 2 u a z 2 0 ω 9 2 v f y 2 h f ω 2 v a z 2 0 ω 3 u f y 3 h f ω 3 u a z 3 0 ω 10 3 v f y 3 h f ω 3 v a z 3 0 ω at the free ends of beams in contact with air the shear forces and bending moments are zero respectively these conditions can be expressed as follows 3 u a z 3 h a ω 0 11 3 v a z 3 h a ω 0 2 u a z 2 h a ω 0 12 2 v a z 2 h a ω 0 2 2 fluid governing equations helmholtz equation wave equation is the free vibration differential equation of fluid and it has the following shape in the frequency domain 13 2 p x 2 2 p y 2 ω 2 c 2 p 0 in which the constant speed of sound in fluid and the unknown pressure function are shown by c and p correspondingly recall that the pressure function is in terms of coordinates and the natural frequency of the vibrating system note that the wave propagation speed c is infinite in incompressible fluid in this case laplace s equation should be used instead of eq 13 herein the fluid is assumed to be compressible inviscid and irrotational it should be added that the wave equation can be derived by combining the momentum equations and the mass equation sigrist 2015 in other words the wave equation in terms of pressure can be used instead of the momentum and mass equation which makes the formulation simpler in this paper the sloshing behavior is simulated by utilizing linear free surface boundary condition this phenomenon is mathematically expressed as follows 14 p y x h f ω ω 2 g p x h f ω in this equation h f and g denote the water depth and gravitational acceleration respectively it is worthwhile to mention that the flux on fluid s boundaries is equal to the fluid mass density multiplied by negative normal acceleration of the boundary hence the flux is zero at the bottom of the tank because the free vibration is investigated during this study therefore the next condition should be satisfied 15 p y x 0 ω 0 up to now the governing equations of the fluid and structure have been introduced additionally their independent boundary conditions are presented in what follows the dependent boundary conditions named interaction boundary conditions are proposed these equations are dependent on both structure and fluid 2 3 interaction boundary condition in addition to the aforementioned boundary conditions the total accelerations of the beams adjacent to fluid are equal to the normal acceleration on the wet surface obviously the outward normal vector of the fluid region is in positive x direction for the right wet surface accordingly the next result can be obtained 16 p x x l ρ f ω 2 u f in which ρ f denotes the fluid mass density on the other hand the outward normal vector of the fluid region is in negative x direction for the left side of the tank hence the subsequent condition is achieved 17 p x x 0 ρ f ω 2 u f it is worthwhile to highlight that the relation which exists between fluid and structure can be defined with the help of the aforesaid boundary conditions in the coming section the analytical solution of the current boundary value problem is derived 3 closed form solution of the fluid structure system the separation of variable s method is utilized for finding the solution of this boundary value problem linton and mciver 2001 firstly the solution of the fluid governing equation is found for this purpose it is presumed that the pressure function has the subsequent appearance 18 p x y ω x x ω y y ω with the help of this function the helmholtz equation can be written in the succeeding form 19 x x ω 2 c 2 y y it is obvious that the left and right side of this relation are functions of dissimilar variables consequently they are equal to a constant value making the assumption that both sides are equal to the constant value of λ 2 leads to the coming equations 20 x x ω 2 c 2 λ 2 y y λ 2 x ω 2 c 2 λ 2 x 0 y λ 2 y 0 by solving these ordinary differential equations the following functions can be achieved 21 x x ω a e k x b e k x y y ω a sin λ y b cos λ y where 22 k λ 2 ω c 2 in these relations a b a and b are constants note that k is always real for λ ω c by utilizing the independent fluid boundary condition related to the bottom of the tank one of these constants can be obtained as follows 23 p y x 0 ω 0 a 0 applying the free surface boundary condition yields the next equation 24 p y x h f ω ω 2 g p x h f ω sin λ h f ω 2 g cos λ h f λ 0 this equation has an infinite number of real roots and it has a complex root in the form of λ i λ c inserting the complex root into equation 24 and using simple mathematical identities result in the coming equation 25 sinh λ c h f ω 2 g cosh λ c h f λ c 0 it is worth mentioning this equation only has one root with the help of relations 24 and 25 the succeeding function can be gained 26 y y ω j 1 b j cos λ j y b c cosh λ c y in these equations b j and b c are unknown constants accordingly the subsequent infinite series represents the hydrodynamic pressure distribution 27 p x y ω j 1 a j e k j x b j e k j x b j cos λ j y a c e k x b c e k x b c cosh λ c y where 28 k i k c and 29 k c λ c 2 ω c 2 by defining new constants eq 27 can be simplified as the subsequent form 30 p x y ω j 1 d j e k j x e j e k j x cos λ j y d c sin k c x e c cos k c x cosh λ c y the infinite series is related to the real roots of relation 24 while the second term of the pressure function is dependent on its complex root after constructing the pressure function it is inserted into the governing equations of beams adjacent to the fluid in this way the right sides of these equations will be achieved therefore they will be rewritten in the next form e i 4 u f y 4 ρ a ω 2 u f j 1 d j e k j l e j e k j l cos λ j y d c sin k c l e c cos k c l cosh λ c y 0 y h f 31 e i 4 v f y 4 ρ a ω 2 v f j 1 d j e j cos λ j y e c cosh λ c y 0 y h f the particular solutions of these non homogenous equations can be obtained based on their right sides it should be reminded that the related complementary solution was previously mentioned in eq 4 eventually the following deformation functions can be achieved 32 u f y ω u f c y ω j 1 d j e k j l e j e k j l e i λ j 4 μ 4 cos λ j y d c sin k c l e i λ c 4 μ 4 e c cos k c l e i λ c 4 μ 4 cosh λ c y 33 u a y ω u a c y ω 34 v f y ω v f c y ω j 1 d j e j e e i λ j 4 μ 4 cos λ j y e c e i λ c 4 μ 4 cosh λ c y 35 v a y ω v a c y ω in these equations d j e j d c and e c are unknown constants it should be noted that the sixteen constants of structural complementary solutions in eq 4 i e c 1 through c 16 are still unknown the sixteen unknowns can be computed by employing all sixteen structural boundary conditions appendix b presents these conditions in detail in this way the aforesaid constants are obtained in terms of d j e j d c and e c to be brief the complex relationships between these constants and the sixteen unknowns of eq 4 are not presented to find these remaining constants the interaction boundary conditions are used in both sides of these conditions d j e j d c and e c exist hence a novel strategy is deployed to calculate these constants in this tactic both sides of the interaction conditions are multiplied by cos λ i y and cosh λ c y respectively afterwards they are integrated along the height of the beam adjacent to the liquid based on the orthogonal property of these functions the correctness of the succeeding integrations is proved 36 i n i 0 h f cos λ i y cos λ i y d y 2 h f λ i sin 2 h f λ i 4 λ i 37 i n c 0 h f cosh λ c y cosh λ c y d y 2 h f λ c sin 2 h f λ c 4 λ c accordingly the coming results can be achieved 38 d i e k i l e i e k i l k i i n i ρ f ω 2 0 h f cos λ i y u f c y ω d y d i e k i l e i e k i l e i λ i 4 μ 4 i n i 39 d c cos k c l e c sin k c l k c i n c ρ f ω 2 0 h f cos h λ c y u f c y ω d y d c sin k c l e c cos k c l e i λ c 4 μ 4 i n c 40 d i e i k i i n i ρ f ω 2 0 h f cos λ i y v f c y ω d y d i e i e i λ i 4 μ 4 i n i 41 d c k c i n c ρ f ω 2 0 h f cosh λ c y v f c y ω d y e c e i λ c 4 μ 4 i n c there are eight integrations in the last equations their closed forms have the next shapes i 1 i 0 h f cos λ i y sin μ y d y 1 λ i 2 μ 2 μ μ cos λ i h f cos μ h f λ i sin λ i h f sin μ h f i 2 i 0 h f cos λ i y cos μ y d y 1 λ i 2 μ 2 λ i sin λ i h f cos μ h f μ cos λ i h f sin μ h f i 3 i 0 h f cos λ i y sinh μ y d y 1 λ i 2 μ 2 μ μ cos λ i h f cosh μ h f λ i sin λ i h f sinh μ h f 42 i 4 i 0 h f cos λ i y cosh μ y d y 1 λ i 2 μ 2 λ i sin λ i h f cosh μ h f μ cos λ i h f sinh μ h f j 1 i 0 h f cosh λ i y sin μ y d y 1 λ i 2 μ 2 μ μ cosh λ i h f cos μ h f λ i sinh λ i h f sin μ h f j 2 i 0 h f cosh λ i y cos μ y d y 1 λ i 2 μ 2 μ cosh λ i h f sin μ h f λ i sinh λ i h f cos μ h f j 3 i 0 h f c o s h λ i y s i n h μ y d y 1 λ i 2 μ 2 μ μ c o s h λ i h f c o s h μ h f λ i s i n h λ i h f s i n h μ h f 43 j 4 i 0 h f c o s h λ i y c o s h μ y d y 1 λ i 2 μ 2 λ i s i n h λ i h f c o s h μ h f μ c o s h λ i h f s i n h μ h f substituting i 1 i i 2 i i 3 i i 4 i j 1 i j 2 i j 3 i and j 4 i into eqs 38 41 yields the following relations 44 d i e k i l e i e k i l k i i n i ρ f ω 2 c 1 i 1 i c 2 i 2 i c 3 i 3 i c 4 i 4 i ρ f ω 2 e i λ i 4 μ 4 d i e k i l e i e k i l i n i 0 45 d c cos k c l e c sin k c l k c i n c ρ f ω 2 c 1 j 1 i c 2 j 2 i c 3 j 3 i c 4 j 4 i ρ f ω 2 e i λ c 4 μ 4 d c sin k c l e c cos k c l i n c 0 46 d i e i k i i n i ρ f ω 2 c 9 i 1 i c 10 i 2 i c 11 i 3 i c 12 i 4 i ρ f ω 2 e i λ i 4 μ 4 d i e i i n i 0 47 d c k c i n c ρ f ω 2 c 9 j 1 i c 10 j 2 i c 11 j 3 i c 12 j 4 i ρ f ω 2 e i λ c 4 μ 4 e c cos k c l i n c 0 although relations 30 and 32 35 consist of infinite terms it can be observed that utilizing only a limited number of terms leads to relatively exact results it is worthwhile to highlight that usage of more terms give better accurate responses mathematical operation shows that c i is in terms of d j e j d c and e c consequently the aforesaid equations are homogenous and their unknowns are d j e j d c and e c by setting the determinant of the coefficient matrix equal to zero the natural frequencies of the system can be computed furthermore the coupled mode shapes of the fluid structure system can be obtained from the pressure and deflection functions 4 the finite element method up to now the free vibration of liquid sloshing in a fluid tank system has been analytically investigated now the related governing equations are discretized for this purpose the well known finite element strategy is employed this method divides a domain into sub regions which are named elements in this way the continuous unknown function of the governing differential equations is discretized and a system of linear equations is obtained it should be reminded that its responses are values of the unknown function in a limited number of points named nodes schematically the discrete model of the fluid and structure domain are shown in fig 3 the coupled undamped free vibration equation of the system can be expressed in the frequency domain as below aftabi sani and lotfi 2010 48 k b t 0 h ω 2 m 0 ρ f b g 1 g l d p 0 in this equality the stiffness and mass matrix of the tank walls are denoted by k and m respectively the dimension of these matrices equals to the structural number of degrees of freedom n s moreover the generalized stiffness and mass matrices of the fluid domain are shown by h and g correspondingly it should be added that the number of rows and columns of these matrices are equal to the number of fluid s degrees of freedom n f moreover rectangular matrix b referred to as the interaction matrix has n f rows and n s columns it is worth emphasizing matrix b relates the structural degrees of freedom to those of the fluid furthermore l is the sloshing matrix whose size is similar to fluid s characteristic matrices note that by assembling the corresponding matrix of each element these matrices are set up in this study nodal displacements and pressures vectors are shown by d and p correspondingly recall that these vectors have n s and n f entries respectively in this paper the classical 2 node euler bernoulli beam element which has four degrees of freedom is applied to model the tank walls for discretizing the fluid domain a four sided element is utilized each node of this element has only one pressure degree of freedom 5 closed form formula for fundamental sloshing frequency in the common and simple structures the parameters which affect their free vibration behavior and the relationship between these factors and their principal natural frequencies are fairly known nevertheless when these structures are next to a liquid it is complicated to introduce a meticulous function for expressing the main sloshing natural frequency of the coupled system in terms of specific parameters based on authors knowledge no comprehensive explicit equation exists for calculating the principal sloshing frequency of a 2d deformable rectangular tank partially filled with inviscid irrotational and compressible liquid in this study by neglecting the tank flexibility and fluid compressibility the following simple closed form relationship can be utilized for computing the natural frequencies of a two dimensional rectangular tank jung et al 2015 49 ω r n n π g l tanh n π h f l where n denotes the mode number actually the principal sloshing natural frequency of a flexible partially filled tank depends on its dimensions fluid depth liquid density wave propagation s speed in the fluid the elasticity modulus and mass density of the walls this section aims to explicitly find the complex relation between the practical values of these parameters and the fundamental natural frequency of free surface motion in the aforesaid system for tanks with 0 002 t w h 0 006 experiences have shown that these thickness to height ratios are very common in stainless steel tanks it is worth emphasizing that eq 49 is suitable even for tanks with t w h 0 006 to fulfil this goal large number of tanks i e more than one million tanks with various properties are numerically studied according to the achieved results the least square curve fitting is thoroughly conducted in this way an explicit expression which is a combination of simple algebraic functions is obtained for calculating the first sloshing natural frequency of the aforementioned system for this purpose the following dimensionless parameter is defined hasheminejad and soleimani 2017 50 ω ω 2 h g in this equality the first natural frequency of the desired tank is shown by ω by studying a large number of flexible rectangular tanks containing compressible irrotational and inviscid fluid it is found that ω is a product of five algebraic functions these functions construct a very good approximate formula for calculating the above cited dimensionless parameter as follows 51 ω f h h l t w h h f h f e e b f ρ ρ b f c c b f ρ f ρ f b where subscript b denotes the base model and constants e b and c b are equal to 2 06 10 11 n m 2 and 144 0 m sec correspondingly moreover ρ b and ρ f b are 7680 kg m 3 and 1000 kg m 3 respectively additionally the tank width height and wall thickness are shown by h l and t w correspondingly also h f is the fluid depth comprehensive numerical study shows that f h h l t w h h f h has the next shape for tanks with 0 5 h 2 5 0 2 h l 1 and 0 8 h f h 1 52 f h h l t w h h f h α 1 θ 1 t w h η 1 κ 1 η 1 t w h η 1 θ 2 t w h η 2 κ 2 η 2 t w h η 2 h l in which 53 α 1 α 11 h α 12 α 13 θ 1 θ 11 θ 12 h θ 13 h 2 η 1 η 11 h η 12 η 13 κ 1 κ 11 h κ 12 κ 13 and 54 θ 2 θ 21 θ 22 h θ 23 h 2 η 2 η 21 η 22 h η 23 h 2 κ 2 κ 21 κ 22 h κ 23 h 2 in these relations α 1 i θ i j η i j and κ i j are functions of h f h and they are presented in appendix a vast numerical studies show that the effect of wave propagation speed and walls mass density on the first sloshing natural coupled frequency can be negligible for the practical values of these parameters as a consequence the functions which are in terms of ρ and c have the next forms respectively 55 f ρ ρ b 1 0 8 ρ b ρ 1 2 ρ b 56 f c c b 1 0 5 c b c 2 c b numerical simulations show that f ρ f ρ f b and f e e b can be expressed in the following form 57 f ρ f ρ f b φ 1 ψ 1 ρ f ρ f b 0 8 ρ f b ρ f 1 2 ρ f b 58 f e e b φ 2 ψ 2 e e b 0 8 e b e 1 2 e b where φ 1 φ 2 ψ 1 and ψ 2 are constants introduced in appendix a without requiring any knowledge about differential equations governing the aforementioned coupled fluid structure system and its related finite element formulation the first sloshing natural frequency can be approximately estimated in a simple and fast manner by using eq 51 in other words the first eigen value of a 2d flexible rectangular container partially filled with liquid is computed with the help of several very simple algebraic functions and no commercial fem software or complicated computer programming is needed furthermore it is possible to easily study the relationship between the fundamental sloshing natural frequency and various parameters 6 numerical examples this section includes four sub sections the correctness of the aforementioned finite element procedure is proved in the first one to achieve this goal the first sloshing natural frequencies of a tall and shallow benchmark problem are calculated with the help of the proposed finite element tactic afterwards the obtained results are compared with those of other researchers in sub section 2 the convergence of the finite element approach and the closed form solution are assessed then their eigen pairs are compared to evaluate the robustness of the approximate relation 51 the third sub section uses this formula to calculate the first sloshing natural frequency of the fluid tank systems the fourth sub section deals with investigating the effects of various parameters on the natural frequencies of the free surface motion it should be remarked that special programs were developed for performing the finite element and analytical analysis in this work 6 1 verification of the fem model with the help of the above cited finite element procedure the sloshing natural frequencies of shallow and tall benchmark tanks are obtained as previously mentioned in this process the classical 2 node euler bernoulli beam element is employed to model the walls of the tanks and a four sided element is used to discretize the fluid domain the wall height thickness width and water level of the shallow tank are equal to 6 m 0 6 m 30 m and 5 5 m correspondingly this tank is made of concrete the elasticity modulus e 2 644 10 10 n m 2 the density ρ 2300 kg m 3 the wall height thickness width and water level of the tall tank are 12 3 m 1 2 m 19 6 m and 11 2 m respectively this tank is made of concrete with the elasticity modulus of e 2 077 10 10 n m 2 and the density of 2300 kg m 3 these tanks store water with density of ρ f 1000 kg m 3 furthermore the wave propagation speed in water is c 1440 m sec since the models take into account fluid s compressibility this parameter is only utilized in the present work in table 1 the first natural frequencies of these tanks are tabulated to solve the problem the fluid domains of the shallow and tall tank are modeled by a 33 36 and 31 34 mesh respectively the meshes include square elements moreover 36 and 34 beam elements are utilized for each of their walls correspondingly it should be reminded that the aforesaid tanks are not full of water obviously the results of the present study are compatible with those of other researchers since the models and assumptions of the various methods are not analogous the negligible differences between their results can be observed consequently it is clear that the proposed finite element model is comprehensively verified it is worth emphasizing that aci 350 3 06 aci 2006 ignores the flexibility of walls while the others take into account this parameter the flexural rigidity of these tanks are high hence the wall flexibility does not affect the sloshing natural frequency considerably therefore natural frequencies obtained from aci 350 3 06 aci 2006 are close to those of other approaches 6 2 convergence tests at this stage free vibration of a tank with flexible walls is evaluated in this process the sloshing modes are desired the wall height h thickness and width l of the tank are 0 5 m 0 001 m and 0 5 m respectively this tank is made of stainless steel having the density ρ 7680 kg m 3 the elasticity modulus and e 2 06 10 11 n m 2 amabili 1996 it should be added that amabili 1996 assessed a cylinder having a radius of 175 mm a thickness of 1 mm and a length of 664 mm it is assumed that the tank is partially filled with water whose density is ρ f 1000 kg m 3 furthermore the wave propagation speed is c 1440 m sec the water level h f is 0 4 m initially the analytical solution is employed for computing the first five natural frequencies of this coupled system to achieve this goal various numbers of terms are used in the response infinite series afterwards the results are illustrated in fig 4 according to this convergence curve the correctness of the suggested analytical formulations is proved as previously stated increasing the number of terms employed in the response series yields more accurate results numerical experiences have shown that the natural frequencies achieved by utilizing 5 or more terms are fairly analogous now to find the first five natural frequencies of this tank the finite element method is deployed to model this structure various numbers of elements are used it should be added that the applied meshes utilized for the fluid domain include square elements the achieved results are illustrated in fig 5 the correctness of the finite element model is corroborated by this curve based on the finite element responses it can be concluded that increasing the number of element s results in more exact natural frequencies furthermore it is clear that employing a 12 15 mesh for the fluid domain and using 15 beam elements for each wall lead to the results with acceptable accuracy in fact the natural frequencies achieved from finer meshes are fairly similar to those of the aforesaid mesh by applying this mesh the first five sloshing natural frequencies obtained from fem and the analytical solution which is achieved by applying six terms in response series are inserted in table 2 based on these findings it is clear that the finite element method and analytical solution are compatible and the differences between their results are negligible in what follows the finite element scheme and analytical strategy are applied for calculating the mode shapes it should be reminded that the above mentioned response and mesh are employed in fig 6 the first three pressure contours corresponding to mode shapes are demonstrated obviously the finite element contours are slightly different from those of the closed form results due to the numerical errors surprisingly the pressure is not zero at the fluid surface because sloshing is taken into account furthermore the distribution of the pressure on the walls corresponding to mode shapes is shown in fig 7 according to the obtained outcomes the numerical and the analytical pressure distributions are analogous as previously mentioned non zero pressure is observed at the free surface this is because the sloshing is considered with the help of eq 14 moreover the fluid surface shapes corresponding to various mode shapes are presented in fig 8 accordingly the free surface shapes of the finite element and the analytical formulation are the same finally the mode shapes related to the walls deformations are compared in fig 9 it should be added that the free surface profile is not shown in this figure based on these investigations the analytical solution and the finite element approach are absolutely compatible therefore the validity of the closed form solution and the finite element model are thoroughly confirmed 6 3 numerical investigation of the natural frequency formula as previously mentioned numerical methods such as famous finite element approach analytical and semi analytical techniques are usually employed for finding the fundamental sloshing natural frequencies of the flexible rectangular tanks containing compressible liquid these schemes are generally computationally expensive and time consuming moreover knowledge of fluid structure interaction is required in this paper relation 51 defeat these difficulties in other words the first natural frequency of free surface motion can be achieved in a simple and fast manner at this stage the robustness of this formula is thoroughly evaluated by performing numerical examples function f h h l t w h h f h plays the most important role in eq 51 obviously it is in terms of the tank width height and thickness additionally it depends on the liquid level herein its accuracy is investigated for this purpose the first sloshing natural frequencies of 1250 tanks are estimated by employing relation 51 in these tanks it is assumed that 0 002 t w h 0 006 0 5 h 2 5 0 2 h l 1 and 0 8 h f h 1 besides it is presumed that c 144 0 m sec e 2 06 10 11 n m 2 ρ 7680 kg m 3 and ρ f 1000 kg m 3 afterwards the corresponding principal sloshing natural frequency is calculated by utilizing the finite element strategy for the fluid domain a mesh including square elements is utilized and 20 beam elements are applied for each wall additionally eq 49 is deployed for comparison the errors which exist in the results of relations 49 and 51 are calculated and their maximum and mean errors are listed in table 3 accordingly the maximum error is 10 11 when the suggested formula is employed additionally the mean error is 2 66 in other words the produced error is considerably less than the maximum value for most tanks but it is clear that eq 49 which ignores the tank flexibility performs very weak in estimating the principal natural frequency of the free surface motion hence it is not appropriate for flexible tanks at all as previously remarked relation 49 is applicable for tanks with high rigidity herein the natural frequencies of several tanks with different characteristics are computed by applying eqs 49 and 51 moreover the finite element and analytical methods are used the finite element scheme utilizes a mesh including square elements for the fluid domain and 20 beam elements for each wall and the analytical approach applies six terms in response series table 4 presents the obtained results obviously the suggested formula can estimate the first sloshing natural frequency of the flexible rectangular tank partially filled with liquid in a simple and fast manner by utilizing this relation there is no need to employ the finite element and analytical approaches which require complex computer programming and knowledge of fluid structure interaction 6 4 sensitivity analysis this sub section deals with the investigation of the different parameters effects on the sloshing natural frequencies of the fluid tank system for this purpose the system assessed in the second sub section is considered as the base model to make dimensionless the results various values of a specific parameter are divided by the corresponding parameter of the base model and the calculated natural frequencies are divided by the corresponding natural frequencies of the base model ω b it should be mentioned that the subscript b denotes the base characteristic at first the influence of the wall flexural rigidity e i is studied for various values of this parameter the sloshing natural frequencies are computed to make the parameters dimensionless the aforesaid procedure is employed for comparison relation 49 is employed for calculating the natural frequencies recall that this equation ignores the flexibility of the walls fig 10 demonstrates the findings obviously the first three natural frequencies increase as the walls become more rigid this is because the system gets stiffer as the rigidity of the walls increase note that relation 49 is independent from structural flexibility as a consequence changing the flexural rigidity of the walls does not affect the natural frequencies obtained from eq 49 as it was expected the natural frequencies achieved from the finite element tactic or the analytical one converge to the values of equation 49 as the wall flexural rigidity increases in an analogous manner the effect of walls density on the natural frequencies is evaluated the results are presented in fig 11 it is clear that increasing the wall density reduces the natural frequencies at the next stage the effect of liquid density ρ f on the natural frequencies is investigated the gained results are illustrated in fig 12 it should be mentioned that increasing the fluid density decreases the sloshing natural frequencies at this stage the natural frequencies of the tanks with various dimensions are calculated their ratios of height to width thickness to height and liquid level are analogous to those of the base model fig 13 based on fig 13 the tanks with larger dimensions have smaller natural frequencies it is worth emphasizing that the liquid depth h f also affect the natural frequencies the curves shown in fig 14 demonstrate the relation between this parameter and the first three sloshing natural frequencies in addition the results obtained from equation 49 are presented for comparison in a different manner to previous curves the eigen values are divided by the corresponding natural frequencies of the base model when it is full of liquid according to these curves it can be observed that the aforesaid three natural frequencies increase first as the fluid level rises and then they decline it should be reminded that the methods used in this investigation consider flexibility surprisingly the compatibility of the achieved natural frequencies with relation 49 gradually decreases when the liquid level increases up to now the effects of various parameters on the sloshing natural frequencies of a rectangular tank have been studied it is worth mentioning that the influences of other parameters on the natural frequencies are not major 7 conclusions to fulfil the first aim the free vibration of the two dimensional flexible rectangular tanks was analytically evaluated in a new manner in this process the compressibility of the liquid and the linear sloshing were taken into account for this purpose the corresponding governing equations and boundary conditions were extracted this problem was solved with the help of separation of variables additionally the finite element method was employed to calculate the natural frequencies and mode shapes of the aforesaid system based on the findings their results were compatible moreover a novel closed form formula was derived to approximately compute the principal sloshing natural frequencies of the 2d flexible rectangular tanks containing compressible liquid with the help of this relation no expensive and time consuming numerical or analytical techniques are required eventually the correctness and robustness of the developed formula were thoroughly proved by solving the diverse numerical examples furthermore the sensitivity analysis was conducted to investigate the effect of various parameters on the sloshing natural frequencies of the 2d deformable tanks funding this study was not funded by any company conflicts of interest the authors declare that they have no conflict of interest appendix c supplementary data the following is the supplementary data to this article multimedia component 1 multimedia component 1 appendix c supplementary data supplementary data to this article can be found online at https doi org 10 1016 j oceaneng 2019 106400 appendix a table a 1 coefficients of quadratic functions α 1 i table a 1 i α 1 i β i γ i h f h χ i h f h 2 β i γ i χ i 1 0 3049 0 5428 0 2582 2 2 6657 4 9770 2 6961 3 1 7345 6 2470 4 1911 table a 2 coefficients of quadratic functions θ 1 i and θ 2 i table a 2 i θ 1 i β i γ i h f h χ i h f h 2 θ 2 i β i γ i h f h χ i h f h 2 β i γ i χ i β i γ i χ i 1 0 8738 0 4953 0 0000 4 0719 0 9815 0 3750 2 0 3922 0 9882 0 6559 1 1219 2 3835 1 2350 3 0 4476 0 8252 0 3794 0 9776 2 3705 1 4650 table a 3 coefficients of quadratic functions η 1 i and η 2 i table a 3 i η 1 i β i γ i h f h χ i h f h 2 η 2 i β i γ i h f h χ i h f h 2 β i γ i χ i β i γ i χ i 1 206 0700 490 000 283 8400 2 3813 3 1100 1 7100 2 231 6400 545 8400 320 5200 1 7522 3 9280 1 9500 3 65 3130 153 67 90 4500 0 6278 1 4350 0 7900 table a 4 coefficients of quadratic functions κ 1 i and κ 2 i table a 4 i κ 1 i β i γ i h f h χ i h f h 2 κ 2 i β i γ i h f h χ i h f h 2 β i γ i χ i β i γ i χ i 1 0 0008 0 0053 0 0000 0 0036 0 0065 0 0050 2 6 0105 12 7250 7 0354 0 0033 0 0065 0 0050 3 1 4408 4 0823 2 4538 0 0002 0 0000 0 0000 table a 5 the values of φ 1 φ 2 ψ 1 and ψ 2 table a 5 i φ i ψ i 1 1 4126 0 4064 2 0 5793 0 4162 appendix b to clarify the presented closed form solution the relationship between the unknown constants introduced in section 3 is presented for this purpose the boundary conditions corresponding to eq 6 are rewritten as follows b 1 c 2 c 4 j 1 d j e k j l e j e k j l e i λ j 4 μ 4 d c sin k c l e i λ c 4 μ 4 e c cos k c l e i λ c 4 μ 4 0 b 2 c 10 c 12 j 1 d j e j e i λ j 4 μ 4 e c e i λ c 4 μ 4 0 correspondingly boundary conditions 7 are expressed in the following form b 3 c 1 c 3 0 b 4 c 9 c 11 0 equation 8 are expanded in the coming lines b 5 c 1 sin μ h f c 2 cos μ h f c 3 sinh μ h f c 4 cosh μ h f j 1 d j e k j l e j e k j l e i λ j 4 μ 4 cos λ j h f d c sin k c l e i λ c 4 μ 4 e c cos k c l e i λ c 4 μ 4 cosh λ c h f c 6 c 8 0 b 6 c 9 sin μ h f c 10 cos μ h f c 11 sinh μ h f c 12 cosh μ h f j 1 d j e j e i λ j 4 μ 4 cos λ j h f e c e i λ c 4 μ 4 cosh λ c h f c 14 c 16 0 b 7 c 1 μ c o s μ h f c 2 μ s i n μ h f c 3 μ c o s h μ h f c 4 μ s i n h μ h f j 1 d j e k j l e j e k j l e i λ j 4 μ 4 λ j s i n λ j h f d c s i n k c l e i λ c 4 μ 4 e c c o s k c l e i λ c 4 μ 4 λ c s i n h λ c h f c 5 μ c 7 μ 0 b 8 c 9 μ cos μ h f c 10 μ sin μ h f c 11 μ cosh μ h f c 12 μ sinh μ h f j 1 d j e j e i λ j 4 μ 4 λ j sin λ j h f e c e i λ c 4 μ 4 λ c sinh λ c h f c 13 μ c 15 μ 0 at this stage boundary conditions 9 are presented as the subsequent shapes b 9 c 1 μ 2 sin μ h f c 2 μ 2 cos μ h f c 3 μ 2 sinh μ h f c 4 μ 2 cosh μ h f j 1 d j e k j l e j e k j l e i λ j 4 μ 4 λ j 2 cos λ j h f d c sin k c l e i λ c 4 μ 4 e c cos k c l e i λ c 4 μ 4 λ c 2 cosh λ c h f c 6 μ 2 c 8 μ 2 0 b 10 c 9 μ 2 sin μ h f c 10 μ 2 cos μ h f c 11 μ 2 sinh μ h f c 12 μ 2 cosh μ h f j 1 d j e j e i λ j 4 μ 4 λ j 2 cos λ j h f e c e i λ c 4 μ 4 λ c 2 cosh λ c y c 14 μ 2 c 16 μ 2 0 in what follows boundary conditions 10 are written in the succeeding the form b 11 c 1 μ 3 cos μ h f c 2 μ 3 sin μ h f c 3 μ 3 cosh μ h f c 4 μ 3 sinh μ h f j 1 d j e k j l e j e k j l e i λ j 4 μ 4 λ j 3 sin λ j y d c sin k c l e i λ c 4 μ 4 e c cos k c l e i λ c 4 μ 4 λ c 3 sinh λ c y c 5 μ 3 c 7 μ 3 0 b 12 c 9 μ 3 cos μ h f c 10 μ 3 sin μ h f c 11 μ 3 cosh μ h f c 12 μ 3 sinh μ h f j 1 d j e j e i λ j 4 μ 4 λ j 3 sin λ j y e c e i λ c 4 μ 4 λ c 3 sinh λ c y c 13 μ 3 c 15 μ 3 0 in what follows boundary conditions 11 and 12 are proposed respectively b 13 c 5 μ 3 cos μ h a c 6 μ 3 sin μ h a c 7 μ 3 cosh μ h a c 8 μ 3 sinh μ h a 0 b 14 c 13 μ 3 cos μ h a c 14 μ 3 sin μ h a c 15 μ 3 cosh μ h a c 16 μ 3 sinh μ h a 0 b 15 c 5 μ 2 sin μ h a c 6 μ 2 cos μ h a c 7 μ 2 sinh μ h a c 8 μ 2 cosh μ h a 0 b 16 c 13 μ 2 sin μ h a c 14 μ 2 cos μ h a c 15 μ 2 sinh μ h a c 16 μ 2 cosh μ h a 0 clearly by using the above mentioned equations c i can be obtained in terms of d j e j d c and e c by substituting the achieved c i in the interaction boundary conditions relations 38 41 a system of equation is achieved whose unknowns are d j e j d c and e c note that the size of this system of equation is related to the number of terms used in the response series by setting the determinant of the corresponding coefficient matrix equal to zero the natural frequencies of the system can be computed furthermore the coupled mode shapes of the fluid structure system can be obtained from the pressure and deflection functions as previously mentioned the authors have been developed a special purpose program for conducting this process 
