index,text
22745,floating offshore wind turbines fowts represent one promising concept for renewable energy production however the quantitative description of their dynamic behavior is extremely challenging since it depends on the coupled effects of turbine aerodynamics control system hull hydrodynamics and mooring dynamics in this context hydrodynamic damping is a major source of uncertainty particularly for relatively slender structures such as spars the aim of the present paper is to provide quantitative estimations of hydrodynamic damping ratios natural frequencies and response spectra of the six rigid body motions of a spar fowt under a wide range of wave conditions including wind generated sea states swells and mixed seas to this aim the results of an open sea experiment on a 1 30 model of oc3 hywind spar in parked rotor conditions carried out at the natural ocean engineering laboratory noel of reggio calabria italy are analyzed and discussed the above mentioned dynamic properties of the model are estimated through the spectral analysis of the rigid body motion time series collected during the experiment classified depending on the input wave conditions as a result quantitative estimations of the dynamic properties of the model are provided which can be used as input values for numerical models of the full scale structure hydrodynamic damping ratios are estimated including their variability depending on sea conditions due to nonlinearity also motion response spectra obtained for wind generated waves can be easily scaled up to achieve a reasonable representation of the full scale structure response under a range of relevant design conditions finally additional information about nonlinear effects coupling between degrees of freedom and close to resonance behavior of the model are drawn and commented keywords spar floating offshore wind turbines oc3 hywind experimental activity spectral analysis design and parameter estimation 1 introduction in the last few years considerable development of offshore wind turbines owts has been observed and further advancement is expected in the near future dedecca et al 2016 however the majority of these installations are bottom fixed and placed on relatively shallow waters i e on water depths within about 50 m as the water depth increases beyond this limit the costs of the bottom fixed supports increase significantly myhr et al 2014 kausche et al 2018 hence floating concepts should be developed to move wind energy production further offshore where stronger and steadier winds are available visual impact is minimized and sites with relatively deep waters are prevalent may be exploited including e g sites in mediterranean sea zountouridou 2015 up to now several concepts have been proposed for supporting floating offshore wind turbines fowts robertson and jonkman 2011 myhr et al 2014 and research is still underway to characterize their dynamic behavior and achieve optimized solutions both from technical and economic points of view among the concepts proposed spar is one of the most promising for the future development as proven by the large amount of numerical and experimental research and some successful large scale demonstration projects carried out in the last years the first full scale operating spar floating wind turbine ever realized is the statoil s hywind installed in 2009 off the coast of norway on a water depth of about 200 m following the success of this project statoil itself installed in october 2017 a 30 mw wind farm namely hywind scotland made up of five 6 mw spar floating wind turbines optimized with respect to the former hywind the farm is installed about 30 km off the coast of scotland uk in water depths around 95 120 m and is currently operational another project utsunomiya et al 2010 2013 ishida et al 2013 chujo et al 2013 involving operating floating spar wind turbines was launched in 2010 by japanese ministry of environment and resulted in the installation of a 100 kw and a 2 mw spar wind turbines off the goto islands japan these demonstration projects overall proved the feasibility and the commercial interest of the spar fowts however most of the results obtained within these projects are not available for the public as a consequence quantitative information about the dynamic behavior of spar fowts are of considerable interest for the research community in fowts and for industry the estimation of the main dynamic characteristics of such structures would provide a far more comprehensive understanding of their behavior and will also serve as a basis for design tools and numerical models for the future projects generally speaking the design of a floating wind turbine is a complex task failla and arena 2015 collu and borg 2016 since the coupled effect of turbine aerodynamics control system hull hydrodynamics and mooring system must be taken into account to this aim many coupled and uncoupled numerical models have been developed and compared see e g robertson et al 2015 2017 however such models need validation from relevant experimental data which are usually provided by tests carried out in wave tanks and ocean basins in absence of publicly available measurements from full scale structure concerning spar floating wind turbines most of the research is based on the reference spar design developed by jonkman 2010 namely oc3 hywind spar buoy this concept has been developed within the context of offshore code comparison collaboration oc3 project jonkman and musial 2010 and refers to the benchmark 5 mw nrel offshore wind turbine developed by jonkman et al 2009 basing on this reference concept several small scale experimental activities have been carried out see e g shin 2011 koo et al 2012 goupee et al 2012 sethuraman and venugopal 2013 duan et al 2016 aimed to investigate the global coupled dynamic behavior of the floating wind turbine and to validate the numerical codes an alternative approach to the experimental investigation of floating wind turbines is the intermediate scale testing carried out at sea utsunomiya et al 2010 ruzzo et al 2016a 2016b 2018 although this option implies non controlled input wave conditions resulting in more challenging realization and interpretation of the tests several significant advantages can be achieved with respect to small scale indoor testing first and foremost natural wave generation implies a drastic reduction of the costs i e cheaper and potentially longer experimental campaigns further larger scale physical models can be deployed at sea thanks to deeper waters larger areas available and stronger waves this may contribute to the reduction of scale effects particularly in the case of slender structures such as spars whose dynamic behavior is affected by viscous forces the latter indeed depends on reynolds number which suffers from alteration in scale experiments since froude scaling laws are used ruzzo et al 2018 showed that for typical spar supports for fowts 1 30 can be regarded as the smaller scale factor such that the alteration of the hydrodynamic forces due to the reduction of the reynolds number with respect to the given keulegan carpenter number which is not affected by froude scaling is negligible hence they arranged an experimental activity on a 1 30 spar model in parked rotor conditions installed at sea at the natural ocean engineering laboratory noel of reggio calabria italy arena and barbaro 2013 and partially achieved the frequency domain dynamic identification of such model in particular they estimated the experimental response amplitude operators raos of the model in heave roll and pitch from a heterogeneous set of wave data these results were then used to calibrate linearized heave roll and pitch hydrodynamic damping coefficient values in a numerical model implemented in ansys aqwa obtaining an overall satisfactory agreement between numerical predictions and measurements the most important limitations of this approach were the assumption of linearity and the limitedness of frequency content of the input sea states available at sea the latter in particular generally prevents the identification of any frequency domain transfer function between input waves and horizontal motions surge sway and yaw since the wave energy content in correspondence of the natural frequencies of these motions is too low the present paper is based on the same experimental activity of ruzzo et al 2018 but has a different purpose i e to estimate the damping ratios natural frequencies and motion response spectra in all the degrees of freedom dofs directly from the spectral analysis of the experimental results the wave conditions observed at the test site are divided in several classes depending on spectrum shape peak period and significant wave height to take into account the nonlinearity of the dynamic behavior of the model the response spectra are obtained for the model motions in the 6 dof and are used for the estimation of the hydrodynamic damping ratio typical of each wave class these values can be used as input for numerical models of spar platforms for fowts in the future similarly those response spectra corresponding to scaled design wave conditions may be also used as a valuable support tool for a first approximation assessment of the response of the full scale structure in parked rotor conditions finally some qualitative considerations are drawn concerning the nonlinearity the couplings and the other aspects of the hydrodynamic behavior of fowts 1 1 description of the experimental setup the 1 30 spar model considered in the present paper fig 1 represents an adapted scaled version of the oc3 hywind concept developed by jonkman 2010 such spar platform is designed to support the nrel 5mw floating offshore wind turbine jonkman et al 2009 it should be noted that the problem of representing in scale an operating fowt arises many issues the treatment of such a problem is out of the scope of the present paper and may be found elsewhere in literature see e g martin et al 2012 stewart and muskulus 2016 bayati et al 2016 in synthesis one should note that froude scaling is generally used for the representation of hydrodynamic forces while reynolds scaling should be used for the aerodynamics since the two scaling laws are not compatible between each other one must use a simplified approach to obtain the desired fidelity in simultaneous representation of both sub systems since the present work is focused on the hydrodynamic behavior of the fowt only the rotor nacelle assembly of the wind turbine has been represented by means of a lumped mass placed at the top of the tower in this study the parked rotor conditions of the turbine are therefore modelled which are relevant for the ultimate design conditions of the fowt the model is made up of two separate components the spar support and the turbine tower including the lumped mass representing the rotor nacelle assembly rna the former is a tapered cylindrical steel hull sealed by some steel plates at the top bottom and fairleads the spar is ballast stabilized through steel discs placed in the lower portions the tower is an aluminum cylindrical tube which sustains a top plate which represents the mass properties of the rna and also houses the on board measuring station the connection between the two components is achieved through a plastic bolted disc to avoid the galvanic corrosion of the aluminum tower due to the contact with steel the details related to each structural component of the model are shown in the appendix while the aggregate mass properties are reported in table 1 where a comparison with the target values relative to perfectly scaled oc3 hywind concept is also provided it can be noted that mass properties are well represented except for i zz this implies that yaw mass properties of the model are not in scale with respect to the oc3 hywind concept the on board measuring station is made up of 1 a differential global positioning system dgps which measures the instantaneous distance from an onshore base antenna and projects this distance along the north the east and the upward directions 2 an attitude and heading reference system ahrs inertial platform which measures the euler angles of the structure with respect to the same axes in this study the spar is assumed to be rigid and hence its motion is defined by six degrees of freedom i e the three translational motions around the centre of gravity and the three euler angles all referred to the cardinal directions rigidity of the model has been proven numerically by observing that the horizontal deflection and the angle at the top of the tower induced by the maximum inertia force of the mass atop are negligible since the motions measurements δu t i have been carried out at the top of the tower the following transformations is necessary to obtain the translations δu g i at the centre of gravity 1 δ u g x δ u t x cos ψ sin φ cos θ sin ψ sin θ z t z g 2 δ u g y δ u t y sin ψ sin φ cos θ cos ψ sin θ z t z g 3 δ u g z δ u t z cos φ cos θ z t z g where φ θ ψ are the roll pitch and yaw angles respectively and the reference system has the x axis pointing to the north the y axis pointing to the east and the z axis pointing upward it should be noted that due to the mentioned choice of the reference system the local wave direction generally have components both in x and y directions resulting in simultaneous platform motions in all the six degrees of freedom the spar model has been installed at the noel test site in mediterranean sea at a water depth of about 6 9 m and has been moored through three 120 spaced catenary moorings the design of the mooring system has been carried out considering the local extreme wave considerations along with the irregular and inclined seabed slope ruzzo et al 2018 resulting in a scale effect on mooring stiffness which is lower than that of the full scale structure the mooring system is also slightly asymmetric in terms of mooring stiffness but such a small difference is not expected to have any significant effect on the resulting dynamics delta connection of the mooring lines has been added at 10 length of each line to achieve some additional yaw stiffness quallen et al 2014 the main characteristics of the mooring lines are listed in table 2 1 2 wave characterization of the installation site the installation site of the experiment is the natural ocean engineering laboratory noel of reggio calabria italy fig 2 the geographic and environmental characteristics of this site are particularly favorable for intermediate scale field modeling of waves and offshore structures in particular the orientation of the coast naturally shelters the swells coming from the south and the local nnw wind which is regular and stable blows on a relatively short fetch about 10 km thus generating local sea states with significant wave heights h s 0 20 0 40 m and peak periods t p 1 8 2 6 s following jonswap like spectra at noel higher significant wave heights may also occur with extreme values up to 1 0 1 5 m and corresponding peak period in the range 4 2 5 2 s these sea states are froude intermediate scale models of oceans or mediterranean storms for instance the significant wave height value associated to a return period r 100 years is between 5 8 m and 12 1 m for mediterranean seas arena et al 2015 during the experiment the wave measurements have been carried out through two gravity based vertical poles on a water depth of about 1 825 m each sustaining an ultrasonic wave probe and a pressure transducer at a depth of about 0 775 m which measure the wave surface elevation and the wave pressure respectively the latter is used to obtain the wave pressure head by dividing the pressure fluctuations around the mean value given by hydrostatic pressure by the specific weight of the water the wave surface elevation measured through has been used for the determination of the significant wave height and the wave head of pressure for the spectral analysis due to the smaller noise induced by pressure transducers with respect to ultrasonic probes the poles are placed few meters far from the spar model in an undisturbed wave field fig 2 shows a view of the installation site including the positions of the spar expected equilibrium position and of the wave measurement station it should be noted that the waves measured at the wave measurement station slightly differ from those at the spar location due to shoaling and refraction effects theoretically speaking these effects imply a transformation of the wave spectrum under the simplifying hypothesis of seabed contour lines rectilinear and parallel to the shoreline the transformation factor in the frequency domain is given by boccotti 2014 4 s 0 s sinh 2 k d tanh k d sinh 2 k d 2 k d 0 5 1 cos 2 α 0 1 tanh 2 k d cos 2 α 0 0 25 where s 0 and α 0 are the spectrum and the wave propagation angle measured offshore with respect to the shoreline s is the spectrum measured at the water depth d of the measurement wave station and k is the wave number associated to the frequency ω practically however it has been found that this factor is close to unity among the frequency ranges of most of the local wave spectra recorded during the experiment moreover due to the above mentioned geographic peculiarities of the noel site it has been observed boccotti 2014 that α 0 tends to 90 for wind generated sea states while it is about 60 for swells see fig 2 as a consequence a simplified version of eq 4 is used in this paper as detailed in the following it should be noted also that tidal excursion is very small for noel site i e within 0 10 m hence its effect on water depth alteration at the wave measurement site has been neglected the experiment started in july 2015 and completed in march 2016 during this period 1281 sea states and the corresponding spar motions in the six degrees of freedom were recorded each record has a length of 5 min and a sample rate of 10 hz to perform the spectral analysis of spar response motions this dataset has been divided in three independent groups corresponding to different wave input conditions the first group of sea states includes the local wind generated waves the spar model response to these sea states is particularly interesting for applications since it can be directly scaled up to the real design conditions of the platform the criteria used for the selection of the first group of sea states are 5a h s g k 1 t p 2 5b h s g k 2 t p 2 5c ψ 0 65 6 ψ min t 0 δ t ψ t ψ 0 being g the gravity acceleration k 1 4 057 10 3 k 2 9 246 10 3 two dimensionless parameters defining the minimum and maximum significant wave height for given peak period admissible within jonswap range of shape parameters arena et al 2010 ψ the narrow bandedness parameter of the wave pressure head spectrum defined as in eq 6 ψ t the autocorrelation function of the wave head of pressure and δt the time interval corresponding to its first cycle boccotti 2014 in order to take into account of the shoaling effect the significant wave height h s has been obtained by applying a simplified version of eq 4 i e by considering the transformation factor calculated at the peak frequency ω p and assumed constant the wave propagation angle offshore has been assumed equal to α 0 90 as mentioned above hence no refraction effect is considered it should be noted that condition 5a excludes the swell dominated sea states and condition 5c excludes the wind dominated sea states with non negligible swell components overall 138 sea states have been selected using conditions 5a c with significant wave heights variable between 0 17 m and 1 02 m at the wave measurement station corresponding to a range of 0 18 1 07 m at the spar location the smallest measured sea states of this group represent intermediate scale models of the mediterranean or ocean storms used for the design while the largest may be used for the evaluation of nonlinear effects in the spar response motions to study the evolution of the spar response for increasing wave load the measured sea states have been further divided in six classes of significant wave height as shown in fig 3 table 3 reports instead the characteristics of each class in term of peak period statistics and number of measured sea states it should be noted that the normalized standard deviation of the peak period in each class is relatively small 4 8 further confirming that each class is homogeneous and representative of a well determined wave condition for each record the power spectral density psd function of the wave pressure head normalized with respect to the standard deviation has been obtained and an averaged psd has been estimated for each class by considering only the corresponding sea states in the average these averaged psds take into account the shoaling effect through an average transformation coefficient of the standard deviation calculated as the mean value of the coefficients adopted earlier for each class the resulting averaged psds for each class are reported in fig 4 the second group of sea states is made up of the local swells the criteria used for the selection of such sea states are reported in the following 7a h s g k 1 t p 2 7b ψ 0 65 condition 7a is complementary to 5a hence excludes the wind dominated sea states while condition 7b excludes the swell dominated sea states whit non negligible wind generated wave components differently from wind generated waves swells have a variable relationship between significant wave height and peak period which depends also from the area of generation of the waves this is because wave propagation in deep waters outside the area of generation involves a reduction of significant wave height but does not affect the peak period also in this case shoaling is taken into account by applying the transformation factor of eq 4 assumed constant and equal to that corresponding to the peak frequency ω p the same factor takes into account also the effects of refraction which is calculated assuming a propagation angle α 0 60 as mentioned above overall 361 swell sea states have been selected using conditions 7a b with significant wave height variable between 0 08 m and 0 57 m at the wave measurement station corresponding to 0 09 0 63 m at the spar location and peak periods between 1 97 s and 7 31 s to study the evolution of the spar response for increasing wave period the measured sea states have been divided in four classes of peak period as shown in fig 5 the first two classes are mostly made out of swells travelling from relatively near areas of generation and due to the relatively small peak period may be regarded as froude scale models of ocean and mediterranean swells differently the other two classes mostly correspond to far generated sea states which have undergone a significant reduction of significant wave height with respect to peak period and are not representative of any physically significant wave condition at full scale however they are precious for the experiment since they excite the spar model close to the natural periods of its vertical motions heave roll and pitch providing a valuable set of input conditions for the dynamic identification of the model table 4 reports instead the characteristics of each class in term of significant wave height statistics and number of measured sea states it can be observed that significant wave height is pretty variable among each class due to variability of wave generation area the mean averaged power spectral density functions of the wave pressure head normalized with respect to the standard deviation are shown in fig 6 for each class the normalization here takes into account both shoaling and refraction and it is particularly important in order to obtain homogeneous result regardless of the heterogeneous set of significant wave heights of each class the third group is made up of the remaining 784 sea states each of which contains at least two different non negligible wave components e g wind generated waves superimposed by swells these sea states may be useful to characterize the dynamic properties of the spar model over a wider frequency range since the wave propagation angle offshore is not available for this heterogeneous group of sea states the average value α 0 75 has been simply assumed when considering the refraction effect shoaling has been instead taken into account as for the other groups i e by assuming the transformation factor of eq 4 constant and equal to the value at ω ω p the average value of the significant wave height for the whole group is 0 174 m with a standard deviation of 0 093 m at the wave measurement station 0 162 m and 0 086 m respectively at the spar location and the average value of the peak period is 5 64 s with a standard deviation of 2 15s the average power spectral density function of the wave head pressure for these mixed sea states each normalized with respect to its standard deviation again taking into account both shoaling and refraction is shown in fig 7 2 response analysis and damping estimations in this section the spectral analysis and the estimation of hydrodynamic damping are carried out for the six degrees of freedom of the spar structure model considering the corresponding motion response spectra under wind generated sea states the swells and the remaining mixed sea states separately the natural frequencies of the spar model table 5 were estimated in ruzzo et al 2018 using a linear identification model based on the estimation of the averaged transfer functions experimental raos between input waves and output spar motions differently the classification of different groups of wave conditions considered in this paper allows to identify the nonlinearities and couplings that characterize the actual dynamic behavior of the spar model the former are mainly associated with variations of the peak frequencies of the motion response spectra with respect to the corresponding linear values of table 5 and of the damping coefficients among the different classes of input wave conditions considered the latter are associated to the insurgence of spectral peaks corresponding to the natural frequencies of some other degrees of freedom both the phenomena are identified and discussed in the following with reference to the experimental data collected and analyzed the estimation of hydrodynamic damping is carried out by applying a modified version of the half bandwidth method wu 2015 which is able to take into account the third order correction for the calculation of the damping ratio in detail damping ratio ξ is calculated from the transfer function between response spectrum and wave head of pressure spectrum as 8 ξ 2 3 2 3 3 1 3 18 d 1 2 6 81 d 1 2 2 3 6 18 d 1 2 6 81 d 1 2 1 3 being d 1 the first order estimate of the damping ratio calculated as 9 d 1 δ ω 2 ω p where ω p is the peak frequency of concern with spectral ordinate s max and δω is the frequency bandwidth of application of the method i e the frequency interval between the two crossings of the threshold s max 2 around the mentioned peak it should be noted that wu s formulation 2015 is referred to the transfer functions between motions and input forces while the present paper proposes results obtained for transfer functions between motions and input wave elevation the latter formulation facilitates the exploitation of the results obtained in the paper for the calibration of numerical models of spar wind turbines indeed this transfer function can be obtained directly from raos which are the basic output of any hydrodynamic analysis of fowts in particular depending on the wave input conditions of interest the damping ratios obtained in the paper can be used to calibrate opportunely the linearized damping matrix see e g ruzzo et al 2018 of a numerical model the here proposed method for the estimation of the damping ratio is viable only for the groups of sea states where the peak of concern clearly emerges from the transfer function so that ω p and δω can be identified univocally the variability of the damping estimation within each sea state class is also studied when possible as it represents an important clue for the assessment of the nonlinearities in the spar model motions it is to be remarked that the direct application of eqs 8 and 9 to the experimental data allows to estimate natural frequencies and damping ratios taking into account the real wave structure interaction including added mass viscous damping free surface effects etc this enables to use these values for the opportune calibration of linearized numerical models depending on the wave class of interest in the following response spectra are calculated for each degree of freedom of the spar motions and they are averaged for each class of wave solicitation and normalized with respect to wave amplitude in order to reduce uncertainty in the estimation of spectral shapes and damping ratios a reader interested to the formula of propagation of uncertainty for these random variables is referred to classical literature see e g meyer et al 1975 2 1 spectral analysis of the horizontal spar motions the average power spectral density functions of the horizontal motions in x direction referred to the three classes of sea states defined in section 1 2 are reported in figs 8 10 the same results obtained for the motions in y direction are instead shown in figs 11 13 all the spectra are referred to the motions normalized with respect to the standard deviation of wave head of pressure taking into account shoaling and refraction effects as described above as a consequence and provided that structure is almost axy symmetric excluding minor asymmetries in mooring system the dynamic properties of the structure peak frequencies and damping ratios are expected to be very similar in surge and sway it should be noted that the horizontal motions spectra are supposedly made up of four contributions the slow varying motions at very small frequencies ω 0 05 rad s the surge sway induced peaks close to the surge sway natural frequency the roll pitch induced peaks close to the roll pitch natural frequencies and the wave induced peaks amongst these the slow varying motions have the significant contribution which may be induced by wind currents and or tidal as well as by slow drift wave forces also the coupling with roll pitch generates a relevant contribution which is overcome by wave contribution only for the severest wind generated sea states the surge sway natural frequency contribution is generally small and it assumes its importance for the severest sea states where the mooring system is taut and also for the mixed sea states where there is a non negligible wave energy content around the surge sway natural frequency exhibiting resonance in the horizontal translation it is interesting to note that the position of the surge sway induced spectral peak is variable with respect to the wave conditions ranging from about ω 0 0628 rad s to ω 0 1676 rad s this is due to the nonlinear nature of the mooring system behavior which is made up of three catenary lines installed on an inclined seabed it should be noted that the nonlinearity is also evident for the severest wind generated sea states when two peaks around the surge sway natural frequency are clearly present in the averaged response spectrum also roll pitch induced peaks show some variability due to nonlinearity which will be further investigated in section 2 3 dealing directly with roll pitch degree of freedom the damping estimates have been performed separately for surge sway induced pitch roll induced and heave induced motions these three spectral regions do not always emerge clearly from the transfer functions hence only some classes of sea states have been considered i e those where half bandwidth method is viable the results obtained in terms of natural frequency and damping ratio for the motions in x direction and in y direction for each class are reported in tables 6 and 7 respectively by comparing the tables between each other it should be noted that dynamic properties estimated in surge sway fit very well with each other confirming the expectations based on structure axy symmetry it is interesting to note that surge sway induced peaks tend to appear in the power spectral densities of the horizontal motions mainly for sea states with relatively long waves i e local storms swells and mixed sea states similarly the heave induced peak emerges only for the swells where the energy content of the response spectra around wave peak frequency is relatively small almost all these classes of sea state are not representative of any condition at full scale this shows that full scale spar horizontal motions are expected to be dominated by slow drift pitch roll induced and wave induced motions only concerning the damping ratios of interest for the full scale structure i e those obtained from small to moderate wind generated sea states h s 0 50 m small values around 1 20 are found such result may serve as input for linearized numerical models of full scale floating spar supports for offshore wind turbine since it has been deduced from sea states consistent with the design conditions of the spar fowt structure at the small scale level it is then observed that the damping ratio tends to increase for increasing significant wave height and wave peak period or equivalently multiple peaks begin to appear this may be due to the nonlinearities induced by viscous drag forces and by change of the exact position of the corresponding natural frequency resulting in broader average response spectra concerning the other peaks damping ratios for surge sway induced motion components are relatively high and sparse 5 23 differently heave induced horizontal motions of the small scale model have very small damping ratios 2 2 2 spectral analysis of the vertical spar motions the average power spectral density functions of the vertical motions heave referred to the three classes of sea states defined in section 1 2 are reported in figs 14 16 all of them are referred to the motions normalized with respect to the standard deviation of wave head of pressure taking into account shoaling and refraction effects as described above unlike the horizontal motions cases it should be noted that wave actions tend to be dominating in the vertical motions with respect to the other effects masking the properties of the spar model this becomes all the more evident for wind generated sea states and shorter swells which are representative of full scale realistic ocean conditions for instance considering the severest wind generated sea states it should be noted that the average heave spectrum resembles the wave one even for the peak at about ω 0 71 rad s a similar behavior may be observed also for longer swells where the wave induced peaks below ω 0 95 rad s are still slightly higher than the heave induced ones between ω 1 068 rad s and ω 1 110 rad s along with substantially hiding any roll pitch coupling with heave the variability of heave natural frequency is due to the presence of the taper and the tower which alter the diameter of the surface piercing section of the spar model during its motion inducing nonlinearities finally the average spectrum referred to mixed sea states shows a clear coupling with roll pitch motions unfortunately due to the proximity between roll pitch and heave natural frequencies it is not possible to separate the corresponding spectral peaks in this case it would be interesting to point out here that the spar structures are usually affected by mathieu type instability which results from heave and roll pitch coupling which has been reported analytically due to this instability experienced by the structure the frequency response functions may not have distinct peaks koo et al 2004 another interpretation would be that the anti resonance effect is less pronounced as the heave is being measured at top and estimated at the centre of gravity level because of which the effects cannot be distinctly observed the pronounced effects occur when the measured and excited points are the same this is not the case in our experiments wahl et al 1999 ewins 2000 for the damping ratios the dominance of wave induced vertical motions and the closeness between roll pitch and heave natural frequencies makes the estimation difficult and uncertain both the spectra and the transfer functions especially for wind generated waves are indeed altered in the corresponding frequency range however few damping estimations have been performed as reported in table 8 globally a similar trend with respect to the horizontal motions is observed damping ratios associated to the surge sway induced peaks are relatively high about 10 18 while those related to roll pitch and heave are smaller they are indeed between 1 and 3 except for the case of mixed sea states where the two families of peaks are indistinguishable hence only heave peak is reported in table 8 with a relatively high damping ratio 2 3 spectral analysis of the roll pitch spar motions the average power spectral density functions of the roll motions referred to the three classes of sea states defined in section 1 2 are reported in figs 17 19 the same results obtained for the pitch motions of the spar model are instead shown in figs 20 22 all the spectra are referred to the motions normalized with respect to the standard deviation of the wave head of pressure taking into account shoaling and refraction effects as described above similarly to the case of horizontal motions the natural properties of the structure in roll pitch are expected to be similar between each other because of the structure axy symmetry the analysis of the roll pitch average spectra shows some common features with the horizontal motions including non negligible slow drift motions and presence of nonlinearities induced by the severest sea states the importance of the wave induced contribution is relatively small for small sea states while it grows significantly with the significant wave height along with roll pitch induced peaks close to the corresponding natural frequency a weak coupling with heave can be observed which becomes evident for swells the position of the roll pitch induced peak varies from ω 0 9425 rad s and ω 1 005 rad s differently from the case of heave degree of freedom this nonlinear effect is attributed to the viscous drag forces acting on the spar while the diameter variations due to the presence of the taper and the tower are expected to play a limited role in the determination of the roll pitch stiffness of the spar due to its small water plane area the analysis of the damping ratios has been carried out similarly as for the other motions the values obtained for roll and pitch degrees of freedom for the different classes of sea states considered are reported in tables 9 and 10 also in this case damping ratios associated to the peaks induced by the horizontal motions are relatively high 8 27 while those corresponding to the pitch roll natural frequencies are significantly smaller taking into account small to moderate wind generated sea states h s 0 50 m which are representative of realistic wave conditions a design value of 1 5 may be assumed such value may be used to represent hydrodynamic roll pitch damping of spar supports for offshore wind turbines in linearized numerical models since it has been obtained in scaled design conditions similarly to the case of horizontal motions damping ratios tend to increase for severer wind generated sea states swells and mixed sea states in particular the roll pitch induced damping ratios corresponding to these wave conditions show a larger dispersion with values between about 1 and 5 the heave induced peaks have also relatively small damping ratios and a design value of 1 5 can be assumed even if information could be collected mainly by sea states with relatively long waves including local storms and swells finally also in this case a global reasonable agreement is observed between damping ratio estimations in roll and pitch according to expectations 2 4 spectral analysis of the yaw spar motions the average power spectral density functions of the yaw motions referred to the three classes of sea states defined in section 1 2 are reported in figs 23 25 as before all the spectra are referred to the motions normalized with respect to the standard deviation of the wave head of pressure taking into account shoaling and refraction effects it is interesting to note that the spar model undergoes large yaw motions due to the relatively small stiffness which is achieved only through delta connections when dealing with yaw degree of freedom it should be kept in mind that the dynamic properties of the model are not exactly scaled from full scale structure see table 1 however as shown in the following most of the spar dynamic response in yaw is dominated by the couplings with the other degrees of freedom particularly roll pitch as a consequence useful conclusions about the full scale structure behavior can be drawn anyway the damping ratio estimation obtained from yaw spectra is consistent with those obtained from the other degrees of freedom yaw appears to be strongly coupled with roll pitch spar motions and weakly coupled with surge sway and heave also in this case the damping values of the peaks induced by the horizontal motions tend to be relatively high about 9 20 while those correspondent to roll pitch induced peaks are significantly smaller in particular a design value of about 1 3 could be assumed for small to moderate wind generated sea states while larger dispersion about 1 8 is observed for the other wave conditions the heave induced peaks have small damping ratios too always between 0 8 and 1 6 also in this case a damping ratio of about 1 3 may be assumed in design conditions it is interesting to observe that no information has been drawn concerning the yaw motion of the spar model directly this is because of the slenderness of the spar which makes negligible the wave induced moments about the horizontal plane as a consequence yaw motions of the spar model are mainly induced by the coupling with the other degrees of freedom most of all roll pitch and it is not possible to identify yaw own natural frequencies and damping ratios from the experimental data 3 conclusions the paper reports some results obtained from a 1 30 scale field experiment on oc3 hywind spar buoy for offshore wind turbines in parked rotor conditions the spar model was installed at the natural ocean engineering laboratory noel of reggio calabria italy in july 2015 and 1281 5 min sea states and the corresponding spar motions were collected up to march 2016 these sea states have been divided in three classes namely wind generated swells and mixed sea states further divided in 11 sub classes depending on significant wave height and wave period this classification has allowed to study the variability of the averaged natural properties of the spar motions in the six degrees of freedom with wave conditions in terms of natural frequencies damping ratios and averaged motion response spectra the response spectra have been obtained directly from motion measurement data and has been normalized with respect to wave amplitude taking into account shoaling and refraction phenomena when relevant damping ratios have been calculated from the transfer functions between wave and motion spectra using a modified half bandwidth method able to take into account the third order correction for their calculation see table 11 among the classes considered in this study the moderate local wind conditions and the shortest swells represent froude scale model of realistic full scale conditions hence the results here obtained may be directly used for preliminary design or hydrodynamic numerical model calibration of the full scale structure table 12 reports a concise summary of the most relevant results obtained in terms of damping ratios reported to the full scale wave input conditions of direct interest for the design basically it has been found that the structure in all the degrees of freedom is heavily influenced by slow drift motions and pitch roll couplings under these wave conditions while the spectral peaks at the other natural frequencies are almost indistinguishable however with reference to transfer functions some contributions of surge sway induced and heave induced peaks have been identified as well no information instead has been obtained with reference to natural properties in yaw probably due to the slenderness of the model it is interesting to observe that damping ratios are relatively high for the surge sway induced peaks while they decrease significantly for roll pitch induced and heave induced peaks also damping ratios tend to increase for swells with respect to wind generated waves the structure behavior is similar but with greater variability when different wave input conditions are considered in particular for longer waves surge sway spectral peaks emerge always with relatively large damping ratios 5 17 at their own natural frequency and also the natural frequencies and the other damping ratio undergo significant variations depending on the input wave condition this highlights the highly nonlinear nature of the spar hydrodynamics and provide useful input for the numerical model calibration on a broader frequency range finally even though the yaw dynamic properties of the 1 30 model considered are not representative of full scale ones at all it has been observed that the response in such mode is dominated by couplings with other degrees of freedom under all the wave conditions considered as expectable due to the slenderness of the hull the results obtained provide useful information about the hydrodynamic properties of the spar floating offshore wind turbines and the nonlinear effects induced by varying wave conditions however further field experimental activities are strongly recommended since they would allow to obtain more data resulting in better averaging of the response spectra and more reliable estimations of the natural hydrodynamic properties of such structures competing interests the authors have no competing interests to declare acknowledgements and funding this paper has been developed during the marie curie irses project large multi purpose platforms for exploiting renewable energy in open seas acronym plenose funded by european union grant agreement number pirses ga 2013 612581 within program sp3 people support for training and career development of researchers marie curie international research staff exchange scheme irses call fp7 people 2013 irses appendix a fig a1 technical design of the hull of the model steel fig a2 technical design of the tower of the model aluminum appendix b supplementary data the following is the supplementary data related to this article multimedia component 1 multimedia component 1 appendix b supplementary data supplementary data related to this article can be found at https doi org 10 1016 j oceaneng 2019 05 027 
22745,floating offshore wind turbines fowts represent one promising concept for renewable energy production however the quantitative description of their dynamic behavior is extremely challenging since it depends on the coupled effects of turbine aerodynamics control system hull hydrodynamics and mooring dynamics in this context hydrodynamic damping is a major source of uncertainty particularly for relatively slender structures such as spars the aim of the present paper is to provide quantitative estimations of hydrodynamic damping ratios natural frequencies and response spectra of the six rigid body motions of a spar fowt under a wide range of wave conditions including wind generated sea states swells and mixed seas to this aim the results of an open sea experiment on a 1 30 model of oc3 hywind spar in parked rotor conditions carried out at the natural ocean engineering laboratory noel of reggio calabria italy are analyzed and discussed the above mentioned dynamic properties of the model are estimated through the spectral analysis of the rigid body motion time series collected during the experiment classified depending on the input wave conditions as a result quantitative estimations of the dynamic properties of the model are provided which can be used as input values for numerical models of the full scale structure hydrodynamic damping ratios are estimated including their variability depending on sea conditions due to nonlinearity also motion response spectra obtained for wind generated waves can be easily scaled up to achieve a reasonable representation of the full scale structure response under a range of relevant design conditions finally additional information about nonlinear effects coupling between degrees of freedom and close to resonance behavior of the model are drawn and commented keywords spar floating offshore wind turbines oc3 hywind experimental activity spectral analysis design and parameter estimation 1 introduction in the last few years considerable development of offshore wind turbines owts has been observed and further advancement is expected in the near future dedecca et al 2016 however the majority of these installations are bottom fixed and placed on relatively shallow waters i e on water depths within about 50 m as the water depth increases beyond this limit the costs of the bottom fixed supports increase significantly myhr et al 2014 kausche et al 2018 hence floating concepts should be developed to move wind energy production further offshore where stronger and steadier winds are available visual impact is minimized and sites with relatively deep waters are prevalent may be exploited including e g sites in mediterranean sea zountouridou 2015 up to now several concepts have been proposed for supporting floating offshore wind turbines fowts robertson and jonkman 2011 myhr et al 2014 and research is still underway to characterize their dynamic behavior and achieve optimized solutions both from technical and economic points of view among the concepts proposed spar is one of the most promising for the future development as proven by the large amount of numerical and experimental research and some successful large scale demonstration projects carried out in the last years the first full scale operating spar floating wind turbine ever realized is the statoil s hywind installed in 2009 off the coast of norway on a water depth of about 200 m following the success of this project statoil itself installed in october 2017 a 30 mw wind farm namely hywind scotland made up of five 6 mw spar floating wind turbines optimized with respect to the former hywind the farm is installed about 30 km off the coast of scotland uk in water depths around 95 120 m and is currently operational another project utsunomiya et al 2010 2013 ishida et al 2013 chujo et al 2013 involving operating floating spar wind turbines was launched in 2010 by japanese ministry of environment and resulted in the installation of a 100 kw and a 2 mw spar wind turbines off the goto islands japan these demonstration projects overall proved the feasibility and the commercial interest of the spar fowts however most of the results obtained within these projects are not available for the public as a consequence quantitative information about the dynamic behavior of spar fowts are of considerable interest for the research community in fowts and for industry the estimation of the main dynamic characteristics of such structures would provide a far more comprehensive understanding of their behavior and will also serve as a basis for design tools and numerical models for the future projects generally speaking the design of a floating wind turbine is a complex task failla and arena 2015 collu and borg 2016 since the coupled effect of turbine aerodynamics control system hull hydrodynamics and mooring system must be taken into account to this aim many coupled and uncoupled numerical models have been developed and compared see e g robertson et al 2015 2017 however such models need validation from relevant experimental data which are usually provided by tests carried out in wave tanks and ocean basins in absence of publicly available measurements from full scale structure concerning spar floating wind turbines most of the research is based on the reference spar design developed by jonkman 2010 namely oc3 hywind spar buoy this concept has been developed within the context of offshore code comparison collaboration oc3 project jonkman and musial 2010 and refers to the benchmark 5 mw nrel offshore wind turbine developed by jonkman et al 2009 basing on this reference concept several small scale experimental activities have been carried out see e g shin 2011 koo et al 2012 goupee et al 2012 sethuraman and venugopal 2013 duan et al 2016 aimed to investigate the global coupled dynamic behavior of the floating wind turbine and to validate the numerical codes an alternative approach to the experimental investigation of floating wind turbines is the intermediate scale testing carried out at sea utsunomiya et al 2010 ruzzo et al 2016a 2016b 2018 although this option implies non controlled input wave conditions resulting in more challenging realization and interpretation of the tests several significant advantages can be achieved with respect to small scale indoor testing first and foremost natural wave generation implies a drastic reduction of the costs i e cheaper and potentially longer experimental campaigns further larger scale physical models can be deployed at sea thanks to deeper waters larger areas available and stronger waves this may contribute to the reduction of scale effects particularly in the case of slender structures such as spars whose dynamic behavior is affected by viscous forces the latter indeed depends on reynolds number which suffers from alteration in scale experiments since froude scaling laws are used ruzzo et al 2018 showed that for typical spar supports for fowts 1 30 can be regarded as the smaller scale factor such that the alteration of the hydrodynamic forces due to the reduction of the reynolds number with respect to the given keulegan carpenter number which is not affected by froude scaling is negligible hence they arranged an experimental activity on a 1 30 spar model in parked rotor conditions installed at sea at the natural ocean engineering laboratory noel of reggio calabria italy arena and barbaro 2013 and partially achieved the frequency domain dynamic identification of such model in particular they estimated the experimental response amplitude operators raos of the model in heave roll and pitch from a heterogeneous set of wave data these results were then used to calibrate linearized heave roll and pitch hydrodynamic damping coefficient values in a numerical model implemented in ansys aqwa obtaining an overall satisfactory agreement between numerical predictions and measurements the most important limitations of this approach were the assumption of linearity and the limitedness of frequency content of the input sea states available at sea the latter in particular generally prevents the identification of any frequency domain transfer function between input waves and horizontal motions surge sway and yaw since the wave energy content in correspondence of the natural frequencies of these motions is too low the present paper is based on the same experimental activity of ruzzo et al 2018 but has a different purpose i e to estimate the damping ratios natural frequencies and motion response spectra in all the degrees of freedom dofs directly from the spectral analysis of the experimental results the wave conditions observed at the test site are divided in several classes depending on spectrum shape peak period and significant wave height to take into account the nonlinearity of the dynamic behavior of the model the response spectra are obtained for the model motions in the 6 dof and are used for the estimation of the hydrodynamic damping ratio typical of each wave class these values can be used as input for numerical models of spar platforms for fowts in the future similarly those response spectra corresponding to scaled design wave conditions may be also used as a valuable support tool for a first approximation assessment of the response of the full scale structure in parked rotor conditions finally some qualitative considerations are drawn concerning the nonlinearity the couplings and the other aspects of the hydrodynamic behavior of fowts 1 1 description of the experimental setup the 1 30 spar model considered in the present paper fig 1 represents an adapted scaled version of the oc3 hywind concept developed by jonkman 2010 such spar platform is designed to support the nrel 5mw floating offshore wind turbine jonkman et al 2009 it should be noted that the problem of representing in scale an operating fowt arises many issues the treatment of such a problem is out of the scope of the present paper and may be found elsewhere in literature see e g martin et al 2012 stewart and muskulus 2016 bayati et al 2016 in synthesis one should note that froude scaling is generally used for the representation of hydrodynamic forces while reynolds scaling should be used for the aerodynamics since the two scaling laws are not compatible between each other one must use a simplified approach to obtain the desired fidelity in simultaneous representation of both sub systems since the present work is focused on the hydrodynamic behavior of the fowt only the rotor nacelle assembly of the wind turbine has been represented by means of a lumped mass placed at the top of the tower in this study the parked rotor conditions of the turbine are therefore modelled which are relevant for the ultimate design conditions of the fowt the model is made up of two separate components the spar support and the turbine tower including the lumped mass representing the rotor nacelle assembly rna the former is a tapered cylindrical steel hull sealed by some steel plates at the top bottom and fairleads the spar is ballast stabilized through steel discs placed in the lower portions the tower is an aluminum cylindrical tube which sustains a top plate which represents the mass properties of the rna and also houses the on board measuring station the connection between the two components is achieved through a plastic bolted disc to avoid the galvanic corrosion of the aluminum tower due to the contact with steel the details related to each structural component of the model are shown in the appendix while the aggregate mass properties are reported in table 1 where a comparison with the target values relative to perfectly scaled oc3 hywind concept is also provided it can be noted that mass properties are well represented except for i zz this implies that yaw mass properties of the model are not in scale with respect to the oc3 hywind concept the on board measuring station is made up of 1 a differential global positioning system dgps which measures the instantaneous distance from an onshore base antenna and projects this distance along the north the east and the upward directions 2 an attitude and heading reference system ahrs inertial platform which measures the euler angles of the structure with respect to the same axes in this study the spar is assumed to be rigid and hence its motion is defined by six degrees of freedom i e the three translational motions around the centre of gravity and the three euler angles all referred to the cardinal directions rigidity of the model has been proven numerically by observing that the horizontal deflection and the angle at the top of the tower induced by the maximum inertia force of the mass atop are negligible since the motions measurements δu t i have been carried out at the top of the tower the following transformations is necessary to obtain the translations δu g i at the centre of gravity 1 δ u g x δ u t x cos ψ sin φ cos θ sin ψ sin θ z t z g 2 δ u g y δ u t y sin ψ sin φ cos θ cos ψ sin θ z t z g 3 δ u g z δ u t z cos φ cos θ z t z g where φ θ ψ are the roll pitch and yaw angles respectively and the reference system has the x axis pointing to the north the y axis pointing to the east and the z axis pointing upward it should be noted that due to the mentioned choice of the reference system the local wave direction generally have components both in x and y directions resulting in simultaneous platform motions in all the six degrees of freedom the spar model has been installed at the noel test site in mediterranean sea at a water depth of about 6 9 m and has been moored through three 120 spaced catenary moorings the design of the mooring system has been carried out considering the local extreme wave considerations along with the irregular and inclined seabed slope ruzzo et al 2018 resulting in a scale effect on mooring stiffness which is lower than that of the full scale structure the mooring system is also slightly asymmetric in terms of mooring stiffness but such a small difference is not expected to have any significant effect on the resulting dynamics delta connection of the mooring lines has been added at 10 length of each line to achieve some additional yaw stiffness quallen et al 2014 the main characteristics of the mooring lines are listed in table 2 1 2 wave characterization of the installation site the installation site of the experiment is the natural ocean engineering laboratory noel of reggio calabria italy fig 2 the geographic and environmental characteristics of this site are particularly favorable for intermediate scale field modeling of waves and offshore structures in particular the orientation of the coast naturally shelters the swells coming from the south and the local nnw wind which is regular and stable blows on a relatively short fetch about 10 km thus generating local sea states with significant wave heights h s 0 20 0 40 m and peak periods t p 1 8 2 6 s following jonswap like spectra at noel higher significant wave heights may also occur with extreme values up to 1 0 1 5 m and corresponding peak period in the range 4 2 5 2 s these sea states are froude intermediate scale models of oceans or mediterranean storms for instance the significant wave height value associated to a return period r 100 years is between 5 8 m and 12 1 m for mediterranean seas arena et al 2015 during the experiment the wave measurements have been carried out through two gravity based vertical poles on a water depth of about 1 825 m each sustaining an ultrasonic wave probe and a pressure transducer at a depth of about 0 775 m which measure the wave surface elevation and the wave pressure respectively the latter is used to obtain the wave pressure head by dividing the pressure fluctuations around the mean value given by hydrostatic pressure by the specific weight of the water the wave surface elevation measured through has been used for the determination of the significant wave height and the wave head of pressure for the spectral analysis due to the smaller noise induced by pressure transducers with respect to ultrasonic probes the poles are placed few meters far from the spar model in an undisturbed wave field fig 2 shows a view of the installation site including the positions of the spar expected equilibrium position and of the wave measurement station it should be noted that the waves measured at the wave measurement station slightly differ from those at the spar location due to shoaling and refraction effects theoretically speaking these effects imply a transformation of the wave spectrum under the simplifying hypothesis of seabed contour lines rectilinear and parallel to the shoreline the transformation factor in the frequency domain is given by boccotti 2014 4 s 0 s sinh 2 k d tanh k d sinh 2 k d 2 k d 0 5 1 cos 2 α 0 1 tanh 2 k d cos 2 α 0 0 25 where s 0 and α 0 are the spectrum and the wave propagation angle measured offshore with respect to the shoreline s is the spectrum measured at the water depth d of the measurement wave station and k is the wave number associated to the frequency ω practically however it has been found that this factor is close to unity among the frequency ranges of most of the local wave spectra recorded during the experiment moreover due to the above mentioned geographic peculiarities of the noel site it has been observed boccotti 2014 that α 0 tends to 90 for wind generated sea states while it is about 60 for swells see fig 2 as a consequence a simplified version of eq 4 is used in this paper as detailed in the following it should be noted also that tidal excursion is very small for noel site i e within 0 10 m hence its effect on water depth alteration at the wave measurement site has been neglected the experiment started in july 2015 and completed in march 2016 during this period 1281 sea states and the corresponding spar motions in the six degrees of freedom were recorded each record has a length of 5 min and a sample rate of 10 hz to perform the spectral analysis of spar response motions this dataset has been divided in three independent groups corresponding to different wave input conditions the first group of sea states includes the local wind generated waves the spar model response to these sea states is particularly interesting for applications since it can be directly scaled up to the real design conditions of the platform the criteria used for the selection of the first group of sea states are 5a h s g k 1 t p 2 5b h s g k 2 t p 2 5c ψ 0 65 6 ψ min t 0 δ t ψ t ψ 0 being g the gravity acceleration k 1 4 057 10 3 k 2 9 246 10 3 two dimensionless parameters defining the minimum and maximum significant wave height for given peak period admissible within jonswap range of shape parameters arena et al 2010 ψ the narrow bandedness parameter of the wave pressure head spectrum defined as in eq 6 ψ t the autocorrelation function of the wave head of pressure and δt the time interval corresponding to its first cycle boccotti 2014 in order to take into account of the shoaling effect the significant wave height h s has been obtained by applying a simplified version of eq 4 i e by considering the transformation factor calculated at the peak frequency ω p and assumed constant the wave propagation angle offshore has been assumed equal to α 0 90 as mentioned above hence no refraction effect is considered it should be noted that condition 5a excludes the swell dominated sea states and condition 5c excludes the wind dominated sea states with non negligible swell components overall 138 sea states have been selected using conditions 5a c with significant wave heights variable between 0 17 m and 1 02 m at the wave measurement station corresponding to a range of 0 18 1 07 m at the spar location the smallest measured sea states of this group represent intermediate scale models of the mediterranean or ocean storms used for the design while the largest may be used for the evaluation of nonlinear effects in the spar response motions to study the evolution of the spar response for increasing wave load the measured sea states have been further divided in six classes of significant wave height as shown in fig 3 table 3 reports instead the characteristics of each class in term of peak period statistics and number of measured sea states it should be noted that the normalized standard deviation of the peak period in each class is relatively small 4 8 further confirming that each class is homogeneous and representative of a well determined wave condition for each record the power spectral density psd function of the wave pressure head normalized with respect to the standard deviation has been obtained and an averaged psd has been estimated for each class by considering only the corresponding sea states in the average these averaged psds take into account the shoaling effect through an average transformation coefficient of the standard deviation calculated as the mean value of the coefficients adopted earlier for each class the resulting averaged psds for each class are reported in fig 4 the second group of sea states is made up of the local swells the criteria used for the selection of such sea states are reported in the following 7a h s g k 1 t p 2 7b ψ 0 65 condition 7a is complementary to 5a hence excludes the wind dominated sea states while condition 7b excludes the swell dominated sea states whit non negligible wind generated wave components differently from wind generated waves swells have a variable relationship between significant wave height and peak period which depends also from the area of generation of the waves this is because wave propagation in deep waters outside the area of generation involves a reduction of significant wave height but does not affect the peak period also in this case shoaling is taken into account by applying the transformation factor of eq 4 assumed constant and equal to that corresponding to the peak frequency ω p the same factor takes into account also the effects of refraction which is calculated assuming a propagation angle α 0 60 as mentioned above overall 361 swell sea states have been selected using conditions 7a b with significant wave height variable between 0 08 m and 0 57 m at the wave measurement station corresponding to 0 09 0 63 m at the spar location and peak periods between 1 97 s and 7 31 s to study the evolution of the spar response for increasing wave period the measured sea states have been divided in four classes of peak period as shown in fig 5 the first two classes are mostly made out of swells travelling from relatively near areas of generation and due to the relatively small peak period may be regarded as froude scale models of ocean and mediterranean swells differently the other two classes mostly correspond to far generated sea states which have undergone a significant reduction of significant wave height with respect to peak period and are not representative of any physically significant wave condition at full scale however they are precious for the experiment since they excite the spar model close to the natural periods of its vertical motions heave roll and pitch providing a valuable set of input conditions for the dynamic identification of the model table 4 reports instead the characteristics of each class in term of significant wave height statistics and number of measured sea states it can be observed that significant wave height is pretty variable among each class due to variability of wave generation area the mean averaged power spectral density functions of the wave pressure head normalized with respect to the standard deviation are shown in fig 6 for each class the normalization here takes into account both shoaling and refraction and it is particularly important in order to obtain homogeneous result regardless of the heterogeneous set of significant wave heights of each class the third group is made up of the remaining 784 sea states each of which contains at least two different non negligible wave components e g wind generated waves superimposed by swells these sea states may be useful to characterize the dynamic properties of the spar model over a wider frequency range since the wave propagation angle offshore is not available for this heterogeneous group of sea states the average value α 0 75 has been simply assumed when considering the refraction effect shoaling has been instead taken into account as for the other groups i e by assuming the transformation factor of eq 4 constant and equal to the value at ω ω p the average value of the significant wave height for the whole group is 0 174 m with a standard deviation of 0 093 m at the wave measurement station 0 162 m and 0 086 m respectively at the spar location and the average value of the peak period is 5 64 s with a standard deviation of 2 15s the average power spectral density function of the wave head pressure for these mixed sea states each normalized with respect to its standard deviation again taking into account both shoaling and refraction is shown in fig 7 2 response analysis and damping estimations in this section the spectral analysis and the estimation of hydrodynamic damping are carried out for the six degrees of freedom of the spar structure model considering the corresponding motion response spectra under wind generated sea states the swells and the remaining mixed sea states separately the natural frequencies of the spar model table 5 were estimated in ruzzo et al 2018 using a linear identification model based on the estimation of the averaged transfer functions experimental raos between input waves and output spar motions differently the classification of different groups of wave conditions considered in this paper allows to identify the nonlinearities and couplings that characterize the actual dynamic behavior of the spar model the former are mainly associated with variations of the peak frequencies of the motion response spectra with respect to the corresponding linear values of table 5 and of the damping coefficients among the different classes of input wave conditions considered the latter are associated to the insurgence of spectral peaks corresponding to the natural frequencies of some other degrees of freedom both the phenomena are identified and discussed in the following with reference to the experimental data collected and analyzed the estimation of hydrodynamic damping is carried out by applying a modified version of the half bandwidth method wu 2015 which is able to take into account the third order correction for the calculation of the damping ratio in detail damping ratio ξ is calculated from the transfer function between response spectrum and wave head of pressure spectrum as 8 ξ 2 3 2 3 3 1 3 18 d 1 2 6 81 d 1 2 2 3 6 18 d 1 2 6 81 d 1 2 1 3 being d 1 the first order estimate of the damping ratio calculated as 9 d 1 δ ω 2 ω p where ω p is the peak frequency of concern with spectral ordinate s max and δω is the frequency bandwidth of application of the method i e the frequency interval between the two crossings of the threshold s max 2 around the mentioned peak it should be noted that wu s formulation 2015 is referred to the transfer functions between motions and input forces while the present paper proposes results obtained for transfer functions between motions and input wave elevation the latter formulation facilitates the exploitation of the results obtained in the paper for the calibration of numerical models of spar wind turbines indeed this transfer function can be obtained directly from raos which are the basic output of any hydrodynamic analysis of fowts in particular depending on the wave input conditions of interest the damping ratios obtained in the paper can be used to calibrate opportunely the linearized damping matrix see e g ruzzo et al 2018 of a numerical model the here proposed method for the estimation of the damping ratio is viable only for the groups of sea states where the peak of concern clearly emerges from the transfer function so that ω p and δω can be identified univocally the variability of the damping estimation within each sea state class is also studied when possible as it represents an important clue for the assessment of the nonlinearities in the spar model motions it is to be remarked that the direct application of eqs 8 and 9 to the experimental data allows to estimate natural frequencies and damping ratios taking into account the real wave structure interaction including added mass viscous damping free surface effects etc this enables to use these values for the opportune calibration of linearized numerical models depending on the wave class of interest in the following response spectra are calculated for each degree of freedom of the spar motions and they are averaged for each class of wave solicitation and normalized with respect to wave amplitude in order to reduce uncertainty in the estimation of spectral shapes and damping ratios a reader interested to the formula of propagation of uncertainty for these random variables is referred to classical literature see e g meyer et al 1975 2 1 spectral analysis of the horizontal spar motions the average power spectral density functions of the horizontal motions in x direction referred to the three classes of sea states defined in section 1 2 are reported in figs 8 10 the same results obtained for the motions in y direction are instead shown in figs 11 13 all the spectra are referred to the motions normalized with respect to the standard deviation of wave head of pressure taking into account shoaling and refraction effects as described above as a consequence and provided that structure is almost axy symmetric excluding minor asymmetries in mooring system the dynamic properties of the structure peak frequencies and damping ratios are expected to be very similar in surge and sway it should be noted that the horizontal motions spectra are supposedly made up of four contributions the slow varying motions at very small frequencies ω 0 05 rad s the surge sway induced peaks close to the surge sway natural frequency the roll pitch induced peaks close to the roll pitch natural frequencies and the wave induced peaks amongst these the slow varying motions have the significant contribution which may be induced by wind currents and or tidal as well as by slow drift wave forces also the coupling with roll pitch generates a relevant contribution which is overcome by wave contribution only for the severest wind generated sea states the surge sway natural frequency contribution is generally small and it assumes its importance for the severest sea states where the mooring system is taut and also for the mixed sea states where there is a non negligible wave energy content around the surge sway natural frequency exhibiting resonance in the horizontal translation it is interesting to note that the position of the surge sway induced spectral peak is variable with respect to the wave conditions ranging from about ω 0 0628 rad s to ω 0 1676 rad s this is due to the nonlinear nature of the mooring system behavior which is made up of three catenary lines installed on an inclined seabed it should be noted that the nonlinearity is also evident for the severest wind generated sea states when two peaks around the surge sway natural frequency are clearly present in the averaged response spectrum also roll pitch induced peaks show some variability due to nonlinearity which will be further investigated in section 2 3 dealing directly with roll pitch degree of freedom the damping estimates have been performed separately for surge sway induced pitch roll induced and heave induced motions these three spectral regions do not always emerge clearly from the transfer functions hence only some classes of sea states have been considered i e those where half bandwidth method is viable the results obtained in terms of natural frequency and damping ratio for the motions in x direction and in y direction for each class are reported in tables 6 and 7 respectively by comparing the tables between each other it should be noted that dynamic properties estimated in surge sway fit very well with each other confirming the expectations based on structure axy symmetry it is interesting to note that surge sway induced peaks tend to appear in the power spectral densities of the horizontal motions mainly for sea states with relatively long waves i e local storms swells and mixed sea states similarly the heave induced peak emerges only for the swells where the energy content of the response spectra around wave peak frequency is relatively small almost all these classes of sea state are not representative of any condition at full scale this shows that full scale spar horizontal motions are expected to be dominated by slow drift pitch roll induced and wave induced motions only concerning the damping ratios of interest for the full scale structure i e those obtained from small to moderate wind generated sea states h s 0 50 m small values around 1 20 are found such result may serve as input for linearized numerical models of full scale floating spar supports for offshore wind turbine since it has been deduced from sea states consistent with the design conditions of the spar fowt structure at the small scale level it is then observed that the damping ratio tends to increase for increasing significant wave height and wave peak period or equivalently multiple peaks begin to appear this may be due to the nonlinearities induced by viscous drag forces and by change of the exact position of the corresponding natural frequency resulting in broader average response spectra concerning the other peaks damping ratios for surge sway induced motion components are relatively high and sparse 5 23 differently heave induced horizontal motions of the small scale model have very small damping ratios 2 2 2 spectral analysis of the vertical spar motions the average power spectral density functions of the vertical motions heave referred to the three classes of sea states defined in section 1 2 are reported in figs 14 16 all of them are referred to the motions normalized with respect to the standard deviation of wave head of pressure taking into account shoaling and refraction effects as described above unlike the horizontal motions cases it should be noted that wave actions tend to be dominating in the vertical motions with respect to the other effects masking the properties of the spar model this becomes all the more evident for wind generated sea states and shorter swells which are representative of full scale realistic ocean conditions for instance considering the severest wind generated sea states it should be noted that the average heave spectrum resembles the wave one even for the peak at about ω 0 71 rad s a similar behavior may be observed also for longer swells where the wave induced peaks below ω 0 95 rad s are still slightly higher than the heave induced ones between ω 1 068 rad s and ω 1 110 rad s along with substantially hiding any roll pitch coupling with heave the variability of heave natural frequency is due to the presence of the taper and the tower which alter the diameter of the surface piercing section of the spar model during its motion inducing nonlinearities finally the average spectrum referred to mixed sea states shows a clear coupling with roll pitch motions unfortunately due to the proximity between roll pitch and heave natural frequencies it is not possible to separate the corresponding spectral peaks in this case it would be interesting to point out here that the spar structures are usually affected by mathieu type instability which results from heave and roll pitch coupling which has been reported analytically due to this instability experienced by the structure the frequency response functions may not have distinct peaks koo et al 2004 another interpretation would be that the anti resonance effect is less pronounced as the heave is being measured at top and estimated at the centre of gravity level because of which the effects cannot be distinctly observed the pronounced effects occur when the measured and excited points are the same this is not the case in our experiments wahl et al 1999 ewins 2000 for the damping ratios the dominance of wave induced vertical motions and the closeness between roll pitch and heave natural frequencies makes the estimation difficult and uncertain both the spectra and the transfer functions especially for wind generated waves are indeed altered in the corresponding frequency range however few damping estimations have been performed as reported in table 8 globally a similar trend with respect to the horizontal motions is observed damping ratios associated to the surge sway induced peaks are relatively high about 10 18 while those related to roll pitch and heave are smaller they are indeed between 1 and 3 except for the case of mixed sea states where the two families of peaks are indistinguishable hence only heave peak is reported in table 8 with a relatively high damping ratio 2 3 spectral analysis of the roll pitch spar motions the average power spectral density functions of the roll motions referred to the three classes of sea states defined in section 1 2 are reported in figs 17 19 the same results obtained for the pitch motions of the spar model are instead shown in figs 20 22 all the spectra are referred to the motions normalized with respect to the standard deviation of the wave head of pressure taking into account shoaling and refraction effects as described above similarly to the case of horizontal motions the natural properties of the structure in roll pitch are expected to be similar between each other because of the structure axy symmetry the analysis of the roll pitch average spectra shows some common features with the horizontal motions including non negligible slow drift motions and presence of nonlinearities induced by the severest sea states the importance of the wave induced contribution is relatively small for small sea states while it grows significantly with the significant wave height along with roll pitch induced peaks close to the corresponding natural frequency a weak coupling with heave can be observed which becomes evident for swells the position of the roll pitch induced peak varies from ω 0 9425 rad s and ω 1 005 rad s differently from the case of heave degree of freedom this nonlinear effect is attributed to the viscous drag forces acting on the spar while the diameter variations due to the presence of the taper and the tower are expected to play a limited role in the determination of the roll pitch stiffness of the spar due to its small water plane area the analysis of the damping ratios has been carried out similarly as for the other motions the values obtained for roll and pitch degrees of freedom for the different classes of sea states considered are reported in tables 9 and 10 also in this case damping ratios associated to the peaks induced by the horizontal motions are relatively high 8 27 while those corresponding to the pitch roll natural frequencies are significantly smaller taking into account small to moderate wind generated sea states h s 0 50 m which are representative of realistic wave conditions a design value of 1 5 may be assumed such value may be used to represent hydrodynamic roll pitch damping of spar supports for offshore wind turbines in linearized numerical models since it has been obtained in scaled design conditions similarly to the case of horizontal motions damping ratios tend to increase for severer wind generated sea states swells and mixed sea states in particular the roll pitch induced damping ratios corresponding to these wave conditions show a larger dispersion with values between about 1 and 5 the heave induced peaks have also relatively small damping ratios and a design value of 1 5 can be assumed even if information could be collected mainly by sea states with relatively long waves including local storms and swells finally also in this case a global reasonable agreement is observed between damping ratio estimations in roll and pitch according to expectations 2 4 spectral analysis of the yaw spar motions the average power spectral density functions of the yaw motions referred to the three classes of sea states defined in section 1 2 are reported in figs 23 25 as before all the spectra are referred to the motions normalized with respect to the standard deviation of the wave head of pressure taking into account shoaling and refraction effects it is interesting to note that the spar model undergoes large yaw motions due to the relatively small stiffness which is achieved only through delta connections when dealing with yaw degree of freedom it should be kept in mind that the dynamic properties of the model are not exactly scaled from full scale structure see table 1 however as shown in the following most of the spar dynamic response in yaw is dominated by the couplings with the other degrees of freedom particularly roll pitch as a consequence useful conclusions about the full scale structure behavior can be drawn anyway the damping ratio estimation obtained from yaw spectra is consistent with those obtained from the other degrees of freedom yaw appears to be strongly coupled with roll pitch spar motions and weakly coupled with surge sway and heave also in this case the damping values of the peaks induced by the horizontal motions tend to be relatively high about 9 20 while those correspondent to roll pitch induced peaks are significantly smaller in particular a design value of about 1 3 could be assumed for small to moderate wind generated sea states while larger dispersion about 1 8 is observed for the other wave conditions the heave induced peaks have small damping ratios too always between 0 8 and 1 6 also in this case a damping ratio of about 1 3 may be assumed in design conditions it is interesting to observe that no information has been drawn concerning the yaw motion of the spar model directly this is because of the slenderness of the spar which makes negligible the wave induced moments about the horizontal plane as a consequence yaw motions of the spar model are mainly induced by the coupling with the other degrees of freedom most of all roll pitch and it is not possible to identify yaw own natural frequencies and damping ratios from the experimental data 3 conclusions the paper reports some results obtained from a 1 30 scale field experiment on oc3 hywind spar buoy for offshore wind turbines in parked rotor conditions the spar model was installed at the natural ocean engineering laboratory noel of reggio calabria italy in july 2015 and 1281 5 min sea states and the corresponding spar motions were collected up to march 2016 these sea states have been divided in three classes namely wind generated swells and mixed sea states further divided in 11 sub classes depending on significant wave height and wave period this classification has allowed to study the variability of the averaged natural properties of the spar motions in the six degrees of freedom with wave conditions in terms of natural frequencies damping ratios and averaged motion response spectra the response spectra have been obtained directly from motion measurement data and has been normalized with respect to wave amplitude taking into account shoaling and refraction phenomena when relevant damping ratios have been calculated from the transfer functions between wave and motion spectra using a modified half bandwidth method able to take into account the third order correction for their calculation see table 11 among the classes considered in this study the moderate local wind conditions and the shortest swells represent froude scale model of realistic full scale conditions hence the results here obtained may be directly used for preliminary design or hydrodynamic numerical model calibration of the full scale structure table 12 reports a concise summary of the most relevant results obtained in terms of damping ratios reported to the full scale wave input conditions of direct interest for the design basically it has been found that the structure in all the degrees of freedom is heavily influenced by slow drift motions and pitch roll couplings under these wave conditions while the spectral peaks at the other natural frequencies are almost indistinguishable however with reference to transfer functions some contributions of surge sway induced and heave induced peaks have been identified as well no information instead has been obtained with reference to natural properties in yaw probably due to the slenderness of the model it is interesting to observe that damping ratios are relatively high for the surge sway induced peaks while they decrease significantly for roll pitch induced and heave induced peaks also damping ratios tend to increase for swells with respect to wind generated waves the structure behavior is similar but with greater variability when different wave input conditions are considered in particular for longer waves surge sway spectral peaks emerge always with relatively large damping ratios 5 17 at their own natural frequency and also the natural frequencies and the other damping ratio undergo significant variations depending on the input wave condition this highlights the highly nonlinear nature of the spar hydrodynamics and provide useful input for the numerical model calibration on a broader frequency range finally even though the yaw dynamic properties of the 1 30 model considered are not representative of full scale ones at all it has been observed that the response in such mode is dominated by couplings with other degrees of freedom under all the wave conditions considered as expectable due to the slenderness of the hull the results obtained provide useful information about the hydrodynamic properties of the spar floating offshore wind turbines and the nonlinear effects induced by varying wave conditions however further field experimental activities are strongly recommended since they would allow to obtain more data resulting in better averaging of the response spectra and more reliable estimations of the natural hydrodynamic properties of such structures competing interests the authors have no competing interests to declare acknowledgements and funding this paper has been developed during the marie curie irses project large multi purpose platforms for exploiting renewable energy in open seas acronym plenose funded by european union grant agreement number pirses ga 2013 612581 within program sp3 people support for training and career development of researchers marie curie international research staff exchange scheme irses call fp7 people 2013 irses appendix a fig a1 technical design of the hull of the model steel fig a2 technical design of the tower of the model aluminum appendix b supplementary data the following is the supplementary data related to this article multimedia component 1 multimedia component 1 appendix b supplementary data supplementary data related to this article can be found at https doi org 10 1016 j oceaneng 2019 05 027 
22746,compared with thick plate joints thin plates are prone to welding defects in the welding process such as initial welding deformation bending of base metal welding angle deformation and welding misalignment considering the influence of welding defects on fatigue strength the dnv and iiw specifications introduce the concept of stress amplification factor but the calculation formula of stress amplification factor recommended by the specification only considers the influence of welding angle deformation and welding misalignment on fatigue strength which does not consider the influence of initial welding deformation on the fatigue strength of thin plate joints in this paper considering the influence of welding angle deformation and initial welding deformation on thin plate butt joints the modified stress amplification factor calculation formula was proposed and the accuracy of the formula was verified by numerical results and experimental data in the literature keywords welding defects stress concentration effect thin plate fe analysis fatigue strength nomenclature c stress concentration coefficient due to welding misalignment e welding misalignment e the base of exponential function k notch stress concentration factor k 0 additional bending stress concentration factor k m stress magnification factor due to welding defects k m k t e k t α k t e stress concentration factor due to welding misalignment k t α stress concentration factor due to welding angle deformation k t α stress concentration factor due to welding angle deformation and initial deformation l distance between two support points n fatigue life t plate thickness w r width at weld root w t width at weld toe α angle between two plates α g global deformation angular α l local deformation angular μ poisson s ratio λ influence coefficient of boundary 1 introduction in order to reduce weight and energy consumption superstructures of super large ships have begun to use thin plate welded structures eggert and fricke 2012 lillemäe et al 2016 however due to the complex welding defects of thin plate structures the methods for fatigue assessment in current specifications of classification societies dnv 2014 hobbacher 2009 are not fully validated for thin plates less than 5 mm lillemäe et al 2012 yue et al 2018 if a modern welding process with low heat input such as laser welding is adopted certain parts of the hull structure can use a plate thickness lower than the currently considered limit of 5 mm lillemäe et al 2014 due to the low bending rigidity of the thin plate itself the initial deformation of thin plate close to weld is usually curved which adds a secondary bending moment under axial tensile load lillemäe et al 2016 which brings special challenges to the evaluation of the fatigue strength of the thin plate structure in addition it brings special challenges to stress concentration analysis and fatigue strength evaluation of welded joints of thin plate structures on the one hand in the design process of welded joints of ships it is assumed that the structure does not exceed allowable tolerances such as axial and angular misalignment given in shipbuilding standards that is the deviation from ideal structure to fabricated structure shall not exceed tolerances specified in relevant shipbuilding standards eggert et al 2012 production standard of the german shipbuilding industry 2003 sets a 10 tolerance limit for butt joints with axial misalignment and a 5 mm depth limit for lateral deformation however due to the application of high strength or high strength thin steel plates the deformation problem of the welded structure of the thin plate is more serious due to the large internal stress after processing and assembling thin plates will produce larger deformation after welding than the common steel plate moreover the stiffened plate structure with thin plate is more sensitive to deformation and welding defects caused by welding as shown in fig 1 maddox carried out finite element analysis on the butt joint of thin plates at a typical longitudinal reinforcement on the upper deck of a naval vessel the effects of axial deviation angular deformation and lateral deformation were considered in the calculation the results show that under the membrane stress the stress at the weld toe caused by idealized defects is much higher than that calculated by the standard formula eggert et al 2012 therefore the influence of actual welding defects must be considered when evaluating the stress field and fatigue strength of thin plate welded structures on the other hand the traditional fatigue design codes hobbacher 2009 dnv 2014 ideally consider the geometric shape of the welded plate to be straight on this basis the corresponding correction formula is adopted to consider the influence of initial defects although these correction formulas are effective for thicker welded plates they are no longer applicable for thinner plates because relatively large initial deformation in slender structures will lead to geometric nonlinearity of structural response as shown in fig 2 the international ship and offshore structures congress issc also summarized the welded structure of thin plates in the fatigue and fracture thematic report as follows for thicker plates t 5 mm the structural behavior is linear and plates are not curved closed to welds then analytical formulations for stress magnification factors are possible for thin plates t 5 mm the geometrical nonlinearity means in practice that the commonly used stress magnification factor given in classification rules is not suitable for thin plate structures thus further studies are required to develop new design methods as well as quality limits for the distortions therefore the influence of initial deformation shape and geometric nonlinearity must also be considered when evaluating the local stress of welded thin plate structures although some researchers lillemäe et al 2012 2017 eggert et al 2012 fricke et al 2015 remes et al 2017 have raised concerns about the initial deformation effect of thin plates a series of theoretical and numerical analyses on the influence of welding defects on thin plates are expected to be solved in the future based on the existing researches lillemäe et al 2012 yue et al 2018 this paper comprehensively considers the influence of welding defects and geometric nonlinearity on the stress field of the welded structure of thin plates in order to improve the prediction accuracy of fatigue strength of welded structures of thin plates in engineering the fatigue strength research of thin plate welded joints is carried out theoretically and numerically based on the theoretical formula of stress amplification factor the analytical formula of notch stress for thin plates was derived and recommended 2 stress amplification effect considering welding defects 2 1 welding defects on thick plate welded joint notch stress method is a local stress method based on linear elasticity theory which can simultaneously consider the influence of welding misalignment welding geometry size effect and other factors the correction of notch stress field is usually based on the defect free notch model multiplied by the stress concentration factor k dnv 2003 1 k σ notch σ nom k g k w k m where k g is the stress concentration factor due to welding geometry k w indicates weld geometry on stress concentration k m indicates the stress amplification factor considering welding misalignment and angular deformation k m k t e k t α for joints with small misalignment the dislocation effect is not very obvious for longitudinal members or complex cruciform joints the stress amplification effect at corners will increase by about 5 according to the statistical results of iiw hobbacher 2009 however maddox 1985 pointed out that the stress at corners can be increased to 30 for joints with large misalignment and the dislocation effect of thin plate specimens will be more obvious the stress amplification factor due to welding misalignment is often represented as 2 k t e 1 c e t where e is the welding misalignment and t is the plate thickness c is the stress concentration coefficient based on test results gunn et al 1960 recommended c 3 which was later applied to dnv 2003 and iiw hobbacher 2009 in the abs classification 1996 the value of c was changed to 1 5 however no justification for this has been found after theoretical deduction cui et al 1999 found that c is not a constant which is related to dislocation position and stress magnitude for the comparison of results the calculation value c in this paper is 3 0 maddox 1985 elaborated the influence of welding angle deformation on fatigue strength during the fatigue test of butt joints he found that the stress concentration coefficient at the joint was related to bending stress caused by welding angle deformation which led to the inconsistency between the fatigue test results and theoretical results stress concentration caused by welding defects can be expressed by stress amplification factor in the literature the calculation formula of stress amplification factor related to welding angular deformation was derived by using simple beam theory considering that welding defects have a great influence on the stress concentration factor maddox suggested setting an acceptable range for the stress amplification factor formula these formulas had been included in many fatigue design criteria such as bs 7910 1999 dnv 2003 and eurocode 3 2005 however maddox s formula for calculating the stress amplification factor of angular deformation is only applicable to thick plate butt joints with slenderness ratio l t 20 3 k t α 1 λ 4 α l t where λ is the influence coefficient of boundary 3 for clamped and 6 for pinned condition α is the angle between two plates after analysis it is found that with the increase of slenderness ratio the bending stiffness of butt joint decreases under different loads the stress amplification factor is no longer a constant but decreases with the increase of load kuriyama et al 1971 presented the stress amplification factor of angular deformation for thick welded plates with high slenderness ratio l t 20 the revised formula takes into account the influence of load on stress amplification factor when slenderness ratio is large and this formula was later included by iiw hobbacher 2009 4 k t α 1 λ 4 α l t b where b tanh β 2 β 2 for clamped and b tanh β β for pinned condition β l t 3 σ nom e 2 2 welding defects on thin plate welded joint in addition to welding dislocation and angle deformation the thin plate structure will be accompanied by initial deformation due to the low bending stiffness see fig 2 lillemäe et al 2012 calculated the stress amplification factor of thin welded joint plates with initial deformation by nonlinear finite element method compared with straight plates the stress amplification factor of curved plates is relieved to some extent with the increase of stress but the stress concentration phenomenon is more serious in order to find out the reason why the fatigue data of welded structure of thin plate is too scattered the geometric nonlinear analysis of thin plate structure needs to be combined with the actual shape of welded structure for analysis the model including both angular deformation and initial bending deformation is established as shown in fig 3 the local angular deformation α l is introduced to characterize the bending degree of thin plate in fig 3 after deduction see appendix a the modified stress concentration factor formula is renewed for thin plate butt joint 5 k t α 1 3 2 α g l t k 0 where k 0 is the additional bending stress coefficient 6 k 0 c 2 exp m ξ c 3 exp m ξ 2 c 1 m 2 where m 3 1 μ 2 σ e l t 2 and ξ 2 x l for clamped condition 7a c 2 c e m 1 2 m e m e m c 3 c e m 1 2 m e m e m for pinned condition 7b c 2 2 1 c c m e m m 2 e m e m c 3 2 1 c c m e m m 2 e m e m where c l 2 e tan α l 2 α l α g e is the base of exponential function 3 numerical analysis 3 1 joint geometry in order to consider the stress amplification effect of thin plates welded joints a series of thin plate welded joints plate thickness t 3 5 mm were investigated and simulated with ansys 14 5 lillemäe et al 2012 fricke et al 2015 the base plates had the yield strength r e h 466 mpa and the tensile strength r m was 572 mpa a linear elastic material behavior with young s modulus of 2 068 105 mpa and poisson s ratio 0 3 was assumed as shown in fig 4 and table 1 details of the butt joint geometry were described by lillemäe et al 2012 3 2 fe analysis for butt joints eq 1 can be simplified as 8 σ notch k m k w σ nom k w σ h s where k m k t e k t α is the stress magnification factor for comparison with the revised formula k m is also calculated by σ h s σ nom in fe method hot spot stress σ h s is obtained by linear extrapolation after calculation in fig 5 considering the size of welding defects fe method was adopted to calculate the hot spot stress and notch stress as shown in figs 5 and 3d solid 186 element has been adopted to establish a fine model considering welding geometry dimensions in table 1 in order to ensure the calculation accuracy mesh size and mesh sensitivity are discussed in fig 6 when the minimum mesh size at the corner was reduced to 0 5 mm the notch stress distribution with the distance form the corner would keep unchanged according to iiw fricke 2012 the element size near the corner is about 1 6 0 17 mm and far away from the corner is 0 2 5 mm under the axial stress on the right end all edge nodes on the left end are fixed for clamped condition while only u y is fixed in the right edge nodes similarly in order to ensure that the model can rotate freely around the z axis the line displacements of the left mid node are fixed and only u y is fixed in the right mid node by changing the slenderness ratio l t and deformation angle ratio α l α g hot spot stress and stress amplification factor of each model under different sizes are calculated in turn below taking the axial stress of 50 mpa as an example the results of stress distribution in x direction under different boundaries are presented in fig 7 when the initial deformation is not considered α l α g 1 it is found that the notch stress at the corner for pinned boundary is slightly larger than that of clamped boundary under the same nominal stress of 100 mpa the notch stress will be greatly increased if the initial deformation is considered in figs 8 and 9 for clamped boundary the maximum stress increased by 1 31 times for α l α g 2 5 see fig 8a and 1 80 times for α l α g 5 see fig 9a compared with the stress result of α l α g 1 see fig 7a for pinned boundary the maximum stress increased by 1 20 times for α l α g 2 5 see fig 8b and 1 55 times for α l α g 5 see fig 9b compared with the stress result of α l α g 1 see fig 7b the results show that the initial deformation of the thin plate butt joint has a great influence on the stress concentration effect at the weld toe and it is necessary to further revise the stress amplification factor for thin plates 3 3 error analysis of traditional correction formula 3 3 1 when the initial deformation is not considered α l α g 1 in the case of clamped boundary considering the initial deformation and angular misalignment of the butt joint of thin plates the error analysis on k t α between fe results and the formula calculation results of eq 4 are compared in tables 2 4 the applied tensile stress is 50 mpa 100 mpa 150 mpa 200 mpa 250 mpa 300 mpa and the global angular deformation α g is 2 3 and 4 respectively as shown in tables 2 4 the error between numerical results and eq 4 will not exceed 6 after statistical analysis as the slenderness ratio l t decreases the error further decreases in fig 10 it is concluded that the traditional eq 4 can accurately evaluate the stress amplification factor at the weld toe of joint when the initial deformation is not considered 3 3 2 α l α g assuming that the slenderness ratio is constant l t 250 3 and considering the influence of initial deformation α l α g the error analysis on k t α between fe results and eq 4 are compared in fig 11 according to the results in fig 11 it is found that eq 4 has a large error in defects correction for welded structure of thin plates with initial deformation which is not suitable for defect stress assessment of welded thin plate structures the maximum relative error of stress amplification factor k t α is 27 0 for α l α g 2 5 and 54 2 for α l α g 5 3 4 error analysis of the revised formula 3 4 1 firstly it is assumed that there is no initial deformation of the welded thin plate structure α l α g 1 and the evaluation results k t α of the revised formula 5 will be compared with those of the traditional formula 4 under different boundary conditions comparing the results in tables 5 and 6 and fig 12 it is found that when the influence of initial deformation of thin plate is not considered the results of the formula in this paper are close to those in the standard formula 4 with the maximum error about 10 therefore both formulas 4 and 5 can be used to correct the stress concentration factor of thick plate welded joints as for the influence of boundary effect the condition simple support will cause larger stress concentration effect under lower axial stress but with the increase of stress the influence of boundary effect will gradually weaken it can be seen from eq 4 that the value of k t α is actually only related to b when the angular deformation is not changed according to the change trend of hyperbolic tangent function the tangent function value tanh β gradually tends to 1 with the increase of β l t 3 σ nom e therefore with the further increase of stress the value of stress amplification factor k t α is less affected by the boundary in order to further verify the reliability of the stress amplification factor formula deduced in this paper the results of the modified formula 5 are also compared with the finite element calculation results under different boundaries in fig 13 the maximum relative error is no more than 7 in fig 13 for both clamped pinned boundaries all the results are acceptable for engineering practice 3 4 2 α l α g considering the influence of initial deformation α l α g the error analysis on k t α between fe results and eq 5 are also compared in figs 14 and 15 if the global deformation angle α g is kept unchanged the local deformation angle α l is gradually increased when α l α g 2 5 the relative error is 3 5 for clamped boundary in fig 14a and 2 6 for pinned boundary in fig 14b with the further increase of α l the error is only 2 for clamped boundary in figs 15a and 7 for pinned boundary in fig 15b it is concluded that the revised formula 5 can effectively reflect the influence of initial deformation on the stress concentration of welding corner 4 fatigue strength based on notch stress 4 1 analytical formula of notch stress as mentioned above the notch stress can simultaneously consider the influence of welding misalignment welding geometry size effect and other factors which is very suitable for stress field evaluation and fatigue strength evaluation of thin plate welded joints however due to the serious stress singularity effect at the notch the traditional solution of notch stress depends on the type and size of finite element in order to analyze the adverse effect of notch stress concentration on fatigue strength notch stress concentration coefficient needs to be obtained theoretically therefore in order to reduce the influence of mesh size on notch stress the analytical formula based on eq 5 was developed to evaluate the notch stress and fatigue strength of thin plate butt joints 9 σ notch k t e k t α k w σ nom k t e in the above formula is calculated according to eq 3 and k t α is calculated by eq 5 in order to obtain the notch stress the value of k w needs to be obtained k w indicates weld geometry on stress concentration the recommended value is k w 1 5 dnv 2003 in order to verify the validity of the above value k w 1 5 the results of a series of finite element models are analyzed in fig 16 it is concluded that k w has a weak variation versus the axial stress the diagram in fig 16a ranges from 1 48 to 1 52 for clamped boundary while the value k w change only from 1 49 to 1 51 for pinned boundary in fig 16b therefore the recommended value k w 1 5 will be used in this paper 4 2 results of thick plate welded joints considering the influence of welding defects on fatigue strength of thick plate welded joints a series of fatigue tests in reference remes et al 2010 were extracted and analyzed to verify the validity of the revised formula the results of 12 mm thick plate joints with arc welding laser welding and hybrid welding are summarized in appendix b the corresponding welding defects and dimensions of test joints are also described in table b1 specimens in reference remes et al 2010 were carried out using tensile loading with stress ratio r 0 and all the fatigue tests produced the specimen fracture fatigue results show that the influence of welding defects should be considered in order to improve the evaluation accuracy based on the notch stress method stress amplification factor in eq 4 and eq 5 are calculated separately to evaluate the fatigue performance of the experimental results in reference remes et al 2010 the results of nominal stress are compared with notch stress in fig 17 the results of nominal stress in fig 17a have greatly exceeded the recommended s n curve fat80 m 3 at n ref 2 10 6 the fatigue strength s 165 8 mpa is obviously higher than fat 225 3 which is quite conservative as verified above the evaluation results of eqs 4 and 5 are consistent regardless of the influence of initial deformation with the same scatter index t σ 1 35 t σ σ p s 2 3 σ p s 97 7 according to the evaluation results of the revised eq 5 the notch stress s n curve is fitted with the survival probability 97 7 10 log n 22 19 6 38 log s at n ref 2 10 6 the fatigue strength s is 266 1 mpa most of data points are on the upper side of the curve fat225 m 3 it is concluded that the traditional eq 4 and improved eq 5 can be used to evaluate the fatigue strength of thick plate joints when the initial deformation is not considered 4 3 results of thin plate welded joints in order to further verify the applicability of the revised formula for thin plate joints based on the notch stress method eq 5 was applied to evaluate the fatigue performance of the experimental results in reference lillemäe et al 2012 the optical measuring system with high resolution laser scanners was used to used in geometric measurement the longitudinal loading was applied with stress ratio of r 0 fatigue tests were performed for arc welded joints and laser welded joints in reference lillemäe et al 2012 and all the fatigue tests produced the specimen fracture see appendix table b2 the nominal stress and notch stress based on eqs 4 and 5 s n curves were fitted in fig 18 from the evaluation results of nominal stress the fatigue strength is 168 4 mpa at 2 10 6 cycles which is obviously higher than the recommended value fat 80 of butt joints considering the influence of welding misalignment and initial deformation the stress amplification factor and notch stress can be obtained with σ notch k t e k t α k w σ nom according to the evaluation results of the revised eq 5 the notch stress s n curve is fitted 11 log n 43 15 13 70 log s at n ref 2 10 6 the fatigue strength s is 364 8 mpa which is close to that of formula 4 s 374 1 compared with the evaluation result of formula 4 the scatter index t σ dropped from 1 89 to 1 76 as shown in fig 18 5 discussion and conclusions affected by welding process welding defects are inevitable moreover different welding processes have different effects on the geometry of welded joints due to a large welding fusion zone the traditional arc welding will bring the large local welding dislocation and welding deformation therefore laser welding or laser hybrid welding technology is introduced into the welding of hull thin plates laser welding causes a localized heat input with a narrow weld and initial deformation caused by small bending stiffness brings additional challenges to stress field and fatigue evaluation of thin plates 1 considering the influence of initial welding deformation of thin plate on stress concentration local angular deformation is introduced to characterize the initial welding deformation of thin plate butt joint with the increase of the local deformation angle the error of the stress amplification factor calculated by the traditional formula 4 becomes larger compared with the finite element results the maximum relative error is 54 2 α l α g 5 therefore the influence of initial deformation and geometric nonlinearity must be considered when evaluating the local stress of welded thin plate structures 2 according to the stress amplification factor formula of thick plates the corresponding theoretical formula for thin plates was deduced when α l α g 2 5 the relative error is 3 5 for clamped boundary and 2 6 for pinned boundary with the further increase of local deformation angle α l α g 5 the error is only 2 for clamped boundary and 7 for pinned boundary it is concluded that the modified eq 5 can accurately evaluate the stress amplification factor at the weld toe for both thick plate and thin plate joints 3 based on the theoretical formula of stress amplification factor the analytical formula of notch stress for thin plates was derived and recommended the results of thick plate welded joints show that the traditional formula and the modified formula have the same evaluation accuracy for thick plate joints compared with the results of nominal stress the scatter band of s n curve in notch stress is obviously reduced for thin plate joints compared with the evaluation result of formula 4 the scatter index dropped from 1 89 to 1 76 it is concluded that the revised formula 5 has higher accuracy in correcting the stress concentration effect of thin plate joints acknowledgements the research project is supported by the national natural science foundation of china grant no 51609185 and the fundamental research funds for the central universities no 195202014 2018 ys 023 appendix a stress amplification factor considering initial deformation fig a1 demonstrates the model of thin plate butt joint considering initial deformation taking the clamped fixed boundary as the example the revised stress concentration factor formula k t α will be derived below fig a1 model of thin plate butt joint considering initial deformation for clamped boundary fig a1 the total bending deformation y m includes initial deformation y 0 and deformation caused by external load y a1 y m y 0 y micro mechanics model of thin plate butt joint is shown in fig a2 according to the equilibrium relation a2 d v d x 0 a3 v d m d x n d y m d x where n σ t for unit width plate and for the bending of thin plates a4 m d d 2 y d x 2 where d is the bending rigidity a5 d e t 3 12 1 μ 2 fig a2 micro mechanics model of thin plate butt joint fig a2 eq a3 is further expanded a6 v d d 2 y d x 2 n d y d x n d y 0 d x defining dimensionless parameters a7 ζ y e 0 η 0 y 0 e 0 ξ 2 x l where e 0 is the misalignment of endpoint from coordinates origin in fig a1 to solve eq a6 a8 d d ξ d 3 ζ d ξ 3 m 2 d ζ d ξ m 2 d η 0 d ξ 0 where m 2 3 1 μ 2 σ e l t 2 the symmetry condition is assumed a9 d 3 ζ d ξ 3 m 2 d ζ d ξ m 2 d η 0 d ξ then the maximum bending stress σ b is derived based on eq a9 a10 σ b 6 σ e 0 t k 0 where k 0 is defined as the additional bending stress coefficient k 0 1 m 2 d 2 ζ d ξ 2 the revised stress concentration factor formula k t α is defined based on eq a10 a11 k t α 1 6 e 0 t k 0 1 3 2 α g l t k 0 as can be seen from eq a11 k 0 is the key to solving the problem of stress concentration factor as shown in fig a1 the following boundary conditions is met a12 y 0 0 0 y 0 0 tan α l 2 y 0 l 2 e 0 to simplify the calculation the displacement function is assumed a13 y 0 x a x 2 b x c simultaneous eqs a12 a13 a14 η 0 1 c ξ 2 c ξ where c l 2 e 0 tan α l 2 α l α g substituting eq a14 into eq a9 then a15 ζ c 1 c ξ c 2 exp m ξ c 3 exp m ξ c 1 ξ 2 under the clamped boundary a16 ξ 0 d ζ d ξ 0 ξ 1 ζ d ζ d ξ 0 the bending stress concentration factor can be obtained by eq a10 a15 and a16 a17 k 0 c 2 exp m ξ c 3 exp m ξ 2 c 1 m 2 where c 2 and c 3 are the functions related to welding geometry for the clamped condition a18 c 2 c e m 1 2 m e m e m c 3 c e m 1 2 m e m e m for pinned boundary a19 ξ 0 d ζ d ξ 0 ξ 1 ζ d 2 ζ d ξ 2 0 then a20 c 2 2 1 c c m e m m 2 e m e m c 3 2 1 c c m e m m 2 e m e m where e is the base of exponential function appendix b geometric dimensions and fatigue life of butt joints containing welding defects table b1 welding defects and dimensions of butt joints in thick plates remes et al 2010 table b1 specimens l mm t mm e mm α g σ nom mpa n cycles saw1 99 12 0 25 0 51 199 1037495 saw2 99 12 0 29 0 46 181 2041188 saw3 99 12 0 32 0 39 224 471601 saw4 99 12 0 24 0 41 249 277963 saw5 99 12 0 17 0 36 201 979349 saw6 99 12 0 14 0 4 269 189524 saw7 99 12 0 03 0 38 252 376019 saw8 99 12 0 02 0 43 200 1217355 saw9 99 12 0 13 0 38 224 516276 saw10 99 12 0 17 0 4 226 549004 saw11 99 12 0 25 0 38 184 1611693 cl1 90 12 0 27 0 05 250 205600 cl2 90 12 0 28 0 02 199 592700 cl3 99 12 0 2 0 04 179 1982415 cl4 90 12 0 1 0 16 298 151700 cl5 99 12 0 31 0 38 201 513309 cl6 99 12 0 42 0 42 302 63011 cl7 99 12 0 3 0 48 190 984909 cl8 99 12 0 09 0 49 251 380053 cl9 99 12 0 03 0 06 249 334617 cl10 99 12 0 19 0 2 201 849199 cl11 99 12 0 19 0 34 201 1138300 ch1 80 12 0 07 1 63 269 140088 ch2 80 12 0 12 1 52 263 210665 ch3 80 12 0 17 1 35 247 539280 ch4 80 12 0 12 1 15 229 404503 ch5 80 12 0 02 1 01 253 560784 cm1 80 12 0 43 0 42 252 354052 cm2 80 12 0 39 0 44 264 267320 cm3 80 12 0 43 0 35 242 451699 cm4 80 12 0 47 0 37 226 1057498 cm5 80 12 0 49 0 38 235 487091 cm6 80 12 0 51 0 36 218 888604 cm7 80 12 0 58 0 34 260 229253 cm8 80 12 0 47 0 34 239 502035 cm9 80 12 0 49 0 32 218 1546593 cm10 80 12 0 46 0 37 230 892600 note submerged arc welding saw co2 laser welding without filler material cl co2 laser combined mag welding laser travels first ch co2 laser combined mag welding mag travels first cm table b2 welding defects and dimensions of butt joints in thin plates lillemäe et al 2012 table b2 specimens l mm t mm e mm α l α g σ nom mpa n cycles saw1 250 3 0 91 2 66 0 44 168 4 119003 saw2 250 3 0 51 2 66 0 08 195 1 203145 saw3 250 3 0 03 1 36 0 44 246 6 218561 saw4 250 3 0 18 0 89 0 03 211 8 392678 saw5 250 3 0 16 0 30 0 69 222 2 352400 saw6 250 3 0 03 1 03 1 03 238 3 163311 saw7 250 3 0 03 0 37 0 23 245 6 486429 saw8 250 3 0 21 0 09 0 82 265 1 107857 saw9 250 3 0 20 1 62 1 32 195 4 931049 saw10 250 3 0 13 1 62 2 24 194 6 748497 cl1 250 3 0 22 0 45 0 41 269 5 696921 cl2 250 3 0 21 0 44 0 34 291 3 691557 cl3 250 3 0 10 0 53 0 47 344 1 278731 cl4 250 3 0 08 0 48 0 48 296 1 1101327 cl5 250 3 0 07 0 49 0 46 278 0 919250 cl6 250 3 0 07 0 16 0 19 294 8 460822 cl7 250 3 0 10 0 10 0 16 277 9 562678 cl8 250 3 0 20 0 15 0 19 296 6 175681 cl9 250 3 0 21 0 16 0 32 328 0 146089 cl10 250 3 0 19 0 13 0 26 344 6 131451 note submerged arc welding saw co2 laser welding cl 
22746,compared with thick plate joints thin plates are prone to welding defects in the welding process such as initial welding deformation bending of base metal welding angle deformation and welding misalignment considering the influence of welding defects on fatigue strength the dnv and iiw specifications introduce the concept of stress amplification factor but the calculation formula of stress amplification factor recommended by the specification only considers the influence of welding angle deformation and welding misalignment on fatigue strength which does not consider the influence of initial welding deformation on the fatigue strength of thin plate joints in this paper considering the influence of welding angle deformation and initial welding deformation on thin plate butt joints the modified stress amplification factor calculation formula was proposed and the accuracy of the formula was verified by numerical results and experimental data in the literature keywords welding defects stress concentration effect thin plate fe analysis fatigue strength nomenclature c stress concentration coefficient due to welding misalignment e welding misalignment e the base of exponential function k notch stress concentration factor k 0 additional bending stress concentration factor k m stress magnification factor due to welding defects k m k t e k t α k t e stress concentration factor due to welding misalignment k t α stress concentration factor due to welding angle deformation k t α stress concentration factor due to welding angle deformation and initial deformation l distance between two support points n fatigue life t plate thickness w r width at weld root w t width at weld toe α angle between two plates α g global deformation angular α l local deformation angular μ poisson s ratio λ influence coefficient of boundary 1 introduction in order to reduce weight and energy consumption superstructures of super large ships have begun to use thin plate welded structures eggert and fricke 2012 lillemäe et al 2016 however due to the complex welding defects of thin plate structures the methods for fatigue assessment in current specifications of classification societies dnv 2014 hobbacher 2009 are not fully validated for thin plates less than 5 mm lillemäe et al 2012 yue et al 2018 if a modern welding process with low heat input such as laser welding is adopted certain parts of the hull structure can use a plate thickness lower than the currently considered limit of 5 mm lillemäe et al 2014 due to the low bending rigidity of the thin plate itself the initial deformation of thin plate close to weld is usually curved which adds a secondary bending moment under axial tensile load lillemäe et al 2016 which brings special challenges to the evaluation of the fatigue strength of the thin plate structure in addition it brings special challenges to stress concentration analysis and fatigue strength evaluation of welded joints of thin plate structures on the one hand in the design process of welded joints of ships it is assumed that the structure does not exceed allowable tolerances such as axial and angular misalignment given in shipbuilding standards that is the deviation from ideal structure to fabricated structure shall not exceed tolerances specified in relevant shipbuilding standards eggert et al 2012 production standard of the german shipbuilding industry 2003 sets a 10 tolerance limit for butt joints with axial misalignment and a 5 mm depth limit for lateral deformation however due to the application of high strength or high strength thin steel plates the deformation problem of the welded structure of the thin plate is more serious due to the large internal stress after processing and assembling thin plates will produce larger deformation after welding than the common steel plate moreover the stiffened plate structure with thin plate is more sensitive to deformation and welding defects caused by welding as shown in fig 1 maddox carried out finite element analysis on the butt joint of thin plates at a typical longitudinal reinforcement on the upper deck of a naval vessel the effects of axial deviation angular deformation and lateral deformation were considered in the calculation the results show that under the membrane stress the stress at the weld toe caused by idealized defects is much higher than that calculated by the standard formula eggert et al 2012 therefore the influence of actual welding defects must be considered when evaluating the stress field and fatigue strength of thin plate welded structures on the other hand the traditional fatigue design codes hobbacher 2009 dnv 2014 ideally consider the geometric shape of the welded plate to be straight on this basis the corresponding correction formula is adopted to consider the influence of initial defects although these correction formulas are effective for thicker welded plates they are no longer applicable for thinner plates because relatively large initial deformation in slender structures will lead to geometric nonlinearity of structural response as shown in fig 2 the international ship and offshore structures congress issc also summarized the welded structure of thin plates in the fatigue and fracture thematic report as follows for thicker plates t 5 mm the structural behavior is linear and plates are not curved closed to welds then analytical formulations for stress magnification factors are possible for thin plates t 5 mm the geometrical nonlinearity means in practice that the commonly used stress magnification factor given in classification rules is not suitable for thin plate structures thus further studies are required to develop new design methods as well as quality limits for the distortions therefore the influence of initial deformation shape and geometric nonlinearity must also be considered when evaluating the local stress of welded thin plate structures although some researchers lillemäe et al 2012 2017 eggert et al 2012 fricke et al 2015 remes et al 2017 have raised concerns about the initial deformation effect of thin plates a series of theoretical and numerical analyses on the influence of welding defects on thin plates are expected to be solved in the future based on the existing researches lillemäe et al 2012 yue et al 2018 this paper comprehensively considers the influence of welding defects and geometric nonlinearity on the stress field of the welded structure of thin plates in order to improve the prediction accuracy of fatigue strength of welded structures of thin plates in engineering the fatigue strength research of thin plate welded joints is carried out theoretically and numerically based on the theoretical formula of stress amplification factor the analytical formula of notch stress for thin plates was derived and recommended 2 stress amplification effect considering welding defects 2 1 welding defects on thick plate welded joint notch stress method is a local stress method based on linear elasticity theory which can simultaneously consider the influence of welding misalignment welding geometry size effect and other factors the correction of notch stress field is usually based on the defect free notch model multiplied by the stress concentration factor k dnv 2003 1 k σ notch σ nom k g k w k m where k g is the stress concentration factor due to welding geometry k w indicates weld geometry on stress concentration k m indicates the stress amplification factor considering welding misalignment and angular deformation k m k t e k t α for joints with small misalignment the dislocation effect is not very obvious for longitudinal members or complex cruciform joints the stress amplification effect at corners will increase by about 5 according to the statistical results of iiw hobbacher 2009 however maddox 1985 pointed out that the stress at corners can be increased to 30 for joints with large misalignment and the dislocation effect of thin plate specimens will be more obvious the stress amplification factor due to welding misalignment is often represented as 2 k t e 1 c e t where e is the welding misalignment and t is the plate thickness c is the stress concentration coefficient based on test results gunn et al 1960 recommended c 3 which was later applied to dnv 2003 and iiw hobbacher 2009 in the abs classification 1996 the value of c was changed to 1 5 however no justification for this has been found after theoretical deduction cui et al 1999 found that c is not a constant which is related to dislocation position and stress magnitude for the comparison of results the calculation value c in this paper is 3 0 maddox 1985 elaborated the influence of welding angle deformation on fatigue strength during the fatigue test of butt joints he found that the stress concentration coefficient at the joint was related to bending stress caused by welding angle deformation which led to the inconsistency between the fatigue test results and theoretical results stress concentration caused by welding defects can be expressed by stress amplification factor in the literature the calculation formula of stress amplification factor related to welding angular deformation was derived by using simple beam theory considering that welding defects have a great influence on the stress concentration factor maddox suggested setting an acceptable range for the stress amplification factor formula these formulas had been included in many fatigue design criteria such as bs 7910 1999 dnv 2003 and eurocode 3 2005 however maddox s formula for calculating the stress amplification factor of angular deformation is only applicable to thick plate butt joints with slenderness ratio l t 20 3 k t α 1 λ 4 α l t where λ is the influence coefficient of boundary 3 for clamped and 6 for pinned condition α is the angle between two plates after analysis it is found that with the increase of slenderness ratio the bending stiffness of butt joint decreases under different loads the stress amplification factor is no longer a constant but decreases with the increase of load kuriyama et al 1971 presented the stress amplification factor of angular deformation for thick welded plates with high slenderness ratio l t 20 the revised formula takes into account the influence of load on stress amplification factor when slenderness ratio is large and this formula was later included by iiw hobbacher 2009 4 k t α 1 λ 4 α l t b where b tanh β 2 β 2 for clamped and b tanh β β for pinned condition β l t 3 σ nom e 2 2 welding defects on thin plate welded joint in addition to welding dislocation and angle deformation the thin plate structure will be accompanied by initial deformation due to the low bending stiffness see fig 2 lillemäe et al 2012 calculated the stress amplification factor of thin welded joint plates with initial deformation by nonlinear finite element method compared with straight plates the stress amplification factor of curved plates is relieved to some extent with the increase of stress but the stress concentration phenomenon is more serious in order to find out the reason why the fatigue data of welded structure of thin plate is too scattered the geometric nonlinear analysis of thin plate structure needs to be combined with the actual shape of welded structure for analysis the model including both angular deformation and initial bending deformation is established as shown in fig 3 the local angular deformation α l is introduced to characterize the bending degree of thin plate in fig 3 after deduction see appendix a the modified stress concentration factor formula is renewed for thin plate butt joint 5 k t α 1 3 2 α g l t k 0 where k 0 is the additional bending stress coefficient 6 k 0 c 2 exp m ξ c 3 exp m ξ 2 c 1 m 2 where m 3 1 μ 2 σ e l t 2 and ξ 2 x l for clamped condition 7a c 2 c e m 1 2 m e m e m c 3 c e m 1 2 m e m e m for pinned condition 7b c 2 2 1 c c m e m m 2 e m e m c 3 2 1 c c m e m m 2 e m e m where c l 2 e tan α l 2 α l α g e is the base of exponential function 3 numerical analysis 3 1 joint geometry in order to consider the stress amplification effect of thin plates welded joints a series of thin plate welded joints plate thickness t 3 5 mm were investigated and simulated with ansys 14 5 lillemäe et al 2012 fricke et al 2015 the base plates had the yield strength r e h 466 mpa and the tensile strength r m was 572 mpa a linear elastic material behavior with young s modulus of 2 068 105 mpa and poisson s ratio 0 3 was assumed as shown in fig 4 and table 1 details of the butt joint geometry were described by lillemäe et al 2012 3 2 fe analysis for butt joints eq 1 can be simplified as 8 σ notch k m k w σ nom k w σ h s where k m k t e k t α is the stress magnification factor for comparison with the revised formula k m is also calculated by σ h s σ nom in fe method hot spot stress σ h s is obtained by linear extrapolation after calculation in fig 5 considering the size of welding defects fe method was adopted to calculate the hot spot stress and notch stress as shown in figs 5 and 3d solid 186 element has been adopted to establish a fine model considering welding geometry dimensions in table 1 in order to ensure the calculation accuracy mesh size and mesh sensitivity are discussed in fig 6 when the minimum mesh size at the corner was reduced to 0 5 mm the notch stress distribution with the distance form the corner would keep unchanged according to iiw fricke 2012 the element size near the corner is about 1 6 0 17 mm and far away from the corner is 0 2 5 mm under the axial stress on the right end all edge nodes on the left end are fixed for clamped condition while only u y is fixed in the right edge nodes similarly in order to ensure that the model can rotate freely around the z axis the line displacements of the left mid node are fixed and only u y is fixed in the right mid node by changing the slenderness ratio l t and deformation angle ratio α l α g hot spot stress and stress amplification factor of each model under different sizes are calculated in turn below taking the axial stress of 50 mpa as an example the results of stress distribution in x direction under different boundaries are presented in fig 7 when the initial deformation is not considered α l α g 1 it is found that the notch stress at the corner for pinned boundary is slightly larger than that of clamped boundary under the same nominal stress of 100 mpa the notch stress will be greatly increased if the initial deformation is considered in figs 8 and 9 for clamped boundary the maximum stress increased by 1 31 times for α l α g 2 5 see fig 8a and 1 80 times for α l α g 5 see fig 9a compared with the stress result of α l α g 1 see fig 7a for pinned boundary the maximum stress increased by 1 20 times for α l α g 2 5 see fig 8b and 1 55 times for α l α g 5 see fig 9b compared with the stress result of α l α g 1 see fig 7b the results show that the initial deformation of the thin plate butt joint has a great influence on the stress concentration effect at the weld toe and it is necessary to further revise the stress amplification factor for thin plates 3 3 error analysis of traditional correction formula 3 3 1 when the initial deformation is not considered α l α g 1 in the case of clamped boundary considering the initial deformation and angular misalignment of the butt joint of thin plates the error analysis on k t α between fe results and the formula calculation results of eq 4 are compared in tables 2 4 the applied tensile stress is 50 mpa 100 mpa 150 mpa 200 mpa 250 mpa 300 mpa and the global angular deformation α g is 2 3 and 4 respectively as shown in tables 2 4 the error between numerical results and eq 4 will not exceed 6 after statistical analysis as the slenderness ratio l t decreases the error further decreases in fig 10 it is concluded that the traditional eq 4 can accurately evaluate the stress amplification factor at the weld toe of joint when the initial deformation is not considered 3 3 2 α l α g assuming that the slenderness ratio is constant l t 250 3 and considering the influence of initial deformation α l α g the error analysis on k t α between fe results and eq 4 are compared in fig 11 according to the results in fig 11 it is found that eq 4 has a large error in defects correction for welded structure of thin plates with initial deformation which is not suitable for defect stress assessment of welded thin plate structures the maximum relative error of stress amplification factor k t α is 27 0 for α l α g 2 5 and 54 2 for α l α g 5 3 4 error analysis of the revised formula 3 4 1 firstly it is assumed that there is no initial deformation of the welded thin plate structure α l α g 1 and the evaluation results k t α of the revised formula 5 will be compared with those of the traditional formula 4 under different boundary conditions comparing the results in tables 5 and 6 and fig 12 it is found that when the influence of initial deformation of thin plate is not considered the results of the formula in this paper are close to those in the standard formula 4 with the maximum error about 10 therefore both formulas 4 and 5 can be used to correct the stress concentration factor of thick plate welded joints as for the influence of boundary effect the condition simple support will cause larger stress concentration effect under lower axial stress but with the increase of stress the influence of boundary effect will gradually weaken it can be seen from eq 4 that the value of k t α is actually only related to b when the angular deformation is not changed according to the change trend of hyperbolic tangent function the tangent function value tanh β gradually tends to 1 with the increase of β l t 3 σ nom e therefore with the further increase of stress the value of stress amplification factor k t α is less affected by the boundary in order to further verify the reliability of the stress amplification factor formula deduced in this paper the results of the modified formula 5 are also compared with the finite element calculation results under different boundaries in fig 13 the maximum relative error is no more than 7 in fig 13 for both clamped pinned boundaries all the results are acceptable for engineering practice 3 4 2 α l α g considering the influence of initial deformation α l α g the error analysis on k t α between fe results and eq 5 are also compared in figs 14 and 15 if the global deformation angle α g is kept unchanged the local deformation angle α l is gradually increased when α l α g 2 5 the relative error is 3 5 for clamped boundary in fig 14a and 2 6 for pinned boundary in fig 14b with the further increase of α l the error is only 2 for clamped boundary in figs 15a and 7 for pinned boundary in fig 15b it is concluded that the revised formula 5 can effectively reflect the influence of initial deformation on the stress concentration of welding corner 4 fatigue strength based on notch stress 4 1 analytical formula of notch stress as mentioned above the notch stress can simultaneously consider the influence of welding misalignment welding geometry size effect and other factors which is very suitable for stress field evaluation and fatigue strength evaluation of thin plate welded joints however due to the serious stress singularity effect at the notch the traditional solution of notch stress depends on the type and size of finite element in order to analyze the adverse effect of notch stress concentration on fatigue strength notch stress concentration coefficient needs to be obtained theoretically therefore in order to reduce the influence of mesh size on notch stress the analytical formula based on eq 5 was developed to evaluate the notch stress and fatigue strength of thin plate butt joints 9 σ notch k t e k t α k w σ nom k t e in the above formula is calculated according to eq 3 and k t α is calculated by eq 5 in order to obtain the notch stress the value of k w needs to be obtained k w indicates weld geometry on stress concentration the recommended value is k w 1 5 dnv 2003 in order to verify the validity of the above value k w 1 5 the results of a series of finite element models are analyzed in fig 16 it is concluded that k w has a weak variation versus the axial stress the diagram in fig 16a ranges from 1 48 to 1 52 for clamped boundary while the value k w change only from 1 49 to 1 51 for pinned boundary in fig 16b therefore the recommended value k w 1 5 will be used in this paper 4 2 results of thick plate welded joints considering the influence of welding defects on fatigue strength of thick plate welded joints a series of fatigue tests in reference remes et al 2010 were extracted and analyzed to verify the validity of the revised formula the results of 12 mm thick plate joints with arc welding laser welding and hybrid welding are summarized in appendix b the corresponding welding defects and dimensions of test joints are also described in table b1 specimens in reference remes et al 2010 were carried out using tensile loading with stress ratio r 0 and all the fatigue tests produced the specimen fracture fatigue results show that the influence of welding defects should be considered in order to improve the evaluation accuracy based on the notch stress method stress amplification factor in eq 4 and eq 5 are calculated separately to evaluate the fatigue performance of the experimental results in reference remes et al 2010 the results of nominal stress are compared with notch stress in fig 17 the results of nominal stress in fig 17a have greatly exceeded the recommended s n curve fat80 m 3 at n ref 2 10 6 the fatigue strength s 165 8 mpa is obviously higher than fat 225 3 which is quite conservative as verified above the evaluation results of eqs 4 and 5 are consistent regardless of the influence of initial deformation with the same scatter index t σ 1 35 t σ σ p s 2 3 σ p s 97 7 according to the evaluation results of the revised eq 5 the notch stress s n curve is fitted with the survival probability 97 7 10 log n 22 19 6 38 log s at n ref 2 10 6 the fatigue strength s is 266 1 mpa most of data points are on the upper side of the curve fat225 m 3 it is concluded that the traditional eq 4 and improved eq 5 can be used to evaluate the fatigue strength of thick plate joints when the initial deformation is not considered 4 3 results of thin plate welded joints in order to further verify the applicability of the revised formula for thin plate joints based on the notch stress method eq 5 was applied to evaluate the fatigue performance of the experimental results in reference lillemäe et al 2012 the optical measuring system with high resolution laser scanners was used to used in geometric measurement the longitudinal loading was applied with stress ratio of r 0 fatigue tests were performed for arc welded joints and laser welded joints in reference lillemäe et al 2012 and all the fatigue tests produced the specimen fracture see appendix table b2 the nominal stress and notch stress based on eqs 4 and 5 s n curves were fitted in fig 18 from the evaluation results of nominal stress the fatigue strength is 168 4 mpa at 2 10 6 cycles which is obviously higher than the recommended value fat 80 of butt joints considering the influence of welding misalignment and initial deformation the stress amplification factor and notch stress can be obtained with σ notch k t e k t α k w σ nom according to the evaluation results of the revised eq 5 the notch stress s n curve is fitted 11 log n 43 15 13 70 log s at n ref 2 10 6 the fatigue strength s is 364 8 mpa which is close to that of formula 4 s 374 1 compared with the evaluation result of formula 4 the scatter index t σ dropped from 1 89 to 1 76 as shown in fig 18 5 discussion and conclusions affected by welding process welding defects are inevitable moreover different welding processes have different effects on the geometry of welded joints due to a large welding fusion zone the traditional arc welding will bring the large local welding dislocation and welding deformation therefore laser welding or laser hybrid welding technology is introduced into the welding of hull thin plates laser welding causes a localized heat input with a narrow weld and initial deformation caused by small bending stiffness brings additional challenges to stress field and fatigue evaluation of thin plates 1 considering the influence of initial welding deformation of thin plate on stress concentration local angular deformation is introduced to characterize the initial welding deformation of thin plate butt joint with the increase of the local deformation angle the error of the stress amplification factor calculated by the traditional formula 4 becomes larger compared with the finite element results the maximum relative error is 54 2 α l α g 5 therefore the influence of initial deformation and geometric nonlinearity must be considered when evaluating the local stress of welded thin plate structures 2 according to the stress amplification factor formula of thick plates the corresponding theoretical formula for thin plates was deduced when α l α g 2 5 the relative error is 3 5 for clamped boundary and 2 6 for pinned boundary with the further increase of local deformation angle α l α g 5 the error is only 2 for clamped boundary and 7 for pinned boundary it is concluded that the modified eq 5 can accurately evaluate the stress amplification factor at the weld toe for both thick plate and thin plate joints 3 based on the theoretical formula of stress amplification factor the analytical formula of notch stress for thin plates was derived and recommended the results of thick plate welded joints show that the traditional formula and the modified formula have the same evaluation accuracy for thick plate joints compared with the results of nominal stress the scatter band of s n curve in notch stress is obviously reduced for thin plate joints compared with the evaluation result of formula 4 the scatter index dropped from 1 89 to 1 76 it is concluded that the revised formula 5 has higher accuracy in correcting the stress concentration effect of thin plate joints acknowledgements the research project is supported by the national natural science foundation of china grant no 51609185 and the fundamental research funds for the central universities no 195202014 2018 ys 023 appendix a stress amplification factor considering initial deformation fig a1 demonstrates the model of thin plate butt joint considering initial deformation taking the clamped fixed boundary as the example the revised stress concentration factor formula k t α will be derived below fig a1 model of thin plate butt joint considering initial deformation for clamped boundary fig a1 the total bending deformation y m includes initial deformation y 0 and deformation caused by external load y a1 y m y 0 y micro mechanics model of thin plate butt joint is shown in fig a2 according to the equilibrium relation a2 d v d x 0 a3 v d m d x n d y m d x where n σ t for unit width plate and for the bending of thin plates a4 m d d 2 y d x 2 where d is the bending rigidity a5 d e t 3 12 1 μ 2 fig a2 micro mechanics model of thin plate butt joint fig a2 eq a3 is further expanded a6 v d d 2 y d x 2 n d y d x n d y 0 d x defining dimensionless parameters a7 ζ y e 0 η 0 y 0 e 0 ξ 2 x l where e 0 is the misalignment of endpoint from coordinates origin in fig a1 to solve eq a6 a8 d d ξ d 3 ζ d ξ 3 m 2 d ζ d ξ m 2 d η 0 d ξ 0 where m 2 3 1 μ 2 σ e l t 2 the symmetry condition is assumed a9 d 3 ζ d ξ 3 m 2 d ζ d ξ m 2 d η 0 d ξ then the maximum bending stress σ b is derived based on eq a9 a10 σ b 6 σ e 0 t k 0 where k 0 is defined as the additional bending stress coefficient k 0 1 m 2 d 2 ζ d ξ 2 the revised stress concentration factor formula k t α is defined based on eq a10 a11 k t α 1 6 e 0 t k 0 1 3 2 α g l t k 0 as can be seen from eq a11 k 0 is the key to solving the problem of stress concentration factor as shown in fig a1 the following boundary conditions is met a12 y 0 0 0 y 0 0 tan α l 2 y 0 l 2 e 0 to simplify the calculation the displacement function is assumed a13 y 0 x a x 2 b x c simultaneous eqs a12 a13 a14 η 0 1 c ξ 2 c ξ where c l 2 e 0 tan α l 2 α l α g substituting eq a14 into eq a9 then a15 ζ c 1 c ξ c 2 exp m ξ c 3 exp m ξ c 1 ξ 2 under the clamped boundary a16 ξ 0 d ζ d ξ 0 ξ 1 ζ d ζ d ξ 0 the bending stress concentration factor can be obtained by eq a10 a15 and a16 a17 k 0 c 2 exp m ξ c 3 exp m ξ 2 c 1 m 2 where c 2 and c 3 are the functions related to welding geometry for the clamped condition a18 c 2 c e m 1 2 m e m e m c 3 c e m 1 2 m e m e m for pinned boundary a19 ξ 0 d ζ d ξ 0 ξ 1 ζ d 2 ζ d ξ 2 0 then a20 c 2 2 1 c c m e m m 2 e m e m c 3 2 1 c c m e m m 2 e m e m where e is the base of exponential function appendix b geometric dimensions and fatigue life of butt joints containing welding defects table b1 welding defects and dimensions of butt joints in thick plates remes et al 2010 table b1 specimens l mm t mm e mm α g σ nom mpa n cycles saw1 99 12 0 25 0 51 199 1037495 saw2 99 12 0 29 0 46 181 2041188 saw3 99 12 0 32 0 39 224 471601 saw4 99 12 0 24 0 41 249 277963 saw5 99 12 0 17 0 36 201 979349 saw6 99 12 0 14 0 4 269 189524 saw7 99 12 0 03 0 38 252 376019 saw8 99 12 0 02 0 43 200 1217355 saw9 99 12 0 13 0 38 224 516276 saw10 99 12 0 17 0 4 226 549004 saw11 99 12 0 25 0 38 184 1611693 cl1 90 12 0 27 0 05 250 205600 cl2 90 12 0 28 0 02 199 592700 cl3 99 12 0 2 0 04 179 1982415 cl4 90 12 0 1 0 16 298 151700 cl5 99 12 0 31 0 38 201 513309 cl6 99 12 0 42 0 42 302 63011 cl7 99 12 0 3 0 48 190 984909 cl8 99 12 0 09 0 49 251 380053 cl9 99 12 0 03 0 06 249 334617 cl10 99 12 0 19 0 2 201 849199 cl11 99 12 0 19 0 34 201 1138300 ch1 80 12 0 07 1 63 269 140088 ch2 80 12 0 12 1 52 263 210665 ch3 80 12 0 17 1 35 247 539280 ch4 80 12 0 12 1 15 229 404503 ch5 80 12 0 02 1 01 253 560784 cm1 80 12 0 43 0 42 252 354052 cm2 80 12 0 39 0 44 264 267320 cm3 80 12 0 43 0 35 242 451699 cm4 80 12 0 47 0 37 226 1057498 cm5 80 12 0 49 0 38 235 487091 cm6 80 12 0 51 0 36 218 888604 cm7 80 12 0 58 0 34 260 229253 cm8 80 12 0 47 0 34 239 502035 cm9 80 12 0 49 0 32 218 1546593 cm10 80 12 0 46 0 37 230 892600 note submerged arc welding saw co2 laser welding without filler material cl co2 laser combined mag welding laser travels first ch co2 laser combined mag welding mag travels first cm table b2 welding defects and dimensions of butt joints in thin plates lillemäe et al 2012 table b2 specimens l mm t mm e mm α l α g σ nom mpa n cycles saw1 250 3 0 91 2 66 0 44 168 4 119003 saw2 250 3 0 51 2 66 0 08 195 1 203145 saw3 250 3 0 03 1 36 0 44 246 6 218561 saw4 250 3 0 18 0 89 0 03 211 8 392678 saw5 250 3 0 16 0 30 0 69 222 2 352400 saw6 250 3 0 03 1 03 1 03 238 3 163311 saw7 250 3 0 03 0 37 0 23 245 6 486429 saw8 250 3 0 21 0 09 0 82 265 1 107857 saw9 250 3 0 20 1 62 1 32 195 4 931049 saw10 250 3 0 13 1 62 2 24 194 6 748497 cl1 250 3 0 22 0 45 0 41 269 5 696921 cl2 250 3 0 21 0 44 0 34 291 3 691557 cl3 250 3 0 10 0 53 0 47 344 1 278731 cl4 250 3 0 08 0 48 0 48 296 1 1101327 cl5 250 3 0 07 0 49 0 46 278 0 919250 cl6 250 3 0 07 0 16 0 19 294 8 460822 cl7 250 3 0 10 0 10 0 16 277 9 562678 cl8 250 3 0 20 0 15 0 19 296 6 175681 cl9 250 3 0 21 0 16 0 32 328 0 146089 cl10 250 3 0 19 0 13 0 26 344 6 131451 note submerged arc welding saw co2 laser welding cl 
22747,as one of the main ways to obtain marine data marine buoys have the advantages of low cost and little environmental restrictions so far a variety of buoys with different functions have been developed and buoy internal loading power systems mooring systems and hydrodynamic performances have become research hotspots but few scholars pay close attention to buoy design therefore this paper focuses on the design for pillar buoys to improve their stability in rolling to obtain the geometric parameters first the mathematical models is established for an ideal floating structure and then the rolling analysis of small waterplane area pillar buoy swap and novel small waterplane area pillar buoy nswap are performed it shows that small waterplane area can help reduce the rolling angle the prototype of nswap is built and its experiments in water flume are carried out at the wave height of 0 1 m 0 2 m and 0 3 m taking the maximum rolling angle as an indicator the analysis of experiments data proves that the experiment basically meets the design value and nwap shows good rolling stability this paper can be a guideline for further research in rolling analysis and floating structure design keywords rolling maximum rolling angle pillar buoys small waterplane area wave slope 1 introduction there are abundant resources in the ocean and the development and utilization of the ocean is of great significance to human beings khojasteh et al 2018 the main ways to obtain marine environmental data include coastal marine stations ship navigation satellite remote sensing and marine data buoys venkatesan et al 2016 yong hua 2012 in the field of offshore and long term oceanographic data observation marine data buoys have the unique advantages of low cost and little environment restrictions compared with other observational pathways which can make up for the shortage of other marine data acquisition methods they are extremely important to the activities such as disaster prevention mitigation and hydrological data acquisition and have become common observation devices for researchers to obtain marine environmental information hydrological data and marine climate data barbariol et al 2019 borgne et al 2012 from 1980s many institutes have developed a variety of marine data buoys for different purposes the continental shelf institute iku and the christian michelsens institute in bergen developed a buoy with wave direction measurement capability barstow et al 1986 and they carried out oceanographic and meteorological measurements with several buoys of this type griffo et al 2014 came up with a new structure that adopted spectroscopy method to detect in situ sea water data but the instruments and apparatuses inside the buoy suffered from vibration waves and shocks in addition their collected signals must be processed according to advanced techniques functioning as spatial filters moroni et al 2016 integrated electronic nose into the mooring buoy system which in a given circumstance could detect the hydrocarbons in ocean and transmit the information to the receivers through the marine information system mis system jouybari et al 2019 installed a measurement system with an inertial measurement unit imu sensor mounted on a lightweight buoy to determine the position of the buoy for oceanographic observations it is worth of noting that in the design process of buoys more attention has been paid to the sensor measurement system data transmission system and wave energy generation device installed in the buoy liu et al 2015 yang 2015 wang 2015 and there are few studies on the interaction between buoys and waves furthermore for the buoys with mooring system the pitch and rolling of mooring system have great impact on buoy dynamic analysis and sufficient studies have tackled this kim et al 2013 zhu et al 2016 however they are only preferable for the purpose of dynamic coupling of buoys and their mooring systems for buoys with power take off pto inside more interests go to the movement of buoys free of mooring system along with waves zang et al 2018 pozzi et al 2018 some researchers have also studied the influence of buoys geometric parameters and structural types on capturing wave energy efficiency for example shi focused on the motion of buoys with different masses and cross section areas and further optimized the design of conical bottom buoys shi et al 2019 chen et al mainly analyzed how the structure of buoy i e a cylindrical buoy and a hemispherical buoy influences the force and conversion efficiency of buoys in low wave energy density seas in addition they investigated the force pitch response amplitude operator and conversion efficiency of the buoys in irregular waves their goal is to select the buoy with better structure that is able to capture wave energy by making full use of pitching movement chen et al 2019 due to the increasingly complex work requirements and harsh sea condition more measurement equipment and communication devices are mounted in the buoy thus the stability and space have become the primary conzcern of buoy design to ensure the performance of the apparatuses tomizawa et al 2010 therefore our paper proposes a novel buoy design with a small waterplane area based on its rolling analysis this paper consists of four parts after the introduction section two first carries out the mathematical analysis of rolling motion for any given floating structures and specifically investigates the rolling of buoys from the aspects of geometric parameters internal damping density and wave information in section three the parameters of a buoy prototype are obtained and the model tests are conducted in a wave flume to validate the relationship between rolling angle and wave slope the differences between the theoretical and experimental results are analyzed in details in section four the conclusion remarks are given in section five 2 mathematical analysis of rolling motion in section 2 1 the mathematic model of rolling motion of an arbitrary floating structure is established with an analytical method in section 2 2 the maximum rolling angle mra of an idea pillar buoy is calculated based on the mathematical model and the influence of internal damping and average density of buoys are studied on mra that is an important parameter to characterize rolling motion resulting from 2 2 section 2 3 brings forth a swap with uneven density and analyses the impacts of different density distribution and wave frequencies on mra section 2 4 proposes nswap with sufficient space and satisfactory stability 2 1 mathematical model of rolling motion for an arbitrary floating structure fig 1 shows the sketch of rolling motion for an arbitrary floating structure define that the rotation around the x axis is called rolling in this paper and φ φ and φ are rolling angle rolling angular velocity and rolling angular acceleration respectively in order to simplify the analysis the following assumptions are made the wave satisfies the freud krylov hypothesis that the presence of the buoy would not affect the internal pressure field of wave and its motion the rolling is considered to be an equivolume inclination i e the volume of the immerse body equals to that of the emerged body in fig 1 sketch of rolling motion for an arbitrary floating structure φ is rolling angle and φ is wave slope this paper mainly discusses the design of buoys so a buoy is used instead of arbitrary floating structure in fig 1 according to the principle of dynamic balance the total torque should be zero so the govern equation of rolling motion can be expressed as below 1 1 δ i φ d φ r φ m φ δ i φ r φ 0 in which d φ is the roll damping moment r φ is the restoring moment m φ is the damping moment caused by the devices installed inside the buoy i and δi are the moment of inertia of the mass and that of the added mass respectively and r φ is the restoring disturbance moment generated by wave for roll damping moment in general it consists of five parts according to their sources i e friction damping eddy making damping wave making damping lift damping and bilge keel damping himeno 1981 since this paper discusses the zero speed buoy without bilge neither the lift damping nor the bilge keel damping are taken into account in addition the friction damping takes a small proportion in the total damping and it is regarded safe to neglect it as well therefore only friction and wave making damping are included in the calculation of d φ as shown in spouge 1988 2 d φ g b l φ b n φ φ in which b l and b n are linear damping coefficient and non linear damping coefficient respectively the smaller the rolling angle is the less error to assume b n to be zero in our research the rolling angle is no larger than 30 and takes b n as zero when a buoy rolls its center of buoyancy and the center of gravity are not in the same vertical line the restoring moment r φ is formed similarly waves change the shape of the underwater body and thus generate the restoring disturbance moment r φ 3 r φ m g h m φ 4 r φ m g h m φ in which m is the mass g is the gravity acceleration and h m is the initial stability height when the rolling angle is small its center of buoyancy moves along an arc so the restoring arm is regarded as a linear function of the rolling angle to calculate m φ the devices inside of a buoy can be expressed as a combination of a linear damper and a linear spring its mathematical model is 5 m φ g k φ b p φ in which k is the coefficient of elasticity b p is the damping coefficient when there is no power take off device inside the buoy k equals zero substitute eq 2 eq 3 eq 4 eq 5 into eq 1 to obtain a govern equation of rolling motion 6 φ g b l b p i δ i φ m g h m i δ i φ δ i i δ i φ m g h m i δ i φ eq 6 can be rewritten as 7 φ a 1 φ a 2 φ b 1 φ a 2 φ 8 a 1 g b l b p i δ i 9 a 2 m g h m i δ i 10 b 1 δ i i δ i the rolling of the buoy in regular waves is composed of free rolling and forced rolling given enough time its free rolling approaches to zero and would not be considered in the analysis furthermore since the wave slope is defined as 11 φ φ m sin ω t the roll angle can be calculated with the formula 12 φ φ m sin ω t τ in which φ m is the maximum wave slope ω is wave circular frequency φ m is the mra τ is the phase difference substitute eq 11 and eq 12 into eq 7 the natural frequency ω φ and φ m can be obtained as follows 13 ω φ m g h m i δ i 14 φ m a 2 ω 2 b 1 φ m a 2 ω 2 2 a 1 2 ω 2 2 2 the rolling motion analysis for an ideal pillar buoy in this part to calculate the mra of an ideal pillar buoy and to analyze how its internal damping and average density influence its stability a group of buoy parameters and wave slops are listed as input based on the requirement of real work condition for example set m 1200 kg b l 100 kgms ρ 0 8ρ w ω 1 2 rad s and φ m 15 therefore the moment of inertia of such an ideal pillar buoy and its initial stability height of the buoy can be obtained by eq 15 and eq 16 15 i m r 2 4 m l 2 12 16 h m r 2 4 l ρ w ρ 2 ρ w l in which ρ is the average density of the buoy and ρ w is the density of seawater l and r is the height and radius of the buoy respectively substitute eq 15 eq 16 into eq 14 the mra can be calculated fig 2 depicts the mra varying with the buoy height under different internal damping it can be seen that when the height is less than 5 m or larger than 9 m the maximum rolling angles vary little although the internal damping changes from zero to 0 7 b l however in the resonance region where the height falls into the range of 5 9 m the change of b p does cause obvious change of mras since an appropriate buoy height avoids the resonance region b p would not be considered in the design of buoy this result can also be proved by binghao zhou i e the higher b p is the larger the mra will be in his research he worked on improving the energy capturing ability of a cylinder like buoy by using commercial software aqwa he made conclusion that increasing the damping of power take off device and the moment of inertia can help to capture more energy from buoy s rolling motion zhou 2018 to examine how the average density of buoy influences mra the calculation based on a group of different densities is carried out in addition the corresponding result is presented in fig 3 apparently the tendency is that the higher the average density is the smaller mra will be in the non resonance region the buoy with higher density is more preferable which is also proved by yantao liu 2014 2 3 the rolling motion analysis for swap the concept of small water plane area of a floating structure is derived from small waterplane area twin hull ship qian et al 2015 dubrovsky et al 2006 it means both the immersed volume and the emerged volume of a floating structure should be as small as possible and in ideal condition could approach to zero resulting in small or no overturning moment through reducing the water plane area it could improve the initial stability height and thereafter enhance the ability of anti rolling therefore for swap its water plane area should be small furthermore since the high average density of buoy is preferable based on the calculation of section 2 2 assign seawater density to swap in the design fig 4 is the sketch of a proposed swap with zero waterplane area it is composed of equipment cabin and buoyancy cabin the equipment cabin is generally used to load batteries and metal devices and its density is larger than that of seawater while the buoyancy cabin is mainly made of light materials and has lower density r is the radius of swap l 1 and m 1 are the height and mass of the equipment cabin respectively l 2 is the height of the cylindrical part of buoyancy cabin since the density of swap is fixed material of buoyancy cabin would influence its dimensions and further may have impact on swap stability the commonly used materials for buoyancy cabin mainly have three specifications of which their densities ρ b are 350 kg m3 400kg m3and 500 kg m3 here set b l 100 kgms ω 1 0 rad s φ m 15 and m 1 2200 kg for different materials fig 5 shows that the buoy s natural frequency presents a similar tendency with the change of buoy radius and fig 6 indicates that in non resonance region the type of material makes little difference and their corresponding mras are almost the same fig 6 shows the variation of the mra with the radius of the buoy when the radius is very small the mra of swap approaches zero and after the resonance occurs the maximum roll angle becomes small and is close to the maximum wave slope as can be seen from fig 5 the relationship between the swap s natural frequency and its radius exhibits a parabolic trend this indicates that with the increase of the buoy radius the chance of the resonance occurring twice exists to prove this assumption the analysis with different incident waves is performed here set ρ b 400 kg m3 and the rest parameters remain unchanged fig 7 displays that for ω 2 5 rad s and 2 8 rad s the resonance happens twice and the rest are not so obvious another interesting finding is that between two resonances there exists a certain range in which the change of radius hardly influences the buoy s mra this can be observed in fig 7 based on the analysis in section 2 3 three conclusions can be drawn listed below the buoy with small water plane area is preferable the material of buoyancy cabin will not affect the roll angle in non resonance region between the two resonances there is a geometric stability interval for pillar buoys in which the geometric features of the buoys hardly affect their rolling performances 2 4 the rolling analysis for a nswap to a buoy with a fixed load when the maximum roll angle reaches the minimum the radius of the buoy should be more than 0 8 m since its load is pre determined the height should be less than 0 1 m and this makes the installment of necessary equipment impossible therefore a nswap is proposed as shown in fig 8 it is made up of communication device low density cabin high density cabin and connecting rods this design can reduce the gravity center and improve the stability of the system it allows the independent design of high density cabin and makes the optimized arrangement of equipment inside of the cabin possible the similar analysis for nswap is conducted and the corresponding parameters are listed in table 1 the result in fig 9 proves that in non resonance region the maximum rolling angle is between 17 and 20 under φ m 15 which is regarded satisfactory hence the novel design is acceptable 3 the prototype of nswap and flume experiment the sketch of mswap is shown in fig 10 l y is connecting rod between floating balls and low density cabin through the similarity analysis the data from the scaled model can be applied to the prototype for the motion of nswap the relationship between the scaled model and the prototype is given as follows 17 m p m s λ 3 t p t s λ 1 2 ω p ω s λ 1 2 θ p θ s 1 in which m p t p ω p θ p are the mass the period the circular frequency and roll angle of the prototype and m s t s ω s θ s are the mass the period the circular frequency and roll angle of the scaled model respectively based on the dimensional analysis the geometric parameters of the prototype are calculated and listed in table 2 the prototype body is made of 306 stainless steel the floating balls are made of acrylic material the overall weight of the buoy prototype is 64 504 kg with the counterweigh in the basket included the prototype of nswap in fig 11 it mainly consists of floating balls a low density cabin and a high density cabin the floating balls have two main functions one is that when the buoy heaves the buoyancy increases after the floating balls entering the water that provides extra buoyancy force and reduces the heave motion the other is that when the buoy generates rolling motion the buoyancy force applied by the floating balls at the entry side forms a moment opposite to the inclination direction but same as that of the restoring moment and thus reduces the rolling angle of the buoy besides the high density cabin is designed as a basket and the parameters of the buoy like the gravity center waterplane area average density etc could be adjusted by the counterweight in the basket to validate the mra of nswap an experiment as shown in fig 12 was conducted at a hydrodynamics flume in zhejiang university the flume as shown in fig 13 is equipped with a wave generating device and its main parameters are listed in table 3 during the experiment first the free rolling attenuation time and the free heave attenuation time of the prototype are obtained and then three groups of forced rolling experiments are carried out with the same wave period i e 2 s but different wave heights i e 0 1 m 0 2 m and 0 3 m respectively it is discovered that the heave motion of the buoy is small in the three groups of experiments and its rolling frequency is close to that of the incident wave when the incident wave frequency is the same the higher the incident wave is the larger the rolling angle of the buoy will be 4 experimental results analysis and discussion in this section the rolling angle and wave slope data from three groups of forced rolling experiments are collected analyzed and fitted fig 14 shows the time history of rolling angle and wave slope at the wave height of 0 1 m and the wave period of 2 s both curves exhibit sinusoidal trend with mra 5 8 and the maximum wave slope 5 4 in general the rolling angle is greater than the corresponding wave slope which agrees well with the design parameters shown in fig 9 fig 15 presents the sinusoidal fitting curves and their fitting equations are obtained as follows 18 φ 5 167 sin 3 194 t 0 729 0 296 19 φ 2 827 sin 3 213 t 0 808 0 3245 20 φ m φ m 5 167 2 827 1 828 the second experiment is carried out at the wave height of 0 2 m and the rest parameters keep the same as fig 16 shows the rolling angle is still greater than the wave slope especially in crests and troughs here the mra is 11 1 and the maximum wave slope is 6 5 fig 17 shows the sinusoidal fitting curves and their corresponding fitting equations are obtained as follows 21 φ 8 328 sin 3 129 t 0 800 0 567 22 φ 4 581 sin 3 128 t 0 897 0 142 23 φ m φ m 8 328 4 581 1 818 the same experiment was performed at the wave height of 0 3 m compared with the previous two tests the rolling angle and the wave slope still show a similar pattern as displayed in fig 18 but the amplification effect φm φ m decreases this is because when the wave height of incident wave and the rolling angle increase the floating balls are immersed in water and generates buoyancy forming a restoring moment which helps decrease the roll angle fig 19 describes the sinusoidal fitting curves fitting equations are obtained as follow 24 φ 16 437 sin 3 111 t 3 701 0 312 25 φ 10 873 sin 3 128 t 3 639 0 059 26 φ m φ m 16 437 10 873 1 512 experimental data show that the rolling angle changes periodically under different wave conditions in addition the rolling angle is always slightly larger than the wave slope which is more obvious at the crest and the trough of the wave in addition the amplification effect in the three groups of experiment basically meets the design value when working in ocean the buoy generally has both rolling and heave motion for the prototype discussed in this paper the experiments show that its heave motion is small and has little influence on the results however the existence of heave motion would increase the waterplane area which is assumed to be zero in our design this might yield the underestimated initial stability height one of the solutions is to change the shape of the buoyancy cabin to minimize the immersed and emerged volume to sum up the experimental results are well matched with the theoretical ones based on the model established in chapter 2 4 nwap shows good rolling stability 5 conclusion in this paper a mswap design is proposed to meet the rolling stability requirements combining theoretical and experimental analysis the following conclusions have been drawn for pillar buoys the internal damping has little impact on their rolling stability in non resonance region the density of buoyancy cabin hardly affects the mra of swap in real working conditions the density distribution loading mass and geometric parameters of the buoys do not match the design value well but there is a geometric stability interval for pillar buoys in which the geometric features of the buoys hardly affect their rolling characteristics therefore this feature greatly improves the stability and flexibility of buoys nswap can meet the requirements of rolling stability and their geometric parameters can be independently designed according to the load and occupied space but the value of initial stability height will be underestimated in theoretical design for future work according to the theory in this paper more buoy prototypes with different geometric characteristics will be built and tested to figure out the effect of the geometric stability interval in addition six degree of freedom coupled motion will be study for buoys in different wave condition and we will work for extending the theory in this paper to other forms of floating structures acknowledgment this work was financially supported by the aircraft maritime survey and joint control laboratory of china satellite maritime detection department and national key research and development program of china under grant number of 2016yfc0300600 
22747,as one of the main ways to obtain marine data marine buoys have the advantages of low cost and little environmental restrictions so far a variety of buoys with different functions have been developed and buoy internal loading power systems mooring systems and hydrodynamic performances have become research hotspots but few scholars pay close attention to buoy design therefore this paper focuses on the design for pillar buoys to improve their stability in rolling to obtain the geometric parameters first the mathematical models is established for an ideal floating structure and then the rolling analysis of small waterplane area pillar buoy swap and novel small waterplane area pillar buoy nswap are performed it shows that small waterplane area can help reduce the rolling angle the prototype of nswap is built and its experiments in water flume are carried out at the wave height of 0 1 m 0 2 m and 0 3 m taking the maximum rolling angle as an indicator the analysis of experiments data proves that the experiment basically meets the design value and nwap shows good rolling stability this paper can be a guideline for further research in rolling analysis and floating structure design keywords rolling maximum rolling angle pillar buoys small waterplane area wave slope 1 introduction there are abundant resources in the ocean and the development and utilization of the ocean is of great significance to human beings khojasteh et al 2018 the main ways to obtain marine environmental data include coastal marine stations ship navigation satellite remote sensing and marine data buoys venkatesan et al 2016 yong hua 2012 in the field of offshore and long term oceanographic data observation marine data buoys have the unique advantages of low cost and little environment restrictions compared with other observational pathways which can make up for the shortage of other marine data acquisition methods they are extremely important to the activities such as disaster prevention mitigation and hydrological data acquisition and have become common observation devices for researchers to obtain marine environmental information hydrological data and marine climate data barbariol et al 2019 borgne et al 2012 from 1980s many institutes have developed a variety of marine data buoys for different purposes the continental shelf institute iku and the christian michelsens institute in bergen developed a buoy with wave direction measurement capability barstow et al 1986 and they carried out oceanographic and meteorological measurements with several buoys of this type griffo et al 2014 came up with a new structure that adopted spectroscopy method to detect in situ sea water data but the instruments and apparatuses inside the buoy suffered from vibration waves and shocks in addition their collected signals must be processed according to advanced techniques functioning as spatial filters moroni et al 2016 integrated electronic nose into the mooring buoy system which in a given circumstance could detect the hydrocarbons in ocean and transmit the information to the receivers through the marine information system mis system jouybari et al 2019 installed a measurement system with an inertial measurement unit imu sensor mounted on a lightweight buoy to determine the position of the buoy for oceanographic observations it is worth of noting that in the design process of buoys more attention has been paid to the sensor measurement system data transmission system and wave energy generation device installed in the buoy liu et al 2015 yang 2015 wang 2015 and there are few studies on the interaction between buoys and waves furthermore for the buoys with mooring system the pitch and rolling of mooring system have great impact on buoy dynamic analysis and sufficient studies have tackled this kim et al 2013 zhu et al 2016 however they are only preferable for the purpose of dynamic coupling of buoys and their mooring systems for buoys with power take off pto inside more interests go to the movement of buoys free of mooring system along with waves zang et al 2018 pozzi et al 2018 some researchers have also studied the influence of buoys geometric parameters and structural types on capturing wave energy efficiency for example shi focused on the motion of buoys with different masses and cross section areas and further optimized the design of conical bottom buoys shi et al 2019 chen et al mainly analyzed how the structure of buoy i e a cylindrical buoy and a hemispherical buoy influences the force and conversion efficiency of buoys in low wave energy density seas in addition they investigated the force pitch response amplitude operator and conversion efficiency of the buoys in irregular waves their goal is to select the buoy with better structure that is able to capture wave energy by making full use of pitching movement chen et al 2019 due to the increasingly complex work requirements and harsh sea condition more measurement equipment and communication devices are mounted in the buoy thus the stability and space have become the primary conzcern of buoy design to ensure the performance of the apparatuses tomizawa et al 2010 therefore our paper proposes a novel buoy design with a small waterplane area based on its rolling analysis this paper consists of four parts after the introduction section two first carries out the mathematical analysis of rolling motion for any given floating structures and specifically investigates the rolling of buoys from the aspects of geometric parameters internal damping density and wave information in section three the parameters of a buoy prototype are obtained and the model tests are conducted in a wave flume to validate the relationship between rolling angle and wave slope the differences between the theoretical and experimental results are analyzed in details in section four the conclusion remarks are given in section five 2 mathematical analysis of rolling motion in section 2 1 the mathematic model of rolling motion of an arbitrary floating structure is established with an analytical method in section 2 2 the maximum rolling angle mra of an idea pillar buoy is calculated based on the mathematical model and the influence of internal damping and average density of buoys are studied on mra that is an important parameter to characterize rolling motion resulting from 2 2 section 2 3 brings forth a swap with uneven density and analyses the impacts of different density distribution and wave frequencies on mra section 2 4 proposes nswap with sufficient space and satisfactory stability 2 1 mathematical model of rolling motion for an arbitrary floating structure fig 1 shows the sketch of rolling motion for an arbitrary floating structure define that the rotation around the x axis is called rolling in this paper and φ φ and φ are rolling angle rolling angular velocity and rolling angular acceleration respectively in order to simplify the analysis the following assumptions are made the wave satisfies the freud krylov hypothesis that the presence of the buoy would not affect the internal pressure field of wave and its motion the rolling is considered to be an equivolume inclination i e the volume of the immerse body equals to that of the emerged body in fig 1 sketch of rolling motion for an arbitrary floating structure φ is rolling angle and φ is wave slope this paper mainly discusses the design of buoys so a buoy is used instead of arbitrary floating structure in fig 1 according to the principle of dynamic balance the total torque should be zero so the govern equation of rolling motion can be expressed as below 1 1 δ i φ d φ r φ m φ δ i φ r φ 0 in which d φ is the roll damping moment r φ is the restoring moment m φ is the damping moment caused by the devices installed inside the buoy i and δi are the moment of inertia of the mass and that of the added mass respectively and r φ is the restoring disturbance moment generated by wave for roll damping moment in general it consists of five parts according to their sources i e friction damping eddy making damping wave making damping lift damping and bilge keel damping himeno 1981 since this paper discusses the zero speed buoy without bilge neither the lift damping nor the bilge keel damping are taken into account in addition the friction damping takes a small proportion in the total damping and it is regarded safe to neglect it as well therefore only friction and wave making damping are included in the calculation of d φ as shown in spouge 1988 2 d φ g b l φ b n φ φ in which b l and b n are linear damping coefficient and non linear damping coefficient respectively the smaller the rolling angle is the less error to assume b n to be zero in our research the rolling angle is no larger than 30 and takes b n as zero when a buoy rolls its center of buoyancy and the center of gravity are not in the same vertical line the restoring moment r φ is formed similarly waves change the shape of the underwater body and thus generate the restoring disturbance moment r φ 3 r φ m g h m φ 4 r φ m g h m φ in which m is the mass g is the gravity acceleration and h m is the initial stability height when the rolling angle is small its center of buoyancy moves along an arc so the restoring arm is regarded as a linear function of the rolling angle to calculate m φ the devices inside of a buoy can be expressed as a combination of a linear damper and a linear spring its mathematical model is 5 m φ g k φ b p φ in which k is the coefficient of elasticity b p is the damping coefficient when there is no power take off device inside the buoy k equals zero substitute eq 2 eq 3 eq 4 eq 5 into eq 1 to obtain a govern equation of rolling motion 6 φ g b l b p i δ i φ m g h m i δ i φ δ i i δ i φ m g h m i δ i φ eq 6 can be rewritten as 7 φ a 1 φ a 2 φ b 1 φ a 2 φ 8 a 1 g b l b p i δ i 9 a 2 m g h m i δ i 10 b 1 δ i i δ i the rolling of the buoy in regular waves is composed of free rolling and forced rolling given enough time its free rolling approaches to zero and would not be considered in the analysis furthermore since the wave slope is defined as 11 φ φ m sin ω t the roll angle can be calculated with the formula 12 φ φ m sin ω t τ in which φ m is the maximum wave slope ω is wave circular frequency φ m is the mra τ is the phase difference substitute eq 11 and eq 12 into eq 7 the natural frequency ω φ and φ m can be obtained as follows 13 ω φ m g h m i δ i 14 φ m a 2 ω 2 b 1 φ m a 2 ω 2 2 a 1 2 ω 2 2 2 the rolling motion analysis for an ideal pillar buoy in this part to calculate the mra of an ideal pillar buoy and to analyze how its internal damping and average density influence its stability a group of buoy parameters and wave slops are listed as input based on the requirement of real work condition for example set m 1200 kg b l 100 kgms ρ 0 8ρ w ω 1 2 rad s and φ m 15 therefore the moment of inertia of such an ideal pillar buoy and its initial stability height of the buoy can be obtained by eq 15 and eq 16 15 i m r 2 4 m l 2 12 16 h m r 2 4 l ρ w ρ 2 ρ w l in which ρ is the average density of the buoy and ρ w is the density of seawater l and r is the height and radius of the buoy respectively substitute eq 15 eq 16 into eq 14 the mra can be calculated fig 2 depicts the mra varying with the buoy height under different internal damping it can be seen that when the height is less than 5 m or larger than 9 m the maximum rolling angles vary little although the internal damping changes from zero to 0 7 b l however in the resonance region where the height falls into the range of 5 9 m the change of b p does cause obvious change of mras since an appropriate buoy height avoids the resonance region b p would not be considered in the design of buoy this result can also be proved by binghao zhou i e the higher b p is the larger the mra will be in his research he worked on improving the energy capturing ability of a cylinder like buoy by using commercial software aqwa he made conclusion that increasing the damping of power take off device and the moment of inertia can help to capture more energy from buoy s rolling motion zhou 2018 to examine how the average density of buoy influences mra the calculation based on a group of different densities is carried out in addition the corresponding result is presented in fig 3 apparently the tendency is that the higher the average density is the smaller mra will be in the non resonance region the buoy with higher density is more preferable which is also proved by yantao liu 2014 2 3 the rolling motion analysis for swap the concept of small water plane area of a floating structure is derived from small waterplane area twin hull ship qian et al 2015 dubrovsky et al 2006 it means both the immersed volume and the emerged volume of a floating structure should be as small as possible and in ideal condition could approach to zero resulting in small or no overturning moment through reducing the water plane area it could improve the initial stability height and thereafter enhance the ability of anti rolling therefore for swap its water plane area should be small furthermore since the high average density of buoy is preferable based on the calculation of section 2 2 assign seawater density to swap in the design fig 4 is the sketch of a proposed swap with zero waterplane area it is composed of equipment cabin and buoyancy cabin the equipment cabin is generally used to load batteries and metal devices and its density is larger than that of seawater while the buoyancy cabin is mainly made of light materials and has lower density r is the radius of swap l 1 and m 1 are the height and mass of the equipment cabin respectively l 2 is the height of the cylindrical part of buoyancy cabin since the density of swap is fixed material of buoyancy cabin would influence its dimensions and further may have impact on swap stability the commonly used materials for buoyancy cabin mainly have three specifications of which their densities ρ b are 350 kg m3 400kg m3and 500 kg m3 here set b l 100 kgms ω 1 0 rad s φ m 15 and m 1 2200 kg for different materials fig 5 shows that the buoy s natural frequency presents a similar tendency with the change of buoy radius and fig 6 indicates that in non resonance region the type of material makes little difference and their corresponding mras are almost the same fig 6 shows the variation of the mra with the radius of the buoy when the radius is very small the mra of swap approaches zero and after the resonance occurs the maximum roll angle becomes small and is close to the maximum wave slope as can be seen from fig 5 the relationship between the swap s natural frequency and its radius exhibits a parabolic trend this indicates that with the increase of the buoy radius the chance of the resonance occurring twice exists to prove this assumption the analysis with different incident waves is performed here set ρ b 400 kg m3 and the rest parameters remain unchanged fig 7 displays that for ω 2 5 rad s and 2 8 rad s the resonance happens twice and the rest are not so obvious another interesting finding is that between two resonances there exists a certain range in which the change of radius hardly influences the buoy s mra this can be observed in fig 7 based on the analysis in section 2 3 three conclusions can be drawn listed below the buoy with small water plane area is preferable the material of buoyancy cabin will not affect the roll angle in non resonance region between the two resonances there is a geometric stability interval for pillar buoys in which the geometric features of the buoys hardly affect their rolling performances 2 4 the rolling analysis for a nswap to a buoy with a fixed load when the maximum roll angle reaches the minimum the radius of the buoy should be more than 0 8 m since its load is pre determined the height should be less than 0 1 m and this makes the installment of necessary equipment impossible therefore a nswap is proposed as shown in fig 8 it is made up of communication device low density cabin high density cabin and connecting rods this design can reduce the gravity center and improve the stability of the system it allows the independent design of high density cabin and makes the optimized arrangement of equipment inside of the cabin possible the similar analysis for nswap is conducted and the corresponding parameters are listed in table 1 the result in fig 9 proves that in non resonance region the maximum rolling angle is between 17 and 20 under φ m 15 which is regarded satisfactory hence the novel design is acceptable 3 the prototype of nswap and flume experiment the sketch of mswap is shown in fig 10 l y is connecting rod between floating balls and low density cabin through the similarity analysis the data from the scaled model can be applied to the prototype for the motion of nswap the relationship between the scaled model and the prototype is given as follows 17 m p m s λ 3 t p t s λ 1 2 ω p ω s λ 1 2 θ p θ s 1 in which m p t p ω p θ p are the mass the period the circular frequency and roll angle of the prototype and m s t s ω s θ s are the mass the period the circular frequency and roll angle of the scaled model respectively based on the dimensional analysis the geometric parameters of the prototype are calculated and listed in table 2 the prototype body is made of 306 stainless steel the floating balls are made of acrylic material the overall weight of the buoy prototype is 64 504 kg with the counterweigh in the basket included the prototype of nswap in fig 11 it mainly consists of floating balls a low density cabin and a high density cabin the floating balls have two main functions one is that when the buoy heaves the buoyancy increases after the floating balls entering the water that provides extra buoyancy force and reduces the heave motion the other is that when the buoy generates rolling motion the buoyancy force applied by the floating balls at the entry side forms a moment opposite to the inclination direction but same as that of the restoring moment and thus reduces the rolling angle of the buoy besides the high density cabin is designed as a basket and the parameters of the buoy like the gravity center waterplane area average density etc could be adjusted by the counterweight in the basket to validate the mra of nswap an experiment as shown in fig 12 was conducted at a hydrodynamics flume in zhejiang university the flume as shown in fig 13 is equipped with a wave generating device and its main parameters are listed in table 3 during the experiment first the free rolling attenuation time and the free heave attenuation time of the prototype are obtained and then three groups of forced rolling experiments are carried out with the same wave period i e 2 s but different wave heights i e 0 1 m 0 2 m and 0 3 m respectively it is discovered that the heave motion of the buoy is small in the three groups of experiments and its rolling frequency is close to that of the incident wave when the incident wave frequency is the same the higher the incident wave is the larger the rolling angle of the buoy will be 4 experimental results analysis and discussion in this section the rolling angle and wave slope data from three groups of forced rolling experiments are collected analyzed and fitted fig 14 shows the time history of rolling angle and wave slope at the wave height of 0 1 m and the wave period of 2 s both curves exhibit sinusoidal trend with mra 5 8 and the maximum wave slope 5 4 in general the rolling angle is greater than the corresponding wave slope which agrees well with the design parameters shown in fig 9 fig 15 presents the sinusoidal fitting curves and their fitting equations are obtained as follows 18 φ 5 167 sin 3 194 t 0 729 0 296 19 φ 2 827 sin 3 213 t 0 808 0 3245 20 φ m φ m 5 167 2 827 1 828 the second experiment is carried out at the wave height of 0 2 m and the rest parameters keep the same as fig 16 shows the rolling angle is still greater than the wave slope especially in crests and troughs here the mra is 11 1 and the maximum wave slope is 6 5 fig 17 shows the sinusoidal fitting curves and their corresponding fitting equations are obtained as follows 21 φ 8 328 sin 3 129 t 0 800 0 567 22 φ 4 581 sin 3 128 t 0 897 0 142 23 φ m φ m 8 328 4 581 1 818 the same experiment was performed at the wave height of 0 3 m compared with the previous two tests the rolling angle and the wave slope still show a similar pattern as displayed in fig 18 but the amplification effect φm φ m decreases this is because when the wave height of incident wave and the rolling angle increase the floating balls are immersed in water and generates buoyancy forming a restoring moment which helps decrease the roll angle fig 19 describes the sinusoidal fitting curves fitting equations are obtained as follow 24 φ 16 437 sin 3 111 t 3 701 0 312 25 φ 10 873 sin 3 128 t 3 639 0 059 26 φ m φ m 16 437 10 873 1 512 experimental data show that the rolling angle changes periodically under different wave conditions in addition the rolling angle is always slightly larger than the wave slope which is more obvious at the crest and the trough of the wave in addition the amplification effect in the three groups of experiment basically meets the design value when working in ocean the buoy generally has both rolling and heave motion for the prototype discussed in this paper the experiments show that its heave motion is small and has little influence on the results however the existence of heave motion would increase the waterplane area which is assumed to be zero in our design this might yield the underestimated initial stability height one of the solutions is to change the shape of the buoyancy cabin to minimize the immersed and emerged volume to sum up the experimental results are well matched with the theoretical ones based on the model established in chapter 2 4 nwap shows good rolling stability 5 conclusion in this paper a mswap design is proposed to meet the rolling stability requirements combining theoretical and experimental analysis the following conclusions have been drawn for pillar buoys the internal damping has little impact on their rolling stability in non resonance region the density of buoyancy cabin hardly affects the mra of swap in real working conditions the density distribution loading mass and geometric parameters of the buoys do not match the design value well but there is a geometric stability interval for pillar buoys in which the geometric features of the buoys hardly affect their rolling characteristics therefore this feature greatly improves the stability and flexibility of buoys nswap can meet the requirements of rolling stability and their geometric parameters can be independently designed according to the load and occupied space but the value of initial stability height will be underestimated in theoretical design for future work according to the theory in this paper more buoy prototypes with different geometric characteristics will be built and tested to figure out the effect of the geometric stability interval in addition six degree of freedom coupled motion will be study for buoys in different wave condition and we will work for extending the theory in this paper to other forms of floating structures acknowledgment this work was financially supported by the aircraft maritime survey and joint control laboratory of china satellite maritime detection department and national key research and development program of china under grant number of 2016yfc0300600 
22748,human in the loop hitl system is referred to as a promising technology to extend human actions and intelligences to deep ocean many applications of hitl demand the remotely operated vehicle rov to track a desired target point however the cyber and physical constrained characteristics on rov make it challenging to achieve the tracking task this paper is concerned with a tracking control problem for the rov subjected to time varying delay in cyber channels and actuator saturation in physical channels we design a model free proportional derivative pd controller to enforce the position tracking of rov for the proposed controller lyapunov krasovskii functions are constructed to analyze the stability and then the sufficient conditions are provided to show that the tracking controller can stabilize rov in order to estimate and optimize the domain of attraction doa the stability conditions are rearranged into a form of linear matrix inequalities lmis through which the required initial stability conditions can be developed finally simulation and experiment results are performed to validate the effectiveness it is demonstrated that the designed tracking controller can guarantee asymptotic stability while the doa in this paper can be significantly enlarged as compared with the other ones keywords tracking rov time delay actuator saturation 1 introduction with the advances of marine robotics technology remotely operated vehicle rov has increasingly been recognized as a flexible sensing and computational platform for a variety of applications such as marine environment monitoring pipeline detecting port surveillance and safety systems zhang 2016 however in some dynamic and dangerous scenarios e g rescue for nuclear leak the pure autonomy is not sufficient for rov to accomplish rapid response operations in such scenarios the concept of human in the loop hitl was proposed vasilijevic et al 2017 where human interferes with rov based on all available measurement data the hitl system extends the actions and intelligences of human to remote locations and allows rov to concentrate on rapid response operations an illustration of hitl system is shown in fig 1 in hitl system human in control center decides the desired position of rov and then sends control commands to rov through the relay of buoys the most critical problem for human is to design appropriate tracking controller such that rov can arrive at the desired target point to address this problem a number of tracking controllers have been developed for instance ye et al 2015 used cascaded system and backstepping method to design a tracking controller ferreira et al 2018 presented a multivariable control strategy where the unknown disturbances and identification errors were both considered chao et al 2018 incorporated model predictive algorithm into the tracking control of underwater vehicle these tracking controllers are well developed by using full or partial knowledge of the vehicle dynamics however the calculation of underwater vehicle dynamics is highly complex and computationally complicated and sometimes it is impossible to acquire exact parameters of dynamics inspired by this lei et al 2017 proposed three exponentially convergent robust controllers to drive a vehicle to the desired trajectory in kim et al 2016 an integral sliding mode controller was proposed for the tracking control problem also of relevance our previous works yan et al 2019a and yan et al 2019b integrated the asynchronous localization algorithm into the tracking control process nevertheless these results do not consider the effect of communication delay it is noted that the propagation delay of acoustic speed 1500 m s is five orders of magnitude higher than in radio frequency terrestrial channels 3 10 8 m s in particular the existence of even a small communication delay can cause the instability of control system to address tracking problem associated with the communication delay mukherjee et al 2015 adopted an auxiliary signal to compensate the constant delay through which a delay based tracking controller was developed in yan et al 2018b a leader follower strategy was employed to ensure the achievement of target tracking several other delay based controllers were also developed for example see yang et al 2013 zhao and hu 2017 however the communication delays in the above works are assumed to be constant due to the movement of rov the relative distance between rov and control center is time varying which results in a time varying property of communication delays per knowledge of the authors how to design a tracking controller to stabilize the time varying rov system is not well studied moreover all physical control devices including the thrusters in rov are inherently subject to actuator saturation once the actuator has reached its input limit any effort to further increase the actuator output will result in no variation for the output the ignorance of actuator saturation in control design can lead to system instability hu and lin 2005 inspired by this many methods have been developed to address the actuator saturation li and lin 2015 2017 hashemzadeh et al 2013 yan et al 2016 2018a nevertheless these methods are not developed in the context of underwater or surface vehicle and it is not easy to apply these methods to rov in du et al 2016 the actuator saturation was considered into the dynamic localization of surface vehicle also of relevance fu and yu 2018 jointly considered the input saturation and disturbances through which a finite time tracking controller was developed for surface vehicle however the domain of attraction doa was not discussed in the above two literature as we know the doa is an important index to evaluate the system conservation in kim 2015 the doa was discussed for the tracking of underwater vehicle of note the estimation of doa in kim 2015 was based on the single ellipsoid assumption however the doa with single ellipsoid assumption is much smaller than the ones with multi ellipsoid assumption li and lin 2013 by relaxing the single ellipsoid assumption the estimation of doa for a tracking controller to stabilize the delayed rov system is largely unexplored this paper investigates the tracking control problem for a rov in the presence of time delay and actuator saturation constraints a model free pd controller is designed to enforce the position tracking of the rov for the proposed controller a high proportional gain results in a large change in the output for a given error change while the derivative term has the effect of reducing the overshoot and improving the transient response moreover lyapunov analysis is involved to provide the stability conditions and the doa is estimated with the multi ellipsoid assumption main contributions lie in two aspects 1 tracking controller design a model free pd tracking controller is designed for the rov while the sufficient stability conditions are given to stabilize the system different from the existing works yang et al 2013 zhao and hu 2017 the time varying delay and the actuator saturation are both considered in our proposed controller 2 estimation of the doa doa is estimated and optimized by using linear matrix inequalities lmis through which rov can adjust its initial state to guarantee the tracking stability different from kim 2015 the convex hull in this paper relies on multiple ellipsoids such that the doa in this paper is much larger than the one in kim 2015 the remainder of this paper is organized as follows section 2 includes the model and problem formulation in section 3 controller design and stability analysis are presented simulations and experiments of the proposed method are provided in section 4 followed by conclusion in section 5 we use the following notations throughout this paper for u r n sat u denotes the standard saturation function particularly the ith component of sat u is denoted by sat u i sgn u i min 1 u i for k 1 z and k 2 z it is defined that λ k 1 k 2 k 1 k 1 1 k 2 where k 1 k 2 for positive definite matrix p r n n and scalar ρ r the ellipsoid ε p ρ is denoted by ε p ρ x r n x t p x ρ for matrix h i r n n l h i is defined as l h i x r n h i l x 1 i λ 1 2 n l λ 1 n where h i l is the lth row of h i besides co denotes the convex hull of a set for simplicity ρ is set as 1 in this paper through which the ellipsoid ε p 1 is abbreviated as ε p 2 model and problem formulation as shown in fig 2 rov is uniquely determined by six degrees of freedom dof particularly two reference frames are introduced to describe the dynamics of rov fossen 1994 i e body fixed reference frame brf and inertial reference frame irf in brf v u υ w p q r t denotes the linear and angle velocity vector of rov where u υ and w represent the linear velocities on surge sway and heave respectively meanwhile p q and r are the angle velocities on roll pitch and yaw respectively without loss of generality it is assumed that the center of rov coincides with the origin of brf in irf η x y z ϕ θ ψ t represents the position and attitude vector of rov where x y and z are the positions on surge sway and heave respectively ϕ θ and ψ are the angles on roll pitch and yaw respectively accordingly the motion model of rov can be described as 1 η j η v m v c v v d v v g η f where m r 6 6 is the inertia matrix c v r 6 6 is the coriolis centripetal matrix d v r 6 6 is the hydrodynamic damping matrix g η r 6 is the vector of gravitational and buoyancy effects f r 6 describes the exerted force j η r 6 6 denotes the rotation matrices between brf and irf i e j η j 1 η 0 3 3 0 3 3 j 2 η where j 1 η cos ψ cos θ cos ψ sin θ sin ϕ sin ψ cos ϕ sin ψ sin ϕ cos ψ sin θ cos ϕ sin ψ cos θ sin θ sin ψ sin ϕ cos ψ cos ϕ sin ψ sin θ cos ϕ cos ψ sin θ sin θ cos θ sin ϕ cos θ cos ϕ and j 2 η 1 sin ϕ tan θ cos ϕ tan θ 0 cos ϕ sin ϕ 0 sin ϕ cos θ cos ϕ cos θ for facilitation of stability analysis the motion model 1 is rearranged as 2 m η c v η η d v η η g η τ where m j t m j 1 c v η j t c v m j 1 j j 1 g η j t g η and d v η j t d v j 1 τ j t f is the control input to be designed it should be emphasized that τ is restricted by a given saturation bound t r 6 i e each element τ l of τ satisfies τ l t l where t l 0 and l 1 6 model 2 has the following properties chao et al 2018 soylu et al 2016 property 1 inertia matrix m is symmetric positive definite and bounded i e 0 κ ˇ i m m t κ ˆ i for κ ˇ κ ˆ r property 2 matrix m 2 c v η is skew symmetric property 3 damping matrix is strictly positive definite i e d v η 0 property 4 gravitational torque g η is bounded i e each element g l η of g η satisfies g l η ε l where ε l 0 and l 1 6 as it is mentioned above the communication delay in underwater environment cannot be ignored inspired by this the communication delay from rov to control center is denoted as d c r t while the delay in reverse direction is denoted as d r c t accordingly the bidirectional delay can be defined as d t d c r t d r c t for stability analysis the following assumption is used assumption 1 d t is lower and upper bounded i e there exist positive scalars d 2 d 1 μ 1 and μ 2 such that d 1 d t d 2 and μ 1 d t μ 2 accordingly the position tracking problems are now detailed as follows problem 1 considering the time varying delay and actuator saturation constraints we aim to design a model free pd tracking controller and give its stability condition to guarantee state synchronization this problem is reduced to guarantee η x d where x d is the position and attitude vector for target point problem 2 with the proposed stability condition we aim to estimate and optimize the doa such that rov can adjust its initial states to guarantee the tracking stability this problem is reduced to construct an invariant convex hull with the assistance of multiple ellipsoids and then maximize the doa 3 controller design and stability analysis 3 1 design of the tracking controller in hitl rov sends its state to the control center through acoustic and electromagnetic links with the available measurements human decides the target point of rov and then sends control commands to rov in order to achieve the tracking task the position and attitude vectors for rov and target point are required to be synchronized i e η x d 0 with t then the model free pd tracking controller is designed as 3 τ sat k η t d t x d proportional control α η t d t derivative control g η where k r 6 6 and α r 6 6 are the gain matrices to be designed d t denotes the time varying delay in the cyber channels as defined in assumption 1 it is known that sat denotes the standard saturation functions and is bounded by μ i e each element of μ satisfies μ l t l ε l where l 1 6 the control framework is shown in fig 3 remark 1 it is noted that the time varying delay and the actuator saturation are both considered in tracking controller 3 when time varying delay and actuator saturation constraints are ignored in this paper the tracking controller 3 is the same as the one in martin and whitcomb 2018 thereby the tracking controller in martin and whitcomb 2018 is a special case of 3 3 2 stability condition and doa estimation for stability analysis the following lemmas are provided lemma 1 li and lin 2013 given feedback matrices k r n n and h i r n n if x l h i then 4 s a t k x c o e i k x e i h i x i 1 2 n where e is the set of n n diagonal matrices e i with 1 or 0 as its diagonal entries i e e e i i 1 2 n and e i i e i lemma 2 seuret and gouaisbaut 2013 given positive definite matrix r r n n for all continuous function ω in a b r n we have 5 l r ω 1 b a a b ω σ d σ t r a b ω σ d σ 3 b a ω t r ω where ω a b ω s d s 2 b a a b a s ω r drds lemma 3 seuret and gouaisbaut 2013 given positive integers n and m scalar β 0 1 positive definite matrix r r n n matrices w 1 r n m and w 2 r n m arbitrary vector ξ r m and the function θ β r defined by θ β r 1 β ξ t w 1 t r w 1 ξ 1 1 β ξ t w 2 t r w 2 ξ if there exists matrix x r n n such that r x r 0 the following inequality holds 6 min β 0 1 θ β r w 1 ξ w 2 ξ t r x r w 1 ξ w 2 ξ in this paper the initial state error of rov is defined as x 0 e 0 e 0 t while its state trajectory is ς t x 0 then the doa of origin is given as γ x 0 r 12 lim t ς t x 0 0 particularly a set is said to be invariant if all trajectories starting from the doa will remain in it in order to demonstrate the doa the bounds of initial values for rov tracking system are defined as 7 max θ d 2 0 e 0 θ δ 1 max θ d 2 0 e 0 θ δ 2 where e 0 η 0 x d denotes the initial error of position tracking and e 0 η 0 denotes the initial velocity of rov besides δ 1 and δ 2 are positive parameters in the following the composite quadratic function li and lin 2003 is introduced to support the stability analysis with a set of positive definite matrices q j r n n j λ 1 j j n the composite quadratic function is defined as v c x min γ ϒ x t j 1 j γ j q j 1 x where ϒ γ r j j 1 j γ j 1 γ j 0 and x r n clearly v c is a positive definite function and it satisfies v c x x t q j 1 x based on this a level set of v c is defined as l v c 1 x r n v c x 1 which is the convex hull of ellipsoids ε q j 1 i e l v c 1 c o ε q j 1 j λ 1 j if each of the ellipsoids ε q j 1 is controlled invariant the convex hull l v c 1 is controlled contractively invariant accordingly the stability conditions for tracking controller 3 are given in theorem 1 several notations are defined in the appendix a of note the positive integer n is set to be six under the consideration of six dof theorem 1 consider the rov system 2 with 3 if there exist matrices x r n n n r 9 n n y r 9 n n h k i j r n n h α i j r n n i λ 1 2 n j λ 1 j j n positive definite matrices r r n n z r n n u r n n l r n n s r n n and w j r n n such that 8 φ κ η η φ 0 κ η η 1 d 2 ϱ t θ ϱ 0 9 θ r x x t r 0 10 h i j l q j h i j l t 1 l λ 1 n then the tracking system controlled by 3 is asymptotically stable for x l v c 1 0 l h i where h i j l is the lth row of h i j and q j 1 diag w j 1 2 κ ˇ moreover the estimation of doa is given by γ e 0 e 0 γ δ 1 proof define the position error as e η x d then we construct the following lyapunov krasovskii function v i 1 6 v i with 11 v 1 η t m η v 2 e t j 1 j w j e v 3 t d 2 t d t e t σ s e σ d σ v 4 d 2 0 t θ t η t σ r η σ d σ d θ v 5 t d t t e t σ d σ u t d t t e σ d σ t d 2 t d t e t σ d σ z t d 2 t d t e σ d σ v 6 t d t t η t σ l η σ d σ obviously we have v 0 applying lemma 1 the time derivative of v 1 is 12 v 1 2 r 1 2 n β r η t e r k e r h k r j t d t t η σ d σ e e r α e r h α r j η t d t 2 η t d v η η referring to fossen 1994 the hydrodynamic damping matrix d v in 1 can be denoted as d v diag k u k υ k w k p k q k r diag k u u u k υ υ υ k w w w k p p p k q q q k r r r where k u k υ k w k p k q and k r are damping constants k u u k υ υ k w w k p p k q q and k r r are quadratic damping scales based on this we have d v a b v with a diag k u k υ k w k p k q k r b diag k u u k υ υ k w w k p p k q q k r r and v j 1 η as λ j t a j 1 λ a k u k υ k w k p k q k r then one obtains 13 η t d v η η η t j t a j 1 η λ a η t η where λ a min k u k υ k w k p k q k r it hence yields from 13 that 14 v 1 2 r 1 2 n β r η t e r k e r h k r j t d t t η σ d σ e e r α e r h α r j η t d t 2 η t λ a η the time derivative of v 2 is calculated as 15 v 2 η t j 1 j w j e e t j 1 j w j η moreover the time derivative of v 3 is 16 v 3 1 d t e t t d t s e t d t e t t d 2 s e t d 2 and the time derivative of v 4 is given by 17 v 4 d 2 η t r η t d 2 t η t σ r η σ d σ where t d 2 t η t σ r η σ d σ t d 2 t d t η t σ r η σ d σ t d t t η t σ r η σ d σ by employing lemma 2 and defining p 1 g 1 g 2 t we have 18 t d 2 t d t η t σ r η σ d σ 1 d 2 d t t d 2 t d t η t σ d σ r t d 2 t d t η σ d σ 3 d 2 d t e t d t e t d 2 2 d 2 d t t d 2 t d t e σ d σ e t d 2 2 d 2 d t t d 2 t d t e σ d σ 1 d 2 d t g 1 ξ t r g 1 ξ g 2 ξ t 3 r g 2 ξ 1 d 2 d t ξ t p 1 t r 0 0 3 r p 1 ξ similar to 18 we define p 2 g 3 g 4 t then we have 19 t d t t η t σ r η σ d σ 1 d t ξ t p 2 t r 0 0 3 r p 2 ξ according to lemma 3 if there exists a matrix x such that θ 0 the following inequality can be held i e 20 t d 2 t η t σ r η σ d σ 1 d 2 p 1 ξ p 2 ξ t r x x t r p 1 ξ p 2 ξ 1 d 2 ξ t ϱ t θ ϱ ξ where r diag r 3 r and ϱ g 1 t g 2 t g 3 t g 4 t t in addition the time derivative of v 5 is given by 21 v 5 2 d t e t u 1 d t t d t t e σ d σ 2 d t e t t d t 1 d t u 1 d t t d t t e σ d σ 2 d 2 d t e t t d t 1 d t z 1 d 2 d t t d 2 t d t e σ d σ 2 d 2 d t e t t d 2 z 1 d 2 d t t d 2 t d t e σ d σ and the time derivative of v 6 is given by 22 v 6 η t l η η t t d t 1 d t l η t d t based on newton leibniz formula we construct the following free weighting matrices f 1 2 ξ t n e t e t d t t d t t η σ d σ 0 and f 2 2 ξ t y e t d t e t d 2 t d 2 t d t η σ d σ 0 accordingly we finally obtain 23 v i 1 6 v i j 1 2 f j r 1 2 n β r ξ t φ κ ξ where ξ η e η t d t e t d 2 t d 2 t d t η σ d σ e t d t 1 d 2 d t t d 2 t d t e σ d σ 1 d t t d t t e σ d σ t d t t η σ d σ and φ κ η η φ 0 κ η η 1 d 2 ϱ t θ ϱ with the condition in 10 one knows that ε q j 1 l h i is contractively invariant for all j λ 1 j i e l v c 1 is contractively invariant in view of 8 9 and 23 we can conclude that v 0 for x l v c 1 0 l h i with x t e t e t i e the tracking system x asymptotically converges to zero by using controller 3 moreover one has v c x x t q j 1 x v x v x 0 j 1 j λ max w j d 2 d 1 λ max s d 2 2 λ max u d 2 d 1 2 λ max z δ 1 2 κ ˆ 1 2 d 2 2 λ max r d 2 λ max l δ 2 2 γ δ j λ 1 j j n then the estimation of the doa can be obtained from γ δ 1 in theorem 1 it is sufficient to ensure that φ κ 0 at the vertices of the internal d 1 d 2 μ 1 μ 2 because φ κ η η is convex with respect to d t and d t thus φ κ 0 can be solved as an lmis optimization problem by solving the inequalities the matrices r s u z x n y l w j and the upper bounds of delays can be obtained correspondingly the matrices h k i j and h α i j can also be calculated with the lmis toolbox in matlab the above mentioned inequalities are feasible and easily computed it is interesting to derive a solution such that the estimate of doa is maximized in yan et al 2018a and hua et al 2017 we have provided an lmi based optimization strategy for teleoperation system however the optimization strategy in yan et al 2018a and hua et al 2017 is based on the single ellipsoid assumption in order to relax the single ellipsoid assumption this paper adopts multiple ellipsoids to estimate and optimize the doa of note the convex hull under single ellipsoid assumption is constructed by a single auxiliary feedback gain h while the convex hull under multi ellipsoid assumption is constructed by k and h i for i λ 1 2 n thus the convex hull under multi ellipsoid assumption can be optimized by allowing different auxiliary feedback gains h i j for each ellipsoid ε q j 1 through which an enlarged estimation of doa can be obtained to show more intuitively fig 4 depicts the difference between single ellipsoid and multi ellipsoid assumptions clearly the doa with multi ellipsoid assumption is larger than the one with single ellipsoid assumption accordingly the following optimization problem is obtained min ϖ s t a ω k 0 k 1 j 5 b ω j i w j 0 ω j 1 i s 0 ω j 2 i r 0 ω j 3 i u 0 ω j 4 i z 0 ω j 5 i l 0 c ε q j 1 l h i d φ κ 0 θ 0 where ϖ j 1 j ω j d 2 d 1 ω j 1 1 2 d 2 2 ω j 2 d 2 2 ω j 3 d 2 d 1 2 ω j 4 d 2 ω j 5 j λ 1 j j n it is noted that the first inequation in constraint b is equivalent to λ max w j ω j applying this conclusion to the other inequations in constraint b we get j 1 j λ max w j d 2 d 1 λ max s 1 2 d 2 2 λ max r d 2 2 λ max u d 2 d 1 2 λ max z d 2 λ max l ϖ therefore a maximized estimation of the doa can be designed as δ max 1 ϖ 4 simulation and experimental results 4 1 simulation studies in this section simulation results are given to verify the effectiveness of tracking controller 3 without loss of generality the tracking control on roll and pitch is neglected i e ϕ 0 and θ 0 because rov is intrinsically stable on roll and pitch kim et al 2016 in respect that the position and attitude vector of target point is set as x d 15 30 20 0 0 8 meanwhile the parameters used for the simulation are given as k diag 60 60 60 0 0 60 α diag 31 31 31 0 0 31 and the saturation level is 1 the upper and lower bounds of time delay are designed as d 2 0 055 s and d 1 0 027 s respectively the derivative of time delay has lower and upper bounds i e μ 1 0 001 and μ 2 0 003 solving lmis in theorem 1 the maximum of estimation of the doa can be calculated as δ max 2 707 with respect to δ max the initial states of rov are given as η 0 16 9237 31 0319 18 5609 0 0 8 4728 and η 0 0 0 0 0 0 0 it is easy to see that γ δ 1 with theorem 1 i e the initial states are inside the estimate of doa in order to verify this conclusion the invariant set l v c 1 and the trajectory of position error e are depicted by fig 5 a meanwhile the trajectory of velocity error e is shown in fig 5 b clearly the initial states of rov are inside the estimate of doa while the errors e and e can converge to zero to show more clearly the positions and attitudes on surge sway heave and yaw are represented in fig 5 c correspondingly the errors of positions and attitudes are given in fig 5 d the linear and angle velocities on surge sway heave and yaw are shown in fig 5 e from fig 5 c e one obtains that the tracking task can be achieved because all tracking errors approximately converge to zero moreover the control inputs are shown in fig 5 f it is obvious that the control inputs are smooth while being restricted by the saturation bounds consider another set of initial states η 0 18 9237 35 9319 21 5391 0 0 10 6928 and η 0 0 0835 4 2303 0 3578 0 0 0 1286 from theorem 1 it is obtained that γ δ 1 i e the initial states are outside the estimate of doa to verify this conclusion the trajectories of position error e and velocity error e are shown in fig 6 a and fig 6 b respectively the positions and attitudes are shown in fig 6 c while the errors of positions and attitudes are presented in fig 6 d moreover fig 6 e depicts the linear and angle velocities on surge sway heave and yaw from fig 6 c e we know the tracking task is not achieved moreover the control inputs are shown in fig 6 f it can be seen that control inputs in fig 6 f present dynamic switching states which leads to instability of the tracking system these results reflect that the estimation of doa in this paper is meaningful and necessary in order to better show the effectiveness of theorem 1 the position of target point and the initial states of rov are changed simultaneously then the position and attitude vector of target point is set as x d 3 43 4 27 0 0 0 0 particularly the initial states of rov are given as η 0 2 2 27 0 0 0 0 and η 0 0 0 0 0 0 0 meanwhile the proportional and derivative gains are set as k diag 5 5 5 0 0 5 and α diag 31 31 31 0 0 31 respectively from theorem 1 it is obtained that γ δ 1 i e the initial states are inside the estimate of doa then we believe the tracking task can be achieved to verify our judgement the position trajectory of rov is shown in fig 7 a while the errors on surge and sway are shown in fig 7 b it can be seen that the tracking task is achieved in the following we change the initial states of rov i e η 0 0 54 0 58 0 0 0 0 and η 0 0 0 0 0 0 0 in addition the proportional and derivative gains are set as k diag 75 75 14 0 0 14 and α diag 35 42 35 0 0 35 respectively referring to theorem 1 we believe that the tracking task cannot be achieved because γ δ 1 i e the initial states are outside the estimate of doa accordingly the position trajectory of rov is shown in fig 7 c and the tracking errors are shown in fig 7 d clearly the tracking task is not achieved through fig 7 a d we know the tracking controller 3 is effective under different conditions for comparison we consider the single ellipsoid based estimation of doa as given in kim 2015 under the same control parameters fig 8 a and b illustrate the invariant set by the method in kim 2015 and the proposed approach clearly the doa in fig 8 a is smaller than the one in fig 8 b this comparison reflects that the system conservation with the stability conditions in kim 2015 is stronger as compared with the method in this paper 4 2 implementation and experimental studies in this section experimental studies are presented to demonstrate the performance of tracking controller 3 the experimental setup is shown in fig 9 the hardware is mainly divided into three parts 1 control center host computer decides the target point of rov then sends control commands to rov 2 rov rov is 430 390 220 mm 3 in dimension and it receives the control signal through decoding particularly rov is powered by lithium batteries while it is equipped with six thrusters including four planar omnidirectional thrusters and two vertical thrusters the ultra wideband uwb localization system and the gyroscope module are jointly adopted to locate the position of rov meanwhile the velocity of rov can also be measured by gyroscope module 3 base station or buoy three base stations are equipped with wireless positioning modules and they adopt uwb localization technology to localize the rov the communication in the experiment is wireless and the control algorithms are developed based on stm32 development boards the readers can refer to yan et al 2019c for more detailed information about the platform the boundaries of time varying delays are chosen as d 2 0 055 s and d 1 0 027 s the detailed value of time delays in experiment cannot not be previously given due to the uncertain communication conditions and d t is only required to enter into the bounds of time delay the position and attitude vector of target point is set as x d 3 43 4 27 0 0 0 0 based on the above design the following two cases are considered case 1 the initial states of rov satisfy the conditions in theorem 1 i e η 0 2 2 77 0 0 0 0 and η 0 0 0 0 0 0 0 case 2 the initial states of rov donot satisfy the conditions in theorem 1 i e η 0 0 54 0 58 0 0 0 0 and η 0 0 0 0 0 0 0 accordingly the trajectory of rov in case 1 is shown by fig 10 a to show more clearly the errors on surge and sway are shown in fig 10 b clearly the tracking task is achieved and the video of this experiment is provided in ex1 similarly the trajectory of rov in case 2 is shown by fig 10 c while the errors on surge and sway are given by fig 10 d particularly the video of this experiment is shown in ex2 it is clear that the tracking task cannot be achieved in the following the position of target point is changed as x d 1 49 4 71 0 0 0 0 when the initial states of rov satisfy the conditions in theorem 1 e g η 0 0 64 0 67 0 0 0 0 and η 0 0 2 0 17 0 0 0 0 the trajectory of rov can be shown by fig 11 a correspondingly the errors on surge and sway are shown in fig 11 b the video of this experiment is provided in ex3 it is obvious that the tracking task can be achieved when the initial states of rov donot satisfy the conditions in theorem 1 e g η 0 0 32 0 21 0 0 0 0 and η 0 0 183 0 23 0 0 0 0 the trajectory of rov is shown by fig 11 c accordingly the errors on surge and sway are shown in fig 11 d specially the video of the above experiment is provided in ex4 clearly the tracking task cannot be achieved through the above experimental results one knows that the proposed approach is practically useful by different conditions of work 5 conclusion and future works this paper addresses the position tracking control problem for a rov under time varying delay and actuator saturation constraints we first design a model free pd controller to enforce the position tracking of the rov for the tracking controller we use lyapunov krasovskii functions to derive the delay dependent stability criteria by analyzing the stability conditions the estimation of doa is presented through which rov can adjust its initial states to guarantee the tracking stability furthermore the optimization of doa is developed to maximize the estimation of doa finally simulation and experimental studies are conducted to demonstrate performance of the proposed methods in the future we will extend our work to deal with rov system in more complex communication and operation environments acknowledgement this work was partially supported by nsfc under 61873345 61603328 and 61633017 by youth talent support program of hebei under bj2018050 by teturned overseas chinese scholar foundation of hebei under c201829 and by civil military integration foundation of hebei under 2018b220 appendix a notations for theorem 1 φ κ η η φ 0 κ η η 1 d 2 ϱ t θ ϱ φ 0 κ η η r ˆ l ˆ w ˆ n ˆ y ˆ u ˆ z ˆ s ˆ φ 3 κ ϱ g 1 t g 2 t g 3 t g 4 t t g 1 0 n 0 n 0 n 0 n i n 0 n 0 n 0 n 0 n g 2 0 n 0 n 0 n i n 0 n i n 2 i n 0 n 0 n g 3 0 n 0 n 0 n 0 n 0 n 0 n 0 n 0 n i n g 4 0 n i n 0 n 0 n 0 n i n 0 n 2 i n 0 n r d i a g r 3 r r ˆ d i a g d 2 r 0 8 n l ˆ d i a g l 0 n 1 d t l 0 6 n w ˆ w ˆ i j 9 n 9 n with w ˆ 1 2 j 1 j w j and the others are zeros n ˆ n j 1 y ˆ y j 2 with j 1 0 n 2 i 0 n 0 n 0 n 2 i 0 n 0 n 2 i j 2 0 n 0 n 0 n 2 i 2 i 2 i 0 n 0 n 0 n u ˆ u ˆ i j 9 n 9 n with u ˆ 2 8 d t u u ˆ 6 8 d t 1 d t u and the others are zeros z ˆ z ˆ i j 9 n 9 n with z ˆ 4 7 d 2 d t z z ˆ 6 7 d 2 d t 1 d t z and the others are zeros s ˆ diag 0 n 0 n 0 n s 0 n 1 d t s 0 n 0 n 0 n φ 3 κ φ i j 3 κ 9 n 9 n with φ 1 1 3 κ 2 λ a i φ 1 2 3 κ φ 1 9 3 κ r 1 2 n β r e r k e r h k rj φ 1 3 3 κ r 1 2 n β r e r α e r h α rj and the others are zeros φ κ η η φ i j 9 n 9 n γ δ j 1 j λ max w j d 2 d 1 λ max s d 2 2 λ max u d 2 d 1 2 λ max z δ 1 2 κ ˆ i 1 2 d 2 2 λ max r d 2 λ max l δ 2 2 
22748,human in the loop hitl system is referred to as a promising technology to extend human actions and intelligences to deep ocean many applications of hitl demand the remotely operated vehicle rov to track a desired target point however the cyber and physical constrained characteristics on rov make it challenging to achieve the tracking task this paper is concerned with a tracking control problem for the rov subjected to time varying delay in cyber channels and actuator saturation in physical channels we design a model free proportional derivative pd controller to enforce the position tracking of rov for the proposed controller lyapunov krasovskii functions are constructed to analyze the stability and then the sufficient conditions are provided to show that the tracking controller can stabilize rov in order to estimate and optimize the domain of attraction doa the stability conditions are rearranged into a form of linear matrix inequalities lmis through which the required initial stability conditions can be developed finally simulation and experiment results are performed to validate the effectiveness it is demonstrated that the designed tracking controller can guarantee asymptotic stability while the doa in this paper can be significantly enlarged as compared with the other ones keywords tracking rov time delay actuator saturation 1 introduction with the advances of marine robotics technology remotely operated vehicle rov has increasingly been recognized as a flexible sensing and computational platform for a variety of applications such as marine environment monitoring pipeline detecting port surveillance and safety systems zhang 2016 however in some dynamic and dangerous scenarios e g rescue for nuclear leak the pure autonomy is not sufficient for rov to accomplish rapid response operations in such scenarios the concept of human in the loop hitl was proposed vasilijevic et al 2017 where human interferes with rov based on all available measurement data the hitl system extends the actions and intelligences of human to remote locations and allows rov to concentrate on rapid response operations an illustration of hitl system is shown in fig 1 in hitl system human in control center decides the desired position of rov and then sends control commands to rov through the relay of buoys the most critical problem for human is to design appropriate tracking controller such that rov can arrive at the desired target point to address this problem a number of tracking controllers have been developed for instance ye et al 2015 used cascaded system and backstepping method to design a tracking controller ferreira et al 2018 presented a multivariable control strategy where the unknown disturbances and identification errors were both considered chao et al 2018 incorporated model predictive algorithm into the tracking control of underwater vehicle these tracking controllers are well developed by using full or partial knowledge of the vehicle dynamics however the calculation of underwater vehicle dynamics is highly complex and computationally complicated and sometimes it is impossible to acquire exact parameters of dynamics inspired by this lei et al 2017 proposed three exponentially convergent robust controllers to drive a vehicle to the desired trajectory in kim et al 2016 an integral sliding mode controller was proposed for the tracking control problem also of relevance our previous works yan et al 2019a and yan et al 2019b integrated the asynchronous localization algorithm into the tracking control process nevertheless these results do not consider the effect of communication delay it is noted that the propagation delay of acoustic speed 1500 m s is five orders of magnitude higher than in radio frequency terrestrial channels 3 10 8 m s in particular the existence of even a small communication delay can cause the instability of control system to address tracking problem associated with the communication delay mukherjee et al 2015 adopted an auxiliary signal to compensate the constant delay through which a delay based tracking controller was developed in yan et al 2018b a leader follower strategy was employed to ensure the achievement of target tracking several other delay based controllers were also developed for example see yang et al 2013 zhao and hu 2017 however the communication delays in the above works are assumed to be constant due to the movement of rov the relative distance between rov and control center is time varying which results in a time varying property of communication delays per knowledge of the authors how to design a tracking controller to stabilize the time varying rov system is not well studied moreover all physical control devices including the thrusters in rov are inherently subject to actuator saturation once the actuator has reached its input limit any effort to further increase the actuator output will result in no variation for the output the ignorance of actuator saturation in control design can lead to system instability hu and lin 2005 inspired by this many methods have been developed to address the actuator saturation li and lin 2015 2017 hashemzadeh et al 2013 yan et al 2016 2018a nevertheless these methods are not developed in the context of underwater or surface vehicle and it is not easy to apply these methods to rov in du et al 2016 the actuator saturation was considered into the dynamic localization of surface vehicle also of relevance fu and yu 2018 jointly considered the input saturation and disturbances through which a finite time tracking controller was developed for surface vehicle however the domain of attraction doa was not discussed in the above two literature as we know the doa is an important index to evaluate the system conservation in kim 2015 the doa was discussed for the tracking of underwater vehicle of note the estimation of doa in kim 2015 was based on the single ellipsoid assumption however the doa with single ellipsoid assumption is much smaller than the ones with multi ellipsoid assumption li and lin 2013 by relaxing the single ellipsoid assumption the estimation of doa for a tracking controller to stabilize the delayed rov system is largely unexplored this paper investigates the tracking control problem for a rov in the presence of time delay and actuator saturation constraints a model free pd controller is designed to enforce the position tracking of the rov for the proposed controller a high proportional gain results in a large change in the output for a given error change while the derivative term has the effect of reducing the overshoot and improving the transient response moreover lyapunov analysis is involved to provide the stability conditions and the doa is estimated with the multi ellipsoid assumption main contributions lie in two aspects 1 tracking controller design a model free pd tracking controller is designed for the rov while the sufficient stability conditions are given to stabilize the system different from the existing works yang et al 2013 zhao and hu 2017 the time varying delay and the actuator saturation are both considered in our proposed controller 2 estimation of the doa doa is estimated and optimized by using linear matrix inequalities lmis through which rov can adjust its initial state to guarantee the tracking stability different from kim 2015 the convex hull in this paper relies on multiple ellipsoids such that the doa in this paper is much larger than the one in kim 2015 the remainder of this paper is organized as follows section 2 includes the model and problem formulation in section 3 controller design and stability analysis are presented simulations and experiments of the proposed method are provided in section 4 followed by conclusion in section 5 we use the following notations throughout this paper for u r n sat u denotes the standard saturation function particularly the ith component of sat u is denoted by sat u i sgn u i min 1 u i for k 1 z and k 2 z it is defined that λ k 1 k 2 k 1 k 1 1 k 2 where k 1 k 2 for positive definite matrix p r n n and scalar ρ r the ellipsoid ε p ρ is denoted by ε p ρ x r n x t p x ρ for matrix h i r n n l h i is defined as l h i x r n h i l x 1 i λ 1 2 n l λ 1 n where h i l is the lth row of h i besides co denotes the convex hull of a set for simplicity ρ is set as 1 in this paper through which the ellipsoid ε p 1 is abbreviated as ε p 2 model and problem formulation as shown in fig 2 rov is uniquely determined by six degrees of freedom dof particularly two reference frames are introduced to describe the dynamics of rov fossen 1994 i e body fixed reference frame brf and inertial reference frame irf in brf v u υ w p q r t denotes the linear and angle velocity vector of rov where u υ and w represent the linear velocities on surge sway and heave respectively meanwhile p q and r are the angle velocities on roll pitch and yaw respectively without loss of generality it is assumed that the center of rov coincides with the origin of brf in irf η x y z ϕ θ ψ t represents the position and attitude vector of rov where x y and z are the positions on surge sway and heave respectively ϕ θ and ψ are the angles on roll pitch and yaw respectively accordingly the motion model of rov can be described as 1 η j η v m v c v v d v v g η f where m r 6 6 is the inertia matrix c v r 6 6 is the coriolis centripetal matrix d v r 6 6 is the hydrodynamic damping matrix g η r 6 is the vector of gravitational and buoyancy effects f r 6 describes the exerted force j η r 6 6 denotes the rotation matrices between brf and irf i e j η j 1 η 0 3 3 0 3 3 j 2 η where j 1 η cos ψ cos θ cos ψ sin θ sin ϕ sin ψ cos ϕ sin ψ sin ϕ cos ψ sin θ cos ϕ sin ψ cos θ sin θ sin ψ sin ϕ cos ψ cos ϕ sin ψ sin θ cos ϕ cos ψ sin θ sin θ cos θ sin ϕ cos θ cos ϕ and j 2 η 1 sin ϕ tan θ cos ϕ tan θ 0 cos ϕ sin ϕ 0 sin ϕ cos θ cos ϕ cos θ for facilitation of stability analysis the motion model 1 is rearranged as 2 m η c v η η d v η η g η τ where m j t m j 1 c v η j t c v m j 1 j j 1 g η j t g η and d v η j t d v j 1 τ j t f is the control input to be designed it should be emphasized that τ is restricted by a given saturation bound t r 6 i e each element τ l of τ satisfies τ l t l where t l 0 and l 1 6 model 2 has the following properties chao et al 2018 soylu et al 2016 property 1 inertia matrix m is symmetric positive definite and bounded i e 0 κ ˇ i m m t κ ˆ i for κ ˇ κ ˆ r property 2 matrix m 2 c v η is skew symmetric property 3 damping matrix is strictly positive definite i e d v η 0 property 4 gravitational torque g η is bounded i e each element g l η of g η satisfies g l η ε l where ε l 0 and l 1 6 as it is mentioned above the communication delay in underwater environment cannot be ignored inspired by this the communication delay from rov to control center is denoted as d c r t while the delay in reverse direction is denoted as d r c t accordingly the bidirectional delay can be defined as d t d c r t d r c t for stability analysis the following assumption is used assumption 1 d t is lower and upper bounded i e there exist positive scalars d 2 d 1 μ 1 and μ 2 such that d 1 d t d 2 and μ 1 d t μ 2 accordingly the position tracking problems are now detailed as follows problem 1 considering the time varying delay and actuator saturation constraints we aim to design a model free pd tracking controller and give its stability condition to guarantee state synchronization this problem is reduced to guarantee η x d where x d is the position and attitude vector for target point problem 2 with the proposed stability condition we aim to estimate and optimize the doa such that rov can adjust its initial states to guarantee the tracking stability this problem is reduced to construct an invariant convex hull with the assistance of multiple ellipsoids and then maximize the doa 3 controller design and stability analysis 3 1 design of the tracking controller in hitl rov sends its state to the control center through acoustic and electromagnetic links with the available measurements human decides the target point of rov and then sends control commands to rov in order to achieve the tracking task the position and attitude vectors for rov and target point are required to be synchronized i e η x d 0 with t then the model free pd tracking controller is designed as 3 τ sat k η t d t x d proportional control α η t d t derivative control g η where k r 6 6 and α r 6 6 are the gain matrices to be designed d t denotes the time varying delay in the cyber channels as defined in assumption 1 it is known that sat denotes the standard saturation functions and is bounded by μ i e each element of μ satisfies μ l t l ε l where l 1 6 the control framework is shown in fig 3 remark 1 it is noted that the time varying delay and the actuator saturation are both considered in tracking controller 3 when time varying delay and actuator saturation constraints are ignored in this paper the tracking controller 3 is the same as the one in martin and whitcomb 2018 thereby the tracking controller in martin and whitcomb 2018 is a special case of 3 3 2 stability condition and doa estimation for stability analysis the following lemmas are provided lemma 1 li and lin 2013 given feedback matrices k r n n and h i r n n if x l h i then 4 s a t k x c o e i k x e i h i x i 1 2 n where e is the set of n n diagonal matrices e i with 1 or 0 as its diagonal entries i e e e i i 1 2 n and e i i e i lemma 2 seuret and gouaisbaut 2013 given positive definite matrix r r n n for all continuous function ω in a b r n we have 5 l r ω 1 b a a b ω σ d σ t r a b ω σ d σ 3 b a ω t r ω where ω a b ω s d s 2 b a a b a s ω r drds lemma 3 seuret and gouaisbaut 2013 given positive integers n and m scalar β 0 1 positive definite matrix r r n n matrices w 1 r n m and w 2 r n m arbitrary vector ξ r m and the function θ β r defined by θ β r 1 β ξ t w 1 t r w 1 ξ 1 1 β ξ t w 2 t r w 2 ξ if there exists matrix x r n n such that r x r 0 the following inequality holds 6 min β 0 1 θ β r w 1 ξ w 2 ξ t r x r w 1 ξ w 2 ξ in this paper the initial state error of rov is defined as x 0 e 0 e 0 t while its state trajectory is ς t x 0 then the doa of origin is given as γ x 0 r 12 lim t ς t x 0 0 particularly a set is said to be invariant if all trajectories starting from the doa will remain in it in order to demonstrate the doa the bounds of initial values for rov tracking system are defined as 7 max θ d 2 0 e 0 θ δ 1 max θ d 2 0 e 0 θ δ 2 where e 0 η 0 x d denotes the initial error of position tracking and e 0 η 0 denotes the initial velocity of rov besides δ 1 and δ 2 are positive parameters in the following the composite quadratic function li and lin 2003 is introduced to support the stability analysis with a set of positive definite matrices q j r n n j λ 1 j j n the composite quadratic function is defined as v c x min γ ϒ x t j 1 j γ j q j 1 x where ϒ γ r j j 1 j γ j 1 γ j 0 and x r n clearly v c is a positive definite function and it satisfies v c x x t q j 1 x based on this a level set of v c is defined as l v c 1 x r n v c x 1 which is the convex hull of ellipsoids ε q j 1 i e l v c 1 c o ε q j 1 j λ 1 j if each of the ellipsoids ε q j 1 is controlled invariant the convex hull l v c 1 is controlled contractively invariant accordingly the stability conditions for tracking controller 3 are given in theorem 1 several notations are defined in the appendix a of note the positive integer n is set to be six under the consideration of six dof theorem 1 consider the rov system 2 with 3 if there exist matrices x r n n n r 9 n n y r 9 n n h k i j r n n h α i j r n n i λ 1 2 n j λ 1 j j n positive definite matrices r r n n z r n n u r n n l r n n s r n n and w j r n n such that 8 φ κ η η φ 0 κ η η 1 d 2 ϱ t θ ϱ 0 9 θ r x x t r 0 10 h i j l q j h i j l t 1 l λ 1 n then the tracking system controlled by 3 is asymptotically stable for x l v c 1 0 l h i where h i j l is the lth row of h i j and q j 1 diag w j 1 2 κ ˇ moreover the estimation of doa is given by γ e 0 e 0 γ δ 1 proof define the position error as e η x d then we construct the following lyapunov krasovskii function v i 1 6 v i with 11 v 1 η t m η v 2 e t j 1 j w j e v 3 t d 2 t d t e t σ s e σ d σ v 4 d 2 0 t θ t η t σ r η σ d σ d θ v 5 t d t t e t σ d σ u t d t t e σ d σ t d 2 t d t e t σ d σ z t d 2 t d t e σ d σ v 6 t d t t η t σ l η σ d σ obviously we have v 0 applying lemma 1 the time derivative of v 1 is 12 v 1 2 r 1 2 n β r η t e r k e r h k r j t d t t η σ d σ e e r α e r h α r j η t d t 2 η t d v η η referring to fossen 1994 the hydrodynamic damping matrix d v in 1 can be denoted as d v diag k u k υ k w k p k q k r diag k u u u k υ υ υ k w w w k p p p k q q q k r r r where k u k υ k w k p k q and k r are damping constants k u u k υ υ k w w k p p k q q and k r r are quadratic damping scales based on this we have d v a b v with a diag k u k υ k w k p k q k r b diag k u u k υ υ k w w k p p k q q k r r and v j 1 η as λ j t a j 1 λ a k u k υ k w k p k q k r then one obtains 13 η t d v η η η t j t a j 1 η λ a η t η where λ a min k u k υ k w k p k q k r it hence yields from 13 that 14 v 1 2 r 1 2 n β r η t e r k e r h k r j t d t t η σ d σ e e r α e r h α r j η t d t 2 η t λ a η the time derivative of v 2 is calculated as 15 v 2 η t j 1 j w j e e t j 1 j w j η moreover the time derivative of v 3 is 16 v 3 1 d t e t t d t s e t d t e t t d 2 s e t d 2 and the time derivative of v 4 is given by 17 v 4 d 2 η t r η t d 2 t η t σ r η σ d σ where t d 2 t η t σ r η σ d σ t d 2 t d t η t σ r η σ d σ t d t t η t σ r η σ d σ by employing lemma 2 and defining p 1 g 1 g 2 t we have 18 t d 2 t d t η t σ r η σ d σ 1 d 2 d t t d 2 t d t η t σ d σ r t d 2 t d t η σ d σ 3 d 2 d t e t d t e t d 2 2 d 2 d t t d 2 t d t e σ d σ e t d 2 2 d 2 d t t d 2 t d t e σ d σ 1 d 2 d t g 1 ξ t r g 1 ξ g 2 ξ t 3 r g 2 ξ 1 d 2 d t ξ t p 1 t r 0 0 3 r p 1 ξ similar to 18 we define p 2 g 3 g 4 t then we have 19 t d t t η t σ r η σ d σ 1 d t ξ t p 2 t r 0 0 3 r p 2 ξ according to lemma 3 if there exists a matrix x such that θ 0 the following inequality can be held i e 20 t d 2 t η t σ r η σ d σ 1 d 2 p 1 ξ p 2 ξ t r x x t r p 1 ξ p 2 ξ 1 d 2 ξ t ϱ t θ ϱ ξ where r diag r 3 r and ϱ g 1 t g 2 t g 3 t g 4 t t in addition the time derivative of v 5 is given by 21 v 5 2 d t e t u 1 d t t d t t e σ d σ 2 d t e t t d t 1 d t u 1 d t t d t t e σ d σ 2 d 2 d t e t t d t 1 d t z 1 d 2 d t t d 2 t d t e σ d σ 2 d 2 d t e t t d 2 z 1 d 2 d t t d 2 t d t e σ d σ and the time derivative of v 6 is given by 22 v 6 η t l η η t t d t 1 d t l η t d t based on newton leibniz formula we construct the following free weighting matrices f 1 2 ξ t n e t e t d t t d t t η σ d σ 0 and f 2 2 ξ t y e t d t e t d 2 t d 2 t d t η σ d σ 0 accordingly we finally obtain 23 v i 1 6 v i j 1 2 f j r 1 2 n β r ξ t φ κ ξ where ξ η e η t d t e t d 2 t d 2 t d t η σ d σ e t d t 1 d 2 d t t d 2 t d t e σ d σ 1 d t t d t t e σ d σ t d t t η σ d σ and φ κ η η φ 0 κ η η 1 d 2 ϱ t θ ϱ with the condition in 10 one knows that ε q j 1 l h i is contractively invariant for all j λ 1 j i e l v c 1 is contractively invariant in view of 8 9 and 23 we can conclude that v 0 for x l v c 1 0 l h i with x t e t e t i e the tracking system x asymptotically converges to zero by using controller 3 moreover one has v c x x t q j 1 x v x v x 0 j 1 j λ max w j d 2 d 1 λ max s d 2 2 λ max u d 2 d 1 2 λ max z δ 1 2 κ ˆ 1 2 d 2 2 λ max r d 2 λ max l δ 2 2 γ δ j λ 1 j j n then the estimation of the doa can be obtained from γ δ 1 in theorem 1 it is sufficient to ensure that φ κ 0 at the vertices of the internal d 1 d 2 μ 1 μ 2 because φ κ η η is convex with respect to d t and d t thus φ κ 0 can be solved as an lmis optimization problem by solving the inequalities the matrices r s u z x n y l w j and the upper bounds of delays can be obtained correspondingly the matrices h k i j and h α i j can also be calculated with the lmis toolbox in matlab the above mentioned inequalities are feasible and easily computed it is interesting to derive a solution such that the estimate of doa is maximized in yan et al 2018a and hua et al 2017 we have provided an lmi based optimization strategy for teleoperation system however the optimization strategy in yan et al 2018a and hua et al 2017 is based on the single ellipsoid assumption in order to relax the single ellipsoid assumption this paper adopts multiple ellipsoids to estimate and optimize the doa of note the convex hull under single ellipsoid assumption is constructed by a single auxiliary feedback gain h while the convex hull under multi ellipsoid assumption is constructed by k and h i for i λ 1 2 n thus the convex hull under multi ellipsoid assumption can be optimized by allowing different auxiliary feedback gains h i j for each ellipsoid ε q j 1 through which an enlarged estimation of doa can be obtained to show more intuitively fig 4 depicts the difference between single ellipsoid and multi ellipsoid assumptions clearly the doa with multi ellipsoid assumption is larger than the one with single ellipsoid assumption accordingly the following optimization problem is obtained min ϖ s t a ω k 0 k 1 j 5 b ω j i w j 0 ω j 1 i s 0 ω j 2 i r 0 ω j 3 i u 0 ω j 4 i z 0 ω j 5 i l 0 c ε q j 1 l h i d φ κ 0 θ 0 where ϖ j 1 j ω j d 2 d 1 ω j 1 1 2 d 2 2 ω j 2 d 2 2 ω j 3 d 2 d 1 2 ω j 4 d 2 ω j 5 j λ 1 j j n it is noted that the first inequation in constraint b is equivalent to λ max w j ω j applying this conclusion to the other inequations in constraint b we get j 1 j λ max w j d 2 d 1 λ max s 1 2 d 2 2 λ max r d 2 2 λ max u d 2 d 1 2 λ max z d 2 λ max l ϖ therefore a maximized estimation of the doa can be designed as δ max 1 ϖ 4 simulation and experimental results 4 1 simulation studies in this section simulation results are given to verify the effectiveness of tracking controller 3 without loss of generality the tracking control on roll and pitch is neglected i e ϕ 0 and θ 0 because rov is intrinsically stable on roll and pitch kim et al 2016 in respect that the position and attitude vector of target point is set as x d 15 30 20 0 0 8 meanwhile the parameters used for the simulation are given as k diag 60 60 60 0 0 60 α diag 31 31 31 0 0 31 and the saturation level is 1 the upper and lower bounds of time delay are designed as d 2 0 055 s and d 1 0 027 s respectively the derivative of time delay has lower and upper bounds i e μ 1 0 001 and μ 2 0 003 solving lmis in theorem 1 the maximum of estimation of the doa can be calculated as δ max 2 707 with respect to δ max the initial states of rov are given as η 0 16 9237 31 0319 18 5609 0 0 8 4728 and η 0 0 0 0 0 0 0 it is easy to see that γ δ 1 with theorem 1 i e the initial states are inside the estimate of doa in order to verify this conclusion the invariant set l v c 1 and the trajectory of position error e are depicted by fig 5 a meanwhile the trajectory of velocity error e is shown in fig 5 b clearly the initial states of rov are inside the estimate of doa while the errors e and e can converge to zero to show more clearly the positions and attitudes on surge sway heave and yaw are represented in fig 5 c correspondingly the errors of positions and attitudes are given in fig 5 d the linear and angle velocities on surge sway heave and yaw are shown in fig 5 e from fig 5 c e one obtains that the tracking task can be achieved because all tracking errors approximately converge to zero moreover the control inputs are shown in fig 5 f it is obvious that the control inputs are smooth while being restricted by the saturation bounds consider another set of initial states η 0 18 9237 35 9319 21 5391 0 0 10 6928 and η 0 0 0835 4 2303 0 3578 0 0 0 1286 from theorem 1 it is obtained that γ δ 1 i e the initial states are outside the estimate of doa to verify this conclusion the trajectories of position error e and velocity error e are shown in fig 6 a and fig 6 b respectively the positions and attitudes are shown in fig 6 c while the errors of positions and attitudes are presented in fig 6 d moreover fig 6 e depicts the linear and angle velocities on surge sway heave and yaw from fig 6 c e we know the tracking task is not achieved moreover the control inputs are shown in fig 6 f it can be seen that control inputs in fig 6 f present dynamic switching states which leads to instability of the tracking system these results reflect that the estimation of doa in this paper is meaningful and necessary in order to better show the effectiveness of theorem 1 the position of target point and the initial states of rov are changed simultaneously then the position and attitude vector of target point is set as x d 3 43 4 27 0 0 0 0 particularly the initial states of rov are given as η 0 2 2 27 0 0 0 0 and η 0 0 0 0 0 0 0 meanwhile the proportional and derivative gains are set as k diag 5 5 5 0 0 5 and α diag 31 31 31 0 0 31 respectively from theorem 1 it is obtained that γ δ 1 i e the initial states are inside the estimate of doa then we believe the tracking task can be achieved to verify our judgement the position trajectory of rov is shown in fig 7 a while the errors on surge and sway are shown in fig 7 b it can be seen that the tracking task is achieved in the following we change the initial states of rov i e η 0 0 54 0 58 0 0 0 0 and η 0 0 0 0 0 0 0 in addition the proportional and derivative gains are set as k diag 75 75 14 0 0 14 and α diag 35 42 35 0 0 35 respectively referring to theorem 1 we believe that the tracking task cannot be achieved because γ δ 1 i e the initial states are outside the estimate of doa accordingly the position trajectory of rov is shown in fig 7 c and the tracking errors are shown in fig 7 d clearly the tracking task is not achieved through fig 7 a d we know the tracking controller 3 is effective under different conditions for comparison we consider the single ellipsoid based estimation of doa as given in kim 2015 under the same control parameters fig 8 a and b illustrate the invariant set by the method in kim 2015 and the proposed approach clearly the doa in fig 8 a is smaller than the one in fig 8 b this comparison reflects that the system conservation with the stability conditions in kim 2015 is stronger as compared with the method in this paper 4 2 implementation and experimental studies in this section experimental studies are presented to demonstrate the performance of tracking controller 3 the experimental setup is shown in fig 9 the hardware is mainly divided into three parts 1 control center host computer decides the target point of rov then sends control commands to rov 2 rov rov is 430 390 220 mm 3 in dimension and it receives the control signal through decoding particularly rov is powered by lithium batteries while it is equipped with six thrusters including four planar omnidirectional thrusters and two vertical thrusters the ultra wideband uwb localization system and the gyroscope module are jointly adopted to locate the position of rov meanwhile the velocity of rov can also be measured by gyroscope module 3 base station or buoy three base stations are equipped with wireless positioning modules and they adopt uwb localization technology to localize the rov the communication in the experiment is wireless and the control algorithms are developed based on stm32 development boards the readers can refer to yan et al 2019c for more detailed information about the platform the boundaries of time varying delays are chosen as d 2 0 055 s and d 1 0 027 s the detailed value of time delays in experiment cannot not be previously given due to the uncertain communication conditions and d t is only required to enter into the bounds of time delay the position and attitude vector of target point is set as x d 3 43 4 27 0 0 0 0 based on the above design the following two cases are considered case 1 the initial states of rov satisfy the conditions in theorem 1 i e η 0 2 2 77 0 0 0 0 and η 0 0 0 0 0 0 0 case 2 the initial states of rov donot satisfy the conditions in theorem 1 i e η 0 0 54 0 58 0 0 0 0 and η 0 0 0 0 0 0 0 accordingly the trajectory of rov in case 1 is shown by fig 10 a to show more clearly the errors on surge and sway are shown in fig 10 b clearly the tracking task is achieved and the video of this experiment is provided in ex1 similarly the trajectory of rov in case 2 is shown by fig 10 c while the errors on surge and sway are given by fig 10 d particularly the video of this experiment is shown in ex2 it is clear that the tracking task cannot be achieved in the following the position of target point is changed as x d 1 49 4 71 0 0 0 0 when the initial states of rov satisfy the conditions in theorem 1 e g η 0 0 64 0 67 0 0 0 0 and η 0 0 2 0 17 0 0 0 0 the trajectory of rov can be shown by fig 11 a correspondingly the errors on surge and sway are shown in fig 11 b the video of this experiment is provided in ex3 it is obvious that the tracking task can be achieved when the initial states of rov donot satisfy the conditions in theorem 1 e g η 0 0 32 0 21 0 0 0 0 and η 0 0 183 0 23 0 0 0 0 the trajectory of rov is shown by fig 11 c accordingly the errors on surge and sway are shown in fig 11 d specially the video of the above experiment is provided in ex4 clearly the tracking task cannot be achieved through the above experimental results one knows that the proposed approach is practically useful by different conditions of work 5 conclusion and future works this paper addresses the position tracking control problem for a rov under time varying delay and actuator saturation constraints we first design a model free pd controller to enforce the position tracking of the rov for the tracking controller we use lyapunov krasovskii functions to derive the delay dependent stability criteria by analyzing the stability conditions the estimation of doa is presented through which rov can adjust its initial states to guarantee the tracking stability furthermore the optimization of doa is developed to maximize the estimation of doa finally simulation and experimental studies are conducted to demonstrate performance of the proposed methods in the future we will extend our work to deal with rov system in more complex communication and operation environments acknowledgement this work was partially supported by nsfc under 61873345 61603328 and 61633017 by youth talent support program of hebei under bj2018050 by teturned overseas chinese scholar foundation of hebei under c201829 and by civil military integration foundation of hebei under 2018b220 appendix a notations for theorem 1 φ κ η η φ 0 κ η η 1 d 2 ϱ t θ ϱ φ 0 κ η η r ˆ l ˆ w ˆ n ˆ y ˆ u ˆ z ˆ s ˆ φ 3 κ ϱ g 1 t g 2 t g 3 t g 4 t t g 1 0 n 0 n 0 n 0 n i n 0 n 0 n 0 n 0 n g 2 0 n 0 n 0 n i n 0 n i n 2 i n 0 n 0 n g 3 0 n 0 n 0 n 0 n 0 n 0 n 0 n 0 n i n g 4 0 n i n 0 n 0 n 0 n i n 0 n 2 i n 0 n r d i a g r 3 r r ˆ d i a g d 2 r 0 8 n l ˆ d i a g l 0 n 1 d t l 0 6 n w ˆ w ˆ i j 9 n 9 n with w ˆ 1 2 j 1 j w j and the others are zeros n ˆ n j 1 y ˆ y j 2 with j 1 0 n 2 i 0 n 0 n 0 n 2 i 0 n 0 n 2 i j 2 0 n 0 n 0 n 2 i 2 i 2 i 0 n 0 n 0 n u ˆ u ˆ i j 9 n 9 n with u ˆ 2 8 d t u u ˆ 6 8 d t 1 d t u and the others are zeros z ˆ z ˆ i j 9 n 9 n with z ˆ 4 7 d 2 d t z z ˆ 6 7 d 2 d t 1 d t z and the others are zeros s ˆ diag 0 n 0 n 0 n s 0 n 1 d t s 0 n 0 n 0 n φ 3 κ φ i j 3 κ 9 n 9 n with φ 1 1 3 κ 2 λ a i φ 1 2 3 κ φ 1 9 3 κ r 1 2 n β r e r k e r h k rj φ 1 3 3 κ r 1 2 n β r e r α e r h α rj and the others are zeros φ κ η η φ i j 9 n 9 n γ δ j 1 j λ max w j d 2 d 1 λ max s d 2 2 λ max u d 2 d 1 2 λ max z δ 1 2 κ ˆ i 1 2 d 2 2 λ max r d 2 λ max l δ 2 2 
22749,trajectory planning for working ships within offshore wind farms is significant for navigation safety and efficiency regarding to this a global multi direction a algorithm is introduced the algorithm is modified from three perspectives 1 artificial potential field apf is expressed in scalar mode instead of vector mode 2 the moving distance in each step is adjusted based on the complexity of the around environment 3 the penalty mode is proposed for the subsea pipelines the scalar apf model avoids ships crossing between the two obstacles very close to each other which is very important in dense wind turbine waters the adjusted stepping mode can extend possible moving directions compared with conventional a algorithm while making a trade off between computation complexity and efficiency the penalty model plays an effective role so that the planned trajectory is crossing the pipelines only once simulation results indicate that the trajectory from 20 direction a algorithm has similar path length with real cases while enhancing navigation safety to a large degree compared with the real case trajectory the minimum distance to the wind turbines has increased more than 3 times and the path length outside the wind farm decreased from more than 16000m to less than 11000m keywords offshore wind farm path planning multi direction a algorithm artificial potential field 1 introduction with the development of wind power technology an increasing number of offshore wind farms have been constructed in many countries to exploit this new and green power open sea areas near coasts have abundant and stable wind resources and are therefore good locations for wind turbines to take full advantage of wind resources many offshore wind turbines have been constructed occupying capacious sea areas the influences between the wind farms and the ship traffic should be considered in the whole process from the design to operation stages wu et al 2018a b the risk of collision between ships and a wind turbine is one key issue that needs to be fully considered hirokawa et al 2015 with respect to ship traffic near wind turbines the collision risk should be evaluated at the design stage and adjustments should be made if the collision risk is unacceptable however there could be working ships navigating within the wind farm and the collision risk between working ships and wind turbines also needs to be fully considered during the whole operating period moreover the overall distances of ship trajectories should be minimised once the missions of the working ships are determined in consideration of traffic efficiency many of the offshore wind farms in china are located in coastal waters where there are usually many ship traffic flows taking the wind farm near the donghai bridge area at the east coast of shanghai presented in fig 1 as an example it is separated into two parts by the bridge and there are ship lanes at the north and east areas of the wind farm the black line is the cross sea bridge with a navigable span in the middle of the water area the blue boundaries are the locations of the wind farms within which the red dots are the locations the wind turbines all the ships except supply working ships are prohibited to navigate within these areas the red wavy lines indicate different types of subsea pipelines cables the red lines indicate the waterways near the wind farms when working ships are navigating through the wind farm near such sea area such elements need to be considered comprehensively as a result the navigation environment is very complex many ship accidents have occurred in restricted waters especially in port and bridge areas szlapczynski 2015 moreover collisions between ships and or offshore infrastructure have been one of the most common types of accidents in such waters zhang et al 2016 2018 similarly the areas around offshore wind farms can also be treated as restricted waters therefore it is important to find new technologies to reduce the risk of collisions between ships especially the service working ships and wind turbines as well as to enhance the efficiency of ship trajectory planning within wind farm waters research has revealed that the collisions between service ships and wind turbines may result in ineligible damage to the turbines even when at a low speed dai et al 2013 one possible way to reduce the damage of wind turbines is to enhance their structure however path planning is another effective way to reduce such collision risks e g to reduce the possibility of collision an appropriate trajectory cannot only reduce human error related accidents wu et al 2017 by providing seafarers with navigation recommendations but can also improve the efficiency of navigation by reducing fuel consumption as a result the focus of this study is to avoid collisions between ships navigating within wind farms and the objective of this study is to present a path planning approach for working ships navigating within wind farms based on a multi direction a algorithm the rest of the paper is organised as follows section 2 summarises a literature review of relevant research on path planning algorithms including algorithms being applied for robots as well as in marine sectors the details in obstacle modelling are described in section 3 including that of shallow waters bridges and wind turbines in section 4 a path planning algorithm is proposed by making some adjustments to conventional algorithms these mainly include a modified artificial potential field apf model and an adjusted distance in each step in a path planning with multiple directions a case study is performed in section 5 and finally conclusions are drawn in section 6 2 literature review path planning is one of the significant components in the researches of autonomous robots intelligent vehicles and unmanned surface vehicles usvs or autonomous underwater vehicles auvs singh et al 2018 a lot of advanced methods have been introduced in solving path planning problems under dynamic environment they can be classified into different categories from different perspectives and they have both advantages and disadvantages zafar and mohanta 2018 li et al 2019 as a result the combination of different methods has been widely accepted as one of the most effective ways to enhance the efficiency robustness and reliability in view of this this section performs a comprehensive analysis on existing path planning methods from different perspectives 2 1 global and local path plannings 2 1 1 global methods the path planning methods can be classified into global and local path planning marin plaza et al 2018 based on the availability of the environment the global methods are suitable for situations where there are only static obstacles and all the environment information is available beforehand the shortest trajectory from origin to destination can be calculated beforehand however the resolution of the trajectories is usually very low and they cannot adjust to dynamic environment such as moving obstacles some other techniques are required to implement global path planning methods such as voronoi diagram vd bhattacharya and gavrilova 2008 and visibility graph vg jungtae et al 2011 both of them can achieve satisfactory results on the basis of different road generation ideas the idea of vd is to maximize the distance between the obstacles and the object which means the path is usually not the shortest on the contrary vd tries to find a shortest path by finding a graph as close as possible to the obstacles this would result in collision when considering the size of vehicles 2 1 2 local methods local method is applied to dynamic environment where there are moving objects and the relevant information is available only within a limited area it does not need any prior information on the environment and can find a high resolution trajectory during navigating even when there are moving objects however it can only be performed in a real time environment and usually requires many advanced sensors and huge computation due to the above reasons global and local path planning are usually synthesized in a hybrid mode such as the research by wang et al 2002 the first step is to find an overall path based on the static environment information using global path planning approach the second step is to make local adjustment when there is any moving object or the environment has changed the focus of this paper is the first step which is to find a global optimum path for the working ships navigating within the wind farms 2 2 classical and heuristic path plannings 2 2 1 classical methods the existing path planning methods can also be classified into classical also known as deterministic and heuristic methods thoa mac et al 2016 classical algorithms usually identify the global optimum path by calculating all possible paths that can be followed davoodi 2017 these mainly involve some optimization based approaches such as integer linear programming radmanesh kumar 2016 the framework space approach mac et al 2016 the free space model habib and asama 1991 the grid method chang et al 2008 and apf model khatib 1986 ge and cui 2002 however one disadvantage is that they may require long computation time under complex environment which is not practicable for real time applications according to the survey by mohanty and parhi 2013 the number of researches and applications on classical path planning approaches had been transcended by heuristic method since the 1990s and many classical methods have seldom been used despite of that some of them are retained due to they can be easily synthesized with some advanced methods 2 2 1 1 grid method one widely used classical method grid method which is used for obstacle modelling the performance of obstacle modelling has great effect on the performance of path planning in grid method the environment is discretized into a grid with the same size of each square in the grid each square is characterized as an obstacle space or a free space based on whether there is any obstacle within the grid one advantage is that the grid approach enables moving objects keeping a large enough distance away from the obstacles marcjan and gucma 2015 which is important for the working ships navigating near wind turbines for safety issues however the main challenge is that the searching space would grow exponentially with the number of grids and some pruning strategies are necessary in order to reduce computation lau et al 2013 proposed an increment update mechanism by only visiting the changed cells in configuration space the approach works well in both 2d and 3d distance maps in general grid based approaches are quite efficient in generating paths in fast computation time for robot path planning mohanty and parhi 2013 2 2 1 2 artificial potential field model another widely used classical approach is apf model the main idea is that the obstacles are supposed to pose repulsion while the destination poses attraction to the object so that it can gradually approach the destination while keeping away from obstacles ge and cui 2002 modified the conventional apf model for the moving obstacles in which the repulsion force is also influenced by the relative velocity between robots and obstacles besides their distance however few researches have been aware of one limitation of apf model that the penalty value may fail to local minimum resulting the failures in finding an available path under extreme situations moreover the penalty value at the centre of two close obstacles are very small so that the object tend to traverse from between them this would bring more collision risk when applying to the trajectory planning of working ships if the distance between the wind turbines is very small 2 2 2 heuristic methods heuristic algorithms seek for a path by searching a subset of all possible solutions zhang et al 2017 the solutions are usually obtained in a random mode and a sub optimum result can be obtained by either iteratively converging or by constructing black box relationship between inputs and outputs such approaches mainly include artificial neural network ann evolution algorithm ea fuzzy logic fl algorithm a algorithm as well as the hybrid among the algorithms 2 2 2 1 ann method ann approach tries to construct a black box relationship between input and output layers the input layer usually includes the minimum distance to the front and bilateral obstacles the velocities of nearby moving objects the boundary information of obstacles and moving objects the output layer usually includes acceleration deceleration and steering angle which can be used to control the moving object the relationship between inputs and outputs are built using extensive training data on the environment yang and meng 2000 proposed a neural network method for robot path planning the neural network can express the dynamically changing environment the destination poses globally attraction while the obstacles only pose local effect on the robot in general ann is usually applied to local path planning problems the overall performances are highly influenced by the network structure e g the number of hidden layers the number of inputs and the training data these issues should be considered very careful in applications 2 2 2 2 ea method the main idea of ea is that the planned path usually expressed by a series of turning points is initialised randomly first then they are evolved gradually based on the objective function considering safety and efficiency until a satisfactory solution is obtained some researches can be found in ship trajectory planning for example szlapczynski et al 2015 used evolution algorithm ea to search for a safe track considering the rules of the convention on the international regulations for preventing collisions at sea colregs when the ship is involved in an encounter tam and bucknall 2010 proposed a similar ea model of path planning algorithm for ships in close range encounter situations the research was limited to the collision avoidance with other moving ships in open waters without static obstacles according to the existing researches the algorithms can find a satisfactory solution within a short time most of them are suitable for the situations with only one destination they cannot be directly implemented to the cases with multiple destinations 2 2 2 3 fl method the main idea of fl is that the relationship between the environment and the robot control information are constructed using if then rules the rules are usually expressed with fuzzy indicators which can imitate subjective decision making by human mind the ultimate objective of fl is to realise fully autonomous navigating lilly and john 2007 proposed a negative fl model for autonomous obstacle avoidance the model introduced negative rules which specify the strategies that the robot are prohibit to use by doing this the number of activated rules has reduced tremendously so as to overcome the rule explosion problems perera et al 2012 proposed a fl model for ship collision avoidance the fuzzy if then rules are construct based on the requirements on international regulations for preventing collision at sea colregs the ships activate and synthesize some of the rules and finally make defuzzification to make collision avoidance decisions in their subsequent research perera et al 2014 some problems on decision making failures in the vague regions of colregs was further resolved it should be noted that in fl models many parameters should be tuned carefully in order to adjust to the specific environment which reflects that it is very case insensitive 2 2 2 4 a algorithm in general a algorithm is performed in three steps environment construction safe path generation and path optimization narayanan et al 2015 in general a algorithm is usually synthesized with the classical grid based method in order to demonstrate how a works the process of calculating a safe path by a algorithm goyal et al 2014 is presented in fig 2 the green square is the origin of the moving object the black ones are the locations of obstacles and the red one is the destination meanwhile the squares have a distance attribute separately includes g h and f which are fixed values once the environment information is available the value of g means the cost from start point to current grid whereas the value of h shows the predict cost from the current grid to destination the value of f is the sum of g and h in order to identify a shortest safe path a algorithm finds the grid that have the minimum f value this process is repeated until the whole path is available some issues need to be considered before implementing a algorithm one problem is that the computation would grow exponentially with the decreasing of the grids however too large grid size would sacrifice the performance of path planning to a large degree as a result there should be a compromise between the two conflict objectives and an appropriate grid size is significant another problem is that the turning points are largely determined by the number of neighborhood in conventional the 4 direction a algorithm presented in fig 2 the movement of the object is restrained to only four directions which is quite limited in many applications ansari et al 2015 modified the method by increasing the number of neighborhood grids the nodes with common corners are also included in 8 neighbor models which can improve the path planning performance however the computation would also increase to a large degree in order to enhance the searching efficiency a sparse a algorithm has been widely used yang et al 2011 in which invalid points in the searching space can be tailored beforehand the main idea is that the neighbor nodes in different sides are assigned with different priorities according to the environment the neighbor nodes with very small priorities would be eliminated before space searching it should be noted that the above mentioned issues are closely related with each other and they should be considered in a hybrid mode first the grid size should be determined according to the sizes of moving objects and obstacles as well as the required resolutions of the planned trajectory second the number of neighbor nodes can be as many as possible so that to find a satisfactory solution finally the node pruning mechanism should be designed carefully to reduce the computation these are also the main focus of the present paper 2 3 some other techniques due to the particularity of ship path planning within wind farms compared with robot path planning in some aspects some other techniques should be applied one of them is to construct a reliable road map from electrical charts within a sea area with respect to this problem chang et al 2008 proposed an approach of reading a raster chart based on pixels and then the colors of the raster chart can identify the navigable areas or landmass as well as the shoals another technique is related with the maneuverability of the ships witkowska et al 2017 investigated ship s stopping and speed deceleration characteristics in trajectory planning the research assumed that during the transfer operation a service ship would move on a constant heading with zero or very slow speed or drifting in the present paper the maneuverability of the working ship is considered to determine the maximum turning angles in the trajectory planning algorithm besides the above problems the planned path is described with the lines between a series of turning points however the working ship in the present research cannot follow a path with crisp turnings as a result path smoothing is necessary inter visibility test algorithm is an effective way to deal with such problem cao et al 2017 each point would test the connectivity between its previous and forward points e g the line between them is far enough away from obstacles by doing so some points can be removed from the path to reduce the number of turning points however removing the turning points may result in a sharp turning of the trajectory which is not desirable for the ships with large turning radius ma and zhang 2005 proposed a symmetrical polar polynomial approach to smooth the path considering the parameters including position curvature and slope kala et al 2010 extended the model to a probabilistic version by combing it with the fuzzy inference system it should be noted that the smoothed trajectory may reduce the distance to the obstacles to some degree which may no longer be safe to the ships and the wind turbines 3 modelling of obstacles 3 1 the granularity of the grid in the a algorithm obstacles are usually abstracted as a series of grids the granularity of the grids is the first problem that needs to be considered because it affects the performance of the algorithm in terms of safety and economy uras koenig 2015 in the original version of the a algorithm the size of the grid is supposed to be the same as that for a moving robot shukla et al 2008 fig 3 presents an example of the limitation of the grids as can be seen from the figure the path between a and b becomes unreachable after a meshing of the area with 6 6 grids the area between the two obstacles is blocked with the expanding of the sizes of obstacles owing to the coarse grids this is one of the limitations of the a algorithm one solution is to reduce the grid size and increase its density by doing this the boundaries of the obstacles will not be overly expanded however such high granularity of the grids will also increase the computation of the path planning algorithm in dealing with such problems a trade off between the two issues needs to be considered to determine the size of grids and to construct the map model for the a algorithm 3 2 identification of dangerous areas the two states 0 1 in the conventional a algorithm may result in the planned path being too close to the edges of obstacles however trajectory planning for ships navigating within windfarms requires that the ships are far away from dangerous areas including shallow waters fixed obstacles and other ships szlapczynska and szlapczynski 2017 to realise this the concept of the apf model is introduced in which the penalty value is set to be between 0 and 1 and reflects the degree of risk static offshore infrastructure including wind turbines bridges and buoys presents a collision risk to ships the closer the distance between the ships and the infrastructure the higher the resultant collision risk following this idea the apf model rimon and koditscheck 1992 can be used to express the collision risk between ships and obstacles in the apf model there are both attractions and repulsions with respect to ship trajectory planning the destination has attraction to the ships and the obstacles have repulsion to the ships under the combined forces a ship would gradually approach the destination safely in the traditional apf model liu et al 2014 the repulsion field of obstacles is expressed as follows 1 u x y 1 2 k 1 d 1 d 0 2 d d 0 0 d d 0 in the above d x x 0 2 y y 0 2 x y is the position of the moving object x 0 y 0 is the position of the obstacle d is the distance between them and k is a constant coefficient of the gains that is related to the maximum repulsion d 0 is the maximum distance that the obstacles have before impact on the object and is related to the manoeuvrability of the moving objects the value of the repulsion is the negative gradient of u x y which is expressed as follows 2 f x y u x y x u x y y d d 0 0 d d 0 in the above equation the repulsion is expressed as a vector this would result in some abnormal areas of the repulsion field when there are multiple obstacles influencing the moving object as shown in fig 4 a the apf values between the two obstacles become very small so that the ships are encouraged to cross from between the obstacles as can be seen in fig 4 c however if the apf is considered in a scalar mode the values between the two obstacles are still at a high level and thus the planned path tends to be outside the obstacles as shown in fig 4 d this is very useful for path planning within wind farms in which paths cross between two wind turbines when they are close to each other according to the above analysis an apf model in a vector mode does not comply with the fact that the closer the distance between the ships and obstacles the higher the risk on the contrary a modification of the repulsion field model is more feasible by treating the repulsion as a scalar parameter the force is the sum of the repulsions from all the obstacles in the modified repulsion field model the repulsion field model is expressed as follows 3 f x y k 1 d 1 d 0 1 d 2 d d 0 0 d d 0 the overall repulsion force under multiple obstacles at x y can be expressed as 4 f t o t a l x y k 1 n f k x y furthermore a penalty function for ab object approaching the obstacles can be constructed on the basis of the overall repulsion forces which are represented as follows 5 p o x y 1 d l 2 f t o t a l x y min f t o t a l x y max f t o t a l x y min f t o t a l x y others in the above l is the length of the object collision is assumed to occur if the distance to the obstacle is less than half of the size of the object max f t o t a l x y is the maximum repulsion in the grids whereas min f t o t a l x y is the minimum value of p 4 path generation an a algorithm based on the grid map can be explained as follows a candidate is selected from a series of nodes to minimise the overall cost from the start point to the destination through the intermediate nodes the key issue in selecting the intermediate nodes is constructing the cost function in this study the cost function proposed in hart et al 1968 is applied and is expressed as follows 6 f n g n h n in eq 6 f n is the total cost of the path g n is the cost of the path from the start point to the nth node i e the cumulative cost and h n is the estimated cost of the path from the present node to the destination h n is also called the heuristic function and is used for guiding the path to gradually approach the destination narayanan et al 2015 the details on how to assign g n and h n will be introduced in section 4 2 4 1 multi neighbouring node generation because the conventional a algorithm has limited available directions the planned path may not be a straight line even if there are no obstacles as shown in fig 5 moreover such an algorithm would also increase the number of turning points which is unsatisfactory for moving objects with limited manoeuvrability this can be realized by involving more neighbor nodes with longer distances the relationship among the number of neighbor nodes the number of directions and angular resolution is summarized in table 1 when calculating the cost of each movement the neighbour nodes can be simplified as a series of nodes along a circle with the radius of the moving range of the object in each step as demonstrated in fig 6 the number of layers is determined by the distance that can be achieved in one step r in each step the node has 8n neighbours with the direction increasing from 0 to 360 with an interval of α α 360 8n supposing the cost of moving one grid is k the cost of moving one step is kr when r 1 it is possible that the obstacle may fall within the circle as shown in fig 7 a that is to say the accessibility between neighboring waypoints should be examined beforehand this is done by checking whether there is any obstacles between the start points to the next point in doing this the size of the objects are expanded by considering its safety domain as can be seen in fig 7 b supposing the length of the safety domain is a the path can be expressed as a rectangle with the size of r a a the accessibility of the path is determined by checking whether there is obstacle within the rectangle area the calculation amount of the a algorithm is closely related with the distance that the object moves in each step to balance between the two factors a function between the moving distance and the penalty function can be constructed supposing that the default value of the moving distance is r d the moving distance in each step can be expressed as r r 1 p t o t a l r d that is to say the moving distance is the default value when the penalty is 0 and the moving distance is 0 when the penalty is 1 the adjustment between computation and moving distance would not always reduce the complexity of the a algorithm as shown in fig 8 there are eight neighbours for each node it is evident that the optimum path is 1 4 however in the conventional a algorithm the neighbour node in the next step can only be selected from one of the eight neighbouring nodes on the circle thus the process would include 3 8 24 calculations and the planned trajectory would be 1 2 3 4 resulting from gradually updating the turning points when calculating the characteristics of all the nodes as a result if the distance between the new candidate node to the existing nodes is smaller than the moving distance in each step the new candidate node would replace its parent node the moving cost can be recalculated correspondingly by doing this the calculations would decrease and the optimum trajectory of 1 4 would also be available 4 2 node cutting in path planning the issue of manoeuvrability should be considered because ships are not capable of making overly sharp turns node cutting is therefore applied to smooth the trajectory the ship s manoeuvrability can be expressed through the turning radius r min the largest turning angle for a moving object can be calculated as follows 7 α 90 β π 2 arccos o o 1 2 o p 2 o 1 p 2 2 o o 1 o p π 2 arccos r 2 r min therefore in fig 9 the arc area opq is the area that the ship can feasibly reach the above modification of the a algorithm also influences the cost function besides the distance cost g a penalty function for navigation safety is introduced as one part of g n therefore the total cost of node n in the circular neighbourhoods is expressed as follows 8 g n g n 1 k r i 1 r p t o t a l i 9 h n n x m x n x m x 2 n y m y 2 4 3 procedure for path planning based on the previous analysis path planning based on a multi direction a algorithm in a grid graph can be performed with the following five steps step 1 open and close tables are constructed where open means all of the possible nodes that can be selected in the next step and close means the set of nodes that have been selected to compose the trajectory the coordinate of the object s initial position is found the parameters of the node of the object s position are calculated including the directions penalty value cost function g h and f moving distance in each step r and parent and child nodes the node is put into open and close is initialised to be empty step 2 the current node is recorded as a the child nodes of a are calculated according to the moving direction of the object r and its moving distance a considering its moving characteristics the child nodes are then recorded in the open table and the node a is transferred to the close table step 3 the node in the open table with the minimum f value is transferred to the close table and the node is selected as the current node a step 4 the steps 1 3 are repeated until the destination node is put into the open table step 5 the planned path can be obtained by a backward search from the destination node to its parent node an illustrative demonstration of the algorithm can be seen in fig 10 4 4 performance analysis one of the most important indicators for evaluating the performance of the algorithm is the path length more neighbour nodes usually mean that the planned path has more choices and thus that the distance will be shorter fig 11 presents planned paths with 4 6 8 and 18 neighbour nodes respectively the green point is the origin and the blue point is the destination it can be seen that the path becomes smoother and shorter with more searching space the length of the trajectories are measured with number of steps the overall trajectory length in 18 neighbor algorithm is 20 steps which is shorter than that from the 4 direction algorithm 27 steps the correspondence maximum turning angle 20 is much smaller than the 4 neighbor algorithm which is 90 it can also be seen from the figure that the indicators include the moving distance in each step the number of neighbour nodes and the positions of the obstacles which also influence the minimum distance between the path and the obstacles to keep the ship away from the obstacles a penalty parameter is introduced according to which the moving distance in each step can be adjusted as demonstrated in fig 12 the moving ship makes a steering operation earlier than the other trajectories to the destination 5 path planning of working ships in donghai windfarm to evaluate the overall performance of the proposed a algorithm it is applied to a real case for a wind farm near the donghai bridge in china and comparisons are made between the planned paths under different circumstances the planned paths are also compared with gps data from a maintenance ship that operates in the area 5 1 obstacle modelling the first step is to obtain information regarding all of the obstacles in the area a rectangular area around the wind farm near the donghai bridge the area between 121 49 455e 30 51 475n and 122 02 433e 30 44 371n is considered each pixel in the electronic chart corresponds to a square with size 27 m 27 m there are different types of obstacles near the wind farm first the coastline can be extracted from the chart the location of the coastline in the chart can be transformed into latitude and longitude coordinates using coordinate calibration moreover the obstacles of the land bridge and shallow waters are displayed in different colors as shown in fig 13 a thus they can be easily identified the navigability of shallow water is determined according to the water depth and the draught of the ship positions and geometries for obstacles like wind turbines and buoys are added to the chart in addition restricted navigation zones are also treated as obstacles moreover the bridge area identified from the chart cannot discern a route crossing the bridge because the entire bridge is treated as an obstacle therefore the aperture of the bridge is separated into two parts near the navigable span to enable ships crossing the bridge the processed chart with the information of the obstacles is presented in fig 13 b after obtaining the processed chart and the information of the obstacles the penalty value in each grid can be calculated first the penalty value in the water area where the depth is less than 2 m is set to be 1 because it is not safe for the ship second the penalty value in the coastal water is calculated according to eq 5 in which the parameter d is the minimum distance between the grid and the coast lines finally the dimensions of obstacles like turbines or buoys must be considered and a parameter d is calculated by the distance between the centre of the obstacles and the centre of the grid further an area within 1000 m from the boundaries of the bridge is treated as a restricted area whose penalty value is set to 1 reflecting that it is unreachable for the ship all of the penalty values are normalised between 0 and 1 moreover there are some submarine pipelines in the sea area although the working ship is allowed to cross these pipelines it is not recommended to cross the same pipeline for several times considering safety as a result some penalty values are also assigned to the submarine pipeline waters the penalty value graph of the chart is presented in fig 13 c 5 2 results and analysis the wind farm near the donghai bridge is composed of 62 wind turbines the working ship needs to execute the task of delivering maintenance staff to some of the wind turbines the detailed information of donghai 001 is presented in table 2 the coordinates of the locations where the working ships need to arrive are listed in table 3 the planned and real trajectories are presented in fig 14 with a local amplification within the wind farm as shown in fig 14 the ship departs from luchao port and passes through in succession and finally arrives at the anchorage ground the proposed a algorithm is used to generate the path in the simulations the turning radius of the ship is set to be r min 5l 195 m the initial moving distance in each step is set to be r 0 7l 273 m the path is separated into 6 segments corresponding to the paths between the seven locations the path planning approach is performed in each segment and the whole path is the combination of all of the segments as can be seen in fig 14 there are many sharp turns resulting from using the 4 direction a algorithm which is not practicable and the trajectory is very close to the bridge area in some areas moreover simulation experiments reflected that the algorithm sometimes failed to find an available path the reason is that there are only a few neighbour nodes and it is not possible to find a feasible path in a complex environment the trajectories from the 8 16 direction a algorithm cross from within the wind farm despite the fact that the penalty values between the adjacent wind turbines in the lateral direction are higher in scalar apf than in vector apf this is mainly because the number of directions in each step is limited owing to limited number of neighbour nodes and thus directions along the boundary of the wind farm are not available on the contrary the trajectories from 20 32 direction traverse from between the wind turbines in a lateral direction at an early stage instead they traverse between the wind turbines in longitudinal directions whose distance is much larger this means that such trajectories are much safer than the previous ones when taking the computation complexity into consideration the 20 direction algorithm is enough to find a satisfactory trajectory for a working ship it should be noted that the planned trajectory does not comply with a real situation especially at the early stages the possible reason is that in the proposed algorithm more emphasis is given to the navigation safety reflected in the apf model as a result it is recommended to make some adjustments for the existing trajectory of the working ships according to the results from the proposed algorithm one of the most important indicators of the trajectory planning is the path length as can be seen in table 4 the path lengths of the trajectories from the proposed algorithm are in general longer than the real cases however the maximum turning angle is smaller than the real case when the number of directions is not less than 20 with the adjusted algorithm that is to say the trajectories from 20 32 direction are smoother and more satisfactory despite the path length being slightly longer when comparing the performances of fixed and adjusted step approaches the number of searching points is larger in the adjusted step approach this is because the moving distance would decrease in some complex environments increasing the number of searching points however their path length and maximum turning angle are smaller indicating that the adjusted distance in each step would lead to better results with additional computations moreover while the results from the adjusted 20 and 32 direction algorithms have similar performance the 20 direction algorithm is more desirable because it has less computation with fewer searching points besides navigation efficiency another important indicator to evaluate the planned trajectory is safety table 5 presents the factors that can reflect the trajectory safety it can be seen that the minimum distance of the planned trajectories from the proposed algorithm is much larger than the real case situation calculated from gps data the minimum distance is more than 3 times larger than the real case when the number of directions is 20 or more this indicates that the collision risk between the working ship and wind turbine has decreased tremendously the percentage of waypoints whose distance to the nearest wind turbine is less than 500 m in different trajectories also reflect similar characteristics moreover the length of the trajectories navigating within wind farms with the proposed algorithm has also decreased to a large degree from more than 16000 m to less than 11000 m this can also be identified from fig 14 that the trajectories from 20 32 direction a algorithm navigate along the boundary of the wind farm at early stage this can also improve the safety of both working ship and wind turbines to make a more detailed analysis of the performance of the proposed algorithm some extra experiments are performed as one of the innovations is that the apf model is modified with a scalar version fig 15 presents the planned trajectories with scalar and vector apfs it can be seen from the figure that the trajectory from the vector apf enters the wind farm earlier and then turns to the south the main reason is that the values around the first turning point are much smaller than in the scalar apf which stimulates the trajectory turning to the port side after the first turning the trajectory has no choice but to traverse the two turbines in a lateral direction this is neither an economical nor a safe trajectory for the working ships however the scalar apf avoids the crossing between the wind turbines in the lateral direction because the penalty values are larger owing to the close distance between them the trajectory seems much more satisfactory than the other it should be noted the sections after crossing the bridge are similar for the two algorithms because the working ship has little choice but to cross from the wind turbines in the lateral direction as it has to navigate within the wind farm this indicates that in the scalar apf model it is still possible that the working ship will not have many choices in a trajectory crossing from two wind turbines that are close to each other under some situations another modification on the path planning algorithm is the penalty values for the subsea pipelines fig 16 presents the trajectories at an early stage with and without increasing penalty values for the pipelines it is evident that on the left figure the trajectory crosses the pipeline only once whereas the trajectory on the right crosses the pipeline three times although crossing the subsea pipelines does not bring much risk to navigation safety it is not recommended for the working ships to cross the pipelines frequently the main reason is that the ships may have to anchor in emergency situations which may damage the pipelines and result in severe economic loss moreover crossing the pipelines more than one time would also increase the path length which is not economically desirable 6 conclusions a reasonable trajectory within a wind farm is significant for the safety and efficiency of ships in the execution of their missions a multi direction a algorithm is proposed in this study that iteratively finds an optimum neighbour node the resolution of the grid is increased to avoid merging between adjacent obstacles the apf approach is introduced and modified to create a penalty function that allows ships to perceive a potential risk ahead in the trajectory and to take precautions in advance in the neighbour searching the distance in each step is adjusted to increase the number of neighbouring nodes so that a restriction in trajectory direction can be alleviated moreover the influence of submarine pipelines is also considered in the path planning the penalty value would increase once the trajectory crosses the pipeline this avoids multiple crossings of the pipelines effectively which also enhances navigation safety the simulation results indicate that the proposed approach is a useful tool for path planning of ships navigating within wind farms a working ship tends to navigate within the wind farm and crosses from adjacent wind turbines that are close to each other however the planned trajectory from the 20 direction a algorithm avoids such a phenomenon to a large degree especially at the early stages this is much safer than the existing trajectory despite having a similar overall distance the minimum distance between the working ship and wind turbines from the proposed algorithm has increased by more than three times compared with the real cases which reflects that the planned trajectory is much safer as a result it is recommended that the working ship navigates according to the trajectory derived from the proposed algorithm it should be noted that the proposed multi direction a algorithm did not take the influences of wind current visibility into consideration such factors influence both trajectory efficiency and safety for example the minimum safety distance between working ship and wind turbine should be specified under different environment this is also important in determining the parameters in apf model in the proposed algorithm and the fuel consumption of the planned trajectory should be estimated based on wind and current situation moreover the possible direction in each step is still limited even with 20 directions such a problem would be more apparent when the distance in each step is very small in a very complex environment the searching area also has potential to be further reduced to find an optimum trajectory in a shorter time as one essential requirement for real time trajectory path planning more investigations and validations are necessary for addressing such problems in the future acknowledgement the research was supported by the national key technologies research development program 2017yfe0118000 national key technologies research development program grant no 2017yfc0804900 2017yfc0804904 the national science foundation of china grant no 51479158 and the eu project reset grand no h2020 msca rise 2016 730888 
22749,trajectory planning for working ships within offshore wind farms is significant for navigation safety and efficiency regarding to this a global multi direction a algorithm is introduced the algorithm is modified from three perspectives 1 artificial potential field apf is expressed in scalar mode instead of vector mode 2 the moving distance in each step is adjusted based on the complexity of the around environment 3 the penalty mode is proposed for the subsea pipelines the scalar apf model avoids ships crossing between the two obstacles very close to each other which is very important in dense wind turbine waters the adjusted stepping mode can extend possible moving directions compared with conventional a algorithm while making a trade off between computation complexity and efficiency the penalty model plays an effective role so that the planned trajectory is crossing the pipelines only once simulation results indicate that the trajectory from 20 direction a algorithm has similar path length with real cases while enhancing navigation safety to a large degree compared with the real case trajectory the minimum distance to the wind turbines has increased more than 3 times and the path length outside the wind farm decreased from more than 16000m to less than 11000m keywords offshore wind farm path planning multi direction a algorithm artificial potential field 1 introduction with the development of wind power technology an increasing number of offshore wind farms have been constructed in many countries to exploit this new and green power open sea areas near coasts have abundant and stable wind resources and are therefore good locations for wind turbines to take full advantage of wind resources many offshore wind turbines have been constructed occupying capacious sea areas the influences between the wind farms and the ship traffic should be considered in the whole process from the design to operation stages wu et al 2018a b the risk of collision between ships and a wind turbine is one key issue that needs to be fully considered hirokawa et al 2015 with respect to ship traffic near wind turbines the collision risk should be evaluated at the design stage and adjustments should be made if the collision risk is unacceptable however there could be working ships navigating within the wind farm and the collision risk between working ships and wind turbines also needs to be fully considered during the whole operating period moreover the overall distances of ship trajectories should be minimised once the missions of the working ships are determined in consideration of traffic efficiency many of the offshore wind farms in china are located in coastal waters where there are usually many ship traffic flows taking the wind farm near the donghai bridge area at the east coast of shanghai presented in fig 1 as an example it is separated into two parts by the bridge and there are ship lanes at the north and east areas of the wind farm the black line is the cross sea bridge with a navigable span in the middle of the water area the blue boundaries are the locations of the wind farms within which the red dots are the locations the wind turbines all the ships except supply working ships are prohibited to navigate within these areas the red wavy lines indicate different types of subsea pipelines cables the red lines indicate the waterways near the wind farms when working ships are navigating through the wind farm near such sea area such elements need to be considered comprehensively as a result the navigation environment is very complex many ship accidents have occurred in restricted waters especially in port and bridge areas szlapczynski 2015 moreover collisions between ships and or offshore infrastructure have been one of the most common types of accidents in such waters zhang et al 2016 2018 similarly the areas around offshore wind farms can also be treated as restricted waters therefore it is important to find new technologies to reduce the risk of collisions between ships especially the service working ships and wind turbines as well as to enhance the efficiency of ship trajectory planning within wind farm waters research has revealed that the collisions between service ships and wind turbines may result in ineligible damage to the turbines even when at a low speed dai et al 2013 one possible way to reduce the damage of wind turbines is to enhance their structure however path planning is another effective way to reduce such collision risks e g to reduce the possibility of collision an appropriate trajectory cannot only reduce human error related accidents wu et al 2017 by providing seafarers with navigation recommendations but can also improve the efficiency of navigation by reducing fuel consumption as a result the focus of this study is to avoid collisions between ships navigating within wind farms and the objective of this study is to present a path planning approach for working ships navigating within wind farms based on a multi direction a algorithm the rest of the paper is organised as follows section 2 summarises a literature review of relevant research on path planning algorithms including algorithms being applied for robots as well as in marine sectors the details in obstacle modelling are described in section 3 including that of shallow waters bridges and wind turbines in section 4 a path planning algorithm is proposed by making some adjustments to conventional algorithms these mainly include a modified artificial potential field apf model and an adjusted distance in each step in a path planning with multiple directions a case study is performed in section 5 and finally conclusions are drawn in section 6 2 literature review path planning is one of the significant components in the researches of autonomous robots intelligent vehicles and unmanned surface vehicles usvs or autonomous underwater vehicles auvs singh et al 2018 a lot of advanced methods have been introduced in solving path planning problems under dynamic environment they can be classified into different categories from different perspectives and they have both advantages and disadvantages zafar and mohanta 2018 li et al 2019 as a result the combination of different methods has been widely accepted as one of the most effective ways to enhance the efficiency robustness and reliability in view of this this section performs a comprehensive analysis on existing path planning methods from different perspectives 2 1 global and local path plannings 2 1 1 global methods the path planning methods can be classified into global and local path planning marin plaza et al 2018 based on the availability of the environment the global methods are suitable for situations where there are only static obstacles and all the environment information is available beforehand the shortest trajectory from origin to destination can be calculated beforehand however the resolution of the trajectories is usually very low and they cannot adjust to dynamic environment such as moving obstacles some other techniques are required to implement global path planning methods such as voronoi diagram vd bhattacharya and gavrilova 2008 and visibility graph vg jungtae et al 2011 both of them can achieve satisfactory results on the basis of different road generation ideas the idea of vd is to maximize the distance between the obstacles and the object which means the path is usually not the shortest on the contrary vd tries to find a shortest path by finding a graph as close as possible to the obstacles this would result in collision when considering the size of vehicles 2 1 2 local methods local method is applied to dynamic environment where there are moving objects and the relevant information is available only within a limited area it does not need any prior information on the environment and can find a high resolution trajectory during navigating even when there are moving objects however it can only be performed in a real time environment and usually requires many advanced sensors and huge computation due to the above reasons global and local path planning are usually synthesized in a hybrid mode such as the research by wang et al 2002 the first step is to find an overall path based on the static environment information using global path planning approach the second step is to make local adjustment when there is any moving object or the environment has changed the focus of this paper is the first step which is to find a global optimum path for the working ships navigating within the wind farms 2 2 classical and heuristic path plannings 2 2 1 classical methods the existing path planning methods can also be classified into classical also known as deterministic and heuristic methods thoa mac et al 2016 classical algorithms usually identify the global optimum path by calculating all possible paths that can be followed davoodi 2017 these mainly involve some optimization based approaches such as integer linear programming radmanesh kumar 2016 the framework space approach mac et al 2016 the free space model habib and asama 1991 the grid method chang et al 2008 and apf model khatib 1986 ge and cui 2002 however one disadvantage is that they may require long computation time under complex environment which is not practicable for real time applications according to the survey by mohanty and parhi 2013 the number of researches and applications on classical path planning approaches had been transcended by heuristic method since the 1990s and many classical methods have seldom been used despite of that some of them are retained due to they can be easily synthesized with some advanced methods 2 2 1 1 grid method one widely used classical method grid method which is used for obstacle modelling the performance of obstacle modelling has great effect on the performance of path planning in grid method the environment is discretized into a grid with the same size of each square in the grid each square is characterized as an obstacle space or a free space based on whether there is any obstacle within the grid one advantage is that the grid approach enables moving objects keeping a large enough distance away from the obstacles marcjan and gucma 2015 which is important for the working ships navigating near wind turbines for safety issues however the main challenge is that the searching space would grow exponentially with the number of grids and some pruning strategies are necessary in order to reduce computation lau et al 2013 proposed an increment update mechanism by only visiting the changed cells in configuration space the approach works well in both 2d and 3d distance maps in general grid based approaches are quite efficient in generating paths in fast computation time for robot path planning mohanty and parhi 2013 2 2 1 2 artificial potential field model another widely used classical approach is apf model the main idea is that the obstacles are supposed to pose repulsion while the destination poses attraction to the object so that it can gradually approach the destination while keeping away from obstacles ge and cui 2002 modified the conventional apf model for the moving obstacles in which the repulsion force is also influenced by the relative velocity between robots and obstacles besides their distance however few researches have been aware of one limitation of apf model that the penalty value may fail to local minimum resulting the failures in finding an available path under extreme situations moreover the penalty value at the centre of two close obstacles are very small so that the object tend to traverse from between them this would bring more collision risk when applying to the trajectory planning of working ships if the distance between the wind turbines is very small 2 2 2 heuristic methods heuristic algorithms seek for a path by searching a subset of all possible solutions zhang et al 2017 the solutions are usually obtained in a random mode and a sub optimum result can be obtained by either iteratively converging or by constructing black box relationship between inputs and outputs such approaches mainly include artificial neural network ann evolution algorithm ea fuzzy logic fl algorithm a algorithm as well as the hybrid among the algorithms 2 2 2 1 ann method ann approach tries to construct a black box relationship between input and output layers the input layer usually includes the minimum distance to the front and bilateral obstacles the velocities of nearby moving objects the boundary information of obstacles and moving objects the output layer usually includes acceleration deceleration and steering angle which can be used to control the moving object the relationship between inputs and outputs are built using extensive training data on the environment yang and meng 2000 proposed a neural network method for robot path planning the neural network can express the dynamically changing environment the destination poses globally attraction while the obstacles only pose local effect on the robot in general ann is usually applied to local path planning problems the overall performances are highly influenced by the network structure e g the number of hidden layers the number of inputs and the training data these issues should be considered very careful in applications 2 2 2 2 ea method the main idea of ea is that the planned path usually expressed by a series of turning points is initialised randomly first then they are evolved gradually based on the objective function considering safety and efficiency until a satisfactory solution is obtained some researches can be found in ship trajectory planning for example szlapczynski et al 2015 used evolution algorithm ea to search for a safe track considering the rules of the convention on the international regulations for preventing collisions at sea colregs when the ship is involved in an encounter tam and bucknall 2010 proposed a similar ea model of path planning algorithm for ships in close range encounter situations the research was limited to the collision avoidance with other moving ships in open waters without static obstacles according to the existing researches the algorithms can find a satisfactory solution within a short time most of them are suitable for the situations with only one destination they cannot be directly implemented to the cases with multiple destinations 2 2 2 3 fl method the main idea of fl is that the relationship between the environment and the robot control information are constructed using if then rules the rules are usually expressed with fuzzy indicators which can imitate subjective decision making by human mind the ultimate objective of fl is to realise fully autonomous navigating lilly and john 2007 proposed a negative fl model for autonomous obstacle avoidance the model introduced negative rules which specify the strategies that the robot are prohibit to use by doing this the number of activated rules has reduced tremendously so as to overcome the rule explosion problems perera et al 2012 proposed a fl model for ship collision avoidance the fuzzy if then rules are construct based on the requirements on international regulations for preventing collision at sea colregs the ships activate and synthesize some of the rules and finally make defuzzification to make collision avoidance decisions in their subsequent research perera et al 2014 some problems on decision making failures in the vague regions of colregs was further resolved it should be noted that in fl models many parameters should be tuned carefully in order to adjust to the specific environment which reflects that it is very case insensitive 2 2 2 4 a algorithm in general a algorithm is performed in three steps environment construction safe path generation and path optimization narayanan et al 2015 in general a algorithm is usually synthesized with the classical grid based method in order to demonstrate how a works the process of calculating a safe path by a algorithm goyal et al 2014 is presented in fig 2 the green square is the origin of the moving object the black ones are the locations of obstacles and the red one is the destination meanwhile the squares have a distance attribute separately includes g h and f which are fixed values once the environment information is available the value of g means the cost from start point to current grid whereas the value of h shows the predict cost from the current grid to destination the value of f is the sum of g and h in order to identify a shortest safe path a algorithm finds the grid that have the minimum f value this process is repeated until the whole path is available some issues need to be considered before implementing a algorithm one problem is that the computation would grow exponentially with the decreasing of the grids however too large grid size would sacrifice the performance of path planning to a large degree as a result there should be a compromise between the two conflict objectives and an appropriate grid size is significant another problem is that the turning points are largely determined by the number of neighborhood in conventional the 4 direction a algorithm presented in fig 2 the movement of the object is restrained to only four directions which is quite limited in many applications ansari et al 2015 modified the method by increasing the number of neighborhood grids the nodes with common corners are also included in 8 neighbor models which can improve the path planning performance however the computation would also increase to a large degree in order to enhance the searching efficiency a sparse a algorithm has been widely used yang et al 2011 in which invalid points in the searching space can be tailored beforehand the main idea is that the neighbor nodes in different sides are assigned with different priorities according to the environment the neighbor nodes with very small priorities would be eliminated before space searching it should be noted that the above mentioned issues are closely related with each other and they should be considered in a hybrid mode first the grid size should be determined according to the sizes of moving objects and obstacles as well as the required resolutions of the planned trajectory second the number of neighbor nodes can be as many as possible so that to find a satisfactory solution finally the node pruning mechanism should be designed carefully to reduce the computation these are also the main focus of the present paper 2 3 some other techniques due to the particularity of ship path planning within wind farms compared with robot path planning in some aspects some other techniques should be applied one of them is to construct a reliable road map from electrical charts within a sea area with respect to this problem chang et al 2008 proposed an approach of reading a raster chart based on pixels and then the colors of the raster chart can identify the navigable areas or landmass as well as the shoals another technique is related with the maneuverability of the ships witkowska et al 2017 investigated ship s stopping and speed deceleration characteristics in trajectory planning the research assumed that during the transfer operation a service ship would move on a constant heading with zero or very slow speed or drifting in the present paper the maneuverability of the working ship is considered to determine the maximum turning angles in the trajectory planning algorithm besides the above problems the planned path is described with the lines between a series of turning points however the working ship in the present research cannot follow a path with crisp turnings as a result path smoothing is necessary inter visibility test algorithm is an effective way to deal with such problem cao et al 2017 each point would test the connectivity between its previous and forward points e g the line between them is far enough away from obstacles by doing so some points can be removed from the path to reduce the number of turning points however removing the turning points may result in a sharp turning of the trajectory which is not desirable for the ships with large turning radius ma and zhang 2005 proposed a symmetrical polar polynomial approach to smooth the path considering the parameters including position curvature and slope kala et al 2010 extended the model to a probabilistic version by combing it with the fuzzy inference system it should be noted that the smoothed trajectory may reduce the distance to the obstacles to some degree which may no longer be safe to the ships and the wind turbines 3 modelling of obstacles 3 1 the granularity of the grid in the a algorithm obstacles are usually abstracted as a series of grids the granularity of the grids is the first problem that needs to be considered because it affects the performance of the algorithm in terms of safety and economy uras koenig 2015 in the original version of the a algorithm the size of the grid is supposed to be the same as that for a moving robot shukla et al 2008 fig 3 presents an example of the limitation of the grids as can be seen from the figure the path between a and b becomes unreachable after a meshing of the area with 6 6 grids the area between the two obstacles is blocked with the expanding of the sizes of obstacles owing to the coarse grids this is one of the limitations of the a algorithm one solution is to reduce the grid size and increase its density by doing this the boundaries of the obstacles will not be overly expanded however such high granularity of the grids will also increase the computation of the path planning algorithm in dealing with such problems a trade off between the two issues needs to be considered to determine the size of grids and to construct the map model for the a algorithm 3 2 identification of dangerous areas the two states 0 1 in the conventional a algorithm may result in the planned path being too close to the edges of obstacles however trajectory planning for ships navigating within windfarms requires that the ships are far away from dangerous areas including shallow waters fixed obstacles and other ships szlapczynska and szlapczynski 2017 to realise this the concept of the apf model is introduced in which the penalty value is set to be between 0 and 1 and reflects the degree of risk static offshore infrastructure including wind turbines bridges and buoys presents a collision risk to ships the closer the distance between the ships and the infrastructure the higher the resultant collision risk following this idea the apf model rimon and koditscheck 1992 can be used to express the collision risk between ships and obstacles in the apf model there are both attractions and repulsions with respect to ship trajectory planning the destination has attraction to the ships and the obstacles have repulsion to the ships under the combined forces a ship would gradually approach the destination safely in the traditional apf model liu et al 2014 the repulsion field of obstacles is expressed as follows 1 u x y 1 2 k 1 d 1 d 0 2 d d 0 0 d d 0 in the above d x x 0 2 y y 0 2 x y is the position of the moving object x 0 y 0 is the position of the obstacle d is the distance between them and k is a constant coefficient of the gains that is related to the maximum repulsion d 0 is the maximum distance that the obstacles have before impact on the object and is related to the manoeuvrability of the moving objects the value of the repulsion is the negative gradient of u x y which is expressed as follows 2 f x y u x y x u x y y d d 0 0 d d 0 in the above equation the repulsion is expressed as a vector this would result in some abnormal areas of the repulsion field when there are multiple obstacles influencing the moving object as shown in fig 4 a the apf values between the two obstacles become very small so that the ships are encouraged to cross from between the obstacles as can be seen in fig 4 c however if the apf is considered in a scalar mode the values between the two obstacles are still at a high level and thus the planned path tends to be outside the obstacles as shown in fig 4 d this is very useful for path planning within wind farms in which paths cross between two wind turbines when they are close to each other according to the above analysis an apf model in a vector mode does not comply with the fact that the closer the distance between the ships and obstacles the higher the risk on the contrary a modification of the repulsion field model is more feasible by treating the repulsion as a scalar parameter the force is the sum of the repulsions from all the obstacles in the modified repulsion field model the repulsion field model is expressed as follows 3 f x y k 1 d 1 d 0 1 d 2 d d 0 0 d d 0 the overall repulsion force under multiple obstacles at x y can be expressed as 4 f t o t a l x y k 1 n f k x y furthermore a penalty function for ab object approaching the obstacles can be constructed on the basis of the overall repulsion forces which are represented as follows 5 p o x y 1 d l 2 f t o t a l x y min f t o t a l x y max f t o t a l x y min f t o t a l x y others in the above l is the length of the object collision is assumed to occur if the distance to the obstacle is less than half of the size of the object max f t o t a l x y is the maximum repulsion in the grids whereas min f t o t a l x y is the minimum value of p 4 path generation an a algorithm based on the grid map can be explained as follows a candidate is selected from a series of nodes to minimise the overall cost from the start point to the destination through the intermediate nodes the key issue in selecting the intermediate nodes is constructing the cost function in this study the cost function proposed in hart et al 1968 is applied and is expressed as follows 6 f n g n h n in eq 6 f n is the total cost of the path g n is the cost of the path from the start point to the nth node i e the cumulative cost and h n is the estimated cost of the path from the present node to the destination h n is also called the heuristic function and is used for guiding the path to gradually approach the destination narayanan et al 2015 the details on how to assign g n and h n will be introduced in section 4 2 4 1 multi neighbouring node generation because the conventional a algorithm has limited available directions the planned path may not be a straight line even if there are no obstacles as shown in fig 5 moreover such an algorithm would also increase the number of turning points which is unsatisfactory for moving objects with limited manoeuvrability this can be realized by involving more neighbor nodes with longer distances the relationship among the number of neighbor nodes the number of directions and angular resolution is summarized in table 1 when calculating the cost of each movement the neighbour nodes can be simplified as a series of nodes along a circle with the radius of the moving range of the object in each step as demonstrated in fig 6 the number of layers is determined by the distance that can be achieved in one step r in each step the node has 8n neighbours with the direction increasing from 0 to 360 with an interval of α α 360 8n supposing the cost of moving one grid is k the cost of moving one step is kr when r 1 it is possible that the obstacle may fall within the circle as shown in fig 7 a that is to say the accessibility between neighboring waypoints should be examined beforehand this is done by checking whether there is any obstacles between the start points to the next point in doing this the size of the objects are expanded by considering its safety domain as can be seen in fig 7 b supposing the length of the safety domain is a the path can be expressed as a rectangle with the size of r a a the accessibility of the path is determined by checking whether there is obstacle within the rectangle area the calculation amount of the a algorithm is closely related with the distance that the object moves in each step to balance between the two factors a function between the moving distance and the penalty function can be constructed supposing that the default value of the moving distance is r d the moving distance in each step can be expressed as r r 1 p t o t a l r d that is to say the moving distance is the default value when the penalty is 0 and the moving distance is 0 when the penalty is 1 the adjustment between computation and moving distance would not always reduce the complexity of the a algorithm as shown in fig 8 there are eight neighbours for each node it is evident that the optimum path is 1 4 however in the conventional a algorithm the neighbour node in the next step can only be selected from one of the eight neighbouring nodes on the circle thus the process would include 3 8 24 calculations and the planned trajectory would be 1 2 3 4 resulting from gradually updating the turning points when calculating the characteristics of all the nodes as a result if the distance between the new candidate node to the existing nodes is smaller than the moving distance in each step the new candidate node would replace its parent node the moving cost can be recalculated correspondingly by doing this the calculations would decrease and the optimum trajectory of 1 4 would also be available 4 2 node cutting in path planning the issue of manoeuvrability should be considered because ships are not capable of making overly sharp turns node cutting is therefore applied to smooth the trajectory the ship s manoeuvrability can be expressed through the turning radius r min the largest turning angle for a moving object can be calculated as follows 7 α 90 β π 2 arccos o o 1 2 o p 2 o 1 p 2 2 o o 1 o p π 2 arccos r 2 r min therefore in fig 9 the arc area opq is the area that the ship can feasibly reach the above modification of the a algorithm also influences the cost function besides the distance cost g a penalty function for navigation safety is introduced as one part of g n therefore the total cost of node n in the circular neighbourhoods is expressed as follows 8 g n g n 1 k r i 1 r p t o t a l i 9 h n n x m x n x m x 2 n y m y 2 4 3 procedure for path planning based on the previous analysis path planning based on a multi direction a algorithm in a grid graph can be performed with the following five steps step 1 open and close tables are constructed where open means all of the possible nodes that can be selected in the next step and close means the set of nodes that have been selected to compose the trajectory the coordinate of the object s initial position is found the parameters of the node of the object s position are calculated including the directions penalty value cost function g h and f moving distance in each step r and parent and child nodes the node is put into open and close is initialised to be empty step 2 the current node is recorded as a the child nodes of a are calculated according to the moving direction of the object r and its moving distance a considering its moving characteristics the child nodes are then recorded in the open table and the node a is transferred to the close table step 3 the node in the open table with the minimum f value is transferred to the close table and the node is selected as the current node a step 4 the steps 1 3 are repeated until the destination node is put into the open table step 5 the planned path can be obtained by a backward search from the destination node to its parent node an illustrative demonstration of the algorithm can be seen in fig 10 4 4 performance analysis one of the most important indicators for evaluating the performance of the algorithm is the path length more neighbour nodes usually mean that the planned path has more choices and thus that the distance will be shorter fig 11 presents planned paths with 4 6 8 and 18 neighbour nodes respectively the green point is the origin and the blue point is the destination it can be seen that the path becomes smoother and shorter with more searching space the length of the trajectories are measured with number of steps the overall trajectory length in 18 neighbor algorithm is 20 steps which is shorter than that from the 4 direction algorithm 27 steps the correspondence maximum turning angle 20 is much smaller than the 4 neighbor algorithm which is 90 it can also be seen from the figure that the indicators include the moving distance in each step the number of neighbour nodes and the positions of the obstacles which also influence the minimum distance between the path and the obstacles to keep the ship away from the obstacles a penalty parameter is introduced according to which the moving distance in each step can be adjusted as demonstrated in fig 12 the moving ship makes a steering operation earlier than the other trajectories to the destination 5 path planning of working ships in donghai windfarm to evaluate the overall performance of the proposed a algorithm it is applied to a real case for a wind farm near the donghai bridge in china and comparisons are made between the planned paths under different circumstances the planned paths are also compared with gps data from a maintenance ship that operates in the area 5 1 obstacle modelling the first step is to obtain information regarding all of the obstacles in the area a rectangular area around the wind farm near the donghai bridge the area between 121 49 455e 30 51 475n and 122 02 433e 30 44 371n is considered each pixel in the electronic chart corresponds to a square with size 27 m 27 m there are different types of obstacles near the wind farm first the coastline can be extracted from the chart the location of the coastline in the chart can be transformed into latitude and longitude coordinates using coordinate calibration moreover the obstacles of the land bridge and shallow waters are displayed in different colors as shown in fig 13 a thus they can be easily identified the navigability of shallow water is determined according to the water depth and the draught of the ship positions and geometries for obstacles like wind turbines and buoys are added to the chart in addition restricted navigation zones are also treated as obstacles moreover the bridge area identified from the chart cannot discern a route crossing the bridge because the entire bridge is treated as an obstacle therefore the aperture of the bridge is separated into two parts near the navigable span to enable ships crossing the bridge the processed chart with the information of the obstacles is presented in fig 13 b after obtaining the processed chart and the information of the obstacles the penalty value in each grid can be calculated first the penalty value in the water area where the depth is less than 2 m is set to be 1 because it is not safe for the ship second the penalty value in the coastal water is calculated according to eq 5 in which the parameter d is the minimum distance between the grid and the coast lines finally the dimensions of obstacles like turbines or buoys must be considered and a parameter d is calculated by the distance between the centre of the obstacles and the centre of the grid further an area within 1000 m from the boundaries of the bridge is treated as a restricted area whose penalty value is set to 1 reflecting that it is unreachable for the ship all of the penalty values are normalised between 0 and 1 moreover there are some submarine pipelines in the sea area although the working ship is allowed to cross these pipelines it is not recommended to cross the same pipeline for several times considering safety as a result some penalty values are also assigned to the submarine pipeline waters the penalty value graph of the chart is presented in fig 13 c 5 2 results and analysis the wind farm near the donghai bridge is composed of 62 wind turbines the working ship needs to execute the task of delivering maintenance staff to some of the wind turbines the detailed information of donghai 001 is presented in table 2 the coordinates of the locations where the working ships need to arrive are listed in table 3 the planned and real trajectories are presented in fig 14 with a local amplification within the wind farm as shown in fig 14 the ship departs from luchao port and passes through in succession and finally arrives at the anchorage ground the proposed a algorithm is used to generate the path in the simulations the turning radius of the ship is set to be r min 5l 195 m the initial moving distance in each step is set to be r 0 7l 273 m the path is separated into 6 segments corresponding to the paths between the seven locations the path planning approach is performed in each segment and the whole path is the combination of all of the segments as can be seen in fig 14 there are many sharp turns resulting from using the 4 direction a algorithm which is not practicable and the trajectory is very close to the bridge area in some areas moreover simulation experiments reflected that the algorithm sometimes failed to find an available path the reason is that there are only a few neighbour nodes and it is not possible to find a feasible path in a complex environment the trajectories from the 8 16 direction a algorithm cross from within the wind farm despite the fact that the penalty values between the adjacent wind turbines in the lateral direction are higher in scalar apf than in vector apf this is mainly because the number of directions in each step is limited owing to limited number of neighbour nodes and thus directions along the boundary of the wind farm are not available on the contrary the trajectories from 20 32 direction traverse from between the wind turbines in a lateral direction at an early stage instead they traverse between the wind turbines in longitudinal directions whose distance is much larger this means that such trajectories are much safer than the previous ones when taking the computation complexity into consideration the 20 direction algorithm is enough to find a satisfactory trajectory for a working ship it should be noted that the planned trajectory does not comply with a real situation especially at the early stages the possible reason is that in the proposed algorithm more emphasis is given to the navigation safety reflected in the apf model as a result it is recommended to make some adjustments for the existing trajectory of the working ships according to the results from the proposed algorithm one of the most important indicators of the trajectory planning is the path length as can be seen in table 4 the path lengths of the trajectories from the proposed algorithm are in general longer than the real cases however the maximum turning angle is smaller than the real case when the number of directions is not less than 20 with the adjusted algorithm that is to say the trajectories from 20 32 direction are smoother and more satisfactory despite the path length being slightly longer when comparing the performances of fixed and adjusted step approaches the number of searching points is larger in the adjusted step approach this is because the moving distance would decrease in some complex environments increasing the number of searching points however their path length and maximum turning angle are smaller indicating that the adjusted distance in each step would lead to better results with additional computations moreover while the results from the adjusted 20 and 32 direction algorithms have similar performance the 20 direction algorithm is more desirable because it has less computation with fewer searching points besides navigation efficiency another important indicator to evaluate the planned trajectory is safety table 5 presents the factors that can reflect the trajectory safety it can be seen that the minimum distance of the planned trajectories from the proposed algorithm is much larger than the real case situation calculated from gps data the minimum distance is more than 3 times larger than the real case when the number of directions is 20 or more this indicates that the collision risk between the working ship and wind turbine has decreased tremendously the percentage of waypoints whose distance to the nearest wind turbine is less than 500 m in different trajectories also reflect similar characteristics moreover the length of the trajectories navigating within wind farms with the proposed algorithm has also decreased to a large degree from more than 16000 m to less than 11000 m this can also be identified from fig 14 that the trajectories from 20 32 direction a algorithm navigate along the boundary of the wind farm at early stage this can also improve the safety of both working ship and wind turbines to make a more detailed analysis of the performance of the proposed algorithm some extra experiments are performed as one of the innovations is that the apf model is modified with a scalar version fig 15 presents the planned trajectories with scalar and vector apfs it can be seen from the figure that the trajectory from the vector apf enters the wind farm earlier and then turns to the south the main reason is that the values around the first turning point are much smaller than in the scalar apf which stimulates the trajectory turning to the port side after the first turning the trajectory has no choice but to traverse the two turbines in a lateral direction this is neither an economical nor a safe trajectory for the working ships however the scalar apf avoids the crossing between the wind turbines in the lateral direction because the penalty values are larger owing to the close distance between them the trajectory seems much more satisfactory than the other it should be noted the sections after crossing the bridge are similar for the two algorithms because the working ship has little choice but to cross from the wind turbines in the lateral direction as it has to navigate within the wind farm this indicates that in the scalar apf model it is still possible that the working ship will not have many choices in a trajectory crossing from two wind turbines that are close to each other under some situations another modification on the path planning algorithm is the penalty values for the subsea pipelines fig 16 presents the trajectories at an early stage with and without increasing penalty values for the pipelines it is evident that on the left figure the trajectory crosses the pipeline only once whereas the trajectory on the right crosses the pipeline three times although crossing the subsea pipelines does not bring much risk to navigation safety it is not recommended for the working ships to cross the pipelines frequently the main reason is that the ships may have to anchor in emergency situations which may damage the pipelines and result in severe economic loss moreover crossing the pipelines more than one time would also increase the path length which is not economically desirable 6 conclusions a reasonable trajectory within a wind farm is significant for the safety and efficiency of ships in the execution of their missions a multi direction a algorithm is proposed in this study that iteratively finds an optimum neighbour node the resolution of the grid is increased to avoid merging between adjacent obstacles the apf approach is introduced and modified to create a penalty function that allows ships to perceive a potential risk ahead in the trajectory and to take precautions in advance in the neighbour searching the distance in each step is adjusted to increase the number of neighbouring nodes so that a restriction in trajectory direction can be alleviated moreover the influence of submarine pipelines is also considered in the path planning the penalty value would increase once the trajectory crosses the pipeline this avoids multiple crossings of the pipelines effectively which also enhances navigation safety the simulation results indicate that the proposed approach is a useful tool for path planning of ships navigating within wind farms a working ship tends to navigate within the wind farm and crosses from adjacent wind turbines that are close to each other however the planned trajectory from the 20 direction a algorithm avoids such a phenomenon to a large degree especially at the early stages this is much safer than the existing trajectory despite having a similar overall distance the minimum distance between the working ship and wind turbines from the proposed algorithm has increased by more than three times compared with the real cases which reflects that the planned trajectory is much safer as a result it is recommended that the working ship navigates according to the trajectory derived from the proposed algorithm it should be noted that the proposed multi direction a algorithm did not take the influences of wind current visibility into consideration such factors influence both trajectory efficiency and safety for example the minimum safety distance between working ship and wind turbine should be specified under different environment this is also important in determining the parameters in apf model in the proposed algorithm and the fuel consumption of the planned trajectory should be estimated based on wind and current situation moreover the possible direction in each step is still limited even with 20 directions such a problem would be more apparent when the distance in each step is very small in a very complex environment the searching area also has potential to be further reduced to find an optimum trajectory in a shorter time as one essential requirement for real time trajectory path planning more investigations and validations are necessary for addressing such problems in the future acknowledgement the research was supported by the national key technologies research development program 2017yfe0118000 national key technologies research development program grant no 2017yfc0804900 2017yfc0804904 the national science foundation of china grant no 51479158 and the eu project reset grand no h2020 msca rise 2016 730888 
