index,text
22365,integration of an air spring device into an offshore platform can be an effective solution to modify the system properties such as the restoring stiffness in this study the dynamic stiffness due to the linear vibration of the air and fluid entrapped inside an air spring type vibration absorber is investigated the device is modelled as a hollow column with a closed top and floats vertically in a water of constant depth at the initial time the free surfaces inside and outside the device are at the same level and there is an amount of air entrapped above the inner water surface within the device the variation to the air pressure is assumed to occur adiabatically and the free surface boundary condition is derived based on the ideal gas state equation energy dissipation is introduced into the region within the device by adding a resistance force on the inner free surface the wave radiation due to the heave motion of the device is then concerned and an analytical model is developed to evaluate the associated hydrodynamic coefficients and the induced dynamic stiffness by using the method of separation of variables in conjunction with the matching technology an alternative solution of the dynamic stiffness has also been developed based on a decomposition of the total velocity potential into two parts which depend purely on the oscillation of the device and the dynamic air pressure applied on the inner free surface respectively based on the developed model detailed numerical analysis is performed the relative phases between the body motion and the dynamic stiffness are discussed for different wave conditions and geometric parameters keywords analytical solution air spring dynamic stiffness vibration absorber 1 introduction currently the exploitation of marine oil and gas resources has moved to more remote areas and much deeper waters the seakeeping ability especially in the deep sea is a critical issue for floating platforms under severe sea states the environmental impact could cause a large amplitude vibration in the platform which would reduce the safety and fatigue life of the structure in order to find more cost effective and safer solutions for the deep sea exploitation different ideas have been proposed by researchers for the motion reduction of floating platforms optimization of a platform typically involves a compromise among many factors it appears that the heave motion of a drilling platform is the critical limitation for the operating window in harsh environments the platform may experience large heave motion which will limit the ability to carry out certain operations like equipment handling and cause failure of the associated risers connected to the seabed to increase the draft is one of the effective manners to reduce the heave motion bindingsbø and bjørset 2002 found that if the draft of a semi submersible platform can increase up to 40 m the heave motion can be largely reduced the concept of extendable draft platform edp was then introduced in xu and xu 2004 edp is characterized by columns sliding through openings in a buoyant barge type deck that supports the complete structure edp is shown to provide a reliable way to support top tensioned risers and steel risers for deep water application another method of reducing the heave motion is to enhance the added mass and damping effect aubault et al 2007 attempted to attach a heave plate at the bottom of the supporting column to improve the dynamic behavior of a semi submersible platform due to the increase of added mass and damping the natural frequency can be tuned out of the dominant frequency range of incident waves and the resonant motion response can be obviously reduced downie et al 2000 magee et al 2000 another significant optimization was done by chakrabarti et al 2007 who came up with the concept of the truss pontoon semi submersible platform to reduce the need for tendon stiffness in ultra deep water a system of motion absorbers consisting of water columns and entrapped air to suppress the resonant heave motion has been explored in spillane et al 2007 rijken et al 2010 and bian et al 2010 the motion of the water column can produce the pressure variation out of phase with the resonant motion resulting in largely reduced heave response model tests in spillane et al 2007 have shown reductions of ninety percent of the resonant motion in fatigue sea states and modest reductions in the extreme responses during hurricane wave conditions zeng et al 2016 performed a series of experiments to study the performance of an air chamber device with an inner orifice plate applied to the motion suppression the use of an air spring device can be a very promising approach to improve the motion stability of a floating platform in the meantime the advantages of the dynamic stiffness due to the air compression has also been taken in other industrial applications the use of air cushions to support the floating structures can be found in some offshore industries such as increasing the buoyance of concrete deep water structures condeep supporting the very large floating structures vlfs and towing the gravity based structures gbs from dry dock to the field of production the hydrodynamics of structures supported partially by air cushions have been discussed by some searchers such as pinkster 1997 lee and newman 2000 and malenica and zalar 2001 meanwhile as remarked in lee and kim 2007 the pneumatic springs are the key components in the vibration isolation systems for precision instruments such as optical devices and nano scale additionally the air springs have also been introduced into the vehicle suspension systems see quaglia and sorli 2001 holtz and van niekerk 2010 a relatively small magnitude of motion in the vertical plane can ensure the wide application of the rigid risers in floating platforms as remarked in bian et al 2010 one of the major challenges for floating platforms equipped with risers such as tension leg platforms tlps in the deep sea environment has been the cost and weight penalty for maintaining the tendon stiffness to maintain a certain level of axial stiffness the material weight of the tendon has to be proportional to the square of its length resulting in a very heavy tendon in deep waters besides improving the tendon system the use of an air spring device can be another effective way to control the heave motion the dynamic stiffness due to the vibration of the air and fluid entrapped inside the device can be out of phase with the motion of the platform leading to reduced heave motion as a result the dynamic stiffness for heave motion can be largely improved without increasing the tendon weight as the effect of the air spring device is expected to be pronounced in the case of heave motion only the heave motion of body is concerned in this study currently the effect of an air spring device on the hydrodynamic behavior of floating bodies has been investigated in some studies based on model scale testing or numerical modelling in addition to numerical methods and model tests analytical models can also be successful tools for examining the hydrodynamic properties of floating bodies analytical methods are normally of high efficiency to allow one to perform parametric studies in a wide parametric space in addition analytical methods can also be used for the benchmark purposes the fundamental geometry of an air spring device can be modelled as a hollow cylindrical column with a closed top and floats vertically in a water of constant depth see fig 1 due to the symmetry of the structure an analytical model is developed in this study to solve the wave radiation problem due to the heave motion of this device in the present model the variation to the air pressure inside the device is assumed to occur adiabatically and the associated free surface boundary condition is derived based on the ideal gas state equation to suppress the unphysical large free surface movement a resistance force which is assumed to be linearly dependent on the air volume change rate within the device is applied on the inner free surface moreover an alternative solution of the dynamic stiffness has also been developed in this study based on a decomposition of the total velocity potential into two parts which depend purely on the oscillation of the device and the dynamic air pressure applied on the inner free surface respectively to the best of the author s knowledge the analytical solution of the hydrodynamic coefficients and dynamic stiffness for such type of device has rarely been developed in the previous studies the analytical derivation in this study is expected to fill the gap based on the developed model detailed numerical analysis is then carried out it is noted that the whole dynamic stiffness is contributed by two distinct parts which are due to the movement of the entrapped fluid and the oscillation of the structure respectively the later part is always out of phase with the body motion the former part is in phase with the body motion when before the frequency of resonance while when beyond the frequency of resonance it becomes out of phase with the body motion and dominates the whole stiffness following the introduction the governing equation and boundary condition for the wave radiation problem is introduced in section 2 the solution of the wave radiation problem is then developed in section 3 which is followed by the expression of the hydrodynamic coefficients and dynamic stiffness in section 4 an alternative solution of the dynamic stiffness is then developed in section 5 in section 6 various computed results are demonstrated and discussed finally concluding remarks are drawn based on the previous analysis in section 7 2 governing equation and boundary condition the problem of wave radiation by an air spring device is considered in this study the sketch of the structure is shown in fig 1 the device has an inner radius a and an outer radius r and its axis coincides with the z axis the draft of the device is t the water depth d is a constant in this study the clearance between the device and seabed is s d t the oxy and orθ planes are both located on the undisturbed free surface and the z axis points upward the structure performs vertical oscillations of radian frequency ω and a small amplitude ξ then the displacement of the motion i e ξ t can be given as 1 ξ t re ξ e i ω t where i 1 re denotes the real part of a complex expression t is the time it is assumed that the fluid is inviscid and incompressible and the fluid motion is irrotational the flow field can be described in terms of a velocity potential ф x t based on the linear wave theory ф x t can be reasonably expressed as 2 φ x t re i ω ξ ϕ x e i ω t in which ϕ x is the spatial part of the velocity potential and it satisfies laplace s equation 3 2 ϕ x r 2 ϕ x r r 2 ϕ x r 2 θ 2 2 ϕ x z 2 0 wherever in the fluid besides ϕ x is also required to satisfy appropriate boundary conditions the boundary condition on the interface between air and water can be determined based on a combination of the following dynamic and kinematic conditions 4a g ζ φ x t p c ρ on z 0 r a 4b g ζ φ x t 0 on z 0 r r and 5 φ x z ζ x t on z 0 in eq 4 ζ is the water level displacement p c represents the air pressure change within the device due to the high sound speed in the air and the low frequency of ocean waves the oscillating air pressure can be considered spatially uniform martins rivas and mei 2009 due to the symmetry of the structure and the harmonic vertical oscillation piston mode resonance can be induced inside the device at specific conditions the potential flow theory can well predict the resonant frequency but it overpredicts the free surface movement when the resonance occurs due to the lack of energy dissipation liu and li 2013 to suppress the unphysical large free surface movement researchers have developed different ways to include the energy dissipation in the potential flow model such as putting a massless damping lid on the free surface buchner et al 2001 huijsmans et al 2001 or introducing an additional small internal force applied to each fluid particle in addition to the effect of gravity chen 2004 liu and li 2013 in this study the energy dissipation is included through applying a resistance force on the inner free surface as a result of the air volume change additionally the resistance force is assumed to be linearly dependent on the air volume change rate which is similar to the treatment in the modelling of an oscillating water column owc wave energy converter see sarmento and falcão 1985 nader et al 2012 then the dynamic free surface boundary condition becomes 6a g ζ φ x t p c ρ δ ρ s 0 ζ t ξ t d s on z 0 r a 6b g ζ φ x t 0 on z 0 r r in which δ is the artificial damping coefficient δ is introduced to relate the resistance force to the air volume change rate when the piston mode of resonance occurs the fluid entrapped inside the device behaves like a rigid body and there is almost no variation of the surface elevation across the inner free surface then the applied resistance force i e the second term on the right hand side of eq 6a is proportional to the relative velocity between the entrapped fluid and the device in this situation the resistance force behaves as a massless lid on the inner free surface providing a damping force proportional to the relative velocity between the entrapped fluid and the device this is similar to the treatment in the lid technology within the device the variation to the air pressure is assumed to occur adiabatically so that 7 p a v a γ m a γ c in which p a v a and m a are the air pressure air volume and air mass c is a constant value γ 1 4 the air pressure within the device is initially assumed atmospheric p 0 the initial air volume is v 0 πa 2 l 0 the changes of the air pressure p c p a p 0 and the air volume q c v a v 0 are related by 8 1 p c p 0 1 q c v 0 γ 1 the air volume change is due to the relative water level displacement ζ ξ that is 9 q c s 0 ζ ξ d s if the changes of the air pressure and air volume are small eq 8 can then be rewritten as 10 p c γ p 0 v 0 q c γ p 0 v 0 s 0 ζ ξ d s eq 10 gives the relation between the air pressure change and the air volume change eq 10 is applicable to the case in which the mass of the entrapped air is fixed to a constant value when the entrapped air can contact with the external atmosphere i e there is a hole on the top of the device there will exist mass flow across the hole then the relationship given in eq 10 is no longer applicable similar to the velocity potential q c and p c can be expressed in the following form 11a q c re q c e i ω t 11b p c re p c e i ω t with q c and p c being the complex amplitude of the air volume change and the air pressure change respectively the expressions of q c and p c are given by 12a q c ξ s 0 ϕ x z 1 d s 12b p c γ p 0 v 0 q c γ p 0 ξ v 0 s 0 ϕ x z 1 d s the combination of eqs 5 6 and 10 gives the free surface boundary condition satisfied by ϕ that is 13a ϕ x z ω 2 g ϕ x γ p 0 ρ g v 0 i δ s 0 s 0 ϕ x z 1 d s on z 0 r a 13b ϕ x z ω 2 g ϕ x 0 on z 0 r r in eq 13a s 0 equal to πa 2 represents the area of the inner water plane δ is the dimensionless damping coefficients and defined by 14 δ ω s 0 ρ g δ in the meantime since no water can flow through the impermeable body surface and the seabed the component of the fluid velocity normal to an impermeable surface must be equal to the velocity of the body surface this gives the following boundary conditions 15a ϕ x n n z on s b 15b ϕ x z 0 on z d in eq 15a s b represents the mean body surface n n x n y n z t is the normal vector on s b and is positive when pointing out of the fluid domain in addition ϕ x has to satisfy the sommerfeld radiation condition at a large radial distance from the structure 16 lim r κ 0 r ϕ x r i κ 0 ϕ x 0 in which κ 0 is the solution of the dispersion relation ω 2 g κ 0 tanh κ 0 d 3 solution of the wave radiation problem in the solution procedure the whole fluid domain is divided into three subdomains denoted by ω1 ω2 and ω3 ω1 r r d z 0 is the exterior domain ω3 r a d z 0 is the interior domain and ω2 a r r d z t is the domain connecting ω1 and ω3 hereinafter ϕ 1 x ϕ 2 x and ϕ 3 x are used to denote the spatial potential in those subdomains the solution procedure starts from the derivation of the expressions for the velocity potential evidently the boundary conditions on the inner free surface and the bottom of the device are inhomogeneous particular solutions satisfying inhomogeneous boundary conditions are to be determined in ω2 and ω3 by using the method of separation of variables yeung 1981 mavrakos 1985 the spatial potential can be expressed in the form of orthogonal series in each subdomain 17a ϕ 1 r z j 0 a j r j κ j r z j κ j z 17b ϕ 2 r z l 0 b l p l λ l r c l q l λ l r y l λ l z ϕ 2 p r z 17c ϕ 3 r z k 0 d k v k κ k r z k κ k z ϕ 3 p r z in which a j b l c l and d k are unknown coefficients κ j j 1 are positive real roots of ω 2 g κ j tan κ j d the eigenvalues λ l are defined as λ 0 1 and λ l l π s for l 1 r j κ j r v k κ k r p l λ l r and q l λ l r are radial functions and defined by the following equations 18a r j κ j r h 0 κ 0 r j 0 k 0 κ j r j 1 18b v k λ k r j 0 κ 0 r k 0 i 0 κ k r k 1 18c p l λ l r ln r r ln r a l 0 k 0 λ l r i 0 λ l r k 0 λ l r i 0 λ l r k 0 λ l a i 0 λ l r k 0 λ l r i 0 λ l a l 1 18d q l λ l r ln r a ln r a l 0 k 0 λ l a i 0 λ l r k 0 λ l r i 0 λ l a k 0 λ l a i 0 λ l r k 0 λ l r i 0 λ l a l 1 in which h 0 x is the hankel function of the first kind of zeroth order i 0 x and k 0 x are the modified hankel functions of the first and second kind of zeroth order respectively z j κ j z and y l λ l z are orthonormal functions given at the intervals d 0 and d t respectively and they are defined as 19a z j κ j z cosh κ 0 z d cosh κ 0 d j 0 cos κ j z d cos κ j d j 1 19b y l λ l z 2 2 l 0 cos λ l z d l 1 the particular solutions in eqs 17b and 17c ϕ 2 p r z and ϕ 3 p r z are derived as follows 20a ϕ 2 p r z 1 2 s z d 2 r 2 2 20b ϕ 3 p r z 2 π γ p 0 ρ g v 0 i δ s 0 d 0 j 1 κ 0 a a κ 0 k 1 d k i 1 κ k a a κ k a 2 g 2 ω 2 the expressions in eq 17 are developed to satisfy laplace s equation and all the boundary conditions in addition these expressions have to satisfy the condition of the continuity of pressure and normal velocity at the borders between two neighboring subdomains i e r r and r a to find a solution to these coefficients the infinite series of orthogonal functions has to be truncated and in eq 17 only the first n terms are taken the continuity of the normal velocity between different subdomains at r r and r a can be satisfied over the z interval in a least square manner by making use of the orthogonal properties of z j κ j z the procedure gives the following two sets of equations 21a κ j r j κ j r n j κ j d a j l 0 λ l p l λ l r β j l b l l 0 λ l q l λ l r β j l c l d t ϕ 2 p r z z j κ j z d z 21b l 0 λ l p l λ l a β k l b l l 0 λ l q l λ l a β k l c l κ k v k κ k a n k κ k d d k d t ϕ 2 p a z z j κ j z d z in which 22 β j l d t z j κ j z y l λ l z d z in eq 21 the prime appearing in the superscript denotes the derivative with respect to r n j κ j d represents the inner products of z j κ j z and is defined as 23 n j κ j d d 0 z j 2 κ j z d z 1 cosh 2 κ 0 d d 2 1 sinh 2 κ 0 d 2 κ 0 d j 0 1 cos 2 κ j d d 2 1 sin 2 κ j d 2 κ j d j 1 by matching the potential between different subdomains at r r and r a and making use of the orthogonal properties of y l λ l z the following two sets of linear equations can then be obtained 24a j 0 r j κ j r β j l a j s 2 b l d t ϕ 2 p r z y l λ l z d z 24b s 2 c l k 0 v k κ k a β k l d k d t ϕ 2 p a z y l λ l z d z d t ϕ 3 p a z y l λ l z we now get four sets of linear system of 4n complex equations and an equal number of the unknown coefficients solving the equations gives the unknown coefficients in the orthogonal series and thereby also the velocity potentials valid in each region 4 calculation of the hydrodynamic coefficients and air force after obtaining the velocity potential the pressure distribution can immediately be determined according to the bernoulli equation the hydrodynamic forces caused by the motion of the structure is achieved by integrating the fluid pressure over the body surface and can then be divided into two quantities giving the part of hydrodynamic force in phase with the acceleration and the velocity of the moving body respectively the two quantities are normally defined as the added mass and radiation damping respectively following yeung 1981 and lee 1995 the added mass and radiation damping due to the heave motion of the device a 33 and b 33 can be determined according to 25 a 33 i b 33 ω 2 π ρ l 0 π 1 l π 2 l s 4 r 2 a 2 1 16 s r 4 a 4 in which 26a π 1 l 2 2 b 0 ln r a 1 2 a 2 ln r a 1 4 r 2 1 4 a 2 l 0 b l λ l k 0 λ l r λ 2 l λ 1 l i 0 λ l r k 0 λ l a i 0 λ l r k 0 λ l r i 0 λ l a 1 l l 1 26b π 2 l 2 2 c 0 ln r a 1 2 r 2 ln r a 1 4 r 2 1 4 a 2 l 0 c l λ l k 0 λ l a λ 2 l λ 1 l i 0 λ l a k 0 λ l a i 0 λ l r k 0 λ l r i 0 λ l a 1 l l 1 and 27a λ 1 l k 1 λ l r r k 1 λ l a a l 1 27b λ 2 l i 1 λ l r r i 1 λ l a a l 1 the air force f c can be obtained by the integral of the air pressure both inside and outside the device the resultant air force is due to the air pressure change within the device it leads to 28 f c p c s 0 γ p 0 l 0 q c after inserting eq 12 into eq 28 and making use of eq 5 it can be obtained that 29 f c k 33 ξ in which k 33 is the complex dynamic stiffness and can be determined according to 30 k 33 k p k q in which 31a k p 2 π γ p 0 l 0 v d j 1 κ 0 a a κ 0 d 0 k 1 i 1 κ k a a κ k d k 31b k q γ p 0 l 0 s 0 in eq 31 v d is the deep water wave number and defined as ω 2 g k p and k q represent the contribution to the dynamic stiffness due to movement of the inner free surface and the motion of the device respectively 5 alternative solution of the dynamic stiffness for the purpose of validation an alternative solution to the dynamic stiffness of the air spring device is developed in this section the velocity potential is then decomposed into two parts such that 32 φ x t re i ω ξ ϕ ˆ x q c ϕ x e i ω t in which ϕ ˆ x is associated with the wave radiation due to the oscillation the device in the absence of the dynamic air pressure p c on the inner free surface i e p c 0 in eq 13a ϕ x describes the flow induced by the dynamic air pressure on the inner free surface due to unit air volume change with the device keeping stationary hereinafter the two problems associated with ϕ ˆ x and ϕ x are referred to as the conventional wave radiation problem and the pressure dependent radiation problem respectively then ϕ x satisfies the following boundary conditions on the inner free surface and the body surface respectively 33a ϕ x z ω 2 g ϕ x i ω γ p 0 ρ g v 0 i δ s 0 on z 0 r a 33b ϕ n 0 on s b noted that the damping effect has been included in eq 33a the two problems associated with ϕ ˆ x and ϕ x can be regarded as the limited cases of the problem discussed in the previous section without the effect of the dynamic air pressure and the oscillation of the device respectively therefore they can be solved by using the same approach as presented in the previous section in these two problems ϕ ˆ n and ϕ n n 1 2 3 are used to denote the spatial potential in the three subdomains by using the method of separation of variables the spatial potential in each subdomain can be expressed as follows 34a ϕ ˆ 1 r z j 0 a ˆ j r j κ j r z j κ j z 34b ϕ ˆ 2 r z l 0 b ˆ l p l λ l r c ˆ l q l λ l r y l λ l z ϕ 2 p r z 34c ϕ ˆ 3 r z k 0 d ˆ k v k κ k r z k κ k z and 35a ϕ 1 r z j 0 a j r j κ j r z j κ j z 35b ϕ 2 r z l 0 b l p l λ l r c l q l λ l r y l λ l z 35c ϕ 3 r z k 0 d k v k κ k r z k κ k z i ω v d γ p 0 ρ g v 0 i δ s 0 in eqs 34 and 35 a ˆ j b ˆ l c ˆ l d ˆ k a j b l c l and d k are unknown coefficients the eigenvalues radial functions and vertical functions involved in the equations have the same definition as in the previous section the particular solution ϕ 2 p r z has been defined in eq 20a the unknown coefficients in eqs 34 and 35 can be determined by imposing the matching condition at r a and r r after solving ϕ ˆ x and ϕ x the application of eqs 5 9 11a and 32 can lead to 36 q c s 0 ξ ϕ ˆ x z q c i ω ϕ x z d s ξ π a 2 after some arrangements the following expression for the calculation of q c can be obtained 37 q c ξ k 0 π ˆ k ξ π a 2 1 i ω k 0 π k 1 in which 38 π ˆ k 2 π v d d ˆ k j 0 κ 0 a κ 0 a k 0 2 π v d d ˆ k i 0 κ k a κ k a k 1 the expression of π k can be determined according to eq 38 with d ˆ k replaced by d k then based on eqs 28 and 29 a novel expression for the calculation of the dynamic stiffness can be derived as follows 39 k 33 γ p 0 l 0 k 0 π ˆ k π a 2 1 i ω k 0 π k 1 6 numerical results and discussion for all the calculations performed in this section the inner radius of the device is fixed at a 5 m meanwhile the constant water depth is fixed at d 10a in this section the convergence and validity of the present model is firstly examined then numerical studies are carried out in detail to assess the effect of various geometric parameters before understanding the effect of the geometric parameters convergence of the present solution with respect to the truncation number of eigenmodes n is checked as an example a device of r 1 5a and t 3 0a is considered calculations have been carried out for four values of normalized wave number κ 0 a the calculated results of the dimensionless added mass radiation damping and dynamic stiffness with respect to the change of n are shown in fig 2 it is evident from fig 2 that the convergence of the present results is good generally the value of n 100 is sufficient to guarantee an accurate prediction in engineering practice thus the value of n 100 is adopted in the subsequent parametric study to verify the present model a comparison with the numerical results based on the higher order boundary element method hobem teng and eatock taylor 1995 is made in fig 3 the comparison is shown for the case of a device of r 1 5a and t 2 0a meanwhile the device concerned in the comparison is with an open top i e l 0 tends to infinity in order to achieve a satisfactory accuracy for the numerical implementation a quadrant of the body surface is discretized into 240 elements when the problem is solved by hobem it is evident that the present results are in a good agreement with those based on hobem see fig 3 to provide a further check on the validity of the present model a comparison of the dynamic stiffness based on different solutions developed in this study i e eqs 30 and 39 is made in the comparison a device of r 1 5a t 3a and l 0 2a is concerned a good agreement between the results based on different solutions is found from fig 4 which further confirms the validity of the present model the energy dissipation has been included in the present model through applying a resistance force on the inner free surface the effect of the resistance force on the hydrodynamic coefficients and dynamic stiffness are investigated and the numerical results are presented in figs 5 and 6 in the calculations the outer radius and draft of the device are fixed at r 1 5a and t 3a respectively meanwhile the dimensionless artificial damping coefficient is varied as δ 0 05 0 1 0 15 and 0 2 the variation of the added mass and radiation damping with respect to the change of δ is given in fig 5 in fig 5 a regardless of the value of δ significant added mass can be observed around κ 0 a 0 63 this frequency is related to the fundamental resonance of the fluid motion when the resonance occurs piston like fluid motion can be observed within the device evans and porter 1997 the approximate solid body motion of the fluid occurs with a sudden sign change of the added mass similar phenomenon has also been observed in the previous studies such as in evans and porter 1995 in studying the pressure dependent radiation problem due to a two dimensional owc wave energy converter an increase of δ can lead to an obvious decrease of the magnitude of the added mass around the frequency of resonance in the high frequency region the added mass tends to a stable value regardless of the damping parameter the radiation damping is also characterized by an obvious peak around κ 0 a 0 63 see fig 5 b the introduction of the resistance force can also be effective in suppressing the large amplification of the radiation damping the effect of δ on the whole dynamic stiffness is presented in fig 6 significant dynamic stiffness can be found around the frequency of resonance see fig 6 a from fig 6 b it is noted that in a specific frequency range the air force is in phase with the body motion and behaves as a restoring force the effect of δ on the real and imaginary part of the complex stiffness is concerned in fig 7 here a convenient but arbitrary decomposition of the dynamic stiffness is made thus 40 k 33 ω 2 a i ω b in which a and b are real and directly analogous to the added mass and radiation damping coefficients in a rigid body system clearly 41a a 1 ω 2 re k 33 41b b 1 ω im k 33 in which im denotes the imaginary part of a complex expression variation of a and b with respect to the change of δ is shown in fig 7 the general trend of a and b is similar to that of the added mass and radiation damping see fig 5 the whole air force consists of two distinct parts that are related to the free surface movement within the device and the motion of the device respectively correspondingly the whole stiffness can be divided into two parts k p and k q see eq 31 the variation of k p and k q against κ 0 a is given in fig 8 with δ 0 15 from fig 8 it can be observed that the former part of the air force is almost in phase with the motion of the device when before the frequency of resonance while it becomes out of phase with the motion of the device when beyond the frequency of resonance in addition the later part of the air force is always out of phase with the motion of the device the whole air force is firstly dominated by the later part and the phase angle of the whole stiffness is almost 180 as the wave frequency increases the former part gradually dominates the whole air force and its contribution gets more important as a result the phase angle of the whole stiffness is around 0 as the wave frequency increases further and exceeds the frequency of resonance the two parts of the air force are both out of phase with the motion of the device and the phase angle of the whole stiffness becomes 180 again the distribution of the surface elevation around the device is shown in figs 9 and 10 for δ 0 1 and 0 2 respectively at three wave frequencies i e κ 0 a 0 5 0 63 and 0 8 it is noted that the surface elevation within the device is more significant than that outside the device due to the uniform distribution of the air pressure on the inner free surface the surface elevation within the device does not show obvious spatial variation it is also noted that an increase of δ can lead to a pronounced decrease of surface elevation within the device around the frequency of resonance the variation of the hydrodynamic coefficients and dynamic stiffness with respect to the change of l 0 is shown in figs 11 and 12 in the following calculation the outer radius and draft of the device are fixed at r 1 5a and t 3a respectively meanwhile the length of the air entrapped inside the device is varied as l 0 a 2a 3a and 4a the initial air volume increases with the increase of l 0 then for a certain amount of air volume change less air pressure change can be induced as a result the frequency of resonance moves gradually to the low frequency region as l 0 increases as l 0 decreases the air entrapped inside the device tends to be much stiffer then it can transfer the kinetic energy due to the motion of the device to the fluid in a more effective manner through applying the air pressure on the inner free surface this can affect the resonant motion of the fluid and it is noted that the amplification of the hydrodynamic coefficients and dynamic stiffness due to the resonance is gradually reinforced as l 0 decreases the frequency range in which the air force is in phase with the body motion increases gradually as l 0 decreases this is mainly due to that the frequency of resonance moves gradually to the high frequency region as l 0 increases the effect of the outer radius of the device on the hydrodynamic coefficients and dynamic stiffness is concerned in figs 13 and 14 in the following calculation the draft of the device and the length of the air entrapped inside the device are fixed at t 3a and l 0 2a respectively an increase of r can lead to an obvious increase of the added mass see fig 13 a this is due to that the device can affect more of the surrounding fluid as its outer radius increases the radiation damping is associated with the energy carried away to infinity by outgoing waves as the outer radius of the chamber increases more free surface kinetic energy transformation can be caused leading to more progressive waves in the exterior region therefore the radiation damping increases as r increases at a certain wave frequency see fig 13 b the magnitude of the dynamic stiffness generally increases as r increases at a certain wave frequency see fig 14 a while the effect of the outer radius on the phase angle of the dynamic stiffness is not obvious see fig 14 b figs 15 and 16 illustrate the variation of the hydrodynamic coefficients and dynamic stiffness with respect to the change of the draft in the following calculation the outer radius of the device and the length of the air entrapped inside the device are fixed at r 1 5a and l 0 2a respectively the draft of the device is varied as t 1 25a 1 5a 1 75a and 2 0a as t increases a larger amount of fluid is entrapped inside the device as a result the frequency of resonance moves gradually to the low frequency region it is also noted that due the possible phase cancellations between k p and k q the frequency region in which the air force is in phase of the body motion moves gradually to the low frequency region and narrows down as t increases 7 conclusions the wave radiation problem has been investigated in the context of linear potential theory for an air spring device with a closed top and floating vertically in a water of constant depth the structure is assumed to undergo heave motion and an analytical model is newly developed to obtain the hydrodynamic coefficients and dynamic stiffness based on the eigenfunction expansion matching method in the meantime an alternative solution of the dynamic stiffness has also been developed by solving the conventional wave radiation problem and a pressure dependent radiation problem respectively to achieve a suitable design the designers normally have to take into account a wide range of structure sizes then the present analytical model will produce benefit as it allows the efficient calculation of the hydrodynamic properties in a wide range of geometric parameters in the meantime the results presented in this study are also expected to help designers in choosing proper parameters as to improve the functional behavior of the device main conclusions of this study can be summarized as follows 1 the forced heave motion of the device can induce the resonant motion of the fluid entrapped inside the device the introduction of the resistance force can be effective in suppressing the resonant motion 2 two different solutions have been developed in this study for the calculation of the dynamic stiffness the results of dynamic stiffness based on them agree well with each other 3 the whole air force is consisted of the two distinct parts which are related to the free surface movement within the device and the oscillation of the device respectively the former part is almost in phase with the motion of the device when before the frequency of resonance while it becomes out of phase with the motion of the device when beyond the frequency of resonance in the meantime the later part is always out of phase with the motion of the device the whole air force is firstly dominated by the later part as the wave frequency increases the former part gradually dominates the whole air force and its contribution gets more important as the wave frequency increases further and exceeds the frequency of resonance the two parts are both out of phase with the motion of the device and the air force behaves as the restoring force 4 as the length of the air entrapped inside the device l 0 increases the resonance frequency gradually moves to the low frequency region meanwhile the significant amplification of the hydrodynamic coefficients and dynamic stiffness due to the resonance is gradually weakened as l 0 increases it can also be noted the frequency range in which the air force is in phase with the body motion is gradually broadened as l 0 decreases 5 the outer radius and draft of the device are also important parameters the outer radius has negligible effect on the frequency of resonance while an increase of the outer radius can lead to an increase of the hydrodynamic coefficients and dynamic stiffness as the draft of the device increases the frequency of resonance moves gradually to the low frequency region in addition the frequency region in which the air force is in phase of the body motion moves to the low frequency region and gradually narrows down as the draft increases the present model is developed based on the potential flow theory in which the physical energy dissipations due to fluid viscosity vortex shedding and even turbulence cannot be taken into account due to the lack of damping effect the conventional potential flow model tends to over predict the movement of the entrapped fluid when the resonance occurs therefore attempts have been made in this study to introduce some amount of resistance artificially in order to overcome this difficulty previous studies suggest that if a well calibrated damping coefficient is adopted the technique by incorporating artificial resistance into the potential flow can well predict the phenomenon associated with the fluid resonance see lu et al 2011 liu and li 2013 the artificial damping coefficient remains uncertain if the structure geometric dimensions are changed and should be calibrated by calibrated tests as for the present air spring device the dependence of the damping coefficient on the structure geometric dimensions remains unclear so far and this provides an interesting research topic for our next step work 
22365,integration of an air spring device into an offshore platform can be an effective solution to modify the system properties such as the restoring stiffness in this study the dynamic stiffness due to the linear vibration of the air and fluid entrapped inside an air spring type vibration absorber is investigated the device is modelled as a hollow column with a closed top and floats vertically in a water of constant depth at the initial time the free surfaces inside and outside the device are at the same level and there is an amount of air entrapped above the inner water surface within the device the variation to the air pressure is assumed to occur adiabatically and the free surface boundary condition is derived based on the ideal gas state equation energy dissipation is introduced into the region within the device by adding a resistance force on the inner free surface the wave radiation due to the heave motion of the device is then concerned and an analytical model is developed to evaluate the associated hydrodynamic coefficients and the induced dynamic stiffness by using the method of separation of variables in conjunction with the matching technology an alternative solution of the dynamic stiffness has also been developed based on a decomposition of the total velocity potential into two parts which depend purely on the oscillation of the device and the dynamic air pressure applied on the inner free surface respectively based on the developed model detailed numerical analysis is performed the relative phases between the body motion and the dynamic stiffness are discussed for different wave conditions and geometric parameters keywords analytical solution air spring dynamic stiffness vibration absorber 1 introduction currently the exploitation of marine oil and gas resources has moved to more remote areas and much deeper waters the seakeeping ability especially in the deep sea is a critical issue for floating platforms under severe sea states the environmental impact could cause a large amplitude vibration in the platform which would reduce the safety and fatigue life of the structure in order to find more cost effective and safer solutions for the deep sea exploitation different ideas have been proposed by researchers for the motion reduction of floating platforms optimization of a platform typically involves a compromise among many factors it appears that the heave motion of a drilling platform is the critical limitation for the operating window in harsh environments the platform may experience large heave motion which will limit the ability to carry out certain operations like equipment handling and cause failure of the associated risers connected to the seabed to increase the draft is one of the effective manners to reduce the heave motion bindingsbø and bjørset 2002 found that if the draft of a semi submersible platform can increase up to 40 m the heave motion can be largely reduced the concept of extendable draft platform edp was then introduced in xu and xu 2004 edp is characterized by columns sliding through openings in a buoyant barge type deck that supports the complete structure edp is shown to provide a reliable way to support top tensioned risers and steel risers for deep water application another method of reducing the heave motion is to enhance the added mass and damping effect aubault et al 2007 attempted to attach a heave plate at the bottom of the supporting column to improve the dynamic behavior of a semi submersible platform due to the increase of added mass and damping the natural frequency can be tuned out of the dominant frequency range of incident waves and the resonant motion response can be obviously reduced downie et al 2000 magee et al 2000 another significant optimization was done by chakrabarti et al 2007 who came up with the concept of the truss pontoon semi submersible platform to reduce the need for tendon stiffness in ultra deep water a system of motion absorbers consisting of water columns and entrapped air to suppress the resonant heave motion has been explored in spillane et al 2007 rijken et al 2010 and bian et al 2010 the motion of the water column can produce the pressure variation out of phase with the resonant motion resulting in largely reduced heave response model tests in spillane et al 2007 have shown reductions of ninety percent of the resonant motion in fatigue sea states and modest reductions in the extreme responses during hurricane wave conditions zeng et al 2016 performed a series of experiments to study the performance of an air chamber device with an inner orifice plate applied to the motion suppression the use of an air spring device can be a very promising approach to improve the motion stability of a floating platform in the meantime the advantages of the dynamic stiffness due to the air compression has also been taken in other industrial applications the use of air cushions to support the floating structures can be found in some offshore industries such as increasing the buoyance of concrete deep water structures condeep supporting the very large floating structures vlfs and towing the gravity based structures gbs from dry dock to the field of production the hydrodynamics of structures supported partially by air cushions have been discussed by some searchers such as pinkster 1997 lee and newman 2000 and malenica and zalar 2001 meanwhile as remarked in lee and kim 2007 the pneumatic springs are the key components in the vibration isolation systems for precision instruments such as optical devices and nano scale additionally the air springs have also been introduced into the vehicle suspension systems see quaglia and sorli 2001 holtz and van niekerk 2010 a relatively small magnitude of motion in the vertical plane can ensure the wide application of the rigid risers in floating platforms as remarked in bian et al 2010 one of the major challenges for floating platforms equipped with risers such as tension leg platforms tlps in the deep sea environment has been the cost and weight penalty for maintaining the tendon stiffness to maintain a certain level of axial stiffness the material weight of the tendon has to be proportional to the square of its length resulting in a very heavy tendon in deep waters besides improving the tendon system the use of an air spring device can be another effective way to control the heave motion the dynamic stiffness due to the vibration of the air and fluid entrapped inside the device can be out of phase with the motion of the platform leading to reduced heave motion as a result the dynamic stiffness for heave motion can be largely improved without increasing the tendon weight as the effect of the air spring device is expected to be pronounced in the case of heave motion only the heave motion of body is concerned in this study currently the effect of an air spring device on the hydrodynamic behavior of floating bodies has been investigated in some studies based on model scale testing or numerical modelling in addition to numerical methods and model tests analytical models can also be successful tools for examining the hydrodynamic properties of floating bodies analytical methods are normally of high efficiency to allow one to perform parametric studies in a wide parametric space in addition analytical methods can also be used for the benchmark purposes the fundamental geometry of an air spring device can be modelled as a hollow cylindrical column with a closed top and floats vertically in a water of constant depth see fig 1 due to the symmetry of the structure an analytical model is developed in this study to solve the wave radiation problem due to the heave motion of this device in the present model the variation to the air pressure inside the device is assumed to occur adiabatically and the associated free surface boundary condition is derived based on the ideal gas state equation to suppress the unphysical large free surface movement a resistance force which is assumed to be linearly dependent on the air volume change rate within the device is applied on the inner free surface moreover an alternative solution of the dynamic stiffness has also been developed in this study based on a decomposition of the total velocity potential into two parts which depend purely on the oscillation of the device and the dynamic air pressure applied on the inner free surface respectively to the best of the author s knowledge the analytical solution of the hydrodynamic coefficients and dynamic stiffness for such type of device has rarely been developed in the previous studies the analytical derivation in this study is expected to fill the gap based on the developed model detailed numerical analysis is then carried out it is noted that the whole dynamic stiffness is contributed by two distinct parts which are due to the movement of the entrapped fluid and the oscillation of the structure respectively the later part is always out of phase with the body motion the former part is in phase with the body motion when before the frequency of resonance while when beyond the frequency of resonance it becomes out of phase with the body motion and dominates the whole stiffness following the introduction the governing equation and boundary condition for the wave radiation problem is introduced in section 2 the solution of the wave radiation problem is then developed in section 3 which is followed by the expression of the hydrodynamic coefficients and dynamic stiffness in section 4 an alternative solution of the dynamic stiffness is then developed in section 5 in section 6 various computed results are demonstrated and discussed finally concluding remarks are drawn based on the previous analysis in section 7 2 governing equation and boundary condition the problem of wave radiation by an air spring device is considered in this study the sketch of the structure is shown in fig 1 the device has an inner radius a and an outer radius r and its axis coincides with the z axis the draft of the device is t the water depth d is a constant in this study the clearance between the device and seabed is s d t the oxy and orθ planes are both located on the undisturbed free surface and the z axis points upward the structure performs vertical oscillations of radian frequency ω and a small amplitude ξ then the displacement of the motion i e ξ t can be given as 1 ξ t re ξ e i ω t where i 1 re denotes the real part of a complex expression t is the time it is assumed that the fluid is inviscid and incompressible and the fluid motion is irrotational the flow field can be described in terms of a velocity potential ф x t based on the linear wave theory ф x t can be reasonably expressed as 2 φ x t re i ω ξ ϕ x e i ω t in which ϕ x is the spatial part of the velocity potential and it satisfies laplace s equation 3 2 ϕ x r 2 ϕ x r r 2 ϕ x r 2 θ 2 2 ϕ x z 2 0 wherever in the fluid besides ϕ x is also required to satisfy appropriate boundary conditions the boundary condition on the interface between air and water can be determined based on a combination of the following dynamic and kinematic conditions 4a g ζ φ x t p c ρ on z 0 r a 4b g ζ φ x t 0 on z 0 r r and 5 φ x z ζ x t on z 0 in eq 4 ζ is the water level displacement p c represents the air pressure change within the device due to the high sound speed in the air and the low frequency of ocean waves the oscillating air pressure can be considered spatially uniform martins rivas and mei 2009 due to the symmetry of the structure and the harmonic vertical oscillation piston mode resonance can be induced inside the device at specific conditions the potential flow theory can well predict the resonant frequency but it overpredicts the free surface movement when the resonance occurs due to the lack of energy dissipation liu and li 2013 to suppress the unphysical large free surface movement researchers have developed different ways to include the energy dissipation in the potential flow model such as putting a massless damping lid on the free surface buchner et al 2001 huijsmans et al 2001 or introducing an additional small internal force applied to each fluid particle in addition to the effect of gravity chen 2004 liu and li 2013 in this study the energy dissipation is included through applying a resistance force on the inner free surface as a result of the air volume change additionally the resistance force is assumed to be linearly dependent on the air volume change rate which is similar to the treatment in the modelling of an oscillating water column owc wave energy converter see sarmento and falcão 1985 nader et al 2012 then the dynamic free surface boundary condition becomes 6a g ζ φ x t p c ρ δ ρ s 0 ζ t ξ t d s on z 0 r a 6b g ζ φ x t 0 on z 0 r r in which δ is the artificial damping coefficient δ is introduced to relate the resistance force to the air volume change rate when the piston mode of resonance occurs the fluid entrapped inside the device behaves like a rigid body and there is almost no variation of the surface elevation across the inner free surface then the applied resistance force i e the second term on the right hand side of eq 6a is proportional to the relative velocity between the entrapped fluid and the device in this situation the resistance force behaves as a massless lid on the inner free surface providing a damping force proportional to the relative velocity between the entrapped fluid and the device this is similar to the treatment in the lid technology within the device the variation to the air pressure is assumed to occur adiabatically so that 7 p a v a γ m a γ c in which p a v a and m a are the air pressure air volume and air mass c is a constant value γ 1 4 the air pressure within the device is initially assumed atmospheric p 0 the initial air volume is v 0 πa 2 l 0 the changes of the air pressure p c p a p 0 and the air volume q c v a v 0 are related by 8 1 p c p 0 1 q c v 0 γ 1 the air volume change is due to the relative water level displacement ζ ξ that is 9 q c s 0 ζ ξ d s if the changes of the air pressure and air volume are small eq 8 can then be rewritten as 10 p c γ p 0 v 0 q c γ p 0 v 0 s 0 ζ ξ d s eq 10 gives the relation between the air pressure change and the air volume change eq 10 is applicable to the case in which the mass of the entrapped air is fixed to a constant value when the entrapped air can contact with the external atmosphere i e there is a hole on the top of the device there will exist mass flow across the hole then the relationship given in eq 10 is no longer applicable similar to the velocity potential q c and p c can be expressed in the following form 11a q c re q c e i ω t 11b p c re p c e i ω t with q c and p c being the complex amplitude of the air volume change and the air pressure change respectively the expressions of q c and p c are given by 12a q c ξ s 0 ϕ x z 1 d s 12b p c γ p 0 v 0 q c γ p 0 ξ v 0 s 0 ϕ x z 1 d s the combination of eqs 5 6 and 10 gives the free surface boundary condition satisfied by ϕ that is 13a ϕ x z ω 2 g ϕ x γ p 0 ρ g v 0 i δ s 0 s 0 ϕ x z 1 d s on z 0 r a 13b ϕ x z ω 2 g ϕ x 0 on z 0 r r in eq 13a s 0 equal to πa 2 represents the area of the inner water plane δ is the dimensionless damping coefficients and defined by 14 δ ω s 0 ρ g δ in the meantime since no water can flow through the impermeable body surface and the seabed the component of the fluid velocity normal to an impermeable surface must be equal to the velocity of the body surface this gives the following boundary conditions 15a ϕ x n n z on s b 15b ϕ x z 0 on z d in eq 15a s b represents the mean body surface n n x n y n z t is the normal vector on s b and is positive when pointing out of the fluid domain in addition ϕ x has to satisfy the sommerfeld radiation condition at a large radial distance from the structure 16 lim r κ 0 r ϕ x r i κ 0 ϕ x 0 in which κ 0 is the solution of the dispersion relation ω 2 g κ 0 tanh κ 0 d 3 solution of the wave radiation problem in the solution procedure the whole fluid domain is divided into three subdomains denoted by ω1 ω2 and ω3 ω1 r r d z 0 is the exterior domain ω3 r a d z 0 is the interior domain and ω2 a r r d z t is the domain connecting ω1 and ω3 hereinafter ϕ 1 x ϕ 2 x and ϕ 3 x are used to denote the spatial potential in those subdomains the solution procedure starts from the derivation of the expressions for the velocity potential evidently the boundary conditions on the inner free surface and the bottom of the device are inhomogeneous particular solutions satisfying inhomogeneous boundary conditions are to be determined in ω2 and ω3 by using the method of separation of variables yeung 1981 mavrakos 1985 the spatial potential can be expressed in the form of orthogonal series in each subdomain 17a ϕ 1 r z j 0 a j r j κ j r z j κ j z 17b ϕ 2 r z l 0 b l p l λ l r c l q l λ l r y l λ l z ϕ 2 p r z 17c ϕ 3 r z k 0 d k v k κ k r z k κ k z ϕ 3 p r z in which a j b l c l and d k are unknown coefficients κ j j 1 are positive real roots of ω 2 g κ j tan κ j d the eigenvalues λ l are defined as λ 0 1 and λ l l π s for l 1 r j κ j r v k κ k r p l λ l r and q l λ l r are radial functions and defined by the following equations 18a r j κ j r h 0 κ 0 r j 0 k 0 κ j r j 1 18b v k λ k r j 0 κ 0 r k 0 i 0 κ k r k 1 18c p l λ l r ln r r ln r a l 0 k 0 λ l r i 0 λ l r k 0 λ l r i 0 λ l r k 0 λ l a i 0 λ l r k 0 λ l r i 0 λ l a l 1 18d q l λ l r ln r a ln r a l 0 k 0 λ l a i 0 λ l r k 0 λ l r i 0 λ l a k 0 λ l a i 0 λ l r k 0 λ l r i 0 λ l a l 1 in which h 0 x is the hankel function of the first kind of zeroth order i 0 x and k 0 x are the modified hankel functions of the first and second kind of zeroth order respectively z j κ j z and y l λ l z are orthonormal functions given at the intervals d 0 and d t respectively and they are defined as 19a z j κ j z cosh κ 0 z d cosh κ 0 d j 0 cos κ j z d cos κ j d j 1 19b y l λ l z 2 2 l 0 cos λ l z d l 1 the particular solutions in eqs 17b and 17c ϕ 2 p r z and ϕ 3 p r z are derived as follows 20a ϕ 2 p r z 1 2 s z d 2 r 2 2 20b ϕ 3 p r z 2 π γ p 0 ρ g v 0 i δ s 0 d 0 j 1 κ 0 a a κ 0 k 1 d k i 1 κ k a a κ k a 2 g 2 ω 2 the expressions in eq 17 are developed to satisfy laplace s equation and all the boundary conditions in addition these expressions have to satisfy the condition of the continuity of pressure and normal velocity at the borders between two neighboring subdomains i e r r and r a to find a solution to these coefficients the infinite series of orthogonal functions has to be truncated and in eq 17 only the first n terms are taken the continuity of the normal velocity between different subdomains at r r and r a can be satisfied over the z interval in a least square manner by making use of the orthogonal properties of z j κ j z the procedure gives the following two sets of equations 21a κ j r j κ j r n j κ j d a j l 0 λ l p l λ l r β j l b l l 0 λ l q l λ l r β j l c l d t ϕ 2 p r z z j κ j z d z 21b l 0 λ l p l λ l a β k l b l l 0 λ l q l λ l a β k l c l κ k v k κ k a n k κ k d d k d t ϕ 2 p a z z j κ j z d z in which 22 β j l d t z j κ j z y l λ l z d z in eq 21 the prime appearing in the superscript denotes the derivative with respect to r n j κ j d represents the inner products of z j κ j z and is defined as 23 n j κ j d d 0 z j 2 κ j z d z 1 cosh 2 κ 0 d d 2 1 sinh 2 κ 0 d 2 κ 0 d j 0 1 cos 2 κ j d d 2 1 sin 2 κ j d 2 κ j d j 1 by matching the potential between different subdomains at r r and r a and making use of the orthogonal properties of y l λ l z the following two sets of linear equations can then be obtained 24a j 0 r j κ j r β j l a j s 2 b l d t ϕ 2 p r z y l λ l z d z 24b s 2 c l k 0 v k κ k a β k l d k d t ϕ 2 p a z y l λ l z d z d t ϕ 3 p a z y l λ l z we now get four sets of linear system of 4n complex equations and an equal number of the unknown coefficients solving the equations gives the unknown coefficients in the orthogonal series and thereby also the velocity potentials valid in each region 4 calculation of the hydrodynamic coefficients and air force after obtaining the velocity potential the pressure distribution can immediately be determined according to the bernoulli equation the hydrodynamic forces caused by the motion of the structure is achieved by integrating the fluid pressure over the body surface and can then be divided into two quantities giving the part of hydrodynamic force in phase with the acceleration and the velocity of the moving body respectively the two quantities are normally defined as the added mass and radiation damping respectively following yeung 1981 and lee 1995 the added mass and radiation damping due to the heave motion of the device a 33 and b 33 can be determined according to 25 a 33 i b 33 ω 2 π ρ l 0 π 1 l π 2 l s 4 r 2 a 2 1 16 s r 4 a 4 in which 26a π 1 l 2 2 b 0 ln r a 1 2 a 2 ln r a 1 4 r 2 1 4 a 2 l 0 b l λ l k 0 λ l r λ 2 l λ 1 l i 0 λ l r k 0 λ l a i 0 λ l r k 0 λ l r i 0 λ l a 1 l l 1 26b π 2 l 2 2 c 0 ln r a 1 2 r 2 ln r a 1 4 r 2 1 4 a 2 l 0 c l λ l k 0 λ l a λ 2 l λ 1 l i 0 λ l a k 0 λ l a i 0 λ l r k 0 λ l r i 0 λ l a 1 l l 1 and 27a λ 1 l k 1 λ l r r k 1 λ l a a l 1 27b λ 2 l i 1 λ l r r i 1 λ l a a l 1 the air force f c can be obtained by the integral of the air pressure both inside and outside the device the resultant air force is due to the air pressure change within the device it leads to 28 f c p c s 0 γ p 0 l 0 q c after inserting eq 12 into eq 28 and making use of eq 5 it can be obtained that 29 f c k 33 ξ in which k 33 is the complex dynamic stiffness and can be determined according to 30 k 33 k p k q in which 31a k p 2 π γ p 0 l 0 v d j 1 κ 0 a a κ 0 d 0 k 1 i 1 κ k a a κ k d k 31b k q γ p 0 l 0 s 0 in eq 31 v d is the deep water wave number and defined as ω 2 g k p and k q represent the contribution to the dynamic stiffness due to movement of the inner free surface and the motion of the device respectively 5 alternative solution of the dynamic stiffness for the purpose of validation an alternative solution to the dynamic stiffness of the air spring device is developed in this section the velocity potential is then decomposed into two parts such that 32 φ x t re i ω ξ ϕ ˆ x q c ϕ x e i ω t in which ϕ ˆ x is associated with the wave radiation due to the oscillation the device in the absence of the dynamic air pressure p c on the inner free surface i e p c 0 in eq 13a ϕ x describes the flow induced by the dynamic air pressure on the inner free surface due to unit air volume change with the device keeping stationary hereinafter the two problems associated with ϕ ˆ x and ϕ x are referred to as the conventional wave radiation problem and the pressure dependent radiation problem respectively then ϕ x satisfies the following boundary conditions on the inner free surface and the body surface respectively 33a ϕ x z ω 2 g ϕ x i ω γ p 0 ρ g v 0 i δ s 0 on z 0 r a 33b ϕ n 0 on s b noted that the damping effect has been included in eq 33a the two problems associated with ϕ ˆ x and ϕ x can be regarded as the limited cases of the problem discussed in the previous section without the effect of the dynamic air pressure and the oscillation of the device respectively therefore they can be solved by using the same approach as presented in the previous section in these two problems ϕ ˆ n and ϕ n n 1 2 3 are used to denote the spatial potential in the three subdomains by using the method of separation of variables the spatial potential in each subdomain can be expressed as follows 34a ϕ ˆ 1 r z j 0 a ˆ j r j κ j r z j κ j z 34b ϕ ˆ 2 r z l 0 b ˆ l p l λ l r c ˆ l q l λ l r y l λ l z ϕ 2 p r z 34c ϕ ˆ 3 r z k 0 d ˆ k v k κ k r z k κ k z and 35a ϕ 1 r z j 0 a j r j κ j r z j κ j z 35b ϕ 2 r z l 0 b l p l λ l r c l q l λ l r y l λ l z 35c ϕ 3 r z k 0 d k v k κ k r z k κ k z i ω v d γ p 0 ρ g v 0 i δ s 0 in eqs 34 and 35 a ˆ j b ˆ l c ˆ l d ˆ k a j b l c l and d k are unknown coefficients the eigenvalues radial functions and vertical functions involved in the equations have the same definition as in the previous section the particular solution ϕ 2 p r z has been defined in eq 20a the unknown coefficients in eqs 34 and 35 can be determined by imposing the matching condition at r a and r r after solving ϕ ˆ x and ϕ x the application of eqs 5 9 11a and 32 can lead to 36 q c s 0 ξ ϕ ˆ x z q c i ω ϕ x z d s ξ π a 2 after some arrangements the following expression for the calculation of q c can be obtained 37 q c ξ k 0 π ˆ k ξ π a 2 1 i ω k 0 π k 1 in which 38 π ˆ k 2 π v d d ˆ k j 0 κ 0 a κ 0 a k 0 2 π v d d ˆ k i 0 κ k a κ k a k 1 the expression of π k can be determined according to eq 38 with d ˆ k replaced by d k then based on eqs 28 and 29 a novel expression for the calculation of the dynamic stiffness can be derived as follows 39 k 33 γ p 0 l 0 k 0 π ˆ k π a 2 1 i ω k 0 π k 1 6 numerical results and discussion for all the calculations performed in this section the inner radius of the device is fixed at a 5 m meanwhile the constant water depth is fixed at d 10a in this section the convergence and validity of the present model is firstly examined then numerical studies are carried out in detail to assess the effect of various geometric parameters before understanding the effect of the geometric parameters convergence of the present solution with respect to the truncation number of eigenmodes n is checked as an example a device of r 1 5a and t 3 0a is considered calculations have been carried out for four values of normalized wave number κ 0 a the calculated results of the dimensionless added mass radiation damping and dynamic stiffness with respect to the change of n are shown in fig 2 it is evident from fig 2 that the convergence of the present results is good generally the value of n 100 is sufficient to guarantee an accurate prediction in engineering practice thus the value of n 100 is adopted in the subsequent parametric study to verify the present model a comparison with the numerical results based on the higher order boundary element method hobem teng and eatock taylor 1995 is made in fig 3 the comparison is shown for the case of a device of r 1 5a and t 2 0a meanwhile the device concerned in the comparison is with an open top i e l 0 tends to infinity in order to achieve a satisfactory accuracy for the numerical implementation a quadrant of the body surface is discretized into 240 elements when the problem is solved by hobem it is evident that the present results are in a good agreement with those based on hobem see fig 3 to provide a further check on the validity of the present model a comparison of the dynamic stiffness based on different solutions developed in this study i e eqs 30 and 39 is made in the comparison a device of r 1 5a t 3a and l 0 2a is concerned a good agreement between the results based on different solutions is found from fig 4 which further confirms the validity of the present model the energy dissipation has been included in the present model through applying a resistance force on the inner free surface the effect of the resistance force on the hydrodynamic coefficients and dynamic stiffness are investigated and the numerical results are presented in figs 5 and 6 in the calculations the outer radius and draft of the device are fixed at r 1 5a and t 3a respectively meanwhile the dimensionless artificial damping coefficient is varied as δ 0 05 0 1 0 15 and 0 2 the variation of the added mass and radiation damping with respect to the change of δ is given in fig 5 in fig 5 a regardless of the value of δ significant added mass can be observed around κ 0 a 0 63 this frequency is related to the fundamental resonance of the fluid motion when the resonance occurs piston like fluid motion can be observed within the device evans and porter 1997 the approximate solid body motion of the fluid occurs with a sudden sign change of the added mass similar phenomenon has also been observed in the previous studies such as in evans and porter 1995 in studying the pressure dependent radiation problem due to a two dimensional owc wave energy converter an increase of δ can lead to an obvious decrease of the magnitude of the added mass around the frequency of resonance in the high frequency region the added mass tends to a stable value regardless of the damping parameter the radiation damping is also characterized by an obvious peak around κ 0 a 0 63 see fig 5 b the introduction of the resistance force can also be effective in suppressing the large amplification of the radiation damping the effect of δ on the whole dynamic stiffness is presented in fig 6 significant dynamic stiffness can be found around the frequency of resonance see fig 6 a from fig 6 b it is noted that in a specific frequency range the air force is in phase with the body motion and behaves as a restoring force the effect of δ on the real and imaginary part of the complex stiffness is concerned in fig 7 here a convenient but arbitrary decomposition of the dynamic stiffness is made thus 40 k 33 ω 2 a i ω b in which a and b are real and directly analogous to the added mass and radiation damping coefficients in a rigid body system clearly 41a a 1 ω 2 re k 33 41b b 1 ω im k 33 in which im denotes the imaginary part of a complex expression variation of a and b with respect to the change of δ is shown in fig 7 the general trend of a and b is similar to that of the added mass and radiation damping see fig 5 the whole air force consists of two distinct parts that are related to the free surface movement within the device and the motion of the device respectively correspondingly the whole stiffness can be divided into two parts k p and k q see eq 31 the variation of k p and k q against κ 0 a is given in fig 8 with δ 0 15 from fig 8 it can be observed that the former part of the air force is almost in phase with the motion of the device when before the frequency of resonance while it becomes out of phase with the motion of the device when beyond the frequency of resonance in addition the later part of the air force is always out of phase with the motion of the device the whole air force is firstly dominated by the later part and the phase angle of the whole stiffness is almost 180 as the wave frequency increases the former part gradually dominates the whole air force and its contribution gets more important as a result the phase angle of the whole stiffness is around 0 as the wave frequency increases further and exceeds the frequency of resonance the two parts of the air force are both out of phase with the motion of the device and the phase angle of the whole stiffness becomes 180 again the distribution of the surface elevation around the device is shown in figs 9 and 10 for δ 0 1 and 0 2 respectively at three wave frequencies i e κ 0 a 0 5 0 63 and 0 8 it is noted that the surface elevation within the device is more significant than that outside the device due to the uniform distribution of the air pressure on the inner free surface the surface elevation within the device does not show obvious spatial variation it is also noted that an increase of δ can lead to a pronounced decrease of surface elevation within the device around the frequency of resonance the variation of the hydrodynamic coefficients and dynamic stiffness with respect to the change of l 0 is shown in figs 11 and 12 in the following calculation the outer radius and draft of the device are fixed at r 1 5a and t 3a respectively meanwhile the length of the air entrapped inside the device is varied as l 0 a 2a 3a and 4a the initial air volume increases with the increase of l 0 then for a certain amount of air volume change less air pressure change can be induced as a result the frequency of resonance moves gradually to the low frequency region as l 0 increases as l 0 decreases the air entrapped inside the device tends to be much stiffer then it can transfer the kinetic energy due to the motion of the device to the fluid in a more effective manner through applying the air pressure on the inner free surface this can affect the resonant motion of the fluid and it is noted that the amplification of the hydrodynamic coefficients and dynamic stiffness due to the resonance is gradually reinforced as l 0 decreases the frequency range in which the air force is in phase with the body motion increases gradually as l 0 decreases this is mainly due to that the frequency of resonance moves gradually to the high frequency region as l 0 increases the effect of the outer radius of the device on the hydrodynamic coefficients and dynamic stiffness is concerned in figs 13 and 14 in the following calculation the draft of the device and the length of the air entrapped inside the device are fixed at t 3a and l 0 2a respectively an increase of r can lead to an obvious increase of the added mass see fig 13 a this is due to that the device can affect more of the surrounding fluid as its outer radius increases the radiation damping is associated with the energy carried away to infinity by outgoing waves as the outer radius of the chamber increases more free surface kinetic energy transformation can be caused leading to more progressive waves in the exterior region therefore the radiation damping increases as r increases at a certain wave frequency see fig 13 b the magnitude of the dynamic stiffness generally increases as r increases at a certain wave frequency see fig 14 a while the effect of the outer radius on the phase angle of the dynamic stiffness is not obvious see fig 14 b figs 15 and 16 illustrate the variation of the hydrodynamic coefficients and dynamic stiffness with respect to the change of the draft in the following calculation the outer radius of the device and the length of the air entrapped inside the device are fixed at r 1 5a and l 0 2a respectively the draft of the device is varied as t 1 25a 1 5a 1 75a and 2 0a as t increases a larger amount of fluid is entrapped inside the device as a result the frequency of resonance moves gradually to the low frequency region it is also noted that due the possible phase cancellations between k p and k q the frequency region in which the air force is in phase of the body motion moves gradually to the low frequency region and narrows down as t increases 7 conclusions the wave radiation problem has been investigated in the context of linear potential theory for an air spring device with a closed top and floating vertically in a water of constant depth the structure is assumed to undergo heave motion and an analytical model is newly developed to obtain the hydrodynamic coefficients and dynamic stiffness based on the eigenfunction expansion matching method in the meantime an alternative solution of the dynamic stiffness has also been developed by solving the conventional wave radiation problem and a pressure dependent radiation problem respectively to achieve a suitable design the designers normally have to take into account a wide range of structure sizes then the present analytical model will produce benefit as it allows the efficient calculation of the hydrodynamic properties in a wide range of geometric parameters in the meantime the results presented in this study are also expected to help designers in choosing proper parameters as to improve the functional behavior of the device main conclusions of this study can be summarized as follows 1 the forced heave motion of the device can induce the resonant motion of the fluid entrapped inside the device the introduction of the resistance force can be effective in suppressing the resonant motion 2 two different solutions have been developed in this study for the calculation of the dynamic stiffness the results of dynamic stiffness based on them agree well with each other 3 the whole air force is consisted of the two distinct parts which are related to the free surface movement within the device and the oscillation of the device respectively the former part is almost in phase with the motion of the device when before the frequency of resonance while it becomes out of phase with the motion of the device when beyond the frequency of resonance in the meantime the later part is always out of phase with the motion of the device the whole air force is firstly dominated by the later part as the wave frequency increases the former part gradually dominates the whole air force and its contribution gets more important as the wave frequency increases further and exceeds the frequency of resonance the two parts are both out of phase with the motion of the device and the air force behaves as the restoring force 4 as the length of the air entrapped inside the device l 0 increases the resonance frequency gradually moves to the low frequency region meanwhile the significant amplification of the hydrodynamic coefficients and dynamic stiffness due to the resonance is gradually weakened as l 0 increases it can also be noted the frequency range in which the air force is in phase with the body motion is gradually broadened as l 0 decreases 5 the outer radius and draft of the device are also important parameters the outer radius has negligible effect on the frequency of resonance while an increase of the outer radius can lead to an increase of the hydrodynamic coefficients and dynamic stiffness as the draft of the device increases the frequency of resonance moves gradually to the low frequency region in addition the frequency region in which the air force is in phase of the body motion moves to the low frequency region and gradually narrows down as the draft increases the present model is developed based on the potential flow theory in which the physical energy dissipations due to fluid viscosity vortex shedding and even turbulence cannot be taken into account due to the lack of damping effect the conventional potential flow model tends to over predict the movement of the entrapped fluid when the resonance occurs therefore attempts have been made in this study to introduce some amount of resistance artificially in order to overcome this difficulty previous studies suggest that if a well calibrated damping coefficient is adopted the technique by incorporating artificial resistance into the potential flow can well predict the phenomenon associated with the fluid resonance see lu et al 2011 liu and li 2013 the artificial damping coefficient remains uncertain if the structure geometric dimensions are changed and should be calibrated by calibrated tests as for the present air spring device the dependence of the damping coefficient on the structure geometric dimensions remains unclear so far and this provides an interesting research topic for our next step work 
22366,fluid resonance in moonpool formed by two identical hulls undergoing heave oscillation is investigated by using a viscous fluid flow solver with rng turbulent model based on openfoam package by comparison of experimental and numerical results it is confirmed the present numerical model can simulate the gap resonance problem in a high level accuracy numerical simulations suggest that the resonant amplitude in moonpool decreases dramatically when installing the convex appendages which is the reason of significant variation of velocity flow field in the vicinity of moonpool the single convex appendages at the bottom or near the free surface can generate smaller resonant amplitude than that at the middle of moonpool wall the vortex bubbles from the convex appendages at the moonpool bottom create more energy dissipation than those for the convex appendages in the middle of moonpool and near the free surface as for the multiple convex appendages the variation of resonant amplitude with appendages types follows the suppressing characteristics of single convex appendages when heave amplitude is small however the additional appendages at the middle of moonpool wall shrink the region of vortex bubbles from the bottom appendages when the heave amplitude is large leading to the increased resonant amplitude in moonpool all of these phenomena indicate the complex effect of vortex shedding in the moonpool region on resonant behavior finally the vertical force on each appendage in multiple types is always smaller than that on the appendage in single types implying the multiple appendages types can reduce the fluid force on the appendage keywords fluid resonance moonpool convex appendage flow pattern heave motion openfoam 1 introduction moonpool is the vertical openings through the deck or hull of ships or barges for lowering or lifting devices such as the subsea modules and pipe laying etc when the external frequency incident wave and or structure motion is close to the natural frequency of fluid bulk in moonpool large amplitude free surface oscillation can be excited it is able to generate considerable variation of wave force on the equipment in moonpool this is one of the key challenges associated with the marine operations for the safety of a floating production storage and offloading fpso drilling ship and spar platform etc generally the large amplitude fluid resonance in moonpool share some features with the catamaran dual pontoon multi hull vessels and the side by side barges in close proximity therefore understanding the fundamental physics in the resonant fluid flow is important to the marine operation and structure safety this topic has been studied extensively for the purpose of predicting the hydrodynamic force and revealing the mechanism behind the behavior of fluid resonance in moonpool a variety of investigations have been carried out for analysing the hydrodynamic behavior of fluid resonance problem roughly speaking there are two aspects being paid special attention in the previous work one is resonant frequency another is resonant amplitude in a broad sense it is one type of so called nearly trapped mode problem where the resonant frequency and amplitude correspond to the eigenfrequency and eigenvector respectively pioneering work about the approximate eigenvalue problem in hydrodynamic fields focused on the analytical solution of multiple cylinder problem such as linton and evans 1990 maniar and newman 1997 and evans and porter 1997 etc based on the linear potential flow theory a quasi analytical approximation was analysed by molin 2001 under the assumption of barges with infinite length and beam in the infinite water depth in which the piston and sloshing mode resonances can be formulated and solved via an approximate eigenvalues equation faltinsen et al 2007 proposed a domain decomposition approach for solving the piston like mode resonance in moonpool between two heave rectangular boxes in the finite water depth besides the analytical solution numerical simulations in the framework of potential flow theory have also been utilized to investigate the resonant problem sun et al 2015 simulated the wave interaction between two barges in a side by side arrangement by using the first and second order wave diffraction models in the frequency domain feng and bai 2015 utilized a fully nonlinear potential flow model to investigate the three dimensional free surface resonance between two side by side barges in the time domain harmonic analysis illustrated that the resonant frequency slightly shifts to higher values as incident wave steepness increases equivalent to a stiff spring in a nonlinear mass spring system however applications of potential flow models are reported to over predict the wave response in moonpool at the frequency of fluid resonance which has been demonstrated extensively by the laboratory observations saitoh et al 2006 iwata et al 2007 peric and swan 2015 it is speculated that the over prediction of wave response comes from the inherent ignorance of fluid viscosity in the potential flow model based on this hypothesis attempts to introduce some artificial damping appropriately in the potential flow model have been suggested newman 2004 modelled a damping term as the body force on the free surface in moonpool and chen 2004 introduced a damping force term into the free surface boundary conditions which have been adopted in the commercial software wamit and hydrostar respectively a fully nonlinear modified potential flow model is proposed by ning et al 2018 where the artificial damping is introduced on the nonlinear free surface condition in moonpool liu and falzarano 2019 developed a wall damping method to simulate the wave resonance in moonpool where the energy loss is imposed on the ship hull surface the backward of the modified potential flow model is the damping coefficient has to be calibrated by the experimental measurement therefore the accurate results of this method can be obtained only after the effective laboratory observation another alternative method is the computational fluid dynamic cfd simulation based on navier stokes equations where the essential mechanism behind the resonant fluid flow motion can be explored more clearly lu et al 2010 examined the gap resonance problem by using a finite element method with clear vof free surface capturing technique jiang et al 2018 2019a b investigated the fluid resonance in the narrow gap and corresponding wave forces on two non identical side by side boxes and a box wall system numerical results suggest that the navier stokes based solver is able to work well in predicting the behavior of wave resonance in moonpool fredriksen et al 2014 conducted the experimental and numerical investigation for wave response in moonpool with various inlet configurations induced by heave excitation at low forward speed the decrease of resonant amplitude in moonpool can be observed in their work when installing the convex appendages on moonpool bottom furthermore jiang et al 2019c extended this work to sharp convex and concave edge profiles the comparisons show the decreased resonant wave amplitude with the decrease of moonpool opening analogous work can also be found in moradi et al 2015 and feng et al 2017 where the influence of sharp and rounded edge profiles on wave amplitude in the narrow gap is considered for two and three dimensional problems respectively all of these investigations indicate that the energy dissipation mainly comes from the vortex shedding in the vicinity of moonpool not on the free surface in moonpool correspondingly the modified potential flow models have been developed for considering the artificial damping around the moonpool bottom such as faltinsen and timokha 2015 and feng et al 2018 tan et al 2019 proposed a simplified equation of fluid motion in moonpool for estimating the damping induced by flow separation and wall friction the modified potential flow model was also established according to implement the damping coefficient into the dynamic free surface condition in moonpool it can be seen from foregoing studies that the energy dissipation associated with the vortex flow is able to dampen the large amplitude free surface oscillation in moonpool physically therefore installing the convex appendages is an alternative method for suppressing the large amplitude free surface oscillation in moonpool in this paper our main objective is to investigate the effectiveness of various convex appendages on suppressing the fluid resonance in moonpool a viscous numerical wave flume based on openfoam package is introduced in section 2 numerical setup and validations are carried out in section 3 and then six types of convex appendages which are three types of single convex appendages and three types of multiple convex appendages are considered in the numerical simulations together with two different appendages sizes flow field patterns of different types of convex appendages are compared to explain the discrepancy of resonant amplitudes the fluid force exerting on the convex appendages is also investigated for providing the valuable information in practical design these contents are structured in section 4 finally conclusions of this work are summarized in section 5 2 mathematical formulation the governing equations for mass and momentum conservations in an incompressible turbulent flows with re normalization group rng model in arbitrary lagrangian eulerian ale reference system can be given as 1a ρ t ρ u i x i 0 1b ρ u i t ρ u j u j m u i x j ρ f i p x i μ e x j u i x j u j x i where u i is the velocity component in the ith direction u i m is the velocity component due to mesh deformation in the ale frame p ρ and f i are the pressure fluid density and external body force respectively μ e is the effective dynamic viscosity with μ e μ m μ t μ m the fluid molecule viscosity and μ t turbulent viscosity the rng k ε two equation formulations are adopted for closing the governing equations which gives rise to 2 μ t c μ k 2 ε where c μ 0 09 is a theoretical model constant and the time dependent advection diffusion equations for the turbulent kinematic energy k and its dissipation rate ε can be written as 3a ρ k t ρ u j u j m k x j x j μ t σ k k x j μ t u i x j u j x i u i x j ρ ε 3b ρ ε t ρ u j u j m ε x j x j μ t σ ε ε x j c 1 ε ε k μ t u i x j u j x i u i x j ρ c 2 ε ε 2 k where the model constants c 1 ε c 2 ε σ k and σ ε are 1 42 1 68 0 71942 and 0 71942 respectively noted that the model constants are derived theoretically in rng turbulent model yakhot and orszag 1986 yakhot and smith 1992 not based on the empirical calibrations some of the constants in rng model obtained by theoretical derivation agree well with the experimental results yakhot et al 1992 implying the rng turbulent model is theoretically more rigorous the volume of fluid vof method hirt and nichols 1981 is adopted in this work to capture the free surface motion the fractional function of vof defined by ϕ for a computational cell is defined as 4 ϕ 0 in air 0 ϕ 1 on free surface 1 in water it satisfies the following advection equation 5 ϕ t u i u i m ϕ x i 0 in this work the contour of vof function with ϕ 0 5 is used to represent the interface between the water and air phases in the computations the fluid density and effective viscosity are averaged by using the available vof function 6a ρ ϕ ρ w 1 ϕ ρ a 6b μ e ϕ μ e w 1 ϕ μ e a where the subscripts w and a represent the water phase and air phase respectively in the present numerical wave flume relaxation zones are adopted to eliminate the radiation wave at the boundaries on both the left and right ends of the flume a relaxation function 7 α r χ r 1 exp χ r 3 5 1 exp 1 1 χ r 0 1 is applied inside the relaxation zone in the following way 8 ϑ α r ϑ c 1 α r ϑ t where ϑ is either u i or ϕ and the subscripts c and t represent the computed value and target value respectively the variation of α r is the same as that in fuhrman et al 2006 where α r in eq 7 is only activated in the relaxation zone and it is always 1 at the interface between the non relaxed part of the computational domain detailed information about the relaxation technique can be found in mayer et al 1998 engsig karup et al 2006 and jacobsen et al 2012 the governing equations 1a 1b and vof equation 5 are solved based on the finite volume method integrated in the openfoam package the velocity and pressure are separated by the pressure implicit with splitting of operators algorithm piso issa 1986 the euler method is used to discretize the transient term the convection term and diffusion term are discretized by the gauss limited linear method and the gauss linear corrected method respectively on the details of the numerical implements in openfoam the readers are referred to jasak 1996 and rusche 2003 the numerical computations always start from the still state which means the static water pressure and zero velocity are specified as the initial conditions the no slip boundary condition is imposed at the solid wall including the body surface and seabed surface at the upper boundary of the numerical wave flume a reference pressure p 0 and velocity condition u n are implemented with n the outward normal unit vector the influence of interface tension between the air and water phases on free surface elevation is neglected in this work since the bond number b d 4 ρ g b m p 2 σ 1000 can be satisfied at the two ends of the spongy layer zero velocities are applied considering that the waves are damped out there by the spongy layer in the present numerical simulation the time increment is automatically determined according to the courant friedrichs lewy cfl condition 9 δ t c r min s e u e where s e and u e are the area and absolute velocity in a computational cell respectively the numerical test of this work confirmed that the usage of c r 0 20 can produce stable and accurate results the classical linear potential flow model is also adopted in this study for the purpose of comparison the boundary integral equation based on rankine source g x x 0 1 2 π 1 r 1 r is developed for the problem which has been described in the previous work in jiang et al 2017 the higher order boundary element method hobem with quadratic isoparameteric elements teng and eatock taylor 1995 is employed to discrete the boundary integral equation of which the detailed formulation is omitted here as it is well known in many textbooks 3 numerical validation a two dimensional o y symmetric free surface response induced by two identical hulls is studied the hulls has breadth b 0 360 m undergoing synchronous heave oscillation in water depth h 1 03 m fig 1 shows the sketch of the definition of the numerical wave flume numerical simulations are carried out in a numerical wave flume with 40 m long and 1 5 m height the twin hulls with a moonpool in the center are located in the middle of the wave flume where both the moonpool breadth b m p and draft d are set to be 0 180 m a cartesian coordinate system o x y is defined with origin on the centre of the undisturbed free surface in moonpool two relaxation zones are situated on the both ends of the wave flume for absorbing radiation waves the regions of the left and right relaxation zones are from 20 m to 10 m and from 10 m to 20 m respectively a total of seven wave gauges are equipped to record the free surface elevations where five of these are located in the moonpool and two of these are placed outside the structures the positions of the wave gauges in moonpool are x 0 00 0 04 m 0 08 m their average values are taken as the free surface elevation in moonpool defined as g1 in present work other two wave gauges g2 and g3 are situated at x 0 715 m and x 1 150 m respectively in numerical simulations the displacement of the twin hulls is described as follows 10 ξ t a b sin ω t where a b and ω are heave amplitude and heave frequency respectively the large amplitude fluid resonance can be excited as the heave frequency of the hulls is close to the natural frequency of the confined bulk the motivation of this study is to examine the effectiveness of convex appendages on suppressing the large amplitude fluid resonance in moonpool fig 2 shows the six different types of convex appendages adopted in this work including the corresponding names in figure caption i e type1 type6 it can be observed from these figures that the types of convex appendages are featured by their positions from the moonpool bottom or free surface denoted by δ h in this study the values are kept on δ h 0 060 m which is one third of hull draft the corresponding positions are defined as positions ps1 ps2 ps3 following the sequence that from moonpool bottom to free surface two dimensions of convex appendages are considered in this study that is appendage size 1 has dimensions 18 mm width b a by 9 mm height h a and appendage size 2 has 27 mm width b a by 18 mm height h a which cover 20 and 30 of moonpool opening size respectively for the purpose of illustration the postfix size would be adopted for identifying the dimensions of the appendages for example type1size2 means a pair of convex appendages size 2 i e b a 27 mm and h a 18 mm are placed at the bottom of moonpool fig 2a in addition the original rectangular hulls are defined as sharpedge in the following descriptions mesh dependency tests are carried out by using four different mesh schemes for three configurations that is sharpedge type1size2 and type6size2 respectively table 1 tabulates the detailed information of mesh resolutions in order to save computational cost non uniform meshes are adopted to discretise the computational domain the square fine meshes with high resolution are adopted around the hulls especially in the vicinity of the moonpool to accurately capture the large amplitude piston type of free surface oscillation and to account for the effect of vortex structure in boundary layer the coarse rectangular meshes with large aspect ratio up to 1 20 height length are equipped in both the left and right of relaxation zones which are helpful to eliminate radiation waves as for the other parts of the computational domain square fine meshes with intermediate resolution are adopted typical mesh partitions in the vicinity of the twin hulls and around the moonpool bottom are depicted in fig 3 which is mesh 1 in table 1 free surface evolutions in moonpool with various mesh resolutions for three configurations are considered in fig 4 where the heave amplitude and frequency are a b 9 1 mm and ω 5 00 rad s respectively numerical simulations suggest that the free surface oscillation increases significantly in the starting stage of 0 5 s after a short transient period the steady state evolutions approaching 180 s of simulations can be observed indicating satisfactory performance of relaxation zones in eliminating radiation waves the steady state large amplitude free surface oscillations are very symmetric and sinusoidal fourier analysis is adopted to confirm that dominating harmonics are at forced heave angular frequency time signals on different meshes suggest that the discrepancy between them mainly appears at the crest and trough of wave elevations the detailed comparison for steady state elevations is illustrated in the third column of fig 4 generally very little discrepancy between the results of mesh 3 and mesh 4 can be observed implying that the convergent solution can be obtained by mesh 3 for various configurations in order to further validate the mesh convergence the normalized free surface amplitudes a m p a b in moonpool at the heave frequency ω 5 00 rad s with two heave amplitudes a b 4 5 mm and 9 1 mm by four different mesh resolutions are compared in fig 5 the wave amplitudes a m p are computed by averaging values of free surface amplitudes in the steady state duration furthermore the magnitudes of free surface amplitudes are tabulated in table 2 where the percentages between the results of adjacent mesh schemes are also illustrated for the identifying the difference in wave amplitudes again numerical results indicate that mesh 3 is able to produce convergent solutions in which the largest percentage is only 1 79 in the case of type1size2 under a b 9 1 mm therefore it is adopted as the baseline in the following numerical analysis numerical validations are carried out against the available experimental and numerical data in fredriksen et al 2014 where configurations of sharpedge type1size1 and type1size2 under two heave amplitudes a b 4 5 and 9 1 mm are conducted fig 6 shows the normalized wave amplitudes at wave gauges g1 and g2 denoted as a m p a b and a r a b respectively noted that the normalized wave amplitudes in these figures are given in a body fixed non inertial coordinate system as utilized in fredriksen et al 2014 according to the comparisons the agreement between the present viscous numerical results and the experimental and numerical results in fredriksen et al 2014 can be observed however a little discrepancy between two numerical results can also be identified around the resonant frequency the numerical model in fredriksen et al 2014 was a coupling computational method incorporating potential flow and viscous fluid flow solvers where laplace s equation with harmonic polynomial cell hpc method and navier stokes equations with direct numerical simulation dns are adopted in the upper and lower regions of the moonpool respectively that is only the flows in the lower region of the moonpool were simulated by the viscous fluid flow model while the upper region including the free surface was treated by the potential flow model in addition the two dimensional dns simulation in the viscous fluid flow model of fredriksen et al 2014 is expected to require very fine mesh resolution to account for the turbulent effects in the present numerical model the navier stokes solver with rng turbulent model is adopted in the whole computational domain these difference might be the reasons for the discrepancy between two numerical models as for radiation waves measured at wave gauge g2 265 mm of the left side of hull a both numerical results are in good agreement with the experimental observations 4 numerical results the validation study in the previous section shows that the present numerical wave flume is able to reproduce well the scenario of fluid resonance in moonpool formed by two identical hulls which is adopted to investigate the free surface amplitudes in moonpool with different convex appendages the averaged value of steady state free surface elevation is still adopted as the wave amplitude a m p in moonpool in order to demonstrate the necessity of employing the viscous fluid model for this problem the linear potential flow solution is also included for the purposes of comparison the fine meshes with 26 and 42 elements are adopted in each convex appendage with size1 and size2 in the potential flow simulation respectively the number of elements on the other parts of computational domain is 602 in this study in which 36 elements are equipped for meshing the free surface in moonpool numerical simulations have confirmed that the convergent results can obtained by this mesh scheme finally all the wave amplitudes presented in this section are evaluated in the space fixed coordinate system 4 1 general description for wave responses by heave oscillations explanations begin with the general description for the behavior of wave responses in moonpool and outside the structure vs the heave frequency ω in numerical simulations the range of heave frequencies ω is from 3 0 to 9 0 rad s for the linear potential flow model while the viscous fluid flow model is focused on the range of resonant conditions which is from 4 0 to 7 0 rad s two heave amplitudes a b 4 5 and 9 1 mm are equipped in the viscous fluid simulations for the purpose of shortening the length only the hulls with convex appendages 2 are illustrated in this sub section as shown in fig 7 it can be seen from these figures that the potential flow model over predicts the wave amplitude in moonpool measured by wave gauge g1 in the middle of moonpool a m p a b around the resonant frequency the assumption of fluid inviscid and flow irrotational is the major reason for the over prediction where the energy dissipation cannot be simulated correctly with the increase of heave amplitude the normalized wave amplitude a m p a b decreases at the resonant frequency more relative energy dissipation by fluid viscosity and flow rotation in the vicinity of moonpool around the resonant condition leads to the phenomena at the lower and higher frequencies the potential flow model can work well in predicting the wave amplitude in moonpool in addition the insignificant effect of heave amplitude on the normalized wave amplitude a m p a b in moonpool can also be observed the relatively small wave amplitude in moonpool corresponds to rather slow flow in the neighborhood of moving bodies therefore the influence of eddying motion and energy dissipation can be neglected in these regions of frequencies as for the resonant frequency a slight decrease in the resonant frequency can be observed when using the viscous fluid flow model or with the increase of heave amplitude the increase of damping ratio due to the energy dissipation the increase of added mass depending on the resonant wave amplitude and the increase of mean water level in moonpool due to the free surface nonlinearity are the three possible reasons for the decrease of resonant frequency variations of radiation wave amplitudes at wave gauge g3 700 mm right side of the hull b a r a b against the incident wave frequency are also illustrated in fig 7 the maximal radiation wave amplitudes can be observed around a particular frequency which is denoted as the characteristic frequency of radiation waves numerical simulations show that the characteristic frequency of radiation waves is very close to the resonant frequency of fluid oscillation in the narrow gap when the heave motion frequency is close to the resonant frequency the large amplitude free surface oscillation can be excited it can be taken as a radiation source and consequently generates the peak value around the characteristic frequency of radiation waves with the increase of heave amplitude a two phase variation can be suggested for the normalized radiation wave amplitude at wave gauge g3 with different heave frequencies the decrease of normalized radiation wave amplitudes with the increase of heave amplitude can be observed around the characteristic frequency while the increase of normalized radiation wave amplitudes can be observed at the frequency range higher than the characteristic frequency where the a r a b approaches to zero in the potential flow simulations summarizing the variation tendency above it can be observed that the increase of heave amplitude can lead to the viscous fluid flow results being deviated more from the potential flow results this means the influence of fluid viscosity and flow rotation is more important with the increase of heave amplitude around the resonant frequency 4 2 influence of appendage size on wave response in moonpool the influence of appendages size on the wave response in moonpool is investigated in this sub section for the purpose of comparisons the result of sharp edge profile is also included two heave amplitudes a b 4 5 and 9 1 mm relevant with the heave frequencies of the hulls are considered as shown in figs 8 and 9 comparing the results of sharp edge profile it is observed that the addition of convex appendages reduces the resonant frequency and the corresponding resonant wave amplitude implying the availability of convex appendages on suppressing the fluid resonance in moonpool furthermore the increase of convex appendages size can further decrease the resonant frequency and resonant amplitude it can be understood that the addition or increase of convex appendage is able to reduce the cross section of moonpool the fluid entering into the moonpool can be blocked by the convex appendage which can further block the wave amplitude in moonpool as for the decrease of resonant frequency the addition or increase of convex appendages can increase the resonant fluid outside the moonpool bottom it is able to increase the added mass of the fluid bulk and lead to the decrease of resonant frequency table 3 illustrates the normalized resonant amplitude in moonpool by various edge profiles including the ratio of amplitude results of the corresponding convex appendages to that of sharp edge profile general speaking about 40 50 decrease of wave amplitudes can be observed from sharp edge to various convex appendages 1 b a 18 mm and h a 9 mm while it is only about 6 12 decrease of wave amplitudes when the convex appendages are from 1 to 2 b a 27 mm and h a 18 mm the significant decrease of discrepancy for wave amplitude in the table implies the essential mechanism behind the fluid resonant behavior between the addition and increase of convex appendages in order to justify the related phenomena velocity flow fields in the vicinity of the gap bottom around the resonant frequency during one period of heave motion are considered fig 10 shows the comparison of flow patterns between type1size1 and type1size2 and between type3size1 and type3size2 at the first and second rows of the figure a two pair 2p shedding mode can be suggested for describing the vortex structures by type1size1 and type1size2 that is two pairs of vortex bubbles a and b are generated from the edge profiles during one period of time moreover vortex structures of type1size1 and type1size2 have the similar characteristics implying the insignificant effect of increased convex appendages as for type3size1 and type3size2 edge profiles flow patterns are also able to suggest the analogous four pair 4p shedding modes between them that is a and b around the moonpool bottom and e and f around convex appendages at ps3 at the third and forth rows of fig 10 all of these findings confirm the insignificant effect of convex appendages size on velocity flow fields around the moonpool region correspondingly the increase of appendages size can only obtain 6 12 decrease of resonant amplitude in moonpool fig 12 shows the comparison of velocity fields between sharp edge and convex appendages profiles that is sharpedge type1size2 type2size2 type3size2 the flow pattern of sharpedge at the first row suggests a two pair 2p of shedding mode a and b around the moonpool bottom it is different to those by type2size2 and type3size2 edge profiles at the third and forth rows in fig 12 where the four pair 4p of shedding mode can be observed as for the velocity field of type1size2 although a two pair 2p of shedding mode can also be suggested evident discrepancy can also be observed by comparing to that of sharpedge at the first row of fig 12 the pair of vortex bubbles a are generated from the edge profiles when the hulls perform the upward motion while the vortex bubbles b are created when performing the downward motion with the elapse of time all of these vortex bubbles are dissipated at the bottom of the hulls in difference to sharpedge profiles the vortex bubbles by type1size2 always dissipate below the moonpool bottom where the large region is occupied by vortical flows the large region of vortical flow means more energy dissipation happens moreover the large region of vortical flow is always in the vicinity of the moonpool bottom leading to significant effect of the velocity around the moonpool entrance as reported in lu et al 2010 and jiang et al 2019c the wave amplitude in moonpool is closely relevant to the vertical velocity along the moonpool bottom implying that the vortex bubbles created by convex appendages can significantly affect the wave amplitude in moonpool this is the essential discrepancy with that of sharpedge at the first row of the figure which can explain the significant variation of resonant amplitude with the addition of convex appendages in table 3 4 3 influence of single convex appendages on wave response in moonpool free surface responses in moonpool formed by three types of single convex appendages that is type1 type2 type3 are considered in this sub section the motivation behind the comparison is the influence of single appendages positions on the wave amplitude in moonpool in order to clearly demonstrate that the plots of wave amplitudes by various single convex appendages shown in figs 8 and 9 are re arranged in fig 11 at the scopes of low and high frequency ranges numerical simulations suggest that wave amplitudes by three types of convex appendages are nearly the same as each other it indicates the position of single appendage cannot affect the wave response in moonpool at non resonant frequency around the resonant frequency wave amplitudes in moonpool with type1 and type3 convex appendages are smaller than that with type2 convex appendages including various appendages sizes and heave amplitudes in this case the cross section of the moonpool is the same for various positions of single convex appendages therefore the discrepancy of resonant amplitudes between different types of single appendages is mainly from the local flow field in the vicinity of moonpool as illustrated in fig 12 the second third and forth rows show velocity fields in the vicinity of moonpool with three types of single convex appendages that is type1size2 type2size2 type3size2 flow patterns during one period of heave motion with a time interval t t 8 under heave amplitude a b 9 1 mm are considered vortices contour of type1size2 at the second row of the figure shows that there are two pairs of vortex bubbles a and b shed from the convex appendages at the position ps1 during one period of heave motion by which a two pair 2p shedding mode can be suggested when the single convex appendages are installed at the position ps2 two pairs of new vortex modes c and d can be generated at the third row of fig 12 together with the vortex bubbles a and b from the moonpool inlet a four pair 4p shedding mode in the vicinity of moonpool can be suggested for type2size2 edge profiles however vortex bubbles a and b near the moonpool bottom by type2size2 are very small comparing with those generated from the convex appendages at ps1 in type1size2 it means the 4p shedding mode by type2size2 generate less energy dissipation than that of the 2p shedding mode by type1size2 this can be confirmed by wave amplitude results as shown in fig 11 indicating the type1size2 can suppress more resonant wave amplitude than that by type2size2 the flow pattern at the fourth row in fig 12 also suggests a four pair 4p shedding mode for type3size2 where the vortex bubbles are formed from both the moonpool bottom and convex appendages at ps3 the vortex bubbles from the moonpool bottom are defined as a and b which has the similar characteristics with type2size2 around the convex appendages at position ps3 the vortex bubbles are defined as e and f different to c and d for type2size2 the vortex bubbles e and f are able to generate more sufficient interaction with free surface in moonpool the existing time of e and f around the position ps3 is also longer than that of c and d around the position ps2 it means the vortex bubbles e and f by type3size2 can lead to more significant energy dissipation than c and d by type2size2 correspondingly the resonant wave amplitude in moonpool by type3size2 are smaller than that by type2size2 according to all of these comparisons the single convex appendages at positions of ps1 and ps3 can generate better suppressing effect on resonant wave amplitude in moonpool moveover it can be inferred from the simulations that the vortex bubbles a and b by the convex appendages at the moonpool bottom are able to create more energy dissipation than those at the positions ps2 and ps3 therefore it should be adopted as the basic type of multiple convex appendages 4 4 influence of multiple convex appendages on wave response in moonpool wave amplitudes in moonpool with different types of multiple convex appendages i e type4 type5 type6 are illustrated in fig 13 where the results of sharpedge and type1 are also included for the purpose of comparison noted that the discrepancy of type4 and type5 with type1 is the additional convex appendages at positions ps2 and ps3 respectively while the type6 has three pairs of convex appendages at positions ps1 ps2 and ps3 comparing with wave amplitudes by sharpedge it is observed that all three types of multiple convex appendages are able to suppress the resonant wave amplitude effectively when the heave amplitude of the hulls is a b 4 5 mm the decreased resonant wave amplitude can be observed with the sequence of shape type1 type4 type5 and type6 it can be understood that more convex appendages can lead to the better suppression implying that the type6 can lead to the smallest resonant amplitude in moonpool in addition the smaller a m p a b by type5 than that by type4 is also analogous with the single convex appendages results in sub section 4 3 however the variation of free surface amplitude with multiple types of convex appendages is different to that of a b 4 5 mm when heave amplitude is a b 9 1 mm as shown in fig 13c and d resonant amplitudes by type1 and type4 are nearly the same as each other while wave amplitudes by type5 around resonant frequency are even a little smaller than that by type6 in summary the additional convex appendages in position ps2 cannot reduce the resonant amplitude when the hulls performing the heave motion with a b 9 1 mm for multiple types of convex appendages in order to understand the reason of related phenomena for multiple types of convex appendages with heave amplitude a b 9 1 mm velocity fields of type1size2 type4size2 type5size2 and type6size2 at the corresponding resonant frequencies are investigated and illustrated in fig 14 by comparing the vortices contours of type1size2 and type4size2 at the first and the second rows of the figure it is observed that the addition of convex appendages at position ps2 is able to generate the new vortex shedding c and d however the region of vortex bubbles a and b of type4size2 from the appendages at ps1 become smaller than that of type1size2 implying the energy dissipation around the moonpool bottom decreases it means the total energy dissipation might not be increased by the addition of appendage at position ps2 which is the reason that the resonant amplitude by type1size2 and type4size2 are nearly the same as each other in fig 13c and d furthermore flow patterns of type5size2 at the third row of fig 14 show that the convex appendages in position ps3 is able to create a pair of vortex bubbles e and f they have more sufficient interaction with free surface in moonpool and can exist longer time than those of c and d generated by type4size2 moreover the region of vortex bubbles a and b of type5size2 around the mooonpool bottom still like the type1size2 that is the vortex bubbles have larger region in the vicinity of moonpool and always dissipate around the moonpool bottom in other words the additional convex appendages in position ps3 cannot weaken the a and b this is the reason that the resonant amplitude of type5size2 is smaller than those of type1size2 and type4size2 in fig 13 as for the velocity field of type6size2 at the forth row of fig 14 again the additional convex appendages at position ps2 weakens the vortex bubbles a and b the not fully developed vortex bubbles in type6size2 is the reason of generating larger resonant amplitude than that of type5size5 when heave amplitude is a b 9 1 mm summarizing all the results of a b 9 1 mm in figs 13 and 14 it is confirmed that the addition of appendages in position ps2 would affect the development of the vortex bubbles at position ps1 leading to the decrease of suppressing effect for multiple types of convex appendages the investigation confirms that the convex appendages can suppress the fluid resonance in moonpool with sharp edge profiles efficiently as for the round edge profiles moradi et al 2015 and feng et al 2017 conducted the two and three dimensional simulations for the side by side barges with sharp and round corners the velocity flow patterns in their work indicate that vortex bubbles are hardly generated by the round corner leading to the resonant amplitude in moonpool with round corner is significant larger than that with sharp corner following the flow pattern analysis in the present work it is speculated that the convex appendages are also suitable for suppressing the resonant amplitude of round edge profiles 4 5 behavior of vertical forces on convex appendages in this sub section the behavior of vertical force exerting on the convex appendage is investigated for providing valuable information in practical design fig 15 shows the time series of vertical force on the appendage at the corresponding resonant frequency with heave amplitude a b 9 1 mm it can be seen from the figure that the vertical force on convex appendage has asymmetrical and non sinusoidal characteristic however there is no impulsive pattern in the time signals of the force implying the convex appendage would not suffer the impact loading during the resonant frequency the dimensioned amplitudes of vertical fluid force f v a on the appendage in these figures are tabulated in table 4 general comparison shows larger horizontal appendage breadth b a in size2 can encounter larger vertical force than that on size1 only one exception appears on the appendage at pst1 and pst2 in type6 which is the reason of complex velocity flow field around the appendages moreover the fluid force on the appendage in single types is always larger than that on the appendage in multiple types it implies the types of multiple appendages not only suppress the resonant amplitude in moonpool but also reduce the fluid force on the appendage in order to explore the reason of asymmetric and non sinusoidal behavior in fig 15 harmonic analysis is applied to the time signal of vertical force on the appendage fig 16 shows the comparison of time series between the total vertical force and its first and second order harmonic components at the corresponding resonant frequency although the first order component is the most important part the second order component is not an ignorable factor in the total vertical force this implies the influence of nonlinearity cannot be neglected in the vertical force on the appendage which is also the major reason for the asymmetric and non sinusoidal characteristic in the time signal of total vertical force referring to the bernoulli equation the vertical fluid force should be clearly related to the square of flow velocity in the local field moreover the velocity flow fields around the convex appendages are very complex including various shedding modes and flow patterns as presented in figs 10 12 and 14 this is the main reason for the nonlinear characteristics in the vertical force on the convex appendage 5 conclusion fluid resonance in moonpool formed by twin hulls are investigated by using a viscous fluid flow with rng turbulent model based on openfoam package numerical verifications and validations are carried out by comparison of the experimental and numerical results in the literature confirming that the present model can work well in simulating the moonpool resonant behavior the influence of convex appendages on wave responses in moonpool is investigated where six types of convex appendages with two sizes are considered the major conclusions can be summarized as follows 1 in present numerical simulations wave amplitudes at the resonant frequency decrease significantly when installing the convex appendages in moonpool indicating the effectiveness of convex appendages on suppressing the fluid resonance in moonpool the variation of vortex shedding in the vicinity of moonpool is the major reason for the suppressing effect of convex appendages numerical simulations suggest that the convex appendages at the moonpool bottom or near the free surface can suppress the resonant wave more efficiently the vortex bubbles from the convex appendages at the moonpool bottom are able to create more energy dissipation than those in the middle of moonpool and near the free surface 2 based on the type of single convex appendages at the moonpool bottom the types of multiple convex appendages are considered for further suppressing the fluid resonance in moonpool the addition of convex appendages in multiple types is able to generate the new vortex bubbles which can decrease the resonant amplitude when heave amplitude is 4 5 mm however when the heave amplitude is 9 1 mm the additional appendages at the middle of moonpool wall could shrink the region of vortex bubbles from the bottom appendages correspondingly the increased resonant amplitude in moonpool can be obtained all of these results imply the complex effect of vortex shedding in the moonpool region on resonant behavior 3 the evolution of vertical force on the convex appendage around the resonant frequency shows the asymmetric and non sinusoidal characteristic harmonic analysis indicates that the influence of wave nonlinearity associated with the local velocity flow field around the appendage is the major reason of the phenomenon however there is no impulsive behavior in the time signal of vertical force implying the convex appendage would not suffer the impact loading during the resonant frequency the vertical force on each appendage in multiple types is always smaller than that on the appendage in single types indicating the types of multiple appendages can reduce the fluid force on the appendage finally it should be reaffirmed that the conclusion in this study is only valid for the given geometries including the dimensions of moonpool and convex appendages and the parameters of heave excitations acknowledgments this work is supported by the natural science foundation of china with grant no 51909027 and the fundamental research funds for the central universities with grant nos dut18lk09 and dut2017tb05 the first author gratefully acknowledges the supercomputer center of dalian university of technology for providing computing resources 
22366,fluid resonance in moonpool formed by two identical hulls undergoing heave oscillation is investigated by using a viscous fluid flow solver with rng turbulent model based on openfoam package by comparison of experimental and numerical results it is confirmed the present numerical model can simulate the gap resonance problem in a high level accuracy numerical simulations suggest that the resonant amplitude in moonpool decreases dramatically when installing the convex appendages which is the reason of significant variation of velocity flow field in the vicinity of moonpool the single convex appendages at the bottom or near the free surface can generate smaller resonant amplitude than that at the middle of moonpool wall the vortex bubbles from the convex appendages at the moonpool bottom create more energy dissipation than those for the convex appendages in the middle of moonpool and near the free surface as for the multiple convex appendages the variation of resonant amplitude with appendages types follows the suppressing characteristics of single convex appendages when heave amplitude is small however the additional appendages at the middle of moonpool wall shrink the region of vortex bubbles from the bottom appendages when the heave amplitude is large leading to the increased resonant amplitude in moonpool all of these phenomena indicate the complex effect of vortex shedding in the moonpool region on resonant behavior finally the vertical force on each appendage in multiple types is always smaller than that on the appendage in single types implying the multiple appendages types can reduce the fluid force on the appendage keywords fluid resonance moonpool convex appendage flow pattern heave motion openfoam 1 introduction moonpool is the vertical openings through the deck or hull of ships or barges for lowering or lifting devices such as the subsea modules and pipe laying etc when the external frequency incident wave and or structure motion is close to the natural frequency of fluid bulk in moonpool large amplitude free surface oscillation can be excited it is able to generate considerable variation of wave force on the equipment in moonpool this is one of the key challenges associated with the marine operations for the safety of a floating production storage and offloading fpso drilling ship and spar platform etc generally the large amplitude fluid resonance in moonpool share some features with the catamaran dual pontoon multi hull vessels and the side by side barges in close proximity therefore understanding the fundamental physics in the resonant fluid flow is important to the marine operation and structure safety this topic has been studied extensively for the purpose of predicting the hydrodynamic force and revealing the mechanism behind the behavior of fluid resonance in moonpool a variety of investigations have been carried out for analysing the hydrodynamic behavior of fluid resonance problem roughly speaking there are two aspects being paid special attention in the previous work one is resonant frequency another is resonant amplitude in a broad sense it is one type of so called nearly trapped mode problem where the resonant frequency and amplitude correspond to the eigenfrequency and eigenvector respectively pioneering work about the approximate eigenvalue problem in hydrodynamic fields focused on the analytical solution of multiple cylinder problem such as linton and evans 1990 maniar and newman 1997 and evans and porter 1997 etc based on the linear potential flow theory a quasi analytical approximation was analysed by molin 2001 under the assumption of barges with infinite length and beam in the infinite water depth in which the piston and sloshing mode resonances can be formulated and solved via an approximate eigenvalues equation faltinsen et al 2007 proposed a domain decomposition approach for solving the piston like mode resonance in moonpool between two heave rectangular boxes in the finite water depth besides the analytical solution numerical simulations in the framework of potential flow theory have also been utilized to investigate the resonant problem sun et al 2015 simulated the wave interaction between two barges in a side by side arrangement by using the first and second order wave diffraction models in the frequency domain feng and bai 2015 utilized a fully nonlinear potential flow model to investigate the three dimensional free surface resonance between two side by side barges in the time domain harmonic analysis illustrated that the resonant frequency slightly shifts to higher values as incident wave steepness increases equivalent to a stiff spring in a nonlinear mass spring system however applications of potential flow models are reported to over predict the wave response in moonpool at the frequency of fluid resonance which has been demonstrated extensively by the laboratory observations saitoh et al 2006 iwata et al 2007 peric and swan 2015 it is speculated that the over prediction of wave response comes from the inherent ignorance of fluid viscosity in the potential flow model based on this hypothesis attempts to introduce some artificial damping appropriately in the potential flow model have been suggested newman 2004 modelled a damping term as the body force on the free surface in moonpool and chen 2004 introduced a damping force term into the free surface boundary conditions which have been adopted in the commercial software wamit and hydrostar respectively a fully nonlinear modified potential flow model is proposed by ning et al 2018 where the artificial damping is introduced on the nonlinear free surface condition in moonpool liu and falzarano 2019 developed a wall damping method to simulate the wave resonance in moonpool where the energy loss is imposed on the ship hull surface the backward of the modified potential flow model is the damping coefficient has to be calibrated by the experimental measurement therefore the accurate results of this method can be obtained only after the effective laboratory observation another alternative method is the computational fluid dynamic cfd simulation based on navier stokes equations where the essential mechanism behind the resonant fluid flow motion can be explored more clearly lu et al 2010 examined the gap resonance problem by using a finite element method with clear vof free surface capturing technique jiang et al 2018 2019a b investigated the fluid resonance in the narrow gap and corresponding wave forces on two non identical side by side boxes and a box wall system numerical results suggest that the navier stokes based solver is able to work well in predicting the behavior of wave resonance in moonpool fredriksen et al 2014 conducted the experimental and numerical investigation for wave response in moonpool with various inlet configurations induced by heave excitation at low forward speed the decrease of resonant amplitude in moonpool can be observed in their work when installing the convex appendages on moonpool bottom furthermore jiang et al 2019c extended this work to sharp convex and concave edge profiles the comparisons show the decreased resonant wave amplitude with the decrease of moonpool opening analogous work can also be found in moradi et al 2015 and feng et al 2017 where the influence of sharp and rounded edge profiles on wave amplitude in the narrow gap is considered for two and three dimensional problems respectively all of these investigations indicate that the energy dissipation mainly comes from the vortex shedding in the vicinity of moonpool not on the free surface in moonpool correspondingly the modified potential flow models have been developed for considering the artificial damping around the moonpool bottom such as faltinsen and timokha 2015 and feng et al 2018 tan et al 2019 proposed a simplified equation of fluid motion in moonpool for estimating the damping induced by flow separation and wall friction the modified potential flow model was also established according to implement the damping coefficient into the dynamic free surface condition in moonpool it can be seen from foregoing studies that the energy dissipation associated with the vortex flow is able to dampen the large amplitude free surface oscillation in moonpool physically therefore installing the convex appendages is an alternative method for suppressing the large amplitude free surface oscillation in moonpool in this paper our main objective is to investigate the effectiveness of various convex appendages on suppressing the fluid resonance in moonpool a viscous numerical wave flume based on openfoam package is introduced in section 2 numerical setup and validations are carried out in section 3 and then six types of convex appendages which are three types of single convex appendages and three types of multiple convex appendages are considered in the numerical simulations together with two different appendages sizes flow field patterns of different types of convex appendages are compared to explain the discrepancy of resonant amplitudes the fluid force exerting on the convex appendages is also investigated for providing the valuable information in practical design these contents are structured in section 4 finally conclusions of this work are summarized in section 5 2 mathematical formulation the governing equations for mass and momentum conservations in an incompressible turbulent flows with re normalization group rng model in arbitrary lagrangian eulerian ale reference system can be given as 1a ρ t ρ u i x i 0 1b ρ u i t ρ u j u j m u i x j ρ f i p x i μ e x j u i x j u j x i where u i is the velocity component in the ith direction u i m is the velocity component due to mesh deformation in the ale frame p ρ and f i are the pressure fluid density and external body force respectively μ e is the effective dynamic viscosity with μ e μ m μ t μ m the fluid molecule viscosity and μ t turbulent viscosity the rng k ε two equation formulations are adopted for closing the governing equations which gives rise to 2 μ t c μ k 2 ε where c μ 0 09 is a theoretical model constant and the time dependent advection diffusion equations for the turbulent kinematic energy k and its dissipation rate ε can be written as 3a ρ k t ρ u j u j m k x j x j μ t σ k k x j μ t u i x j u j x i u i x j ρ ε 3b ρ ε t ρ u j u j m ε x j x j μ t σ ε ε x j c 1 ε ε k μ t u i x j u j x i u i x j ρ c 2 ε ε 2 k where the model constants c 1 ε c 2 ε σ k and σ ε are 1 42 1 68 0 71942 and 0 71942 respectively noted that the model constants are derived theoretically in rng turbulent model yakhot and orszag 1986 yakhot and smith 1992 not based on the empirical calibrations some of the constants in rng model obtained by theoretical derivation agree well with the experimental results yakhot et al 1992 implying the rng turbulent model is theoretically more rigorous the volume of fluid vof method hirt and nichols 1981 is adopted in this work to capture the free surface motion the fractional function of vof defined by ϕ for a computational cell is defined as 4 ϕ 0 in air 0 ϕ 1 on free surface 1 in water it satisfies the following advection equation 5 ϕ t u i u i m ϕ x i 0 in this work the contour of vof function with ϕ 0 5 is used to represent the interface between the water and air phases in the computations the fluid density and effective viscosity are averaged by using the available vof function 6a ρ ϕ ρ w 1 ϕ ρ a 6b μ e ϕ μ e w 1 ϕ μ e a where the subscripts w and a represent the water phase and air phase respectively in the present numerical wave flume relaxation zones are adopted to eliminate the radiation wave at the boundaries on both the left and right ends of the flume a relaxation function 7 α r χ r 1 exp χ r 3 5 1 exp 1 1 χ r 0 1 is applied inside the relaxation zone in the following way 8 ϑ α r ϑ c 1 α r ϑ t where ϑ is either u i or ϕ and the subscripts c and t represent the computed value and target value respectively the variation of α r is the same as that in fuhrman et al 2006 where α r in eq 7 is only activated in the relaxation zone and it is always 1 at the interface between the non relaxed part of the computational domain detailed information about the relaxation technique can be found in mayer et al 1998 engsig karup et al 2006 and jacobsen et al 2012 the governing equations 1a 1b and vof equation 5 are solved based on the finite volume method integrated in the openfoam package the velocity and pressure are separated by the pressure implicit with splitting of operators algorithm piso issa 1986 the euler method is used to discretize the transient term the convection term and diffusion term are discretized by the gauss limited linear method and the gauss linear corrected method respectively on the details of the numerical implements in openfoam the readers are referred to jasak 1996 and rusche 2003 the numerical computations always start from the still state which means the static water pressure and zero velocity are specified as the initial conditions the no slip boundary condition is imposed at the solid wall including the body surface and seabed surface at the upper boundary of the numerical wave flume a reference pressure p 0 and velocity condition u n are implemented with n the outward normal unit vector the influence of interface tension between the air and water phases on free surface elevation is neglected in this work since the bond number b d 4 ρ g b m p 2 σ 1000 can be satisfied at the two ends of the spongy layer zero velocities are applied considering that the waves are damped out there by the spongy layer in the present numerical simulation the time increment is automatically determined according to the courant friedrichs lewy cfl condition 9 δ t c r min s e u e where s e and u e are the area and absolute velocity in a computational cell respectively the numerical test of this work confirmed that the usage of c r 0 20 can produce stable and accurate results the classical linear potential flow model is also adopted in this study for the purpose of comparison the boundary integral equation based on rankine source g x x 0 1 2 π 1 r 1 r is developed for the problem which has been described in the previous work in jiang et al 2017 the higher order boundary element method hobem with quadratic isoparameteric elements teng and eatock taylor 1995 is employed to discrete the boundary integral equation of which the detailed formulation is omitted here as it is well known in many textbooks 3 numerical validation a two dimensional o y symmetric free surface response induced by two identical hulls is studied the hulls has breadth b 0 360 m undergoing synchronous heave oscillation in water depth h 1 03 m fig 1 shows the sketch of the definition of the numerical wave flume numerical simulations are carried out in a numerical wave flume with 40 m long and 1 5 m height the twin hulls with a moonpool in the center are located in the middle of the wave flume where both the moonpool breadth b m p and draft d are set to be 0 180 m a cartesian coordinate system o x y is defined with origin on the centre of the undisturbed free surface in moonpool two relaxation zones are situated on the both ends of the wave flume for absorbing radiation waves the regions of the left and right relaxation zones are from 20 m to 10 m and from 10 m to 20 m respectively a total of seven wave gauges are equipped to record the free surface elevations where five of these are located in the moonpool and two of these are placed outside the structures the positions of the wave gauges in moonpool are x 0 00 0 04 m 0 08 m their average values are taken as the free surface elevation in moonpool defined as g1 in present work other two wave gauges g2 and g3 are situated at x 0 715 m and x 1 150 m respectively in numerical simulations the displacement of the twin hulls is described as follows 10 ξ t a b sin ω t where a b and ω are heave amplitude and heave frequency respectively the large amplitude fluid resonance can be excited as the heave frequency of the hulls is close to the natural frequency of the confined bulk the motivation of this study is to examine the effectiveness of convex appendages on suppressing the large amplitude fluid resonance in moonpool fig 2 shows the six different types of convex appendages adopted in this work including the corresponding names in figure caption i e type1 type6 it can be observed from these figures that the types of convex appendages are featured by their positions from the moonpool bottom or free surface denoted by δ h in this study the values are kept on δ h 0 060 m which is one third of hull draft the corresponding positions are defined as positions ps1 ps2 ps3 following the sequence that from moonpool bottom to free surface two dimensions of convex appendages are considered in this study that is appendage size 1 has dimensions 18 mm width b a by 9 mm height h a and appendage size 2 has 27 mm width b a by 18 mm height h a which cover 20 and 30 of moonpool opening size respectively for the purpose of illustration the postfix size would be adopted for identifying the dimensions of the appendages for example type1size2 means a pair of convex appendages size 2 i e b a 27 mm and h a 18 mm are placed at the bottom of moonpool fig 2a in addition the original rectangular hulls are defined as sharpedge in the following descriptions mesh dependency tests are carried out by using four different mesh schemes for three configurations that is sharpedge type1size2 and type6size2 respectively table 1 tabulates the detailed information of mesh resolutions in order to save computational cost non uniform meshes are adopted to discretise the computational domain the square fine meshes with high resolution are adopted around the hulls especially in the vicinity of the moonpool to accurately capture the large amplitude piston type of free surface oscillation and to account for the effect of vortex structure in boundary layer the coarse rectangular meshes with large aspect ratio up to 1 20 height length are equipped in both the left and right of relaxation zones which are helpful to eliminate radiation waves as for the other parts of the computational domain square fine meshes with intermediate resolution are adopted typical mesh partitions in the vicinity of the twin hulls and around the moonpool bottom are depicted in fig 3 which is mesh 1 in table 1 free surface evolutions in moonpool with various mesh resolutions for three configurations are considered in fig 4 where the heave amplitude and frequency are a b 9 1 mm and ω 5 00 rad s respectively numerical simulations suggest that the free surface oscillation increases significantly in the starting stage of 0 5 s after a short transient period the steady state evolutions approaching 180 s of simulations can be observed indicating satisfactory performance of relaxation zones in eliminating radiation waves the steady state large amplitude free surface oscillations are very symmetric and sinusoidal fourier analysis is adopted to confirm that dominating harmonics are at forced heave angular frequency time signals on different meshes suggest that the discrepancy between them mainly appears at the crest and trough of wave elevations the detailed comparison for steady state elevations is illustrated in the third column of fig 4 generally very little discrepancy between the results of mesh 3 and mesh 4 can be observed implying that the convergent solution can be obtained by mesh 3 for various configurations in order to further validate the mesh convergence the normalized free surface amplitudes a m p a b in moonpool at the heave frequency ω 5 00 rad s with two heave amplitudes a b 4 5 mm and 9 1 mm by four different mesh resolutions are compared in fig 5 the wave amplitudes a m p are computed by averaging values of free surface amplitudes in the steady state duration furthermore the magnitudes of free surface amplitudes are tabulated in table 2 where the percentages between the results of adjacent mesh schemes are also illustrated for the identifying the difference in wave amplitudes again numerical results indicate that mesh 3 is able to produce convergent solutions in which the largest percentage is only 1 79 in the case of type1size2 under a b 9 1 mm therefore it is adopted as the baseline in the following numerical analysis numerical validations are carried out against the available experimental and numerical data in fredriksen et al 2014 where configurations of sharpedge type1size1 and type1size2 under two heave amplitudes a b 4 5 and 9 1 mm are conducted fig 6 shows the normalized wave amplitudes at wave gauges g1 and g2 denoted as a m p a b and a r a b respectively noted that the normalized wave amplitudes in these figures are given in a body fixed non inertial coordinate system as utilized in fredriksen et al 2014 according to the comparisons the agreement between the present viscous numerical results and the experimental and numerical results in fredriksen et al 2014 can be observed however a little discrepancy between two numerical results can also be identified around the resonant frequency the numerical model in fredriksen et al 2014 was a coupling computational method incorporating potential flow and viscous fluid flow solvers where laplace s equation with harmonic polynomial cell hpc method and navier stokes equations with direct numerical simulation dns are adopted in the upper and lower regions of the moonpool respectively that is only the flows in the lower region of the moonpool were simulated by the viscous fluid flow model while the upper region including the free surface was treated by the potential flow model in addition the two dimensional dns simulation in the viscous fluid flow model of fredriksen et al 2014 is expected to require very fine mesh resolution to account for the turbulent effects in the present numerical model the navier stokes solver with rng turbulent model is adopted in the whole computational domain these difference might be the reasons for the discrepancy between two numerical models as for radiation waves measured at wave gauge g2 265 mm of the left side of hull a both numerical results are in good agreement with the experimental observations 4 numerical results the validation study in the previous section shows that the present numerical wave flume is able to reproduce well the scenario of fluid resonance in moonpool formed by two identical hulls which is adopted to investigate the free surface amplitudes in moonpool with different convex appendages the averaged value of steady state free surface elevation is still adopted as the wave amplitude a m p in moonpool in order to demonstrate the necessity of employing the viscous fluid model for this problem the linear potential flow solution is also included for the purposes of comparison the fine meshes with 26 and 42 elements are adopted in each convex appendage with size1 and size2 in the potential flow simulation respectively the number of elements on the other parts of computational domain is 602 in this study in which 36 elements are equipped for meshing the free surface in moonpool numerical simulations have confirmed that the convergent results can obtained by this mesh scheme finally all the wave amplitudes presented in this section are evaluated in the space fixed coordinate system 4 1 general description for wave responses by heave oscillations explanations begin with the general description for the behavior of wave responses in moonpool and outside the structure vs the heave frequency ω in numerical simulations the range of heave frequencies ω is from 3 0 to 9 0 rad s for the linear potential flow model while the viscous fluid flow model is focused on the range of resonant conditions which is from 4 0 to 7 0 rad s two heave amplitudes a b 4 5 and 9 1 mm are equipped in the viscous fluid simulations for the purpose of shortening the length only the hulls with convex appendages 2 are illustrated in this sub section as shown in fig 7 it can be seen from these figures that the potential flow model over predicts the wave amplitude in moonpool measured by wave gauge g1 in the middle of moonpool a m p a b around the resonant frequency the assumption of fluid inviscid and flow irrotational is the major reason for the over prediction where the energy dissipation cannot be simulated correctly with the increase of heave amplitude the normalized wave amplitude a m p a b decreases at the resonant frequency more relative energy dissipation by fluid viscosity and flow rotation in the vicinity of moonpool around the resonant condition leads to the phenomena at the lower and higher frequencies the potential flow model can work well in predicting the wave amplitude in moonpool in addition the insignificant effect of heave amplitude on the normalized wave amplitude a m p a b in moonpool can also be observed the relatively small wave amplitude in moonpool corresponds to rather slow flow in the neighborhood of moving bodies therefore the influence of eddying motion and energy dissipation can be neglected in these regions of frequencies as for the resonant frequency a slight decrease in the resonant frequency can be observed when using the viscous fluid flow model or with the increase of heave amplitude the increase of damping ratio due to the energy dissipation the increase of added mass depending on the resonant wave amplitude and the increase of mean water level in moonpool due to the free surface nonlinearity are the three possible reasons for the decrease of resonant frequency variations of radiation wave amplitudes at wave gauge g3 700 mm right side of the hull b a r a b against the incident wave frequency are also illustrated in fig 7 the maximal radiation wave amplitudes can be observed around a particular frequency which is denoted as the characteristic frequency of radiation waves numerical simulations show that the characteristic frequency of radiation waves is very close to the resonant frequency of fluid oscillation in the narrow gap when the heave motion frequency is close to the resonant frequency the large amplitude free surface oscillation can be excited it can be taken as a radiation source and consequently generates the peak value around the characteristic frequency of radiation waves with the increase of heave amplitude a two phase variation can be suggested for the normalized radiation wave amplitude at wave gauge g3 with different heave frequencies the decrease of normalized radiation wave amplitudes with the increase of heave amplitude can be observed around the characteristic frequency while the increase of normalized radiation wave amplitudes can be observed at the frequency range higher than the characteristic frequency where the a r a b approaches to zero in the potential flow simulations summarizing the variation tendency above it can be observed that the increase of heave amplitude can lead to the viscous fluid flow results being deviated more from the potential flow results this means the influence of fluid viscosity and flow rotation is more important with the increase of heave amplitude around the resonant frequency 4 2 influence of appendage size on wave response in moonpool the influence of appendages size on the wave response in moonpool is investigated in this sub section for the purpose of comparisons the result of sharp edge profile is also included two heave amplitudes a b 4 5 and 9 1 mm relevant with the heave frequencies of the hulls are considered as shown in figs 8 and 9 comparing the results of sharp edge profile it is observed that the addition of convex appendages reduces the resonant frequency and the corresponding resonant wave amplitude implying the availability of convex appendages on suppressing the fluid resonance in moonpool furthermore the increase of convex appendages size can further decrease the resonant frequency and resonant amplitude it can be understood that the addition or increase of convex appendage is able to reduce the cross section of moonpool the fluid entering into the moonpool can be blocked by the convex appendage which can further block the wave amplitude in moonpool as for the decrease of resonant frequency the addition or increase of convex appendages can increase the resonant fluid outside the moonpool bottom it is able to increase the added mass of the fluid bulk and lead to the decrease of resonant frequency table 3 illustrates the normalized resonant amplitude in moonpool by various edge profiles including the ratio of amplitude results of the corresponding convex appendages to that of sharp edge profile general speaking about 40 50 decrease of wave amplitudes can be observed from sharp edge to various convex appendages 1 b a 18 mm and h a 9 mm while it is only about 6 12 decrease of wave amplitudes when the convex appendages are from 1 to 2 b a 27 mm and h a 18 mm the significant decrease of discrepancy for wave amplitude in the table implies the essential mechanism behind the fluid resonant behavior between the addition and increase of convex appendages in order to justify the related phenomena velocity flow fields in the vicinity of the gap bottom around the resonant frequency during one period of heave motion are considered fig 10 shows the comparison of flow patterns between type1size1 and type1size2 and between type3size1 and type3size2 at the first and second rows of the figure a two pair 2p shedding mode can be suggested for describing the vortex structures by type1size1 and type1size2 that is two pairs of vortex bubbles a and b are generated from the edge profiles during one period of time moreover vortex structures of type1size1 and type1size2 have the similar characteristics implying the insignificant effect of increased convex appendages as for type3size1 and type3size2 edge profiles flow patterns are also able to suggest the analogous four pair 4p shedding modes between them that is a and b around the moonpool bottom and e and f around convex appendages at ps3 at the third and forth rows of fig 10 all of these findings confirm the insignificant effect of convex appendages size on velocity flow fields around the moonpool region correspondingly the increase of appendages size can only obtain 6 12 decrease of resonant amplitude in moonpool fig 12 shows the comparison of velocity fields between sharp edge and convex appendages profiles that is sharpedge type1size2 type2size2 type3size2 the flow pattern of sharpedge at the first row suggests a two pair 2p of shedding mode a and b around the moonpool bottom it is different to those by type2size2 and type3size2 edge profiles at the third and forth rows in fig 12 where the four pair 4p of shedding mode can be observed as for the velocity field of type1size2 although a two pair 2p of shedding mode can also be suggested evident discrepancy can also be observed by comparing to that of sharpedge at the first row of fig 12 the pair of vortex bubbles a are generated from the edge profiles when the hulls perform the upward motion while the vortex bubbles b are created when performing the downward motion with the elapse of time all of these vortex bubbles are dissipated at the bottom of the hulls in difference to sharpedge profiles the vortex bubbles by type1size2 always dissipate below the moonpool bottom where the large region is occupied by vortical flows the large region of vortical flow means more energy dissipation happens moreover the large region of vortical flow is always in the vicinity of the moonpool bottom leading to significant effect of the velocity around the moonpool entrance as reported in lu et al 2010 and jiang et al 2019c the wave amplitude in moonpool is closely relevant to the vertical velocity along the moonpool bottom implying that the vortex bubbles created by convex appendages can significantly affect the wave amplitude in moonpool this is the essential discrepancy with that of sharpedge at the first row of the figure which can explain the significant variation of resonant amplitude with the addition of convex appendages in table 3 4 3 influence of single convex appendages on wave response in moonpool free surface responses in moonpool formed by three types of single convex appendages that is type1 type2 type3 are considered in this sub section the motivation behind the comparison is the influence of single appendages positions on the wave amplitude in moonpool in order to clearly demonstrate that the plots of wave amplitudes by various single convex appendages shown in figs 8 and 9 are re arranged in fig 11 at the scopes of low and high frequency ranges numerical simulations suggest that wave amplitudes by three types of convex appendages are nearly the same as each other it indicates the position of single appendage cannot affect the wave response in moonpool at non resonant frequency around the resonant frequency wave amplitudes in moonpool with type1 and type3 convex appendages are smaller than that with type2 convex appendages including various appendages sizes and heave amplitudes in this case the cross section of the moonpool is the same for various positions of single convex appendages therefore the discrepancy of resonant amplitudes between different types of single appendages is mainly from the local flow field in the vicinity of moonpool as illustrated in fig 12 the second third and forth rows show velocity fields in the vicinity of moonpool with three types of single convex appendages that is type1size2 type2size2 type3size2 flow patterns during one period of heave motion with a time interval t t 8 under heave amplitude a b 9 1 mm are considered vortices contour of type1size2 at the second row of the figure shows that there are two pairs of vortex bubbles a and b shed from the convex appendages at the position ps1 during one period of heave motion by which a two pair 2p shedding mode can be suggested when the single convex appendages are installed at the position ps2 two pairs of new vortex modes c and d can be generated at the third row of fig 12 together with the vortex bubbles a and b from the moonpool inlet a four pair 4p shedding mode in the vicinity of moonpool can be suggested for type2size2 edge profiles however vortex bubbles a and b near the moonpool bottom by type2size2 are very small comparing with those generated from the convex appendages at ps1 in type1size2 it means the 4p shedding mode by type2size2 generate less energy dissipation than that of the 2p shedding mode by type1size2 this can be confirmed by wave amplitude results as shown in fig 11 indicating the type1size2 can suppress more resonant wave amplitude than that by type2size2 the flow pattern at the fourth row in fig 12 also suggests a four pair 4p shedding mode for type3size2 where the vortex bubbles are formed from both the moonpool bottom and convex appendages at ps3 the vortex bubbles from the moonpool bottom are defined as a and b which has the similar characteristics with type2size2 around the convex appendages at position ps3 the vortex bubbles are defined as e and f different to c and d for type2size2 the vortex bubbles e and f are able to generate more sufficient interaction with free surface in moonpool the existing time of e and f around the position ps3 is also longer than that of c and d around the position ps2 it means the vortex bubbles e and f by type3size2 can lead to more significant energy dissipation than c and d by type2size2 correspondingly the resonant wave amplitude in moonpool by type3size2 are smaller than that by type2size2 according to all of these comparisons the single convex appendages at positions of ps1 and ps3 can generate better suppressing effect on resonant wave amplitude in moonpool moveover it can be inferred from the simulations that the vortex bubbles a and b by the convex appendages at the moonpool bottom are able to create more energy dissipation than those at the positions ps2 and ps3 therefore it should be adopted as the basic type of multiple convex appendages 4 4 influence of multiple convex appendages on wave response in moonpool wave amplitudes in moonpool with different types of multiple convex appendages i e type4 type5 type6 are illustrated in fig 13 where the results of sharpedge and type1 are also included for the purpose of comparison noted that the discrepancy of type4 and type5 with type1 is the additional convex appendages at positions ps2 and ps3 respectively while the type6 has three pairs of convex appendages at positions ps1 ps2 and ps3 comparing with wave amplitudes by sharpedge it is observed that all three types of multiple convex appendages are able to suppress the resonant wave amplitude effectively when the heave amplitude of the hulls is a b 4 5 mm the decreased resonant wave amplitude can be observed with the sequence of shape type1 type4 type5 and type6 it can be understood that more convex appendages can lead to the better suppression implying that the type6 can lead to the smallest resonant amplitude in moonpool in addition the smaller a m p a b by type5 than that by type4 is also analogous with the single convex appendages results in sub section 4 3 however the variation of free surface amplitude with multiple types of convex appendages is different to that of a b 4 5 mm when heave amplitude is a b 9 1 mm as shown in fig 13c and d resonant amplitudes by type1 and type4 are nearly the same as each other while wave amplitudes by type5 around resonant frequency are even a little smaller than that by type6 in summary the additional convex appendages in position ps2 cannot reduce the resonant amplitude when the hulls performing the heave motion with a b 9 1 mm for multiple types of convex appendages in order to understand the reason of related phenomena for multiple types of convex appendages with heave amplitude a b 9 1 mm velocity fields of type1size2 type4size2 type5size2 and type6size2 at the corresponding resonant frequencies are investigated and illustrated in fig 14 by comparing the vortices contours of type1size2 and type4size2 at the first and the second rows of the figure it is observed that the addition of convex appendages at position ps2 is able to generate the new vortex shedding c and d however the region of vortex bubbles a and b of type4size2 from the appendages at ps1 become smaller than that of type1size2 implying the energy dissipation around the moonpool bottom decreases it means the total energy dissipation might not be increased by the addition of appendage at position ps2 which is the reason that the resonant amplitude by type1size2 and type4size2 are nearly the same as each other in fig 13c and d furthermore flow patterns of type5size2 at the third row of fig 14 show that the convex appendages in position ps3 is able to create a pair of vortex bubbles e and f they have more sufficient interaction with free surface in moonpool and can exist longer time than those of c and d generated by type4size2 moreover the region of vortex bubbles a and b of type5size2 around the mooonpool bottom still like the type1size2 that is the vortex bubbles have larger region in the vicinity of moonpool and always dissipate around the moonpool bottom in other words the additional convex appendages in position ps3 cannot weaken the a and b this is the reason that the resonant amplitude of type5size2 is smaller than those of type1size2 and type4size2 in fig 13 as for the velocity field of type6size2 at the forth row of fig 14 again the additional convex appendages at position ps2 weakens the vortex bubbles a and b the not fully developed vortex bubbles in type6size2 is the reason of generating larger resonant amplitude than that of type5size5 when heave amplitude is a b 9 1 mm summarizing all the results of a b 9 1 mm in figs 13 and 14 it is confirmed that the addition of appendages in position ps2 would affect the development of the vortex bubbles at position ps1 leading to the decrease of suppressing effect for multiple types of convex appendages the investigation confirms that the convex appendages can suppress the fluid resonance in moonpool with sharp edge profiles efficiently as for the round edge profiles moradi et al 2015 and feng et al 2017 conducted the two and three dimensional simulations for the side by side barges with sharp and round corners the velocity flow patterns in their work indicate that vortex bubbles are hardly generated by the round corner leading to the resonant amplitude in moonpool with round corner is significant larger than that with sharp corner following the flow pattern analysis in the present work it is speculated that the convex appendages are also suitable for suppressing the resonant amplitude of round edge profiles 4 5 behavior of vertical forces on convex appendages in this sub section the behavior of vertical force exerting on the convex appendage is investigated for providing valuable information in practical design fig 15 shows the time series of vertical force on the appendage at the corresponding resonant frequency with heave amplitude a b 9 1 mm it can be seen from the figure that the vertical force on convex appendage has asymmetrical and non sinusoidal characteristic however there is no impulsive pattern in the time signals of the force implying the convex appendage would not suffer the impact loading during the resonant frequency the dimensioned amplitudes of vertical fluid force f v a on the appendage in these figures are tabulated in table 4 general comparison shows larger horizontal appendage breadth b a in size2 can encounter larger vertical force than that on size1 only one exception appears on the appendage at pst1 and pst2 in type6 which is the reason of complex velocity flow field around the appendages moreover the fluid force on the appendage in single types is always larger than that on the appendage in multiple types it implies the types of multiple appendages not only suppress the resonant amplitude in moonpool but also reduce the fluid force on the appendage in order to explore the reason of asymmetric and non sinusoidal behavior in fig 15 harmonic analysis is applied to the time signal of vertical force on the appendage fig 16 shows the comparison of time series between the total vertical force and its first and second order harmonic components at the corresponding resonant frequency although the first order component is the most important part the second order component is not an ignorable factor in the total vertical force this implies the influence of nonlinearity cannot be neglected in the vertical force on the appendage which is also the major reason for the asymmetric and non sinusoidal characteristic in the time signal of total vertical force referring to the bernoulli equation the vertical fluid force should be clearly related to the square of flow velocity in the local field moreover the velocity flow fields around the convex appendages are very complex including various shedding modes and flow patterns as presented in figs 10 12 and 14 this is the main reason for the nonlinear characteristics in the vertical force on the convex appendage 5 conclusion fluid resonance in moonpool formed by twin hulls are investigated by using a viscous fluid flow with rng turbulent model based on openfoam package numerical verifications and validations are carried out by comparison of the experimental and numerical results in the literature confirming that the present model can work well in simulating the moonpool resonant behavior the influence of convex appendages on wave responses in moonpool is investigated where six types of convex appendages with two sizes are considered the major conclusions can be summarized as follows 1 in present numerical simulations wave amplitudes at the resonant frequency decrease significantly when installing the convex appendages in moonpool indicating the effectiveness of convex appendages on suppressing the fluid resonance in moonpool the variation of vortex shedding in the vicinity of moonpool is the major reason for the suppressing effect of convex appendages numerical simulations suggest that the convex appendages at the moonpool bottom or near the free surface can suppress the resonant wave more efficiently the vortex bubbles from the convex appendages at the moonpool bottom are able to create more energy dissipation than those in the middle of moonpool and near the free surface 2 based on the type of single convex appendages at the moonpool bottom the types of multiple convex appendages are considered for further suppressing the fluid resonance in moonpool the addition of convex appendages in multiple types is able to generate the new vortex bubbles which can decrease the resonant amplitude when heave amplitude is 4 5 mm however when the heave amplitude is 9 1 mm the additional appendages at the middle of moonpool wall could shrink the region of vortex bubbles from the bottom appendages correspondingly the increased resonant amplitude in moonpool can be obtained all of these results imply the complex effect of vortex shedding in the moonpool region on resonant behavior 3 the evolution of vertical force on the convex appendage around the resonant frequency shows the asymmetric and non sinusoidal characteristic harmonic analysis indicates that the influence of wave nonlinearity associated with the local velocity flow field around the appendage is the major reason of the phenomenon however there is no impulsive behavior in the time signal of vertical force implying the convex appendage would not suffer the impact loading during the resonant frequency the vertical force on each appendage in multiple types is always smaller than that on the appendage in single types indicating the types of multiple appendages can reduce the fluid force on the appendage finally it should be reaffirmed that the conclusion in this study is only valid for the given geometries including the dimensions of moonpool and convex appendages and the parameters of heave excitations acknowledgments this work is supported by the natural science foundation of china with grant no 51909027 and the fundamental research funds for the central universities with grant nos dut18lk09 and dut2017tb05 the first author gratefully acknowledges the supercomputer center of dalian university of technology for providing computing resources 
22367,the restricted waterway is usually regarded as the bottleneck of port transportation many factors influence the overall efficiency and safety of the waterways in this paper an attempt is undertaken to investigate how the parameters related to lng carriers general ships waterway dimensions and weather conditions affect the navigation risk and efficiency of restricted two way waterways three indices including one efficiency and two risk indicators are adopted as the objective functions to determine the correlations between the input and output factors a traffic simulation model is constructed which synthesizes the navigational rules the impact of lng carriers the interactions among ships the arrival characteristics of ships among others subsequently an elementary effect method based iterative procedure is developed to identify the influential and non influential factors numerous experiments are performed by integrating the simulation model with the iterative procedure the results reveal that the ships arrival rate mean and variance of ship speed and channel length are the most influential factors lng carriers speed and arrival rate have remarkable nonlinearities and or interactions with other factors these findings are valuable for the guidance of improving the efficiency and safety strategies implemented in restricted waterways keywords two way waterway lng carrier simulation model risk and efficiency evaluation sensitivity analysis 1 introduction waterway is one of indispensable components of the port waters and plays a vital role for the freight transportation wang et al 2017 however with the increase of transportation demand many waterways are becoming increasingly busy being the bottleneck of port development chai et al 2017 weng and shan 2015 this issue is more severe for the waterways with restricted navigable width or many sharp turns mavrakis and kontinakis 2008 j zhang et al 2017a on the one hand due to the considerable increase of traffic volumes the arriving ships may need to wait in queue before entering the waterways sacrificing a large degree of efficiency on the other hand the increased activities in the waterways may result in high traffic density and further increase the collision risk among ships therefore the safety and efficiency of ship operation in port waterways have been widely concerned by related departments e g maritime and port administrations in many restricted waterways liquefied natural gas lng carriers is one of the most important ship types that affects the safety and efficiency of other ships due to their high potential risks and special navigation requirements especially for the ship traffic in restricted two way waterways this is because two way traffic is usually suspended when lng carriers are passing through so as to ensure that there are no opposite ships encountering with lng carriers accordingly many ships have to wait before entering the waterways leading to the accumulation of the ships waiting in berths or anchorages in dealing with this issue some port waters like caofeidian and dalian ports have built special waterways for lng carriers to ensure their navigational safety as well as to avoid their impact on other ships however in most cases lng carriers and other types of ships have to share the same waterways since it is not economical or even unfeasible to construct a special waterway for lng carriers or enlarge the dimensions of the restricted two way waterways therefore many ports such as yangshan ningbo zhoushan and putian ports are still facing with such challenge as a result it is of practical significance to investigate the impact of lng carriers on the overall traffic which can help provide strategies for promoting the safety and efficiency to analyze the impact of some factors or parameters in a quantitative way sensitivity analysis sa is a useful tool due to its superiority in obtaining valuable information about the relationship between model inputs and outputs ge and menendez 2014 wu et al 2013 it mainly refers to the determination of the contributions of individual input parameters to the uncertainty of the outputs song et al 2015 and can serve several purposes including calibration validation model parameterization model simplification research prioritization model prediction and risk reduction among others saltelli et al 2008 therefore sa can be adopted to analyze the impact of the parameters related to lng carriers as well as other influential parameters on the ship traffic safety and efficiency the objective of this study is to identify the input parameters which have important effects on the ship traffic under the impact of lng carriers to obtain deep insights into each input factor the elementary effect ee method which is one of the most widely used sa methods is performed in terms of multi objective outputs obtained from the simulation model including one indicator for efficiency and two for risk the contributions of this paper are threefold 1 a simulation model considering the navigational rules the impact of lng carriers the interactions among ships the arrival characteristics of ships among others is constructed it can reflect the complexity and randomness of the ships navigation in port waterways and can be used to determine the correlations between the inputs and different objective function responses 2 an ee based iterative framework is developed to obtain reasonable and accurate sensitivity results but with relatively low computation cost 3 the effect of input parameters on safety and efficiency as well as their nonlinear and or interaction effects with other parameters are identified which can provide theoretical basis for the waterway management and ship traffic scheduling optimization the rest of the paper is organized as follows section 2 presents a literature review on the existing studies for lng carriers ship traffic simulation as well as sensitivity analysis related to traffic risk and efficiency section 3 introduces the traffic characteristics of waterways with lng carriers the chosen input factors and the risk and efficiency assessment indicators section 4 introduces the traffic simulation model and gives the details of the proposed ee based iterative procedural framework in section 5 experiments and results analysis are conducted to evaluate the impact of the input parameters on the navigation risk and efficiency conclusions and future studies are summarized in section 6 2 literature review much effort has been conducted on the operational risk assessment and maneuvering simulation of lng carriers for example nwaoha et al 2013 developed a new framework that combined a risk matrix approach and a fuzzy evidential reasoning fer method to investigate the risks of hazards of lng carrier operations and their fundamental causations abdussamie et al 2018 proposed a fuzzy set approach to investigate several hazardous scenarios that may potentially occur when maneuvering an lng carrier in open sea zhou et al 2017 constructed a modified fault tree model for analyzing the lng carrier spill risks with the purpose of qualitatively assessing the importance of potential factors causing lng spill accidents in addition chen et al 2018 proposed an experimental design methodology of the full mission simulator for lng carriers operating in port waters which aimed at providing preliminary adaptability analysis for the construction of an lng terminal as well as empirical operational guidance for local pilots and tug masters maimun et al 2013 presented a time domain simulation program that took into account the ship bank interaction effects fitting fins and enlarging rudder size to examine the maneuvering performance of a lng carrier in restricted waters the above literatures motivated a deeper understanding on the operational risks and maneuvering capability of lng carriers and provided important references for further studies nevertheless it is found that these studies mostly focused on the analysis of lng carriers navigational or operational risk while the impact of lng carriers occupying the restricted waterways on other ships has been seldom considered in quantitatively examining the impact of the influential factors on ship traffic simulation technology has been widely applied since it has the capability of handling the complex systems longo et al 2013 for example wang et al 2017 designed a complicated simulation model for the ships navigation operation in port waters to quantitatively assess how much each influencing factors can improve the waterway capacity qi et al 2017a constructed a cellular automata based ship traffic simulation model which incorporated an improved mapping rule and a dynamic ship domain model to study the correlation between ship length and traffic capacity yeo et al 2007 adopted a well established simulation program called awe sim to predict the potential traffic congestion at north harbor in busan in 2011 in terms of the average waiting time the number of average waiting ships and the probability of waiting and so on mavrakis and kontinakis 2008 presented a queueing model for ship traffic in bosporus straits which considered the characteristics of the waterway and the maritime regulations to explore how the traffic volumes affect the ships average waiting time and queue length longo et al 2013 developed a simulation model for recreating the complexity of a medium sized mediterranean seaport and identified the dominating factors for seaport performance in terms of ship turnaround time these research indicated that simulation models are effective to provide a quantitative assessment for waterway congestion and capacity traffic efficiency port performance among others compared with the ship traffic simulation the research on the sensitivity analysis of traffic risk and efficiency is scarce wang et al 2018 adopted screening method and response surface method to identify the important influencing factors on the traffic efficiency in restricted one way waterways however this study was conducted based on the local version of sa according to tian 2013 the global version of sa for input parameters can recognize much more insights comparing with the local version since its focus is placed on the effects of uncertain inputs over the whole input space rather than around a point or base case therefore the global method is considered to be more reliable although its computational cost is higher it should be pointed out that it is not enough to identify important influencing factors only by applying simulation model or the sa to deal with this problem this study combined the traffic simulation model and the global version of sa for one of the earliest attempts to identify how the parameters related to lng carriers as well as other influential parameters affect the safety and efficiency of ship traffic in restricted two way waterways the simulation model focuses on obtaining the risk and efficiency indicators with different combinations of the input parameters while the sa is used to determine the importance rankings of these factors as well as their nonlinearities and or interactions based on the simulation results the sensitivity results are expected to facilitate the authorities to choose appropriate navigational strategies for the ship traffic in restricted waterways 3 problem description 3 1 traffic characteristics of waterways with lng carriers lng carriers are characterized with high cost and high risks as a result some special navigation rules are formulated when they are entering or departing the port waters a lng carriers can pass through the port waterways only during daytime but with top priority over all other ships b a large safety zone around lng carriers is required where any other ships are prohibited to invade to ensure that lng carriers are not affected c tugboats and patrol boats are required to assist lng carriers in navigation and escort them respectively for the restricted two way waterways the opposite lane traffic should be cleared ahead of time to avoid encountering with lng carriers since the waterways are not wide enough and lng carriers require a larger lateral safe distance e g 500 1000 m with other ships fig 1 illustrates the interaction of lng carriers with other ships from entering to leaving the restricted two way waterway the process includes the following four stages a when lng carriers are about to enter the waterway the opposite lane traffic must be cleared meanwhile the same lane traffic are prohibited to enter the waterway to avoid collisions with lng carriers b when lng carriers have entered the waterway the same lane traffic can enter the waterway in a ship following way c when the lng carriers are passing through the waterway their preceding traffic in the same direction should not affect them until they are about to leave the waterway hence the same lane traffic should be prohibited for a longer time in advance if their speed is smaller than lng carriers d when lng carriers have left the waterway the opposite lane traffic can enter the waterway without being affected by lng carriers based on the above analysis the suspension duration for the same and opposite lane traffic caused by lng carriers can be expressed as follows 1 t b e f o r e o p p o s i t e l c h v m i n d l n g v l n g 2 t b e f o r e s a m e l c h v m i n l c h d l n g v l n g v m i n v l n g d l n g v l n g otherwise 3 t a f t e r o p p o s i t e l c h d l n g v l n g 4 t a f t e r s a m e d l n g v l n g where t b e f o r e o p p o s i t e t b e f o r e s a m e t a f t e r o p p o s i t e t a f t e r s a m e denote the duration that the same and the opposite lane traffic are prohibited from entering the waterway before and after lng carriers start to enter the waterway respectively l ch is the length of waterway v lng is the speed of lng carriers d lng is the length of long semi axis of the safety zone and v min is the minimum speed of general ships since the ships need to wait when the waterway is occupied by lng carriers the efficiencies decrease to some degree in addition after lng carriers have left the waterway many waiting ships would enter the waterway in a shorter time resulting in high traffic density and furthermore increasing collision risk 3 2 influencing factors on traffic efficiency and risk the safety and efficiency of ship traffic in restricted waterways are not only affected by lng carriers but also by other types of ships weather conditions waterway dimensions navigation rules etc therefore the discrete events related to the risk and efficiency of ships considered in the following simulation model are shown in fig 2 which includes the following four parts a lng carriers according to eqs 1 4 the speed of lng carriers and the size of safety zone affect the suspension duration for other ships caused by lng carriers the arrival rate of lng carriers also has impact on the overall suspension duration related to lng carriers b general ships the ship speed affects the total time for passing through the waterways which is also associated with the navigational safety of ships the ship length is usually associated with the safety distance between ships and affects the minimum time interval between consecutive ships the arrival rate of general ships affects the number of ships waiting in the queues during the period of lng carriers occupying the waterways in addition the difference in the number of ships arriving during the day and night should also be considered since lng carriers can pass the waterways only during daytime and the number of ships arriving during daytime is usually larger than during nighttime indicating that the number of ships affected by lng carriers is usually more apparent c weather condition weather condition is another major factor that should be considered to determine whether ships are allowed to enter the waterways hence the duration of waterways closed due to bad weather is involved in the simulations d waterway dimensions waterway dimensions usually consist of the channel length width and depth in this study the channel length is considered since it has significant impact on the total navigating time of lng carriers and other ships 3 3 risk and efficiency indicators in order to quantitatively evaluate the impact of the parameters related to lng carriers as well as other parameters some indicators should be proposed from risk and efficiency perspectives which can provide guidance for risk and efficiency assessment wang et al 2019 wu et al 2019 regarding to traffic efficiency indicators many researches mavrakis and kontinakis 2008 j zhang et al 2017a x zhang et al 2017b zhang et al 2016 adopted waiting time as the objective function to determine whether the efficiency of ship transportation is improved since it is effective and intuitive to understand however it should be mentioned that the increase of traffic density in restricted waterways may lead to the increase of the time passing through the waterways which will also sacrifice efficiency especially in long waterways therefore both the waiting time and the extra delays caused by deceleration are considered for efficiency assessment which are expressed as follows 5 e i t i m e i 1 n t i w a i t t i p a s s l c h v i i n i t i a l n s where t i wait denotes the waiting time of the i th ship t i pass denotes the required time passing through the waterway for the i th ship v i initial denotes the initial speed of the i th ship and n s is the number of ships l ch v i intial represents the time of the i th ship passing through the waterway with its initial speed accordingly t i pass l ch v i intial represents the extra delays caused by deceleration as mentioned above the density of ship traffic will increase after lng carriers have left the waterways resulting in the increase of risk hence a density related indicator for risk assessment is proposed which is expressed as follows 6 r i d e n s i t y i 1 n t i s a f e d i s n s where t i safedis denotes the sailing duration of the i th ship with the real time distance from its preceding ship less than their safety distance that is to say if the distance between the i th and its preceding ship at time t is less than d i safe t the time point will be counted in t i safedis a larger value of t i safedis indicates that the i th ship maintains a relatively small distance from its ship ahead for a longer period when passing through the waterway meaning the probability of collision accident occurrence is higher in addition compared with efficiency the risk can also be evaluated from other perspectives such as speed dispersion degree of acceleration and deceleration and the number of ship domain overlaps qu et al 2011 therefore the degree of acceleration and deceleration is adopted as another risk indicator which is expressed as follows 7 r i a d i 1 n j 1 j i a i j 2 n s where j i represents the number of acceleration and deceleration records of the i th ship the reason for selecting this indicator is that a higher degree of acceleration and deceleration reflects that the ships need to operate frequently to avoid collisions implying that scenarios with collision potentials occur frequently 4 methodology in this section the simulation model is constructed based on the traffic characteristics of the restricted waterways with lng carriers then the ee based iterative framework that can obtain reasonable and accurate sensitivity results but with relatively low computation cost is introduced to perform sensitivity analysis 4 1 traffic simulation model 4 1 1 model assumptions the ships operations in the port waterways is a complex process wang et al 2017 zhang et al 2016 many factors have impact on the ship traffic such as the number of berths the handling operation time in the berths the matching degree between the ship type and the berths the location constraints between berths the anchorage scales etc these factors are difficult to be considered since the layout of different ports varies greatly the present study mainly focuses on the ship traffic in restricted port waterways rather than the overall port operation systems therefore to make the simulation model flexible but not too complicated the assumptions are made as follows a the impact of berths and anchorages are not considered and all ships are assumed to be waiting at the entrance of the waterway before entering the channel b there are enough pilots tugboats and patrol boats in the ports to support large scaled ships including lng carriers c waterway is deep enough and navigation is not restricted by the tide d the traffic suspension due to accidents waterway occupation by large towing ships or other reasons are ignored 4 1 2 model establishment to construct the simulation model while considering the navigational rules the impact of lng carriers the interactions among ships and the ship arrival characteristics the basic logic procedure of traffic simulation is proposed as shown in fig 3 the procedure includes five steps step 1 determine the simulation duration t and channel length l ch step 2 generate the entities including general ships duration of waterway closed due to bad weather and lng carriers based on discrete event models step 3 determine the time that lng carriers enter the waterway as well as the suspension duration for general ships caused by lng carriers under the constraints of weather conditions navigation rules and daytime step 4 run the ship traffic under the constraints of weather conditions lng carriers and navigation rules step 5 obtain the simulation data for efficiency and risk evaluation 4 1 3 discrete event models as mentioned above the discrete event models are applied to generate the entities including general ships lng carriers and duration of waterway closed due to bad weather a general ships the distributions of ships arriving is assumed to be a nonstationary poisson process since it can reflect the traffic fluctuations during the day and night goerlandt and kujala 2011 according to the researches in coomber et al 2016 meng et al 2014 xiao et al 2015 the transit speed of ships varies significantly for different ship types and ship sizes in addition the study in xiao et al 2015 also pointed out that ships need to adjust their speed to avoid collisions with other ships when navigating in the waterways with limited width therefore a normal distribution is applied to generate each ship s speed the ship length is randomly generated by using a uniform distribution b lng carriers the generated lng carriers are randomly distributed in the simulation days in which the time that each lng carrier arrives at the port area is generated using a uniform distribution within the period that they are able to pass through the waterways during daytime noting that lng carriers usually depart the port area on the second day after occupying berths it is involved in the simulation model the time that lng carriers are departing the port is also generated by using a uniform distribution as described above to facilitate maritime authorities to estimate the suspension duration for general ships caused by lng carriers and further make a scheduling arrangement lng carriers usually maintain a constant speed to pass through the waterways besides compared with general ships the speed of lng carriers are not affected by other ships due to their special navigation requirements in the waterways therefore their speeds are set to a constant value in the simulation model the sizes of safety zone are also set to be constant values e g 1 2 nautical miles for the major semi axis and 0 25 0 5 nautical miles for the minor semi axis c weather conditions the duration of waterways closed due to severe weather are randomly distributed in the simulations and a discrete event is triggered every 4 h to determine whether the weather conditions enable the ships to enter the waterway in the next 4 h mavrakis and kontinakis 2008 4 1 4 ship running model in reality the time for lng carriers to enter the waterways should be specified in advance so that the suspension duration for other ships can be determined this can be done by considering the constraints including weather conditions and navigation rules after that the ship traffic for the general ships can be simulated table 1 presents the pseudo code on how to determine the time of lng carriers entering the waterway line 3 and 7 indicate that the time of lng carriers entering the waterway is affected by their arrival time or the time of applying to leave the port weather conditions daytime and navigation rules the expression t s l n l lt out d lng v lng 60 in line 3 represents that the latter arriving lng carrier has to wait until the former lng carrier has completely left the port area once the suspension duration for general ships caused by lng carriers has been determined the whole simulation procedure can be established table 2 presents the procedure of ships navigating in the restricted two way waterway the procedure mainly includes four parts waiting for the waterway entering the waterway navigating in the waterway and leaving the waterway in addition the ships enter the waterway based on the sequence of their arriving time meaning first come first serve fcfs is adopted during the process fcfs gives priority to equality and treats all ships equally which is one of the most commonly used rules in port waterways wang et al 2017 the ships navigating in the waterway is an important sub process that determines whether ships can pass through the waterway safely therefore the safety distance between ships and the update rules lines 3 4 in table 2 need to be determined appropriately to ensure safety as well as to reflect the interactions among ships as the ship traffic in restricted waterways is running based on ship following rules the safety distance and update rules mainly refer to the methodology in qi et al 2017a 2017b which include three aspects a safety distance safety distance refers to the distance that two consecutive ships in the same direction must maintain for collision avoidance in this study the safety distance is related to ship length and their real time speed as follows 8 d i s a f e t d i b t d i s a f e where d i safe t denotes the safety distance between the i th ship and its preceding ship d i b t denotes the braking distance of the i th ship at time t d i b t v i t δt in which v i t represents the ship speed at time t and δt is set to be 2 min and d i safe denotes the minimum distance which is set to be 6l i l i represents the length of the i th ship based on the navigational requirements in restricted port waterways x zhang et al 2017b zhang et al 2016 b deceleration if d i t d i safe t and v i t v i 1 t then v i t 1 max v i t 1 v i 1 t where d i t denotes the real time distance between the i th ship and its preceding ship and v i t 1 represents the i th ship decelerates by 1 knot min however once d i t is close to d i safe such update mechanism maybe not safe enough therefore if d i t d i safe v i t v i 1 t δt δt 1 min and v i t v i 1 t then v i t 1 v i 1 t c acceleration if d i t d i safe t and v i t min v i max v i 1 t then v i t 1 min v i t 1 v i max v i 1 t or if there are no ships in front of the i th ship and v i t v i max then v i t 1 min v i t 1 v i max where v i max denotes the expected speed of i th ship such operations reflect the behavior of ship captains and pilots seeking the optimum efficiency once the navigation conditions are satisfied 4 2 global sensitivity analysis method 4 2 1 the elementary effect method the ee method originally proposed by morris 1991 is a qualitative and stochastic sensitivity analysis approach for identifying the input parameters which have significant effects on the outputs in complex models since ee method needs much less computational cost and is simple to be performed compared with other global sa methods e g variance based method it has been widely used in numerous fields such as hydrological engineering zhan et al 2013 and environmental engineering jaxa rozen and kwakkel 2018 suppose a model has k independent parameters and each parameter varies across p selected levels then the space of the input factors is discretized into a k dimensional p level grid ω for an arbitrary point x x 1 x 2 x 3 x k in the grid ω the ee of the i th input factors is defined as 9 e e i y x 1 x i 1 x i δ x i 1 x k y x 1 x k δ where δ is the step size in 1 p 1 1 1 p 1 y x is the model response or output for x as ee is a sensitivity measurement at a local point the calculation of each input factor needs to be performed for many times e g r to obtain its global sensitivity measure the samples used for the ee calculations are generated by random sampling throughout the whole input space for any generated sample x only the i th parameter is changed by δ then based on this way r ees of the i th input factor can be obtained two sensitivity indexes si the mean μ and standard deviation σ of the ees are used for global sensitivity measures which are described below 10 μ i j 1 r e e i j r 11 σ i j 1 r e e i j u i 2 r 1 where ee i j is the ee relative to the i th input factor calculated by using the j th base sample point the μ i is applied to assess the overall effects of the i th input factor on the output a high value of μ i reflects that the i th input factor contributes significantly to the output uncertainty the σ i is used to estimate the ensemble of the inputs higher order effects such as nonlinearity and interactions with other input factors a large σ i represents that the ee of the i th input factor varies considerably implying that the value of ee is largely affected by the selected input values since some parameters may have both positive and negative effects using μ i alone will make the effects with opposite signs cancel out and obtain a low value even for an important factor generating type ii error identifying an important factor as insignificant therefore an improved global sensitivity measure is developed by campolongo et al 2007 which is expressed as 12 μ i j 1 r e e i j r the μ i can alone assess the factors importance without resulting in the issue that some effects offset each other while the μ i and σ i need to be taken into consideration simultaneously to avoid type ii error 4 2 2 the morris trajectory based sampling strategy according to eq 9 the calculation of one ee for one parameter requires two model runs if a model has k parameters and r ee calculations are required to obtain the global si of each parameter then there would be 2rk model runs to improve the computational efficiency a trajectory based sampling strategy was developed by morris 1991 which is one of the most commonly used sampling strategies each morris trajectory includes k 1 points and can perform k ee calculations one per parameter based on the adjoining points in the trajectory therefore only r k 1 model runs are required to obtain r ees for each parameter by randomly generating r trajectories in the input space fig 4 demonstrates a case of one morris trajectory for a 3 parameter model in which each dimension represents the range of values of an input parameter in the trajectory based sampling strategy the first step is to randomly select a start point in the input space then the second point is obtained by randomly increasing or decreasing one coordinate of the start point by δ the third point is generated based on the second point by changing another coordinate that is different with the previous one the above process will continue until k 1 points have been obtained more details about the procedure are presented in morris 1991 saltelli et al 2008 as the morris approach is a random sampling procedure the generated trajectories may overlap in a certain area of the input space resulting in a poor cover of the input space accordingly many trajectories may be required to find a stable and converging si increasing unnecessary calculations especially when the number of model input parameters is large to scan the input domain more efficiently without increasing the number of trajectories an improved sampling strategy was proposed by campolongo et al 2007 the idea is to select a subset of r e g r 10 trajectories with the highest spread as the optimized trajectories ot set from a high number of different morris trajectories based on a brute force approach the concept of spread is on the basis of the distance between trajectories the distance between two trajectories is defined as 13 d m l i 1 k 1 j 1 k 1 z 1 k x i m z x j l z 2 for m l 0 otherwise where k is the number of input factors and x i m z represents the zth coordinate of the ith point in the mth morris trajectory for a set with r trajectories the total distance of the r trajectories is defined as 14 d s r 1 2 m 1 r l 1 r d m l 2 to cover more points in the input space without increasing the number of trajectories the ot sampling is a more efficient and effective approach it can generate satisfactory global sensitivity measures while using fewer calculations however checking all possible trajectory combinations can also result in a high computational demand especially for models with large numbers of input factors as a result some alternative methods have been develop to obtain quasi optimized trajectories quasi ot in ge and menendez 2014 ruano et al 2012 although these methods can only obtain the optimized set with local maximum distance among them the combinatorial optimization problems of the ot sampling are resolved improving the sampling efficiency considerably in general 500 1000 m morris trajectories will be generated as the initial set for sampling however there is no specific criterion for the number of ot r selected for example some studies campolongo et al 2007 khare et al 2018 suggested that 10 20 ot are sufficient to determine reasonable sensitivity results while some other studies ruano et al 2012 zhan et al 2013 revealed that the value of r should be large enough e g 40 70 to ensure convergence of si especially when there are many nonlinear interactions among the model input parameters these viewpoints indicate that the value of r varies with different models and it relies on the model complexities to some extent for a given model sensitivity measures with a smaller r value may result in unstable and unreasonable results leading to type i error identifying an unimportant factor as significant as well as type ii error while adopting a larger r value may increase some unnecessary calculations and make the morris method unfeasible when the model has a high computational demand therefore a good choice of the value of r is critical both for the accuracy and efficiency of the sa however there are few studies about how to determine a proper value of r ruano et al 2012 proposed an iterative and automatic procedure to select a proper repetition number of the ee calculations of the morris method but by using a relative large number of model runs 4 2 3 new iterative procedural framework for morris method in this paper a new iterative procedural framework that combined a quasi optimized trajectories based elementary effects quasi otee method proposed in ge and menendez 2014 and an improved numerical index for si convergence evaluation is developed to perform global sensitivity analysis the advantage of the framework is that it can identify a proper value of r using the minimum number of model runs while ensuring a high spread of the morris trajectories in each step the framework procedure is performed by increasing one specific trajectory to the quasi ot set in each step and then calculate the corresponding global si the procedure is terminated once the results of si remain stable for continuous steps the details of the procedure are shown in fig 5 and described as follows 1 randomly generate m e g 500 1000 different morris trajectories in the input space r tra is denoted as the set storing the ordered trajectories and is initialized to an empty set 2 calculate the distance between all the paired trajectories using eq 13 and obtain the distance matrix as follows d s m 0 d 12 d 1 m d 21 0 d 2 m d m 1 d m 2 0 3 select the first trajectory from m trajectories which has the minimum total distance with the remaining m 1 trajectories and add it into r tra 4 select the second trajectory from the rest m 1 trajectories which has the minimum total distance with the remaining m 2 trajectories and add it into r tra 5 repeat the above process until all trajectories have been added to r tra and then reverse the trajectories in r tra so that the first r r 2 3 m trajectories in r tra have at least locally maximized distance among them 6 select the r th r 1 2 3 m trajectory in r tra and run the traffic simulations based on the k 1 points in the selected trajectory to obtain the objective function responses 7 calculate the ee of each parameter based on the objective function responses and then calculate the corresponding si of the first r ees of each parameter 8 repeat step 6 to 7 until the index pf r 1 r remain stable for continuous multi step e g 10 steps it should be noted that the index pf r 1 r in the above procedure is used to measure the convergence of sensitive results which is defined as 15 p f r 1 r i 1 k μ i r 1 μ i r μ i r p i r 1 p i r 2 where p i r represents the importance ranking of the i th parameter based on ee calculations of the first r trajectories in r tra μ i was used for ranking the parameters the index can reflect the distinctions of the si results of all parameters with different sampling sizes it not only considers the fluctuation of each parameter s si but also gives a varied weight for different inputs based on their rankings a low value means that most of factors especially the factors that have significant effects maintain relatively stable si values thus it was applied to identify the convergence and stability of the results the quasi otee method used in the framework eliminates one trajectory from the quasi optimal trajectory set in each step so it can obtain the quasi optimized sets with all different number of trajectories only by one loop in addition the obtained r quasi optimized trajectories only adds one new trajectory compared with the obtained r 1 quasi optimized trajectories therefore it is very suitable for step by step iteration to find an optimal value of r since it can utilize the ee results based on the smaller quasi optimized trajectory sets ahead and only r k 1 model runs are required to obtain the convergent results however other trajectory optimization methods do not have such advantage since the chosen r quasi optimized trajectories maybe different in terms of the r 1 quasi optimized trajectories resulting in more calculations to obtain the optimal value of r for example using the improved sampling strategy in ruano et al 2012 may require up to r r 5 k 1 10 model executions to find an optimal value of r r 5 10 15 in each step in the procedure although there is another trajectory sampling method that is also suitable for finding a proper repetition number of the ee calculations in iterative way the selected quasi optimal trajectories by this method have smaller dispersion or called the total distance the procedure of the method is similar to the greedy strategy the method is called the greedy strategy based sampling method below and is represented as follows first pick an arbitrary trajectory a 1 from the generated m trajectories then select a trajectory a 2 from the remaining m 1 trajectories whose distance with a 1 is the largest following this select a trajectory a 3 from the remaining m 2 trajectories whose total distance with a 1 and a 2 is the largest repeat this process until r trajectories are selected fig 6 presents an example of distance comparisons of the quasi optimal trajectories obtained by the above two methods the curves in the figure reflect the difference between the total distance of the quasi optimal trajectories obtained by the quasi otee method and by the greedy strategy based sampling method since the latter method can obtain different quasi optimized trajectory sets based on different starting trajectory a 1 five sets of quasi optimized trajectories obtained by the latter method are compared with the set obtained by the quasi otee method it can be found that for choosing the same number of quasi optimal trajectories from the same 1000 trajectories the quasi otee method can ensure a higher total distance the distance differences between the quasi otee method and the greedy strategy based sampling method are always positive therefore the greedy strategy based sampling method is not considered in the framework 5 experimental design and result analysis 5 1 parameter settings to identify the relationship between inputs and outputs the first step is to determine the ranges and distributions of each input parameter zhan et al 2013 so as to implement sa in combination with the simulation model according to section 2 2 a total of 10 input parameters are taken into account the values of these parameters in different simulations are taken from uniform distributions within the ranges presented in table 3 as the sensitivity indices of each parameter depend on their range of values to some extent shin et al 2013 wang et al 2013 the setting of the ranges of these parameters referred to the knowledge and experience of experts from ningbo and putian maritime safety administration when the simulation model is applied to a specific waterway for sa these ranges need to be adjusted based on the traffic characteristics in real cases the number of initial morris trajectories m used for selecting the quasi optimal trajectory sets is set to 1000 since a larger m could lead to a better scanning of the input space improving the reliability of sensitive results ge and menendez 2014 according to morris 1991 saltelli et al 2008 when the number of levels p is even and the step size δ is equal to p 2 p 1 the uniformity of generated parameter distributions can be guaranteed thus p is set to be 4 for each parameter and δ 2 3 in the following experiments in addition the traffic simulation model is performed for one year with a set of 5 identical replications for each sample and the means of the 5 outputs are used for sa to improve the stability of the simulation results as the simulations need to go through a warm up period in the initial stage the ships in the first 5 simulation days are not taken into account in the output analysis 5 2 results and analysis after all the above mentioned parameters have been assigned the proposed iterative procedure for morris method is applied to identify important input factors the increased number of quasi optimized trajectories r is selected from the original morris trajectories to calculate the si until the results remain stable for 10 consecutive steps the evolutionary process of the proposed index for different r is present in fig 7 a 35 ee calculations for each parameters are performed meaning that a total of 1195 simulations r k 1 n where r 35 k 10 and n 5 are required to obtain a stable and satisfactory result however if the iterative and automatic procedure proposed in ruano et al 2012 is applied to find a proper value of r up to 7700 simulations r r 5 k 1 n 10 may be required for this study it should be noted that the runs of the traffic simulation model have a relative high computational demand around 5 20 min for a 1 year simulation thus using the proposed iterative procedure greatly reduces the computation time in order to make a comparison with the proposed index the numerical index from ruano et al 2012 is also applied for si convergence evaluation which is given below 16 p f r 1 r r u a n o i 1 k p i r 1 p i r p i r 1 p i r 2 where p i r represents the importance ranking of the i th parameter based on the ee calculations of the r quasi optimized trajectories fig 7 b presents the curves of p f r 1 r r u a n o for different values of r it can be seen that if p f r 1 r r u a n o is used 35 ee calculations for each parameters are not sufficient to obtain stable results since the outputs related to the efficiency indicator have not converged yet this is because the rankings of some important inputs changed which results in a higher value of p f r 1 r r u a n o however whether a factor is identified as significant or not mainly relies on the values of their si e g μ rather than their rankings ge et al 2014 zhan et al 2013 moreover the ranking changes for several important factors does not indicate the values of their si have changed greatly therefore it may not be appropriate to evaluate the convergence of sensitive results only by considering the importance rankings since it may increase additional calculations or obtain a relatively small value of r but the results are not converging fig 8 illustrates the graphical morris screening measures for the optimal repetition number of ee calculations r 35 selected for the sensitivity evaluation where each point on the screening plots represents the μ μ and σ of one input factor for one output since an input factor with high μ or σ is expected to have significant impact on outputs the influential parameters can be distinguished by considering μ and σ simultaneously according to fig 8 a v ave l ch and λ ave are the most influential parameters for the output ei time followed by v σ λ lng and p wea the remaining parameters are relatively less influential with respect to the ee analysis for the outputs ri density and ri ad see fig 8 c and e the sets of significantly influential parameters are the same consisting of v ave l ch λ ave and v σ among the remaining 6 less influential parameters λ lng and p λ are relatively more sensitive to both ri density and ri ad to evaluate the nonlinearities and or interactions of the 10 parameters the two lines corresponding to μ 2sem 2σ sqrt r r is the sample size and is equal to 35 in this case are plotted in the μ σ spaces according to morris theory all parameters lying inside the wedge formed by these two lines can be considered to have strong nonlinearities and or interactions correspondingly no parameter has obvious non linear effects or interactions with other parameters based on the above criterion however it should be noted that the boundary lines in fig 8 a c and e are highly related to the sample size which would result in inconsistent classification when using different sample size e g r 4 100 in addition there are also other different criteria that are introduced based on specific demands campolongo et al 2007 khare et al 2018 for example khare et al 2018 proposed a criterion that parameters lying above the line u σ are involved in strong nonlinearities and or interactions if this criterion is adopted λ ave p l v ave v σ and λ lng for output ei time λ lng v σ p l and v lng for output ri density and v lng for output ri ad can be considered to be involved in strong nonlinearities and or interactions with other parameters see fig 8 b d and f for this study the second criterion is used to perform the analysis since 35 quasi optimized trajectories larger than 10 20 ot for some common models are required to obtain stable and satisfactory results it can be seen that λ lng has substantial nonlinear and or interaction effects on both ei time and ri density and v lng is involved in strong nonlinearities and or interactions for both ri density and ri ad these can be attributed to that the impact due to lng carrier occupying the channel on the ship traffic depends on a combination of several input factors such as λ lng v lng d lng λ ave p λ and l ch another interesting phenomenon from fig 8 is that both v ave and v lng are negative correlated with the outputs this is due to that higher values of v ave and or v lng indicate that the general ships and or lng carriers can pass through the waterway in a shorter time accordingly the frequency of interactions among general ships decreases and the duration that lng carriers occupy the channel also decreases however a larger ship speed usually means higher collision risks since it increases the difficulties for ships to react and response once the scenarios with collision potentials appear qu et al 2011 as the speed related risk indicator such as the absolute speed is mainly affected by the input v ave it is not taken into account for risk evaluation nevertheless this can be dealt with by exploring the relationship between ship speed and safety distance in restricted waterways to determine a reasonable dynamic ship domain model similar to the study in wang and chin 2016 and then embedding it into the simulation model to further investigate the relationship between ship speed and these risk related outputs in order to investigate the impact of each input factor on all outputs intuitively the bar chart of the normalized μ with respect to different function responses for all 10 parameters is presented in fig 9 as the importance of these factors depends on their relative differences the normalization is adopted so that the sensitivity results of different objective function responses can be compared in the same scale in ge et al 2014 40 of the maximum μ is selected as a threshold for classifying the important and non important parameters according to this v ave l ch λ ave v σ λ lng and p wea for objective function response ei time v ave l ch and λ ave for ri density and v ave l ch λ ave and v σ for ri ad can be regarded as important parameters in addition although the importance rankings for the different outputs are slightly different it is clear that the overall impact of these parameters on all the outputs can be divided into three levels in which λ ave v ave v σ and l ch are the most important parameters λ lng p λ and p wea are relatively important whereas the others are negligible according to the above analysis all parameters related to lng carriers are not considerably important two reasons can explain this first the number of lng carriers is relatively small and the ships affected by lng carriers also account for a small proportion second the parameters related to general ships such as v ave λ ave and v σ are applied to each ship while the parameters related to lng carriers only affect the duration of navigation suspension therefore the impact of the parameters related to general ships are more apparent however the efficiency and navigation risk of the ships that were affected by lng carriers have changed to a large degree even though the parameters related to lng carriers are not the most influential to verify this two examples of data statistics extracted from the simulations are presented below fig 10 a shows the output statistics for 500 consecutive ships in the same direction under the impact of lng carriers in which the rectangle area in the figure reveals the ships that have been waiting in the queue until lng carriers pass through the waterway the curves of ships in the rectangles are much higher indicating that the ships affected by lng carriers suffer a lot of delays and the navigation risk also increases in addition fig 10 b gives more detailed statistics related to efficiency and risk for 3 consecutive days it can be seen that the number of waiting ships grows rapidly during the period that lng carriers are about to enter the waterway and the period that they are passing the waterway after lng carriers have left the waterway the traffic density increases sharply and the average speed of ships decreases gradually since the high traffic density increases the interactions among ships and they need to slow down to ensure safety in summary the above two examples show that lng carriers do have a great impact on other ships during their arriving and departure which is in line with the real situation however since the number of lng carriers entering and leaving the waterways is relatively small throughout the year their impact has been weakened as a whole accordingly the parameters related to lng carriers are not significantly influential as those related to general ships 6 conclusions this paper makes an attempt to investigate the impact of the different variables on the risk and efficiency of ship traffic in restricted two way waterways 10 parameters that are related to lng carriers general ships waterway dimensions as well as weather conditions are considered as inputs and three indicators comprising efficiency ei time density related risk ri density and degree of acceleration and deceleration ri ad are adopted as the objective function responses to quantitatively examine the correlations between the input factors and the objective function responses a traffic simulation model that comprehensively involves the navigational rules the impact of lng carriers the interactions among ships the arrival characteristics of ships etc is constructed since sa is very useful in obtaining valuable information about the relationship between inputs and outputs an ee method based iterative procedure is developed to evaluate the importance of these input factors with a low computational cost the results indicate that λ ave v ave v σ and l ch are the most influential parameters followed by λ lng p λ and p wea the remaining parameters are relatively less influential to the outputs in other words more attentions should be paid to the parameters λ ave v ave v σ and l ch when making and evaluating new operational proposals for enhancing safety and efficiency in addition λ lng has substantial nonlinear and or interaction effects on both ei time and ri density and v lng has strong nonlinear and or interaction impact on both ri density and ri ad indicating that their impact is highly associated with their values as well as other parameters values in the future work more factors such as ship type and other environment factors will be added to the simulation model to make it more flexible in dealing with general ship scheduling problems in addition it is also meaningful to couple the meta modeling method and variance based method to analyze first order second order and total sensitivity indices of these factors acknowledgments the work of this paper was financially supported by the national natural science foundation of china grant no 51479157 national key technologies research development program 2017yfe0118000 the marie skłodowska curie grant agreement no 730888 reset and the fundamental research funds for the central universities under grant no wut 2019 yb 031 
22367,the restricted waterway is usually regarded as the bottleneck of port transportation many factors influence the overall efficiency and safety of the waterways in this paper an attempt is undertaken to investigate how the parameters related to lng carriers general ships waterway dimensions and weather conditions affect the navigation risk and efficiency of restricted two way waterways three indices including one efficiency and two risk indicators are adopted as the objective functions to determine the correlations between the input and output factors a traffic simulation model is constructed which synthesizes the navigational rules the impact of lng carriers the interactions among ships the arrival characteristics of ships among others subsequently an elementary effect method based iterative procedure is developed to identify the influential and non influential factors numerous experiments are performed by integrating the simulation model with the iterative procedure the results reveal that the ships arrival rate mean and variance of ship speed and channel length are the most influential factors lng carriers speed and arrival rate have remarkable nonlinearities and or interactions with other factors these findings are valuable for the guidance of improving the efficiency and safety strategies implemented in restricted waterways keywords two way waterway lng carrier simulation model risk and efficiency evaluation sensitivity analysis 1 introduction waterway is one of indispensable components of the port waters and plays a vital role for the freight transportation wang et al 2017 however with the increase of transportation demand many waterways are becoming increasingly busy being the bottleneck of port development chai et al 2017 weng and shan 2015 this issue is more severe for the waterways with restricted navigable width or many sharp turns mavrakis and kontinakis 2008 j zhang et al 2017a on the one hand due to the considerable increase of traffic volumes the arriving ships may need to wait in queue before entering the waterways sacrificing a large degree of efficiency on the other hand the increased activities in the waterways may result in high traffic density and further increase the collision risk among ships therefore the safety and efficiency of ship operation in port waterways have been widely concerned by related departments e g maritime and port administrations in many restricted waterways liquefied natural gas lng carriers is one of the most important ship types that affects the safety and efficiency of other ships due to their high potential risks and special navigation requirements especially for the ship traffic in restricted two way waterways this is because two way traffic is usually suspended when lng carriers are passing through so as to ensure that there are no opposite ships encountering with lng carriers accordingly many ships have to wait before entering the waterways leading to the accumulation of the ships waiting in berths or anchorages in dealing with this issue some port waters like caofeidian and dalian ports have built special waterways for lng carriers to ensure their navigational safety as well as to avoid their impact on other ships however in most cases lng carriers and other types of ships have to share the same waterways since it is not economical or even unfeasible to construct a special waterway for lng carriers or enlarge the dimensions of the restricted two way waterways therefore many ports such as yangshan ningbo zhoushan and putian ports are still facing with such challenge as a result it is of practical significance to investigate the impact of lng carriers on the overall traffic which can help provide strategies for promoting the safety and efficiency to analyze the impact of some factors or parameters in a quantitative way sensitivity analysis sa is a useful tool due to its superiority in obtaining valuable information about the relationship between model inputs and outputs ge and menendez 2014 wu et al 2013 it mainly refers to the determination of the contributions of individual input parameters to the uncertainty of the outputs song et al 2015 and can serve several purposes including calibration validation model parameterization model simplification research prioritization model prediction and risk reduction among others saltelli et al 2008 therefore sa can be adopted to analyze the impact of the parameters related to lng carriers as well as other influential parameters on the ship traffic safety and efficiency the objective of this study is to identify the input parameters which have important effects on the ship traffic under the impact of lng carriers to obtain deep insights into each input factor the elementary effect ee method which is one of the most widely used sa methods is performed in terms of multi objective outputs obtained from the simulation model including one indicator for efficiency and two for risk the contributions of this paper are threefold 1 a simulation model considering the navigational rules the impact of lng carriers the interactions among ships the arrival characteristics of ships among others is constructed it can reflect the complexity and randomness of the ships navigation in port waterways and can be used to determine the correlations between the inputs and different objective function responses 2 an ee based iterative framework is developed to obtain reasonable and accurate sensitivity results but with relatively low computation cost 3 the effect of input parameters on safety and efficiency as well as their nonlinear and or interaction effects with other parameters are identified which can provide theoretical basis for the waterway management and ship traffic scheduling optimization the rest of the paper is organized as follows section 2 presents a literature review on the existing studies for lng carriers ship traffic simulation as well as sensitivity analysis related to traffic risk and efficiency section 3 introduces the traffic characteristics of waterways with lng carriers the chosen input factors and the risk and efficiency assessment indicators section 4 introduces the traffic simulation model and gives the details of the proposed ee based iterative procedural framework in section 5 experiments and results analysis are conducted to evaluate the impact of the input parameters on the navigation risk and efficiency conclusions and future studies are summarized in section 6 2 literature review much effort has been conducted on the operational risk assessment and maneuvering simulation of lng carriers for example nwaoha et al 2013 developed a new framework that combined a risk matrix approach and a fuzzy evidential reasoning fer method to investigate the risks of hazards of lng carrier operations and their fundamental causations abdussamie et al 2018 proposed a fuzzy set approach to investigate several hazardous scenarios that may potentially occur when maneuvering an lng carrier in open sea zhou et al 2017 constructed a modified fault tree model for analyzing the lng carrier spill risks with the purpose of qualitatively assessing the importance of potential factors causing lng spill accidents in addition chen et al 2018 proposed an experimental design methodology of the full mission simulator for lng carriers operating in port waters which aimed at providing preliminary adaptability analysis for the construction of an lng terminal as well as empirical operational guidance for local pilots and tug masters maimun et al 2013 presented a time domain simulation program that took into account the ship bank interaction effects fitting fins and enlarging rudder size to examine the maneuvering performance of a lng carrier in restricted waters the above literatures motivated a deeper understanding on the operational risks and maneuvering capability of lng carriers and provided important references for further studies nevertheless it is found that these studies mostly focused on the analysis of lng carriers navigational or operational risk while the impact of lng carriers occupying the restricted waterways on other ships has been seldom considered in quantitatively examining the impact of the influential factors on ship traffic simulation technology has been widely applied since it has the capability of handling the complex systems longo et al 2013 for example wang et al 2017 designed a complicated simulation model for the ships navigation operation in port waters to quantitatively assess how much each influencing factors can improve the waterway capacity qi et al 2017a constructed a cellular automata based ship traffic simulation model which incorporated an improved mapping rule and a dynamic ship domain model to study the correlation between ship length and traffic capacity yeo et al 2007 adopted a well established simulation program called awe sim to predict the potential traffic congestion at north harbor in busan in 2011 in terms of the average waiting time the number of average waiting ships and the probability of waiting and so on mavrakis and kontinakis 2008 presented a queueing model for ship traffic in bosporus straits which considered the characteristics of the waterway and the maritime regulations to explore how the traffic volumes affect the ships average waiting time and queue length longo et al 2013 developed a simulation model for recreating the complexity of a medium sized mediterranean seaport and identified the dominating factors for seaport performance in terms of ship turnaround time these research indicated that simulation models are effective to provide a quantitative assessment for waterway congestion and capacity traffic efficiency port performance among others compared with the ship traffic simulation the research on the sensitivity analysis of traffic risk and efficiency is scarce wang et al 2018 adopted screening method and response surface method to identify the important influencing factors on the traffic efficiency in restricted one way waterways however this study was conducted based on the local version of sa according to tian 2013 the global version of sa for input parameters can recognize much more insights comparing with the local version since its focus is placed on the effects of uncertain inputs over the whole input space rather than around a point or base case therefore the global method is considered to be more reliable although its computational cost is higher it should be pointed out that it is not enough to identify important influencing factors only by applying simulation model or the sa to deal with this problem this study combined the traffic simulation model and the global version of sa for one of the earliest attempts to identify how the parameters related to lng carriers as well as other influential parameters affect the safety and efficiency of ship traffic in restricted two way waterways the simulation model focuses on obtaining the risk and efficiency indicators with different combinations of the input parameters while the sa is used to determine the importance rankings of these factors as well as their nonlinearities and or interactions based on the simulation results the sensitivity results are expected to facilitate the authorities to choose appropriate navigational strategies for the ship traffic in restricted waterways 3 problem description 3 1 traffic characteristics of waterways with lng carriers lng carriers are characterized with high cost and high risks as a result some special navigation rules are formulated when they are entering or departing the port waters a lng carriers can pass through the port waterways only during daytime but with top priority over all other ships b a large safety zone around lng carriers is required where any other ships are prohibited to invade to ensure that lng carriers are not affected c tugboats and patrol boats are required to assist lng carriers in navigation and escort them respectively for the restricted two way waterways the opposite lane traffic should be cleared ahead of time to avoid encountering with lng carriers since the waterways are not wide enough and lng carriers require a larger lateral safe distance e g 500 1000 m with other ships fig 1 illustrates the interaction of lng carriers with other ships from entering to leaving the restricted two way waterway the process includes the following four stages a when lng carriers are about to enter the waterway the opposite lane traffic must be cleared meanwhile the same lane traffic are prohibited to enter the waterway to avoid collisions with lng carriers b when lng carriers have entered the waterway the same lane traffic can enter the waterway in a ship following way c when the lng carriers are passing through the waterway their preceding traffic in the same direction should not affect them until they are about to leave the waterway hence the same lane traffic should be prohibited for a longer time in advance if their speed is smaller than lng carriers d when lng carriers have left the waterway the opposite lane traffic can enter the waterway without being affected by lng carriers based on the above analysis the suspension duration for the same and opposite lane traffic caused by lng carriers can be expressed as follows 1 t b e f o r e o p p o s i t e l c h v m i n d l n g v l n g 2 t b e f o r e s a m e l c h v m i n l c h d l n g v l n g v m i n v l n g d l n g v l n g otherwise 3 t a f t e r o p p o s i t e l c h d l n g v l n g 4 t a f t e r s a m e d l n g v l n g where t b e f o r e o p p o s i t e t b e f o r e s a m e t a f t e r o p p o s i t e t a f t e r s a m e denote the duration that the same and the opposite lane traffic are prohibited from entering the waterway before and after lng carriers start to enter the waterway respectively l ch is the length of waterway v lng is the speed of lng carriers d lng is the length of long semi axis of the safety zone and v min is the minimum speed of general ships since the ships need to wait when the waterway is occupied by lng carriers the efficiencies decrease to some degree in addition after lng carriers have left the waterway many waiting ships would enter the waterway in a shorter time resulting in high traffic density and furthermore increasing collision risk 3 2 influencing factors on traffic efficiency and risk the safety and efficiency of ship traffic in restricted waterways are not only affected by lng carriers but also by other types of ships weather conditions waterway dimensions navigation rules etc therefore the discrete events related to the risk and efficiency of ships considered in the following simulation model are shown in fig 2 which includes the following four parts a lng carriers according to eqs 1 4 the speed of lng carriers and the size of safety zone affect the suspension duration for other ships caused by lng carriers the arrival rate of lng carriers also has impact on the overall suspension duration related to lng carriers b general ships the ship speed affects the total time for passing through the waterways which is also associated with the navigational safety of ships the ship length is usually associated with the safety distance between ships and affects the minimum time interval between consecutive ships the arrival rate of general ships affects the number of ships waiting in the queues during the period of lng carriers occupying the waterways in addition the difference in the number of ships arriving during the day and night should also be considered since lng carriers can pass the waterways only during daytime and the number of ships arriving during daytime is usually larger than during nighttime indicating that the number of ships affected by lng carriers is usually more apparent c weather condition weather condition is another major factor that should be considered to determine whether ships are allowed to enter the waterways hence the duration of waterways closed due to bad weather is involved in the simulations d waterway dimensions waterway dimensions usually consist of the channel length width and depth in this study the channel length is considered since it has significant impact on the total navigating time of lng carriers and other ships 3 3 risk and efficiency indicators in order to quantitatively evaluate the impact of the parameters related to lng carriers as well as other parameters some indicators should be proposed from risk and efficiency perspectives which can provide guidance for risk and efficiency assessment wang et al 2019 wu et al 2019 regarding to traffic efficiency indicators many researches mavrakis and kontinakis 2008 j zhang et al 2017a x zhang et al 2017b zhang et al 2016 adopted waiting time as the objective function to determine whether the efficiency of ship transportation is improved since it is effective and intuitive to understand however it should be mentioned that the increase of traffic density in restricted waterways may lead to the increase of the time passing through the waterways which will also sacrifice efficiency especially in long waterways therefore both the waiting time and the extra delays caused by deceleration are considered for efficiency assessment which are expressed as follows 5 e i t i m e i 1 n t i w a i t t i p a s s l c h v i i n i t i a l n s where t i wait denotes the waiting time of the i th ship t i pass denotes the required time passing through the waterway for the i th ship v i initial denotes the initial speed of the i th ship and n s is the number of ships l ch v i intial represents the time of the i th ship passing through the waterway with its initial speed accordingly t i pass l ch v i intial represents the extra delays caused by deceleration as mentioned above the density of ship traffic will increase after lng carriers have left the waterways resulting in the increase of risk hence a density related indicator for risk assessment is proposed which is expressed as follows 6 r i d e n s i t y i 1 n t i s a f e d i s n s where t i safedis denotes the sailing duration of the i th ship with the real time distance from its preceding ship less than their safety distance that is to say if the distance between the i th and its preceding ship at time t is less than d i safe t the time point will be counted in t i safedis a larger value of t i safedis indicates that the i th ship maintains a relatively small distance from its ship ahead for a longer period when passing through the waterway meaning the probability of collision accident occurrence is higher in addition compared with efficiency the risk can also be evaluated from other perspectives such as speed dispersion degree of acceleration and deceleration and the number of ship domain overlaps qu et al 2011 therefore the degree of acceleration and deceleration is adopted as another risk indicator which is expressed as follows 7 r i a d i 1 n j 1 j i a i j 2 n s where j i represents the number of acceleration and deceleration records of the i th ship the reason for selecting this indicator is that a higher degree of acceleration and deceleration reflects that the ships need to operate frequently to avoid collisions implying that scenarios with collision potentials occur frequently 4 methodology in this section the simulation model is constructed based on the traffic characteristics of the restricted waterways with lng carriers then the ee based iterative framework that can obtain reasonable and accurate sensitivity results but with relatively low computation cost is introduced to perform sensitivity analysis 4 1 traffic simulation model 4 1 1 model assumptions the ships operations in the port waterways is a complex process wang et al 2017 zhang et al 2016 many factors have impact on the ship traffic such as the number of berths the handling operation time in the berths the matching degree between the ship type and the berths the location constraints between berths the anchorage scales etc these factors are difficult to be considered since the layout of different ports varies greatly the present study mainly focuses on the ship traffic in restricted port waterways rather than the overall port operation systems therefore to make the simulation model flexible but not too complicated the assumptions are made as follows a the impact of berths and anchorages are not considered and all ships are assumed to be waiting at the entrance of the waterway before entering the channel b there are enough pilots tugboats and patrol boats in the ports to support large scaled ships including lng carriers c waterway is deep enough and navigation is not restricted by the tide d the traffic suspension due to accidents waterway occupation by large towing ships or other reasons are ignored 4 1 2 model establishment to construct the simulation model while considering the navigational rules the impact of lng carriers the interactions among ships and the ship arrival characteristics the basic logic procedure of traffic simulation is proposed as shown in fig 3 the procedure includes five steps step 1 determine the simulation duration t and channel length l ch step 2 generate the entities including general ships duration of waterway closed due to bad weather and lng carriers based on discrete event models step 3 determine the time that lng carriers enter the waterway as well as the suspension duration for general ships caused by lng carriers under the constraints of weather conditions navigation rules and daytime step 4 run the ship traffic under the constraints of weather conditions lng carriers and navigation rules step 5 obtain the simulation data for efficiency and risk evaluation 4 1 3 discrete event models as mentioned above the discrete event models are applied to generate the entities including general ships lng carriers and duration of waterway closed due to bad weather a general ships the distributions of ships arriving is assumed to be a nonstationary poisson process since it can reflect the traffic fluctuations during the day and night goerlandt and kujala 2011 according to the researches in coomber et al 2016 meng et al 2014 xiao et al 2015 the transit speed of ships varies significantly for different ship types and ship sizes in addition the study in xiao et al 2015 also pointed out that ships need to adjust their speed to avoid collisions with other ships when navigating in the waterways with limited width therefore a normal distribution is applied to generate each ship s speed the ship length is randomly generated by using a uniform distribution b lng carriers the generated lng carriers are randomly distributed in the simulation days in which the time that each lng carrier arrives at the port area is generated using a uniform distribution within the period that they are able to pass through the waterways during daytime noting that lng carriers usually depart the port area on the second day after occupying berths it is involved in the simulation model the time that lng carriers are departing the port is also generated by using a uniform distribution as described above to facilitate maritime authorities to estimate the suspension duration for general ships caused by lng carriers and further make a scheduling arrangement lng carriers usually maintain a constant speed to pass through the waterways besides compared with general ships the speed of lng carriers are not affected by other ships due to their special navigation requirements in the waterways therefore their speeds are set to a constant value in the simulation model the sizes of safety zone are also set to be constant values e g 1 2 nautical miles for the major semi axis and 0 25 0 5 nautical miles for the minor semi axis c weather conditions the duration of waterways closed due to severe weather are randomly distributed in the simulations and a discrete event is triggered every 4 h to determine whether the weather conditions enable the ships to enter the waterway in the next 4 h mavrakis and kontinakis 2008 4 1 4 ship running model in reality the time for lng carriers to enter the waterways should be specified in advance so that the suspension duration for other ships can be determined this can be done by considering the constraints including weather conditions and navigation rules after that the ship traffic for the general ships can be simulated table 1 presents the pseudo code on how to determine the time of lng carriers entering the waterway line 3 and 7 indicate that the time of lng carriers entering the waterway is affected by their arrival time or the time of applying to leave the port weather conditions daytime and navigation rules the expression t s l n l lt out d lng v lng 60 in line 3 represents that the latter arriving lng carrier has to wait until the former lng carrier has completely left the port area once the suspension duration for general ships caused by lng carriers has been determined the whole simulation procedure can be established table 2 presents the procedure of ships navigating in the restricted two way waterway the procedure mainly includes four parts waiting for the waterway entering the waterway navigating in the waterway and leaving the waterway in addition the ships enter the waterway based on the sequence of their arriving time meaning first come first serve fcfs is adopted during the process fcfs gives priority to equality and treats all ships equally which is one of the most commonly used rules in port waterways wang et al 2017 the ships navigating in the waterway is an important sub process that determines whether ships can pass through the waterway safely therefore the safety distance between ships and the update rules lines 3 4 in table 2 need to be determined appropriately to ensure safety as well as to reflect the interactions among ships as the ship traffic in restricted waterways is running based on ship following rules the safety distance and update rules mainly refer to the methodology in qi et al 2017a 2017b which include three aspects a safety distance safety distance refers to the distance that two consecutive ships in the same direction must maintain for collision avoidance in this study the safety distance is related to ship length and their real time speed as follows 8 d i s a f e t d i b t d i s a f e where d i safe t denotes the safety distance between the i th ship and its preceding ship d i b t denotes the braking distance of the i th ship at time t d i b t v i t δt in which v i t represents the ship speed at time t and δt is set to be 2 min and d i safe denotes the minimum distance which is set to be 6l i l i represents the length of the i th ship based on the navigational requirements in restricted port waterways x zhang et al 2017b zhang et al 2016 b deceleration if d i t d i safe t and v i t v i 1 t then v i t 1 max v i t 1 v i 1 t where d i t denotes the real time distance between the i th ship and its preceding ship and v i t 1 represents the i th ship decelerates by 1 knot min however once d i t is close to d i safe such update mechanism maybe not safe enough therefore if d i t d i safe v i t v i 1 t δt δt 1 min and v i t v i 1 t then v i t 1 v i 1 t c acceleration if d i t d i safe t and v i t min v i max v i 1 t then v i t 1 min v i t 1 v i max v i 1 t or if there are no ships in front of the i th ship and v i t v i max then v i t 1 min v i t 1 v i max where v i max denotes the expected speed of i th ship such operations reflect the behavior of ship captains and pilots seeking the optimum efficiency once the navigation conditions are satisfied 4 2 global sensitivity analysis method 4 2 1 the elementary effect method the ee method originally proposed by morris 1991 is a qualitative and stochastic sensitivity analysis approach for identifying the input parameters which have significant effects on the outputs in complex models since ee method needs much less computational cost and is simple to be performed compared with other global sa methods e g variance based method it has been widely used in numerous fields such as hydrological engineering zhan et al 2013 and environmental engineering jaxa rozen and kwakkel 2018 suppose a model has k independent parameters and each parameter varies across p selected levels then the space of the input factors is discretized into a k dimensional p level grid ω for an arbitrary point x x 1 x 2 x 3 x k in the grid ω the ee of the i th input factors is defined as 9 e e i y x 1 x i 1 x i δ x i 1 x k y x 1 x k δ where δ is the step size in 1 p 1 1 1 p 1 y x is the model response or output for x as ee is a sensitivity measurement at a local point the calculation of each input factor needs to be performed for many times e g r to obtain its global sensitivity measure the samples used for the ee calculations are generated by random sampling throughout the whole input space for any generated sample x only the i th parameter is changed by δ then based on this way r ees of the i th input factor can be obtained two sensitivity indexes si the mean μ and standard deviation σ of the ees are used for global sensitivity measures which are described below 10 μ i j 1 r e e i j r 11 σ i j 1 r e e i j u i 2 r 1 where ee i j is the ee relative to the i th input factor calculated by using the j th base sample point the μ i is applied to assess the overall effects of the i th input factor on the output a high value of μ i reflects that the i th input factor contributes significantly to the output uncertainty the σ i is used to estimate the ensemble of the inputs higher order effects such as nonlinearity and interactions with other input factors a large σ i represents that the ee of the i th input factor varies considerably implying that the value of ee is largely affected by the selected input values since some parameters may have both positive and negative effects using μ i alone will make the effects with opposite signs cancel out and obtain a low value even for an important factor generating type ii error identifying an important factor as insignificant therefore an improved global sensitivity measure is developed by campolongo et al 2007 which is expressed as 12 μ i j 1 r e e i j r the μ i can alone assess the factors importance without resulting in the issue that some effects offset each other while the μ i and σ i need to be taken into consideration simultaneously to avoid type ii error 4 2 2 the morris trajectory based sampling strategy according to eq 9 the calculation of one ee for one parameter requires two model runs if a model has k parameters and r ee calculations are required to obtain the global si of each parameter then there would be 2rk model runs to improve the computational efficiency a trajectory based sampling strategy was developed by morris 1991 which is one of the most commonly used sampling strategies each morris trajectory includes k 1 points and can perform k ee calculations one per parameter based on the adjoining points in the trajectory therefore only r k 1 model runs are required to obtain r ees for each parameter by randomly generating r trajectories in the input space fig 4 demonstrates a case of one morris trajectory for a 3 parameter model in which each dimension represents the range of values of an input parameter in the trajectory based sampling strategy the first step is to randomly select a start point in the input space then the second point is obtained by randomly increasing or decreasing one coordinate of the start point by δ the third point is generated based on the second point by changing another coordinate that is different with the previous one the above process will continue until k 1 points have been obtained more details about the procedure are presented in morris 1991 saltelli et al 2008 as the morris approach is a random sampling procedure the generated trajectories may overlap in a certain area of the input space resulting in a poor cover of the input space accordingly many trajectories may be required to find a stable and converging si increasing unnecessary calculations especially when the number of model input parameters is large to scan the input domain more efficiently without increasing the number of trajectories an improved sampling strategy was proposed by campolongo et al 2007 the idea is to select a subset of r e g r 10 trajectories with the highest spread as the optimized trajectories ot set from a high number of different morris trajectories based on a brute force approach the concept of spread is on the basis of the distance between trajectories the distance between two trajectories is defined as 13 d m l i 1 k 1 j 1 k 1 z 1 k x i m z x j l z 2 for m l 0 otherwise where k is the number of input factors and x i m z represents the zth coordinate of the ith point in the mth morris trajectory for a set with r trajectories the total distance of the r trajectories is defined as 14 d s r 1 2 m 1 r l 1 r d m l 2 to cover more points in the input space without increasing the number of trajectories the ot sampling is a more efficient and effective approach it can generate satisfactory global sensitivity measures while using fewer calculations however checking all possible trajectory combinations can also result in a high computational demand especially for models with large numbers of input factors as a result some alternative methods have been develop to obtain quasi optimized trajectories quasi ot in ge and menendez 2014 ruano et al 2012 although these methods can only obtain the optimized set with local maximum distance among them the combinatorial optimization problems of the ot sampling are resolved improving the sampling efficiency considerably in general 500 1000 m morris trajectories will be generated as the initial set for sampling however there is no specific criterion for the number of ot r selected for example some studies campolongo et al 2007 khare et al 2018 suggested that 10 20 ot are sufficient to determine reasonable sensitivity results while some other studies ruano et al 2012 zhan et al 2013 revealed that the value of r should be large enough e g 40 70 to ensure convergence of si especially when there are many nonlinear interactions among the model input parameters these viewpoints indicate that the value of r varies with different models and it relies on the model complexities to some extent for a given model sensitivity measures with a smaller r value may result in unstable and unreasonable results leading to type i error identifying an unimportant factor as significant as well as type ii error while adopting a larger r value may increase some unnecessary calculations and make the morris method unfeasible when the model has a high computational demand therefore a good choice of the value of r is critical both for the accuracy and efficiency of the sa however there are few studies about how to determine a proper value of r ruano et al 2012 proposed an iterative and automatic procedure to select a proper repetition number of the ee calculations of the morris method but by using a relative large number of model runs 4 2 3 new iterative procedural framework for morris method in this paper a new iterative procedural framework that combined a quasi optimized trajectories based elementary effects quasi otee method proposed in ge and menendez 2014 and an improved numerical index for si convergence evaluation is developed to perform global sensitivity analysis the advantage of the framework is that it can identify a proper value of r using the minimum number of model runs while ensuring a high spread of the morris trajectories in each step the framework procedure is performed by increasing one specific trajectory to the quasi ot set in each step and then calculate the corresponding global si the procedure is terminated once the results of si remain stable for continuous steps the details of the procedure are shown in fig 5 and described as follows 1 randomly generate m e g 500 1000 different morris trajectories in the input space r tra is denoted as the set storing the ordered trajectories and is initialized to an empty set 2 calculate the distance between all the paired trajectories using eq 13 and obtain the distance matrix as follows d s m 0 d 12 d 1 m d 21 0 d 2 m d m 1 d m 2 0 3 select the first trajectory from m trajectories which has the minimum total distance with the remaining m 1 trajectories and add it into r tra 4 select the second trajectory from the rest m 1 trajectories which has the minimum total distance with the remaining m 2 trajectories and add it into r tra 5 repeat the above process until all trajectories have been added to r tra and then reverse the trajectories in r tra so that the first r r 2 3 m trajectories in r tra have at least locally maximized distance among them 6 select the r th r 1 2 3 m trajectory in r tra and run the traffic simulations based on the k 1 points in the selected trajectory to obtain the objective function responses 7 calculate the ee of each parameter based on the objective function responses and then calculate the corresponding si of the first r ees of each parameter 8 repeat step 6 to 7 until the index pf r 1 r remain stable for continuous multi step e g 10 steps it should be noted that the index pf r 1 r in the above procedure is used to measure the convergence of sensitive results which is defined as 15 p f r 1 r i 1 k μ i r 1 μ i r μ i r p i r 1 p i r 2 where p i r represents the importance ranking of the i th parameter based on ee calculations of the first r trajectories in r tra μ i was used for ranking the parameters the index can reflect the distinctions of the si results of all parameters with different sampling sizes it not only considers the fluctuation of each parameter s si but also gives a varied weight for different inputs based on their rankings a low value means that most of factors especially the factors that have significant effects maintain relatively stable si values thus it was applied to identify the convergence and stability of the results the quasi otee method used in the framework eliminates one trajectory from the quasi optimal trajectory set in each step so it can obtain the quasi optimized sets with all different number of trajectories only by one loop in addition the obtained r quasi optimized trajectories only adds one new trajectory compared with the obtained r 1 quasi optimized trajectories therefore it is very suitable for step by step iteration to find an optimal value of r since it can utilize the ee results based on the smaller quasi optimized trajectory sets ahead and only r k 1 model runs are required to obtain the convergent results however other trajectory optimization methods do not have such advantage since the chosen r quasi optimized trajectories maybe different in terms of the r 1 quasi optimized trajectories resulting in more calculations to obtain the optimal value of r for example using the improved sampling strategy in ruano et al 2012 may require up to r r 5 k 1 10 model executions to find an optimal value of r r 5 10 15 in each step in the procedure although there is another trajectory sampling method that is also suitable for finding a proper repetition number of the ee calculations in iterative way the selected quasi optimal trajectories by this method have smaller dispersion or called the total distance the procedure of the method is similar to the greedy strategy the method is called the greedy strategy based sampling method below and is represented as follows first pick an arbitrary trajectory a 1 from the generated m trajectories then select a trajectory a 2 from the remaining m 1 trajectories whose distance with a 1 is the largest following this select a trajectory a 3 from the remaining m 2 trajectories whose total distance with a 1 and a 2 is the largest repeat this process until r trajectories are selected fig 6 presents an example of distance comparisons of the quasi optimal trajectories obtained by the above two methods the curves in the figure reflect the difference between the total distance of the quasi optimal trajectories obtained by the quasi otee method and by the greedy strategy based sampling method since the latter method can obtain different quasi optimized trajectory sets based on different starting trajectory a 1 five sets of quasi optimized trajectories obtained by the latter method are compared with the set obtained by the quasi otee method it can be found that for choosing the same number of quasi optimal trajectories from the same 1000 trajectories the quasi otee method can ensure a higher total distance the distance differences between the quasi otee method and the greedy strategy based sampling method are always positive therefore the greedy strategy based sampling method is not considered in the framework 5 experimental design and result analysis 5 1 parameter settings to identify the relationship between inputs and outputs the first step is to determine the ranges and distributions of each input parameter zhan et al 2013 so as to implement sa in combination with the simulation model according to section 2 2 a total of 10 input parameters are taken into account the values of these parameters in different simulations are taken from uniform distributions within the ranges presented in table 3 as the sensitivity indices of each parameter depend on their range of values to some extent shin et al 2013 wang et al 2013 the setting of the ranges of these parameters referred to the knowledge and experience of experts from ningbo and putian maritime safety administration when the simulation model is applied to a specific waterway for sa these ranges need to be adjusted based on the traffic characteristics in real cases the number of initial morris trajectories m used for selecting the quasi optimal trajectory sets is set to 1000 since a larger m could lead to a better scanning of the input space improving the reliability of sensitive results ge and menendez 2014 according to morris 1991 saltelli et al 2008 when the number of levels p is even and the step size δ is equal to p 2 p 1 the uniformity of generated parameter distributions can be guaranteed thus p is set to be 4 for each parameter and δ 2 3 in the following experiments in addition the traffic simulation model is performed for one year with a set of 5 identical replications for each sample and the means of the 5 outputs are used for sa to improve the stability of the simulation results as the simulations need to go through a warm up period in the initial stage the ships in the first 5 simulation days are not taken into account in the output analysis 5 2 results and analysis after all the above mentioned parameters have been assigned the proposed iterative procedure for morris method is applied to identify important input factors the increased number of quasi optimized trajectories r is selected from the original morris trajectories to calculate the si until the results remain stable for 10 consecutive steps the evolutionary process of the proposed index for different r is present in fig 7 a 35 ee calculations for each parameters are performed meaning that a total of 1195 simulations r k 1 n where r 35 k 10 and n 5 are required to obtain a stable and satisfactory result however if the iterative and automatic procedure proposed in ruano et al 2012 is applied to find a proper value of r up to 7700 simulations r r 5 k 1 n 10 may be required for this study it should be noted that the runs of the traffic simulation model have a relative high computational demand around 5 20 min for a 1 year simulation thus using the proposed iterative procedure greatly reduces the computation time in order to make a comparison with the proposed index the numerical index from ruano et al 2012 is also applied for si convergence evaluation which is given below 16 p f r 1 r r u a n o i 1 k p i r 1 p i r p i r 1 p i r 2 where p i r represents the importance ranking of the i th parameter based on the ee calculations of the r quasi optimized trajectories fig 7 b presents the curves of p f r 1 r r u a n o for different values of r it can be seen that if p f r 1 r r u a n o is used 35 ee calculations for each parameters are not sufficient to obtain stable results since the outputs related to the efficiency indicator have not converged yet this is because the rankings of some important inputs changed which results in a higher value of p f r 1 r r u a n o however whether a factor is identified as significant or not mainly relies on the values of their si e g μ rather than their rankings ge et al 2014 zhan et al 2013 moreover the ranking changes for several important factors does not indicate the values of their si have changed greatly therefore it may not be appropriate to evaluate the convergence of sensitive results only by considering the importance rankings since it may increase additional calculations or obtain a relatively small value of r but the results are not converging fig 8 illustrates the graphical morris screening measures for the optimal repetition number of ee calculations r 35 selected for the sensitivity evaluation where each point on the screening plots represents the μ μ and σ of one input factor for one output since an input factor with high μ or σ is expected to have significant impact on outputs the influential parameters can be distinguished by considering μ and σ simultaneously according to fig 8 a v ave l ch and λ ave are the most influential parameters for the output ei time followed by v σ λ lng and p wea the remaining parameters are relatively less influential with respect to the ee analysis for the outputs ri density and ri ad see fig 8 c and e the sets of significantly influential parameters are the same consisting of v ave l ch λ ave and v σ among the remaining 6 less influential parameters λ lng and p λ are relatively more sensitive to both ri density and ri ad to evaluate the nonlinearities and or interactions of the 10 parameters the two lines corresponding to μ 2sem 2σ sqrt r r is the sample size and is equal to 35 in this case are plotted in the μ σ spaces according to morris theory all parameters lying inside the wedge formed by these two lines can be considered to have strong nonlinearities and or interactions correspondingly no parameter has obvious non linear effects or interactions with other parameters based on the above criterion however it should be noted that the boundary lines in fig 8 a c and e are highly related to the sample size which would result in inconsistent classification when using different sample size e g r 4 100 in addition there are also other different criteria that are introduced based on specific demands campolongo et al 2007 khare et al 2018 for example khare et al 2018 proposed a criterion that parameters lying above the line u σ are involved in strong nonlinearities and or interactions if this criterion is adopted λ ave p l v ave v σ and λ lng for output ei time λ lng v σ p l and v lng for output ri density and v lng for output ri ad can be considered to be involved in strong nonlinearities and or interactions with other parameters see fig 8 b d and f for this study the second criterion is used to perform the analysis since 35 quasi optimized trajectories larger than 10 20 ot for some common models are required to obtain stable and satisfactory results it can be seen that λ lng has substantial nonlinear and or interaction effects on both ei time and ri density and v lng is involved in strong nonlinearities and or interactions for both ri density and ri ad these can be attributed to that the impact due to lng carrier occupying the channel on the ship traffic depends on a combination of several input factors such as λ lng v lng d lng λ ave p λ and l ch another interesting phenomenon from fig 8 is that both v ave and v lng are negative correlated with the outputs this is due to that higher values of v ave and or v lng indicate that the general ships and or lng carriers can pass through the waterway in a shorter time accordingly the frequency of interactions among general ships decreases and the duration that lng carriers occupy the channel also decreases however a larger ship speed usually means higher collision risks since it increases the difficulties for ships to react and response once the scenarios with collision potentials appear qu et al 2011 as the speed related risk indicator such as the absolute speed is mainly affected by the input v ave it is not taken into account for risk evaluation nevertheless this can be dealt with by exploring the relationship between ship speed and safety distance in restricted waterways to determine a reasonable dynamic ship domain model similar to the study in wang and chin 2016 and then embedding it into the simulation model to further investigate the relationship between ship speed and these risk related outputs in order to investigate the impact of each input factor on all outputs intuitively the bar chart of the normalized μ with respect to different function responses for all 10 parameters is presented in fig 9 as the importance of these factors depends on their relative differences the normalization is adopted so that the sensitivity results of different objective function responses can be compared in the same scale in ge et al 2014 40 of the maximum μ is selected as a threshold for classifying the important and non important parameters according to this v ave l ch λ ave v σ λ lng and p wea for objective function response ei time v ave l ch and λ ave for ri density and v ave l ch λ ave and v σ for ri ad can be regarded as important parameters in addition although the importance rankings for the different outputs are slightly different it is clear that the overall impact of these parameters on all the outputs can be divided into three levels in which λ ave v ave v σ and l ch are the most important parameters λ lng p λ and p wea are relatively important whereas the others are negligible according to the above analysis all parameters related to lng carriers are not considerably important two reasons can explain this first the number of lng carriers is relatively small and the ships affected by lng carriers also account for a small proportion second the parameters related to general ships such as v ave λ ave and v σ are applied to each ship while the parameters related to lng carriers only affect the duration of navigation suspension therefore the impact of the parameters related to general ships are more apparent however the efficiency and navigation risk of the ships that were affected by lng carriers have changed to a large degree even though the parameters related to lng carriers are not the most influential to verify this two examples of data statistics extracted from the simulations are presented below fig 10 a shows the output statistics for 500 consecutive ships in the same direction under the impact of lng carriers in which the rectangle area in the figure reveals the ships that have been waiting in the queue until lng carriers pass through the waterway the curves of ships in the rectangles are much higher indicating that the ships affected by lng carriers suffer a lot of delays and the navigation risk also increases in addition fig 10 b gives more detailed statistics related to efficiency and risk for 3 consecutive days it can be seen that the number of waiting ships grows rapidly during the period that lng carriers are about to enter the waterway and the period that they are passing the waterway after lng carriers have left the waterway the traffic density increases sharply and the average speed of ships decreases gradually since the high traffic density increases the interactions among ships and they need to slow down to ensure safety in summary the above two examples show that lng carriers do have a great impact on other ships during their arriving and departure which is in line with the real situation however since the number of lng carriers entering and leaving the waterways is relatively small throughout the year their impact has been weakened as a whole accordingly the parameters related to lng carriers are not significantly influential as those related to general ships 6 conclusions this paper makes an attempt to investigate the impact of the different variables on the risk and efficiency of ship traffic in restricted two way waterways 10 parameters that are related to lng carriers general ships waterway dimensions as well as weather conditions are considered as inputs and three indicators comprising efficiency ei time density related risk ri density and degree of acceleration and deceleration ri ad are adopted as the objective function responses to quantitatively examine the correlations between the input factors and the objective function responses a traffic simulation model that comprehensively involves the navigational rules the impact of lng carriers the interactions among ships the arrival characteristics of ships etc is constructed since sa is very useful in obtaining valuable information about the relationship between inputs and outputs an ee method based iterative procedure is developed to evaluate the importance of these input factors with a low computational cost the results indicate that λ ave v ave v σ and l ch are the most influential parameters followed by λ lng p λ and p wea the remaining parameters are relatively less influential to the outputs in other words more attentions should be paid to the parameters λ ave v ave v σ and l ch when making and evaluating new operational proposals for enhancing safety and efficiency in addition λ lng has substantial nonlinear and or interaction effects on both ei time and ri density and v lng has strong nonlinear and or interaction impact on both ri density and ri ad indicating that their impact is highly associated with their values as well as other parameters values in the future work more factors such as ship type and other environment factors will be added to the simulation model to make it more flexible in dealing with general ship scheduling problems in addition it is also meaningful to couple the meta modeling method and variance based method to analyze first order second order and total sensitivity indices of these factors acknowledgments the work of this paper was financially supported by the national natural science foundation of china grant no 51479157 national key technologies research development program 2017yfe0118000 the marie skłodowska curie grant agreement no 730888 reset and the fundamental research funds for the central universities under grant no wut 2019 yb 031 
22368,for the localization of coating damages of naval vessels numerical simulation using the fem software comsol multiphysics were carried out to calculate the corresponding underwater electric potential uep signature therefore we defined said damages at random hull surface positions and used the information provided by the impressed current cathodic protection iccp system more exactly the cathodic current itself and the calculated uep signatures as input parameters to train an artificial neural network ann for predicting the coating damage location with this deep learning approach more than 90 of all coating damages are predicted correctly considering a generic ship model with 50 m length whose hull is divided into 12 different sectors even the mere use of iccp currents as highly aggregated input parameters for the ann lead to a satisfactory prediction rate over 80 within the predefined sectors thus providing quite accurate results using minimal amount of data keywords cathodic protection artificial neural network machine learning iccp uep sacp 1 introduction due to electric and magnetic signatures naval vessels passively communicate with their surrounding environment the electric signature which will be emphasized in this work is mainly generated by a corrosion process that occurs when two different metallic materials are connected galvanically the material with a lower equilibrium potential or less negative equilibrium potential 1 1 in case both materials have a negative equilibrium potential acts as the anode and the material with a higher equilibrium potential acts as the cathode in the naval context the seawater acts as the electrolyte thus allowing a current flow through the seawater from anode to cathode and hence anodic currents from the vessel s hull to the propellers will occur to prevent corrosion processes on the hull active and passive corrosion protection systems can be installed on the vessel to ensure a protective state of the hull in this paper we use a combination of a protective coating passive and the impressed current cathodic protection iccp system that actively impresses cathodic currents to enforce the hull in the cathodic regime furthermore monitoring the hull potential using reference electrodes at specific locations allows the iccp system to be adjusted to ensure a protective potential over the hull however if coating damages occur higher iccp currents need to be impressed to further keep the vessel in a protective state which simultaneously leads to stronger electric signatures the electric signatures are known as underwater electric potential uep signatures cf fig 1 that may lead to a possible detection of the vessel therefore the localization of said coating damages is vital and a simulation scenario of uep signatures using real polarization data in combination with coating damages is presented and furthermore an iterative adjustment of the iccp currents to maintain a protective state of the naval vessel is shown the iterative adjustment process has already been published as a preliminary work in thiel et al 2018 finally the information of the iccp system and uep signatures are extracted from the simulation as input parameters to train an artificial neural network ann which than predicts the specific location of coating damages on the vessel s hull 2 numerical simulations 2 1 generic ship model for the numerical analysis of the uep signature the fem simulation platform comsol multiphysics comsol multiphysics 2019a is used and therefore a modified generic ship model has been implemented as depicted in fig 2 here the ship model has a length of 50 m a width around 8 m and a height the part which is underwater of approximately 4 5 m the ship model is positioned within a virtual block of 100 m length 40 m width and 30 m height representing the surrounding water and to simulate an open water condition the infinite element boundary condition for the outer domains with a layer thickness of 5 m are defined for the simulation setup 4 circular iccp anodes to actively impress anodic current with a radius for each anode of 15 cm and a circular dielectric shielding 2 2 dielectric shielding is used to prevent overprotection in the vicinity of the iccp anodes with a radius of 75 cm are introduced additionally several anodes which represent the sacrificial anode cathodic protection sacp system with a radius of 10 cm are used to generate a more homogeneous protection potential distribution over the hull finally for the computational process the direct solver pardiso with a relative tolerance of 0 001 was chosen due to its fast computational times to solve a number of degrees of freedom of approximately 450 000 to ensure a high mesh quality the minimum and maximum values of the mesh element sizes of the ship model are set to 2 cm and 10 cm respectively 2 2 reference scenario to consider the electrochemical reaction described in section 1 realistic polarization curve data are applied as boundary conditions as presented in fig 3 for the ship s hull the polarization curve of steel carson and orazem 1999 is used whereas for the propellers the polarization curve of nickel aluminum bronze nab hack 1995 is applied furthermore all shown simulations are computed with a defined electrical conductivity of seawater of σ w 2 8 s m in open water condition to include a slightly aged hull coating of the ship model a small percentage of the current density in the polarization curve is taken into account in all analyzed cases 5 of the magnitude of the current density for the polarization curve of steel in applied which is an approximation to account for the higher polarization resistance at the hull water interface and hence weaker corrosion currents when a hull coating is applied to the ship furthermore this approximation shall represent a homogeneous coating damage of 5 for the total hull for the propellers a 10 homogeneous damage is chosen for the port side and 15 damage for the starboard side 3 3 the different percentages shall account for the deviations in the manufacturing process of the propellers the sacp system is implemented using the polarization curve of grade zinc hack 1995 anon 1983 and for each sacp anode a value of 100 is applied to neglect any passivization effect of the system to detect new coating damages on the hull a reference scenario needs to be simulated in which the ship is fully protected as shown in fig 4 the impressed currents of each iccp anode are manually set to 12 5 a and the values of the defined colorbar are calculated for the considered steel based on the corresponding german standard anon 1994 for the calculation of the aforementioned protective potential a reference electrode of ag agcl is considered the red color indicates the under protective electric potential range in which the corrosion of the hull will take place the green color range represents values of the electric potential for a corrosion protective state of the vessel and the teal and dark blue color ranges indicate a slight overprotection of the hull where chloride oxidation will take place dissolving the protective coating of the vessel in the depicted case overprotection is mostly present at the dielectric shielding thus no damage due to overprotection of the vessel should occur using this simulation data as a reference changes of the protection potential on the proper hull can be seen more easily when new damages to the coating appear and are hence discussed in the following 2 3 iterative iccp current adjustment defects in the protective coating of the hull are leading to changes in the characteristic polarization resistance at the damaged region and therefore shift the operating points within the polarization curves resulting in underprotection at the damage position this local defect also changes the global electric potentials over the hull and the new anodic cathodic current densities compared to the previous state are needed to maintain the protective potential when an iccp system is installed reference electrodes distributed over the hull are measuring the local electric potentials and the iccp system is subsequently adjusted until the protection potential of the hull is restored again to quantify the impact of coating damages circular damages are introduced into the numerical model with a radius of 50 cm and are randomly distributed over the hull of the naval vessel using the livelink module comsol multiphysics 2019b to control all simulation features in the matlab environment for all coating damages 100 of the magnitude of the current density of the steel polarization curve is applied to mimic a completely uncoated area this approximation shall account for the lowest possible polarization resistance at the water hull surface of the ship at the position of the corresponding coating damage which yields in the highest possible corrosion currents for the numerical adjustment of the iccp currents an iterative process is used with a simple mathematical formulation as shown in eq 1 to restore the protection potential of the damaged region 1 i iccp new i iccp pre c φ ref φ new φ ref 1 d norm here the new current i iccp new of each iccp anode is calculated using the information of the previous iccp current i iccp pre and the minimum of the present hull potential of the damaged region φ new for each iteration whereas the reference potential φ ref describes the case when the corrosion protection potential condition is just met in terms of the used steel a value of φ ref 900 mv is applied the formulation φ ref φ new allows the new iccp current to be smaller than the old iccp current yielding in convergence towards the reference electric potential furthermore the variable d norm describes the normalized euclidean distance between damaged region and each iccp anode and is defined as 2 d norm d abs i min d abs i with 3 d abs i d x anode i d x damage 2 d y anode i d y damage 2 d z anode i d z damage 2 1 2 the absolute value d abs i defined for each anode i is divided by the minimum distance from all anodes to the damaged region therefore the term 1 d norm represents a weighting factor to ensure stronger iccp currents for iccp anodes closer to the damaged region and vice versa this can be explained due to the major electric potential change in close vicinity to the damaged region and the relative electric potential change that is been seen by iccp anodes closer to the coating damage finally c describes a dimensional relaxation factor associated to the step size for each iteration to adjust the performance towards the convergence condition of the iterative numerical iccp current adjustment for all simulations a step size of c 50 am is defined and 4 iterations are needed to restore the corrosion protective condition to elucidate the described procedure the iterative iccp current adjustment is shown for an example coating damage as depicted in fig 5 it can be seen for the reference case a in which all iccp currents are set to 12 5 a that the new coating damage is no longer protected against corrosion using eq 1 to estimate the new iccp current for each iteration leads to a protective state of the new coating damage after 4 iterations it is worth mentioning that higher impressed currents may lead to stronger uep signatures which may lead to possible vessel detection 2 4 artificial neural network based classifier the numerical solutions more exactly the information of the iccp currents shown in section 2 3 shall be used as training parameters for an artificial neural network ann to localize coating damages for the implemented ship model using the deep learning lecun et al 2015 toolbox of matlab mathworks 2019 an ann is implemented which acts as a classifier anns consist of neurons that are divided into different layers where the neurons are mainly defined by their activation function 4 4 most common activation functions are tanh or sigmoid functions however due to larger training times with gradient descent amari 1993 of the ann using the aforementioned activation functions rectified linear units relus are applied to the neurons due to the better training efficiency krizhevsky et al 2017 and are hence chosen for the training process in this work normally anns consist of 2 n layers namely input layer and output layer and n hidden layer wherein the neurons are interconnected in this paper only one hidden layer fully connected layer is necessary to achieve a satisfactory prediction for the input variable within the input layer one neuron is allocated for each variable in this paper two different scenarios are analyzed for the first scenario only the currents provided by the iccp system are extracted as input variables for the ann and therefore the input layer contains 4 neurons due to 4 simulated iccp currents the second scenario assumes that the uep signature data below the ship along the x axis is available consequently the uep signature data is added to the input variable vector and the number of neurons equals the dimension of the uep signature vector in addition to the 4 iccp current magnitudes for the uep signature data 267 input variables are added to the input layer in the hidden layer the number of neurons is adjusted to the number of input variables and chosen to be 120 30 4 for the first scenario and 813 3 267 4 for the second scenario finally the output layer contains one neuron for each class that is represented by the specific sectors of the ship s hull as shown in fig 6 here the random positioned location of each coating damage is extracted from 1000 simulation datasets and allocated to the sector where the specific coating damage is located hence a number from 1 to 12 is defined for each damage position the input vector is generated by extracting the iccp currents which were normalized on the maximum iccp current value for full corrosion protection from each simulation from the total data 80 are used as training data 10 as test data to examine the prediction rate of the trained ann and 10 as validation datasets to avoid overfitting more precisely if the accuracy of the validation datasets does not increase for a specific number of iterations the training process will be considered as terminated the training process itself is aiming to minimize the cross entropy error between the estimated sector by the ann and the allocated sector cf supervised learning lecun et al 2015 and is performed by an improved stochastic gradient descent algorithm called adam kingma and ba 2015 finally as training options we chose a maximum number of epochs of 1500 a minibatch size of 128 a gradient decay factor of 0 9 a squared gradient decay factor of 0 999 an initial learning rate of 0 01 and a learning rate drop factor of 0 995 3 results for all shown results the training process is repeated 10 times and the mean value of the validation accuracy as well as the mean value of the test data accuracy for all training processes are taken to minimize the consideration of either overfitted or poor training results 3 1 iccp current data only using only iccp currents as input parameters 87 validation accuracy and 86 8 test data accuracy by the ann are achieved which can be seen in fig 9 here the blue graph represents the classification accuracy for each specific minibatch including a smoothed training accuracy performed by a smoothing algorithm to better identify trends within the training process furthermore the black dots display the validation frequency to verify changes in the validation accuracy for all simulations the validation frequency is set to 300 due to similarities of the iccp currents when the coating damage is in vicinity to another sector correct prediction can be challenging to tackle this problem the coating defect position follows a projected sinusoidal trajectory on the hull surface like shown in fig 7 the advantage of this kind of movement lies within the consideration of all defined ship sectors and especially the transition between multiple neighboring sectors is examined here as the damage is intersecting more than 2 sectors at the same time fig 8 depicts the predicted positions of a coating damage passing multiple sectors here the green colored surface describes a prediction in the correct sector seen in a c e the red colored surface indicates a wrong predicted sector and the lightblue color shows the sector where the coating damage is actually positioned in b d f in order that a coating damage is considered within a specific sector the majority of the damage must be located inside the corresponding sector as can be seen in example a and b the prediction of the ann can be in the adjacent sector due to the aforementioned similarity of iccp currents or in case of e and f it can predict completely wrong sectors even though the damage has only been slightly moved for the dataset of the sinusoidal movement 300 simulations are carried out and a prediction accuracy of 82 59 has been achieved if also predictions of intersecting sectors are considered as correct because of the mentioned similarity of the iccp currents which is exacerbating the selectivity of a specific sectors a prediction rate of 90 35 is achieved 3 2 iccp currents and uep signature data to further improve the prediction accuracy of the ann uep signatures can be additionally extracted as input parameters therefore a simulation setup shown in fig 10 is created to extract the uep signature 20 m below the center of the ship model along the x axis at a total length of 70 m this uep signature line red line mimics the crossing of a moving ship model over an ideal stationary uep sensor or can also be interpreted as an infinite number of ideal uep sensors that are placed along the line when the ship model is kept stationary the bottom figure depicts an example uep signature with respect to all 3 vector components of the electric field when the corrosion protection condition including the additional coating damage is fulfilled as input parameters for the ann the vector components are normalized yielding values between 1 and 1 this normalization is necessary due to the significant distinction in magnitudes of the iccp currents and the uep signatures and therefore improves the performance of the ann training process if the iccp current and the uep signatures are considered a prediction rate of 89 80 can be achieved when directly intersecting sectors are also chosen as correct prediction of the ann an accuracy of 97 93 can be realized 3 3 variable coating damage size iccp current and uep signature data however since all training processes are performed using a fixed size of the coating damage different dimensions of damages cannot be always predicted correctly when the ann is solely trained with a uniform damage size as an example the coating damage diameter was halved resulting in an ann prediction accuracy of only 7 63 for the training process performed with a uniform coating damage size to solve this issue the variation of the coating damage diameter can be implemented in the ann training process hence it is randomly changed between 50 cm and 150 cm and 1500 simulations in which the coating damage is positioned randomly over the ship s hull are carried out 5 5 to ensure sufficient prediction accuracy for this configuration the total number of simulations has to be increased to 1500 simulations as the worst case scenario for this configuration the minimum and maximum diameter of the coating damage are considered for the ann prediction rate with an accuracy of 78 81 for the minimum diameter of 50 cm and 75 37 for the maximum diameter of 150 cm the prediction rate is rather low compared to the aforementioned predictions for the uniform damage size this can be explained with the implemented random function which rarely chooses the exact minimum and maximum values for the given range coating damage sizes therefore less data for said cases are considered within the training process of the ann yielding in lower correct prediction rates if not exactly the minimum and maximum values are chosen the prediction rate can be significantly increased as an example the prediction accuracy is enhanced to 87 32 for a diameter of 60 cm and 86 80 is achieved for a diameter of 140 cm this shows how the prediction can be improved when a damage size close to the minimum and maximum value is chosen to further increase the prediction rates for the exact minimum and maximum values of the coating damage size additional simulations have to be performed 4 conclusion in this paper a novel approach of detecting coating damages using machine learning was presented for a ship model that was separated in 12 sectors only the iccp currents were used as primary input parameters for the ann and a prediction accuracy of 90 35 has been achieved to improve the prediction rate of the ann the uep signatures for the corrosion protected state of the ship model were additionally included as input parameters yielding in a prediction rate of 97 93 furthermore the impact on the ann for different sizes of coating damages was presented and an adapted training scheme using randomized coating damage sizes was implemented here a prediction accuracy of 87 32 could be realized hence this configuration could be adapted for a real time protection system of a ship while monitoring the iccp currents with the mere use of the iccp current information an accuracy of 90 35 can be considered as sufficient validating the prediction accuracy via training of the ann on a realistic ship could be the key towards a new next level ship monitoring system to improve the coating damage detection using only the iccp system data funding this research was funded by the technical center for ships and naval weapons naval technology and research wtd 71 bundeswehr 
22368,for the localization of coating damages of naval vessels numerical simulation using the fem software comsol multiphysics were carried out to calculate the corresponding underwater electric potential uep signature therefore we defined said damages at random hull surface positions and used the information provided by the impressed current cathodic protection iccp system more exactly the cathodic current itself and the calculated uep signatures as input parameters to train an artificial neural network ann for predicting the coating damage location with this deep learning approach more than 90 of all coating damages are predicted correctly considering a generic ship model with 50 m length whose hull is divided into 12 different sectors even the mere use of iccp currents as highly aggregated input parameters for the ann lead to a satisfactory prediction rate over 80 within the predefined sectors thus providing quite accurate results using minimal amount of data keywords cathodic protection artificial neural network machine learning iccp uep sacp 1 introduction due to electric and magnetic signatures naval vessels passively communicate with their surrounding environment the electric signature which will be emphasized in this work is mainly generated by a corrosion process that occurs when two different metallic materials are connected galvanically the material with a lower equilibrium potential or less negative equilibrium potential 1 1 in case both materials have a negative equilibrium potential acts as the anode and the material with a higher equilibrium potential acts as the cathode in the naval context the seawater acts as the electrolyte thus allowing a current flow through the seawater from anode to cathode and hence anodic currents from the vessel s hull to the propellers will occur to prevent corrosion processes on the hull active and passive corrosion protection systems can be installed on the vessel to ensure a protective state of the hull in this paper we use a combination of a protective coating passive and the impressed current cathodic protection iccp system that actively impresses cathodic currents to enforce the hull in the cathodic regime furthermore monitoring the hull potential using reference electrodes at specific locations allows the iccp system to be adjusted to ensure a protective potential over the hull however if coating damages occur higher iccp currents need to be impressed to further keep the vessel in a protective state which simultaneously leads to stronger electric signatures the electric signatures are known as underwater electric potential uep signatures cf fig 1 that may lead to a possible detection of the vessel therefore the localization of said coating damages is vital and a simulation scenario of uep signatures using real polarization data in combination with coating damages is presented and furthermore an iterative adjustment of the iccp currents to maintain a protective state of the naval vessel is shown the iterative adjustment process has already been published as a preliminary work in thiel et al 2018 finally the information of the iccp system and uep signatures are extracted from the simulation as input parameters to train an artificial neural network ann which than predicts the specific location of coating damages on the vessel s hull 2 numerical simulations 2 1 generic ship model for the numerical analysis of the uep signature the fem simulation platform comsol multiphysics comsol multiphysics 2019a is used and therefore a modified generic ship model has been implemented as depicted in fig 2 here the ship model has a length of 50 m a width around 8 m and a height the part which is underwater of approximately 4 5 m the ship model is positioned within a virtual block of 100 m length 40 m width and 30 m height representing the surrounding water and to simulate an open water condition the infinite element boundary condition for the outer domains with a layer thickness of 5 m are defined for the simulation setup 4 circular iccp anodes to actively impress anodic current with a radius for each anode of 15 cm and a circular dielectric shielding 2 2 dielectric shielding is used to prevent overprotection in the vicinity of the iccp anodes with a radius of 75 cm are introduced additionally several anodes which represent the sacrificial anode cathodic protection sacp system with a radius of 10 cm are used to generate a more homogeneous protection potential distribution over the hull finally for the computational process the direct solver pardiso with a relative tolerance of 0 001 was chosen due to its fast computational times to solve a number of degrees of freedom of approximately 450 000 to ensure a high mesh quality the minimum and maximum values of the mesh element sizes of the ship model are set to 2 cm and 10 cm respectively 2 2 reference scenario to consider the electrochemical reaction described in section 1 realistic polarization curve data are applied as boundary conditions as presented in fig 3 for the ship s hull the polarization curve of steel carson and orazem 1999 is used whereas for the propellers the polarization curve of nickel aluminum bronze nab hack 1995 is applied furthermore all shown simulations are computed with a defined electrical conductivity of seawater of σ w 2 8 s m in open water condition to include a slightly aged hull coating of the ship model a small percentage of the current density in the polarization curve is taken into account in all analyzed cases 5 of the magnitude of the current density for the polarization curve of steel in applied which is an approximation to account for the higher polarization resistance at the hull water interface and hence weaker corrosion currents when a hull coating is applied to the ship furthermore this approximation shall represent a homogeneous coating damage of 5 for the total hull for the propellers a 10 homogeneous damage is chosen for the port side and 15 damage for the starboard side 3 3 the different percentages shall account for the deviations in the manufacturing process of the propellers the sacp system is implemented using the polarization curve of grade zinc hack 1995 anon 1983 and for each sacp anode a value of 100 is applied to neglect any passivization effect of the system to detect new coating damages on the hull a reference scenario needs to be simulated in which the ship is fully protected as shown in fig 4 the impressed currents of each iccp anode are manually set to 12 5 a and the values of the defined colorbar are calculated for the considered steel based on the corresponding german standard anon 1994 for the calculation of the aforementioned protective potential a reference electrode of ag agcl is considered the red color indicates the under protective electric potential range in which the corrosion of the hull will take place the green color range represents values of the electric potential for a corrosion protective state of the vessel and the teal and dark blue color ranges indicate a slight overprotection of the hull where chloride oxidation will take place dissolving the protective coating of the vessel in the depicted case overprotection is mostly present at the dielectric shielding thus no damage due to overprotection of the vessel should occur using this simulation data as a reference changes of the protection potential on the proper hull can be seen more easily when new damages to the coating appear and are hence discussed in the following 2 3 iterative iccp current adjustment defects in the protective coating of the hull are leading to changes in the characteristic polarization resistance at the damaged region and therefore shift the operating points within the polarization curves resulting in underprotection at the damage position this local defect also changes the global electric potentials over the hull and the new anodic cathodic current densities compared to the previous state are needed to maintain the protective potential when an iccp system is installed reference electrodes distributed over the hull are measuring the local electric potentials and the iccp system is subsequently adjusted until the protection potential of the hull is restored again to quantify the impact of coating damages circular damages are introduced into the numerical model with a radius of 50 cm and are randomly distributed over the hull of the naval vessel using the livelink module comsol multiphysics 2019b to control all simulation features in the matlab environment for all coating damages 100 of the magnitude of the current density of the steel polarization curve is applied to mimic a completely uncoated area this approximation shall account for the lowest possible polarization resistance at the water hull surface of the ship at the position of the corresponding coating damage which yields in the highest possible corrosion currents for the numerical adjustment of the iccp currents an iterative process is used with a simple mathematical formulation as shown in eq 1 to restore the protection potential of the damaged region 1 i iccp new i iccp pre c φ ref φ new φ ref 1 d norm here the new current i iccp new of each iccp anode is calculated using the information of the previous iccp current i iccp pre and the minimum of the present hull potential of the damaged region φ new for each iteration whereas the reference potential φ ref describes the case when the corrosion protection potential condition is just met in terms of the used steel a value of φ ref 900 mv is applied the formulation φ ref φ new allows the new iccp current to be smaller than the old iccp current yielding in convergence towards the reference electric potential furthermore the variable d norm describes the normalized euclidean distance between damaged region and each iccp anode and is defined as 2 d norm d abs i min d abs i with 3 d abs i d x anode i d x damage 2 d y anode i d y damage 2 d z anode i d z damage 2 1 2 the absolute value d abs i defined for each anode i is divided by the minimum distance from all anodes to the damaged region therefore the term 1 d norm represents a weighting factor to ensure stronger iccp currents for iccp anodes closer to the damaged region and vice versa this can be explained due to the major electric potential change in close vicinity to the damaged region and the relative electric potential change that is been seen by iccp anodes closer to the coating damage finally c describes a dimensional relaxation factor associated to the step size for each iteration to adjust the performance towards the convergence condition of the iterative numerical iccp current adjustment for all simulations a step size of c 50 am is defined and 4 iterations are needed to restore the corrosion protective condition to elucidate the described procedure the iterative iccp current adjustment is shown for an example coating damage as depicted in fig 5 it can be seen for the reference case a in which all iccp currents are set to 12 5 a that the new coating damage is no longer protected against corrosion using eq 1 to estimate the new iccp current for each iteration leads to a protective state of the new coating damage after 4 iterations it is worth mentioning that higher impressed currents may lead to stronger uep signatures which may lead to possible vessel detection 2 4 artificial neural network based classifier the numerical solutions more exactly the information of the iccp currents shown in section 2 3 shall be used as training parameters for an artificial neural network ann to localize coating damages for the implemented ship model using the deep learning lecun et al 2015 toolbox of matlab mathworks 2019 an ann is implemented which acts as a classifier anns consist of neurons that are divided into different layers where the neurons are mainly defined by their activation function 4 4 most common activation functions are tanh or sigmoid functions however due to larger training times with gradient descent amari 1993 of the ann using the aforementioned activation functions rectified linear units relus are applied to the neurons due to the better training efficiency krizhevsky et al 2017 and are hence chosen for the training process in this work normally anns consist of 2 n layers namely input layer and output layer and n hidden layer wherein the neurons are interconnected in this paper only one hidden layer fully connected layer is necessary to achieve a satisfactory prediction for the input variable within the input layer one neuron is allocated for each variable in this paper two different scenarios are analyzed for the first scenario only the currents provided by the iccp system are extracted as input variables for the ann and therefore the input layer contains 4 neurons due to 4 simulated iccp currents the second scenario assumes that the uep signature data below the ship along the x axis is available consequently the uep signature data is added to the input variable vector and the number of neurons equals the dimension of the uep signature vector in addition to the 4 iccp current magnitudes for the uep signature data 267 input variables are added to the input layer in the hidden layer the number of neurons is adjusted to the number of input variables and chosen to be 120 30 4 for the first scenario and 813 3 267 4 for the second scenario finally the output layer contains one neuron for each class that is represented by the specific sectors of the ship s hull as shown in fig 6 here the random positioned location of each coating damage is extracted from 1000 simulation datasets and allocated to the sector where the specific coating damage is located hence a number from 1 to 12 is defined for each damage position the input vector is generated by extracting the iccp currents which were normalized on the maximum iccp current value for full corrosion protection from each simulation from the total data 80 are used as training data 10 as test data to examine the prediction rate of the trained ann and 10 as validation datasets to avoid overfitting more precisely if the accuracy of the validation datasets does not increase for a specific number of iterations the training process will be considered as terminated the training process itself is aiming to minimize the cross entropy error between the estimated sector by the ann and the allocated sector cf supervised learning lecun et al 2015 and is performed by an improved stochastic gradient descent algorithm called adam kingma and ba 2015 finally as training options we chose a maximum number of epochs of 1500 a minibatch size of 128 a gradient decay factor of 0 9 a squared gradient decay factor of 0 999 an initial learning rate of 0 01 and a learning rate drop factor of 0 995 3 results for all shown results the training process is repeated 10 times and the mean value of the validation accuracy as well as the mean value of the test data accuracy for all training processes are taken to minimize the consideration of either overfitted or poor training results 3 1 iccp current data only using only iccp currents as input parameters 87 validation accuracy and 86 8 test data accuracy by the ann are achieved which can be seen in fig 9 here the blue graph represents the classification accuracy for each specific minibatch including a smoothed training accuracy performed by a smoothing algorithm to better identify trends within the training process furthermore the black dots display the validation frequency to verify changes in the validation accuracy for all simulations the validation frequency is set to 300 due to similarities of the iccp currents when the coating damage is in vicinity to another sector correct prediction can be challenging to tackle this problem the coating defect position follows a projected sinusoidal trajectory on the hull surface like shown in fig 7 the advantage of this kind of movement lies within the consideration of all defined ship sectors and especially the transition between multiple neighboring sectors is examined here as the damage is intersecting more than 2 sectors at the same time fig 8 depicts the predicted positions of a coating damage passing multiple sectors here the green colored surface describes a prediction in the correct sector seen in a c e the red colored surface indicates a wrong predicted sector and the lightblue color shows the sector where the coating damage is actually positioned in b d f in order that a coating damage is considered within a specific sector the majority of the damage must be located inside the corresponding sector as can be seen in example a and b the prediction of the ann can be in the adjacent sector due to the aforementioned similarity of iccp currents or in case of e and f it can predict completely wrong sectors even though the damage has only been slightly moved for the dataset of the sinusoidal movement 300 simulations are carried out and a prediction accuracy of 82 59 has been achieved if also predictions of intersecting sectors are considered as correct because of the mentioned similarity of the iccp currents which is exacerbating the selectivity of a specific sectors a prediction rate of 90 35 is achieved 3 2 iccp currents and uep signature data to further improve the prediction accuracy of the ann uep signatures can be additionally extracted as input parameters therefore a simulation setup shown in fig 10 is created to extract the uep signature 20 m below the center of the ship model along the x axis at a total length of 70 m this uep signature line red line mimics the crossing of a moving ship model over an ideal stationary uep sensor or can also be interpreted as an infinite number of ideal uep sensors that are placed along the line when the ship model is kept stationary the bottom figure depicts an example uep signature with respect to all 3 vector components of the electric field when the corrosion protection condition including the additional coating damage is fulfilled as input parameters for the ann the vector components are normalized yielding values between 1 and 1 this normalization is necessary due to the significant distinction in magnitudes of the iccp currents and the uep signatures and therefore improves the performance of the ann training process if the iccp current and the uep signatures are considered a prediction rate of 89 80 can be achieved when directly intersecting sectors are also chosen as correct prediction of the ann an accuracy of 97 93 can be realized 3 3 variable coating damage size iccp current and uep signature data however since all training processes are performed using a fixed size of the coating damage different dimensions of damages cannot be always predicted correctly when the ann is solely trained with a uniform damage size as an example the coating damage diameter was halved resulting in an ann prediction accuracy of only 7 63 for the training process performed with a uniform coating damage size to solve this issue the variation of the coating damage diameter can be implemented in the ann training process hence it is randomly changed between 50 cm and 150 cm and 1500 simulations in which the coating damage is positioned randomly over the ship s hull are carried out 5 5 to ensure sufficient prediction accuracy for this configuration the total number of simulations has to be increased to 1500 simulations as the worst case scenario for this configuration the minimum and maximum diameter of the coating damage are considered for the ann prediction rate with an accuracy of 78 81 for the minimum diameter of 50 cm and 75 37 for the maximum diameter of 150 cm the prediction rate is rather low compared to the aforementioned predictions for the uniform damage size this can be explained with the implemented random function which rarely chooses the exact minimum and maximum values for the given range coating damage sizes therefore less data for said cases are considered within the training process of the ann yielding in lower correct prediction rates if not exactly the minimum and maximum values are chosen the prediction rate can be significantly increased as an example the prediction accuracy is enhanced to 87 32 for a diameter of 60 cm and 86 80 is achieved for a diameter of 140 cm this shows how the prediction can be improved when a damage size close to the minimum and maximum value is chosen to further increase the prediction rates for the exact minimum and maximum values of the coating damage size additional simulations have to be performed 4 conclusion in this paper a novel approach of detecting coating damages using machine learning was presented for a ship model that was separated in 12 sectors only the iccp currents were used as primary input parameters for the ann and a prediction accuracy of 90 35 has been achieved to improve the prediction rate of the ann the uep signatures for the corrosion protected state of the ship model were additionally included as input parameters yielding in a prediction rate of 97 93 furthermore the impact on the ann for different sizes of coating damages was presented and an adapted training scheme using randomized coating damage sizes was implemented here a prediction accuracy of 87 32 could be realized hence this configuration could be adapted for a real time protection system of a ship while monitoring the iccp currents with the mere use of the iccp current information an accuracy of 90 35 can be considered as sufficient validating the prediction accuracy via training of the ann on a realistic ship could be the key towards a new next level ship monitoring system to improve the coating damage detection using only the iccp system data funding this research was funded by the technical center for ships and naval weapons naval technology and research wtd 71 bundeswehr 
22369,electrohydraulic servo valve ehsv is a key component in deep sea manipulator traditionally it is recognized that the ehsv can be used just as on land because the pressure of sea depth is compensated and only the physical characteristics of working media needs to be considered however this is not the real situation in this paper the influences of structure deformation and working media on the dynamic characteristics of ehsv were considered the mathematical model of ehsv was established and the deformation of the spool and the valve sleeve under different seawater depths were simulated by ansys workbench the different fitting clearance under different seawater depths were obtained and the dynamic performance of ehsv in deep sea environment was studied the dynamic characteristic curve of the valve and the dynamic characteristic parameters such as setting time were obtained the simulation results indicated that with the increase of seawater depth the clearance between the spool and the valve sleeve was reduced and setting time increased dramatically at 12 000 m the overshoot of the step response exceeds 40 in addition due to the deformation of the structure the step curve of ehsv fluctuates near the stable value the dynamic performance of ehsv deteriorated keywords valves dynamic response sea simulation nomenclature cd flow coefficient of the valve port cv velocity coefficient of the valve port μ dynamic viscosity of oil pa s μp dynamic viscosity of oil at pressure p pa s ρ oil density kg m³ rc fit clearance of spool and valve sleeve mm θ armature rotation angle a v area of end face of slide spool mm2 m mass of spool kg p s nominal working pressure mpa kf1 spring stiffness of the feedback lever n m rad kf2 steady state hydrodynamic stiffness n m rad td output electromagnetic torque of torque motor n m k t neutral electromagnetic torque coefficient of torque motor n m a km neutral magnetic spring stiffness of a torque motor n m rad kmf overall stiffness of the torque motor n m rad ζmf damping ratio wmf natural frequency of the torque motor rad s kan net stiffness of the torque motor n m rad ja armature baffle assembly s moment of inertia kg m2 ba damping coefficient of armature baffle assembly ka stiffness of spring tube n m rad δi differential current ma cdf flow coefficient of nozzle baffle kqp flow gain of nozzle flapper valve m2 s kcp pressure coefficient of nozzle flapper valve ctp total leakage coefficient of slide valve an area of the nozzle hole mm2 vp total volume of the input and output chambers of the slide valve mm³ q nominal working flow l min δq flow rate through the clearance between the spool and the valve sleeve l min q lp flow required for spool movement l min w area gradient of main slide valve mm δp throttle pressure on both sides of the orifice mpa plp pressure difference of the nozzle chamber load mpa x v displacement of spool mm xf0 zero gap between nozzle and baffle mm xf baffle displacement mm r distance between the center of nozzle and the center of spring pipe rotation mm b distance between the center of the feedback rod ball and the center of nozzle mm bv viscous friction coefficient of sliding valve βe bulk modulus of oil mpa a pressure viscosity coefficient tr the rise time s tp the peak time s mp the maximum pressure overshoot ts the setting time s h amplitude margin db γ phase margin wb bandwidth frequency rad s 1 introduction hydraulic system is used broadly in large scale underwater operations because of its large power to weight ratio and easy pressure compensation wang and chen 2013 electrohydraulic servo valve ehsv is a key component of the electrohydraulic servo system and can realize elector hydraulic signal conversion and power amplification its performance and correct use are directly related to the control accuracy and response speed of the entire system among them the double nozzle flapper electrohydraulic servo valve has high pressure sensitivity small temperature and pressure zero drift and good linearity of characteristics therefore it is widely used in underwater hydraulic systems at present the research of ehsv in extreme environments mainly focuses on the influence of temperature on the characteristics of ehsv yaobao 2008 there are few studies on ehsv under high hydrostatic pressure liu et al 2017 considered the deformation of seawater hydraulic axial piston motors in deep sea environments and found that the effect of deformation on the output torque of shapm is very obvious finally the effective seawater depth for normal operation is obtained in fact when ehsv is working in a deep sea environment there may be a risk that it cannot be used normally liu et al 2016 for example the valve port may be subject to wear zhang et al 2014 and even the oil flow rate may be reduced due to the high viscosity of the oil and the corrosive of the sea water may cause the seal of the spool and the valve sleeve to be damaged pérez mora et al 2015 the hydraulic components used in the hydraulic system are based on the ground environment and its working medium is hydraulic oil complex seawater environments not only lead to changes in hydraulic oil properties such as density elastic modulus and dynamic viscosity coefficients in addition in the deep sea environment higher hydrostatic pressure can lead to large deformation of the hydraulic element lewandowski and lowhaphandu 1998 which has a very adverse effect on the normal operation of the hydraulic system the most important thing is that the high hydrostatic pressure in deep sea environment will change the fit clearance of the spool valve making it unable to work properly however most of the existing studies only focus on changes in the characteristics of media and there is almost no consideration for deformation the valve used in this paper is a double nozzle flapper electrohydraulic servo valve rated flow rate is 60 l min to solve the problem of valve opening deformation in deep sea environment simulation calculations were carried out and its dynamic characteristics were studied since the clearance between the spool and the valve sleeve is a key parameter affecting its dynamic characteristics in deep sea environment the focus of the research is on the deformation of the valve sleeve in addition considering the influence of the flow field on the valve port use the simulation software to do fluid structure interaction analysis zhao et al 2015 this study analyzed different fitting gaps for different seawater depths in addition changes in the characteristics of the hydraulic oil were also introduced these results show that a certain seawater depth can make ehsv work normally 2 physical model of the ehsv fig 1 shows the structural schematic of ehsv the first stage hydraulic amplifier is a double nozzle flapper valve and the second stage hydraulic amplifier is a zero opening four way spool valve murphy jr and peter 1976 the valve uses a corrosion resistant alloy material to prevent excessive friction and wear for example the spool and the valve sleeve are made of cr12mov and the spring tube is made of 3j1 yuandao 2008 the rated pressure of ehsv is 21 mpa and the rated flow rate is 60 l min to simplify the analysis process the following assumptions were made when establishing the characteristic equations 1 friction force and transient hydrodynamic force are not considered when the spool moves 2 ignore slide valve leakage and influence of fluid quality 3 mathematic model of the ehsv fig 2 shows the force model of the armature baffle assembly dasgupta and murrenhoff 2011 li et al 2012 the electromagnetic torque output by the torque motor is 1 t d k t δ i k m θ where k t is the neutral electromagnetic torque coefficient of torque motor k m is the neutral magnetic spring stiffness of a torque motor k t δ i is the electromagnetic torque generated by differential current k m θ is the electromagnetic torque generated by the rotation of the armature it can be seen from fig 2 that under the action of the electromagnetic torque t d the equation of motion of the armature baffle assembly is 2 t d j a θ b a θ k a θ t l 1 t l 2 among them the load moment acting on the baffle of the armature baffle assembly is 3 t l 1 r p l p a n r 2 8 π c d f 2 p s x f 0 θ deflection of the feedback lever generates load moments for the armature baffle assembly as 4 t l 2 r b k f 1 r b θ x v where j a θ b a θ k a θ is the rotational moment of the armature baffle assembly k f1 is the spring stiffness of the feedback lever combine formulas 1 4 and obtain the motion equation of the armature baffle assembly through laplace transformation given by chunxing 1999 zhang and li 2014 5 k t δ i j a s 2 b a s k m f θ r b k f 1 x v r p l p a n among them k mf the total stiffness of the torque motor that is the overall stiffness 6 k m f k a n r b 2 k f 1 where k a n is the net stiffness of the torque motor 7 k a n k a k m 8 π c d f 2 p s x f 0 r 2 the nozzle flapper valve flow equation is expressed as 8 q l p k q p x f k c p p l p where k qp is the flow gain of nozzle baffle valve k cp is the pressure gain of nozzle baffle valve p lp is the pressure difference of the nozzle chamber load x f is the displacement of baffle and its relation to the rotation angle θ of armature is 9 x f r θ fig 3 shows the main slide valve model when the spool moves to the left the p port of the main spool valve relates to the a port which is the inlet throttle mode and the b port and the t port are connected which is the outlet throttle mode the spool valve flow equation is 10 q c d w x v 2 δ p ρ according to newton s second law the spool force balance equation can be listed as follows 11 m x v b v x v k f 2 x v a v p l p k f 1 r b x v where m is the equivalent mass of the spool including every motion parts m x v is the inertia force b v x v is the viscous damping force produced by the spool and valve sleeve k f 2 x v is stable hydrodynamic a v p l p is the force produced by the static pressures at the valve port k f 1 r b x v is the load of the feedback rod acting on the spool k f2 is stable hydrodynamic stiffness 12 k f 2 2 c v c d w x v δ p cos θ for ideal slide valve jet angle θ 69 spool flow continuity equation considering the compressibility and leakage in the nozzle chamber the flow required for the spool movement is 13 q l p a v x v c t p p l p v p 4 β e p l p where v p is the total volume of the input chamber and the output chamber c tp is the total leakage coefficient of the slide valve a v x v is the flow required to move the slide valve c t p p l p is the total leakage v p 4 β e p l p is the total compression flow equations 8 11 and 13 are the three basic equations of the slide valve given by chunxing 1999 zhang and li 2014 they fully describe the dynamic characteristics of the slide valve the transfer function of the slide valve can be derived from these three basic equations combined with the mathematical model of the torque motor and the three basic equations of the slide valve the circuit block diagram of the ehsv is obtained according to the block diagram the dynamic characteristics of ehsv can be analyzed by matlab simulink when considering the dynamic characteristics of the slide valve it is called a non simplified model when the dynamics of the slide valve is ignored it is called a simplified model in previous studies the transfer function was simplified in fact the dynamics of the slide valve will also be affects the dynamic characteristics of ehsv especially in deep sea environments the non simplified block diagram of ehsv is shown in fig 4 flow equation of slide valve with clearance 18 δ q π r c 2 w 32 μ δ p the parameter values used in this study are listed in table i 4 cfd simulation of ehsv under seawater pressures 4 1 simulation analysis of fluid domain deformation of ehsv in deep water environments is unavoidable particularly the clearance between the spool and the valve sleeve becomes smaller under high pressure which has a great influence on the dynamic characteristics of the servo valve considering the influence of the flow field on the clearance the deformation of the spool and valve sleeve was analyzed all simulations were performed using commercial software packages of ansys workbench 16 1 the fluid structure coupling module in the ansys workbench is used to load the pressure generated by the flow field onto the solid and then add the pressure of the seawater the three dimensional software was used to generate the cad model of the spool and the valve sleeve and it was imported into the dm module of the ansys workbench to obtain the flow channel the material of the spool and valve sleeve is cr12mov whose density is 7850 kg m3 grid generation of three dimensional models is an important step in simulation analysis the quality of the grids has a great influence on the accuracy of results and the solving speed this study uses the automatic method to generate the mesh lee 2015 and controls the mesh size to improve mesh quality using on proximity and curvature in the advance size function to refine the mesh the model completely includes 477236 nodes and 1871341 meshes the grid inclination is 0 22053 the orthogonal mass is 0 76376 and the mesh quality is 0 8374 the cfd model of the fluid domain is shown in fig 5 and more grids do not affect the simulation results in order to minimize the impact of changes in the number of grids on the calculation results grid independence verification is required therefore change the size of the grid and divide it into four different grids and select a fixed coordinate point 0 017 0 016 0 0113141 which is located at the valve port of the slide valve and the pressure value at this point is detected as shown in table ii when the number of grids is 1 87 million and 2 5 million the change in pressure is very small and it can be considered that the grid independence requirement is met when the number of grids is 1 87 million according to the actual situation the inlet and outlet of the fluid domain are all pressure boundaries due to the symmetry of the main spool valve when the spool moves toward one end the main spool valve p and port a are connected which is the inlet throttle mode and the port b and the port t are connected which is the outlet throttle mode in this paper the valve opening degree is 6 mm when the servo valve is idling the input pressure at port p is rated pressure 21 mpa and the output pressure at port t is 0 mpa pan et al 2011 in addition the inner and outer surfaces of the fluid domain in contact with the valve sleeve are set as fluid surface interfaces fsi the pressure based solver was selected and the pressure velocity coupling was processed using the simple algorithm on the ansys platform fluent was used to numerically solve the fluid domain and the pressure distribution in the fluid domain was obtained peng et al 2011 wang et al 2010 fig 6 and fig 7 show the pressure distribution of the fluid domain at a depth of 0 m from fig 7 a we can see that when the fluid enters the ehsv the pressure is maximum since the valve opening is small it can be regarded as an orifice and the pressure is reduced when the fluid enters the a chamber of the main valve at the sudden change of the orifice area the hydraulic oil is separated from the wall surface and forms a vortex at the valve angle fig 7 b is the same explanation 4 2 simulation analysis of solid domain since the pressure is the surface force there is an interference fit between the valve sleeve and the valve body and the clearance between the valve sleeve and the spool is matched therefore the equivalent of the seawater pressure is directly loaded on the valve sleeve in other words external pressure only affects the deformation of the valve sleeve and the flow field affects the spool and the valve sleeve hex dominant method was used to mesh the spool and valve sleeve and strictly control body sizing chen and stoffel 2004 the spool and valve sleeve models include a total of 456 945 nodes and 130 234 grids the finite element mesh of the valve sleeve and spool is shown in fig 8 according to the actual situation the simulation result of the fluid domain is loaded onto the outer surface of the spool and the inner surface of the valve sleeve as shown in fig 9 when working in a marine environment the valve sleeve is surrounded by surrounding fluid so that hydrostatic pressure is applied to all faces of the valve sleeve at different seawater depths fig 10 shows the deformation of the spool and the valve sleeve at a depth of 0 m the working medium is aviation hydraulic oil the physical parameters of which are shown in table iii as the depth of seawater increases the environmental pressure on the valve sleeve also increases at the same pressure the external force area of the valve sleeve is larger than the internal force area which will lead to a reduction in the clearance between the spool and the valve sleeve fig 11 shows the deformation of the spool when the seawater depth is 2000 m 5000 m 8000 m and 12 000 m fig 12 shows the deformation of the valve sleeve when the seawater depth is 2000 m 5000 m 8000 m and 12000 m hydrostatic pressures at different seawater depths are set by the bench the physical properties of the oil are different under different seawater depth conditions the viscosity and bulk modulus of an oil change with depth of seawater the dynamic viscosity of oil is calculated using formula μ p μ 0 e a p daugherty and ingersoll 1954 the letter a is coefficient the formula for the bulk modulus of hydraulic oil under deep sea conditions is 19 β e k f v f v a p a p v f v a k f p a p 2 among the formula k f 1800 mpa taking the proportion of mixed air at atmospheric pressure as 0 1 then the simplified expression is 20 β e 1800 1000 p a p 1000 1800 p a p 2 atmospheric pressure p a is 0 1 mpa calculate the approximate values of different depths as shown in table iv kajikawa and kobata 2017 wang et al 2008 from the cfd simulation results it can be verified that the outlet mass flow rate of the oil decreases with increasing oil viscosity the normal fit clearance between the spool and the valve sleeve is 5 μm pace et al 2013 fig 13 shows the different fitting clearances between the spool and the valve sleeve as the seawater pressure changes when the depth increased to 12 000 m the gap was reduced to 2 752 μm however for any object the surface is not smooth absolutely and its surface roughness is affected by machining accuracy and factory processing errors here the surface roughness of the spool and the valve sleeve are 0 1and 0 2 respectively therefore the minimum allowable thickness between the spool and the valve sleeve is approximately 0 3 μm when considering the above situation the risk of ehsv sticking increases so the operation of ehsv is more difficult to control at 12 000 mm seawater depth 5 dynamic performance simulation of ehsv 5 1 dynamic characteristics of ehsv at different sea depths simplified condition as the clearance between the spool and the valve sleeve decreases with the depth of the seawater the leakage flow also changes pan et al 2009 it can be seen from fig 14 that as the depth of seawater increases the leakage volume tends to nonlinear reduction the maximum leakage of the spool valve in the land environment is 1 1903 l min when the seawater depth reaches 12000 m the leakage amount decreases to 0 0235 l min the transfer function of the double nozzle flapper electrohydraulic servo valve can be derived from the servo valve correlation equations listed previously considering the uncertainty of the natural frequency of the torque motor use the parameters in table i to plot the dynamic characteristics of the ehsv at natural frequencies for different torque motors for a depth of 5000 m sea as shown in fig 15 it can be seen from the results that the natural frequency of torque motor has little influence on the time domain characteristics of ehsv therefore in this study the natural frequency of torque motor is 4600 rad s because the torque motor is a wet motor in the deep sea the physical properties of oil have a great influence on the damping ratio of torque motor thus affecting the dynamic characteristics of ehsv ye et al 2017 using matlab simulink to simulate the dynamic response of ehsv since the natural frequency of the slide valve is much larger than the natural frequency of the torque motor the transfer function of the servo valve is simplified taking a deep sea environment respectively 0 m not affected by water pressure 2000m 20 mpa 5000 m 50 mpa 8000 m 80 mpa and 12000m 120 mpa karunanidhi and singaperumal 2010 as shown in fig 16 it can be concluded from table v that in deep sea environment as the depth increases the rise time peak time and adjustment time of the response increase sharply and the overshoot is also greatly increased the response speed of the ehsv is slow and the response process is very unstable when the depth of the seawater reaches 12000m its overshoot exceeds 40 to analyze the dynamic characteristics of ehsv more clearly matlab simulink was used for frequency domain simulation and closed loop byrd diagram and open loop byrd diagram of ehsv were drawn as shown in fig 17 and fig 18 through the bode diagram of the closed loop transfer function it is easy to conclude that when the depth of seawater increases the system bandwidth w b is significantly reduced indicating that the response speed of the system is slowed down and it is also verified the results of the step response the relative stability in the frequency domain is usually measured by the phase margin γ and the amplitude margin h according to the open loop bode diagram the phase margins and amplitude margins at different seawater depths are listed as shown in table vi it can be seen from table v that the servo valve has an amplitude margin of more than 6 db which meets the requirements for using as the seawater depth increases the phase margin decreases when the seawater depth reaches 12000m the phase margin is 27 compared to the terrestrial environment the proportion of decline reached 63 51 the relative stability of the servo valve is gradually reduced with the seawater depth 5 2 dynamic characteristics of the ehsv at different sea depths non simplified condition the leakage of the slide valve caused by the deformation will also have a certain influence on the dynamic characteristics of the servo valve use the formulas listed earlier to calculate the leak coefficient using matlab simulink and simulating with a non simplified transfer function to analyze the effect of considering the change of medium characteristics and considering both the medium change and deformation on the dynamic response characteristics of the ehsv at the same time compared with the simplified step curve taking the sea deep pressure of 8000 m 80 mpa as an example as shown in fig 19 from fig 20 and table vii when considering the deformation of the slide valve the ehsv overshoot was 28 07 0 39 higher than without considering the ehsv deformation and its overshoot is 0 7 higher than the simplified conditions the results show that the stability of the ehsv is deteriorating the most important thing is that when considering the deformation the step curve of ehsv has been oscillating at the steady state position and its fluctuation range is 0 783 this is because the hydraulic damping ratio of the slide valve increases after the deformation is considered which leads to a reduction in the closed loop damping ratio of ehsv and then leads to oscillation of the step curve at the same time due to the deformation of the slide valve the adjustment time increased to 0 0145s indicating that the response speed of ehsv slowed down it can be seen from fig 20 and table viii that the deformation increased the amplitude margin of ehsv by 0 1 the deformation also has a slight effect on the amplitude margin and phase margin of the servo valve 6 conclusions considering the deformation of an ehsv with double nozzle flapper in deep sea environment the mathematical model of the ehsv was established in which the change of the clearance between the spool and the valve sleeve will have a great influence on the dynamic characteristics the deformation of the spool and the valve sleeve at different seawater depths are simulated and different fitting gap of different depths are obtained according to the simulation results the following conclusions can be drawn 1 as the depth of seawater increases the clearance between the spool and the valve sleeve decreases when the depth of the seawater is 12000m the clearance between the spool and the valve sleeve decreases to 2 752 μm the amount of deformation is nearly 50 compared to the terrestrial environment and when the shape error is considering the risk of ehsv sticking is increased 2 as the depth of seawater increases the leakage volume of the slide valve decreases when the depth of seawater reaches 12 000 m the leakage is reduced to 0 0235 l min compared with the terrestrial environment the leakage has decreased by 98 3 in the simplified dynamic response when the working sea depth varies from 0 m to 12000 m the settling time of response increased from 0 0031s to 0 0289s and the maximum overshoot of the ehsv increased from 0 to 45 47 so it is concluded that the ehsv is suited for work up to approximately 12 000 m deep in sea 4 considering changes of working media properties and reduction in fit clearance after deformation the overshoot of the ehsv at 8000 m is 28 07 which is 0 39 higher than considering the working medium properties only most importantly the response of ehsv oscillates near the steady state position and its fluctuation range reaches 0 783 this is because after the deformation is considered the hydraulic damping ratio of the main valve is increased resulting in a decrease in the closed loop damping ratio of the ehsv which in turn leads to oscillation of the step curve at the same time the adjustment time increased by 7 4 compared with only considering the change of media properties it indicates that the deformation makes the response speed of ehsv slow down and the stability deteriorates the results can be used to predict the use of ehsv in deep sea environments this research is very important for the study of seawater hydraulic systems acknowledgements this paper is supported by national natural science foundation of china no 51575200 n0 51509097 national key research and development program of china 2016yfc0304800 and natural science foundation of hubei province 2017cfc837 appendix a supplementary data the following is the supplementary data to this article multimedia component 1 multimedia component 1 appendix a supplementary data supplementary data to this article can be found online at https doi org 10 1016 j oceaneng 2019 04 038 
22369,electrohydraulic servo valve ehsv is a key component in deep sea manipulator traditionally it is recognized that the ehsv can be used just as on land because the pressure of sea depth is compensated and only the physical characteristics of working media needs to be considered however this is not the real situation in this paper the influences of structure deformation and working media on the dynamic characteristics of ehsv were considered the mathematical model of ehsv was established and the deformation of the spool and the valve sleeve under different seawater depths were simulated by ansys workbench the different fitting clearance under different seawater depths were obtained and the dynamic performance of ehsv in deep sea environment was studied the dynamic characteristic curve of the valve and the dynamic characteristic parameters such as setting time were obtained the simulation results indicated that with the increase of seawater depth the clearance between the spool and the valve sleeve was reduced and setting time increased dramatically at 12 000 m the overshoot of the step response exceeds 40 in addition due to the deformation of the structure the step curve of ehsv fluctuates near the stable value the dynamic performance of ehsv deteriorated keywords valves dynamic response sea simulation nomenclature cd flow coefficient of the valve port cv velocity coefficient of the valve port μ dynamic viscosity of oil pa s μp dynamic viscosity of oil at pressure p pa s ρ oil density kg m³ rc fit clearance of spool and valve sleeve mm θ armature rotation angle a v area of end face of slide spool mm2 m mass of spool kg p s nominal working pressure mpa kf1 spring stiffness of the feedback lever n m rad kf2 steady state hydrodynamic stiffness n m rad td output electromagnetic torque of torque motor n m k t neutral electromagnetic torque coefficient of torque motor n m a km neutral magnetic spring stiffness of a torque motor n m rad kmf overall stiffness of the torque motor n m rad ζmf damping ratio wmf natural frequency of the torque motor rad s kan net stiffness of the torque motor n m rad ja armature baffle assembly s moment of inertia kg m2 ba damping coefficient of armature baffle assembly ka stiffness of spring tube n m rad δi differential current ma cdf flow coefficient of nozzle baffle kqp flow gain of nozzle flapper valve m2 s kcp pressure coefficient of nozzle flapper valve ctp total leakage coefficient of slide valve an area of the nozzle hole mm2 vp total volume of the input and output chambers of the slide valve mm³ q nominal working flow l min δq flow rate through the clearance between the spool and the valve sleeve l min q lp flow required for spool movement l min w area gradient of main slide valve mm δp throttle pressure on both sides of the orifice mpa plp pressure difference of the nozzle chamber load mpa x v displacement of spool mm xf0 zero gap between nozzle and baffle mm xf baffle displacement mm r distance between the center of nozzle and the center of spring pipe rotation mm b distance between the center of the feedback rod ball and the center of nozzle mm bv viscous friction coefficient of sliding valve βe bulk modulus of oil mpa a pressure viscosity coefficient tr the rise time s tp the peak time s mp the maximum pressure overshoot ts the setting time s h amplitude margin db γ phase margin wb bandwidth frequency rad s 1 introduction hydraulic system is used broadly in large scale underwater operations because of its large power to weight ratio and easy pressure compensation wang and chen 2013 electrohydraulic servo valve ehsv is a key component of the electrohydraulic servo system and can realize elector hydraulic signal conversion and power amplification its performance and correct use are directly related to the control accuracy and response speed of the entire system among them the double nozzle flapper electrohydraulic servo valve has high pressure sensitivity small temperature and pressure zero drift and good linearity of characteristics therefore it is widely used in underwater hydraulic systems at present the research of ehsv in extreme environments mainly focuses on the influence of temperature on the characteristics of ehsv yaobao 2008 there are few studies on ehsv under high hydrostatic pressure liu et al 2017 considered the deformation of seawater hydraulic axial piston motors in deep sea environments and found that the effect of deformation on the output torque of shapm is very obvious finally the effective seawater depth for normal operation is obtained in fact when ehsv is working in a deep sea environment there may be a risk that it cannot be used normally liu et al 2016 for example the valve port may be subject to wear zhang et al 2014 and even the oil flow rate may be reduced due to the high viscosity of the oil and the corrosive of the sea water may cause the seal of the spool and the valve sleeve to be damaged pérez mora et al 2015 the hydraulic components used in the hydraulic system are based on the ground environment and its working medium is hydraulic oil complex seawater environments not only lead to changes in hydraulic oil properties such as density elastic modulus and dynamic viscosity coefficients in addition in the deep sea environment higher hydrostatic pressure can lead to large deformation of the hydraulic element lewandowski and lowhaphandu 1998 which has a very adverse effect on the normal operation of the hydraulic system the most important thing is that the high hydrostatic pressure in deep sea environment will change the fit clearance of the spool valve making it unable to work properly however most of the existing studies only focus on changes in the characteristics of media and there is almost no consideration for deformation the valve used in this paper is a double nozzle flapper electrohydraulic servo valve rated flow rate is 60 l min to solve the problem of valve opening deformation in deep sea environment simulation calculations were carried out and its dynamic characteristics were studied since the clearance between the spool and the valve sleeve is a key parameter affecting its dynamic characteristics in deep sea environment the focus of the research is on the deformation of the valve sleeve in addition considering the influence of the flow field on the valve port use the simulation software to do fluid structure interaction analysis zhao et al 2015 this study analyzed different fitting gaps for different seawater depths in addition changes in the characteristics of the hydraulic oil were also introduced these results show that a certain seawater depth can make ehsv work normally 2 physical model of the ehsv fig 1 shows the structural schematic of ehsv the first stage hydraulic amplifier is a double nozzle flapper valve and the second stage hydraulic amplifier is a zero opening four way spool valve murphy jr and peter 1976 the valve uses a corrosion resistant alloy material to prevent excessive friction and wear for example the spool and the valve sleeve are made of cr12mov and the spring tube is made of 3j1 yuandao 2008 the rated pressure of ehsv is 21 mpa and the rated flow rate is 60 l min to simplify the analysis process the following assumptions were made when establishing the characteristic equations 1 friction force and transient hydrodynamic force are not considered when the spool moves 2 ignore slide valve leakage and influence of fluid quality 3 mathematic model of the ehsv fig 2 shows the force model of the armature baffle assembly dasgupta and murrenhoff 2011 li et al 2012 the electromagnetic torque output by the torque motor is 1 t d k t δ i k m θ where k t is the neutral electromagnetic torque coefficient of torque motor k m is the neutral magnetic spring stiffness of a torque motor k t δ i is the electromagnetic torque generated by differential current k m θ is the electromagnetic torque generated by the rotation of the armature it can be seen from fig 2 that under the action of the electromagnetic torque t d the equation of motion of the armature baffle assembly is 2 t d j a θ b a θ k a θ t l 1 t l 2 among them the load moment acting on the baffle of the armature baffle assembly is 3 t l 1 r p l p a n r 2 8 π c d f 2 p s x f 0 θ deflection of the feedback lever generates load moments for the armature baffle assembly as 4 t l 2 r b k f 1 r b θ x v where j a θ b a θ k a θ is the rotational moment of the armature baffle assembly k f1 is the spring stiffness of the feedback lever combine formulas 1 4 and obtain the motion equation of the armature baffle assembly through laplace transformation given by chunxing 1999 zhang and li 2014 5 k t δ i j a s 2 b a s k m f θ r b k f 1 x v r p l p a n among them k mf the total stiffness of the torque motor that is the overall stiffness 6 k m f k a n r b 2 k f 1 where k a n is the net stiffness of the torque motor 7 k a n k a k m 8 π c d f 2 p s x f 0 r 2 the nozzle flapper valve flow equation is expressed as 8 q l p k q p x f k c p p l p where k qp is the flow gain of nozzle baffle valve k cp is the pressure gain of nozzle baffle valve p lp is the pressure difference of the nozzle chamber load x f is the displacement of baffle and its relation to the rotation angle θ of armature is 9 x f r θ fig 3 shows the main slide valve model when the spool moves to the left the p port of the main spool valve relates to the a port which is the inlet throttle mode and the b port and the t port are connected which is the outlet throttle mode the spool valve flow equation is 10 q c d w x v 2 δ p ρ according to newton s second law the spool force balance equation can be listed as follows 11 m x v b v x v k f 2 x v a v p l p k f 1 r b x v where m is the equivalent mass of the spool including every motion parts m x v is the inertia force b v x v is the viscous damping force produced by the spool and valve sleeve k f 2 x v is stable hydrodynamic a v p l p is the force produced by the static pressures at the valve port k f 1 r b x v is the load of the feedback rod acting on the spool k f2 is stable hydrodynamic stiffness 12 k f 2 2 c v c d w x v δ p cos θ for ideal slide valve jet angle θ 69 spool flow continuity equation considering the compressibility and leakage in the nozzle chamber the flow required for the spool movement is 13 q l p a v x v c t p p l p v p 4 β e p l p where v p is the total volume of the input chamber and the output chamber c tp is the total leakage coefficient of the slide valve a v x v is the flow required to move the slide valve c t p p l p is the total leakage v p 4 β e p l p is the total compression flow equations 8 11 and 13 are the three basic equations of the slide valve given by chunxing 1999 zhang and li 2014 they fully describe the dynamic characteristics of the slide valve the transfer function of the slide valve can be derived from these three basic equations combined with the mathematical model of the torque motor and the three basic equations of the slide valve the circuit block diagram of the ehsv is obtained according to the block diagram the dynamic characteristics of ehsv can be analyzed by matlab simulink when considering the dynamic characteristics of the slide valve it is called a non simplified model when the dynamics of the slide valve is ignored it is called a simplified model in previous studies the transfer function was simplified in fact the dynamics of the slide valve will also be affects the dynamic characteristics of ehsv especially in deep sea environments the non simplified block diagram of ehsv is shown in fig 4 flow equation of slide valve with clearance 18 δ q π r c 2 w 32 μ δ p the parameter values used in this study are listed in table i 4 cfd simulation of ehsv under seawater pressures 4 1 simulation analysis of fluid domain deformation of ehsv in deep water environments is unavoidable particularly the clearance between the spool and the valve sleeve becomes smaller under high pressure which has a great influence on the dynamic characteristics of the servo valve considering the influence of the flow field on the clearance the deformation of the spool and valve sleeve was analyzed all simulations were performed using commercial software packages of ansys workbench 16 1 the fluid structure coupling module in the ansys workbench is used to load the pressure generated by the flow field onto the solid and then add the pressure of the seawater the three dimensional software was used to generate the cad model of the spool and the valve sleeve and it was imported into the dm module of the ansys workbench to obtain the flow channel the material of the spool and valve sleeve is cr12mov whose density is 7850 kg m3 grid generation of three dimensional models is an important step in simulation analysis the quality of the grids has a great influence on the accuracy of results and the solving speed this study uses the automatic method to generate the mesh lee 2015 and controls the mesh size to improve mesh quality using on proximity and curvature in the advance size function to refine the mesh the model completely includes 477236 nodes and 1871341 meshes the grid inclination is 0 22053 the orthogonal mass is 0 76376 and the mesh quality is 0 8374 the cfd model of the fluid domain is shown in fig 5 and more grids do not affect the simulation results in order to minimize the impact of changes in the number of grids on the calculation results grid independence verification is required therefore change the size of the grid and divide it into four different grids and select a fixed coordinate point 0 017 0 016 0 0113141 which is located at the valve port of the slide valve and the pressure value at this point is detected as shown in table ii when the number of grids is 1 87 million and 2 5 million the change in pressure is very small and it can be considered that the grid independence requirement is met when the number of grids is 1 87 million according to the actual situation the inlet and outlet of the fluid domain are all pressure boundaries due to the symmetry of the main spool valve when the spool moves toward one end the main spool valve p and port a are connected which is the inlet throttle mode and the port b and the port t are connected which is the outlet throttle mode in this paper the valve opening degree is 6 mm when the servo valve is idling the input pressure at port p is rated pressure 21 mpa and the output pressure at port t is 0 mpa pan et al 2011 in addition the inner and outer surfaces of the fluid domain in contact with the valve sleeve are set as fluid surface interfaces fsi the pressure based solver was selected and the pressure velocity coupling was processed using the simple algorithm on the ansys platform fluent was used to numerically solve the fluid domain and the pressure distribution in the fluid domain was obtained peng et al 2011 wang et al 2010 fig 6 and fig 7 show the pressure distribution of the fluid domain at a depth of 0 m from fig 7 a we can see that when the fluid enters the ehsv the pressure is maximum since the valve opening is small it can be regarded as an orifice and the pressure is reduced when the fluid enters the a chamber of the main valve at the sudden change of the orifice area the hydraulic oil is separated from the wall surface and forms a vortex at the valve angle fig 7 b is the same explanation 4 2 simulation analysis of solid domain since the pressure is the surface force there is an interference fit between the valve sleeve and the valve body and the clearance between the valve sleeve and the spool is matched therefore the equivalent of the seawater pressure is directly loaded on the valve sleeve in other words external pressure only affects the deformation of the valve sleeve and the flow field affects the spool and the valve sleeve hex dominant method was used to mesh the spool and valve sleeve and strictly control body sizing chen and stoffel 2004 the spool and valve sleeve models include a total of 456 945 nodes and 130 234 grids the finite element mesh of the valve sleeve and spool is shown in fig 8 according to the actual situation the simulation result of the fluid domain is loaded onto the outer surface of the spool and the inner surface of the valve sleeve as shown in fig 9 when working in a marine environment the valve sleeve is surrounded by surrounding fluid so that hydrostatic pressure is applied to all faces of the valve sleeve at different seawater depths fig 10 shows the deformation of the spool and the valve sleeve at a depth of 0 m the working medium is aviation hydraulic oil the physical parameters of which are shown in table iii as the depth of seawater increases the environmental pressure on the valve sleeve also increases at the same pressure the external force area of the valve sleeve is larger than the internal force area which will lead to a reduction in the clearance between the spool and the valve sleeve fig 11 shows the deformation of the spool when the seawater depth is 2000 m 5000 m 8000 m and 12 000 m fig 12 shows the deformation of the valve sleeve when the seawater depth is 2000 m 5000 m 8000 m and 12000 m hydrostatic pressures at different seawater depths are set by the bench the physical properties of the oil are different under different seawater depth conditions the viscosity and bulk modulus of an oil change with depth of seawater the dynamic viscosity of oil is calculated using formula μ p μ 0 e a p daugherty and ingersoll 1954 the letter a is coefficient the formula for the bulk modulus of hydraulic oil under deep sea conditions is 19 β e k f v f v a p a p v f v a k f p a p 2 among the formula k f 1800 mpa taking the proportion of mixed air at atmospheric pressure as 0 1 then the simplified expression is 20 β e 1800 1000 p a p 1000 1800 p a p 2 atmospheric pressure p a is 0 1 mpa calculate the approximate values of different depths as shown in table iv kajikawa and kobata 2017 wang et al 2008 from the cfd simulation results it can be verified that the outlet mass flow rate of the oil decreases with increasing oil viscosity the normal fit clearance between the spool and the valve sleeve is 5 μm pace et al 2013 fig 13 shows the different fitting clearances between the spool and the valve sleeve as the seawater pressure changes when the depth increased to 12 000 m the gap was reduced to 2 752 μm however for any object the surface is not smooth absolutely and its surface roughness is affected by machining accuracy and factory processing errors here the surface roughness of the spool and the valve sleeve are 0 1and 0 2 respectively therefore the minimum allowable thickness between the spool and the valve sleeve is approximately 0 3 μm when considering the above situation the risk of ehsv sticking increases so the operation of ehsv is more difficult to control at 12 000 mm seawater depth 5 dynamic performance simulation of ehsv 5 1 dynamic characteristics of ehsv at different sea depths simplified condition as the clearance between the spool and the valve sleeve decreases with the depth of the seawater the leakage flow also changes pan et al 2009 it can be seen from fig 14 that as the depth of seawater increases the leakage volume tends to nonlinear reduction the maximum leakage of the spool valve in the land environment is 1 1903 l min when the seawater depth reaches 12000 m the leakage amount decreases to 0 0235 l min the transfer function of the double nozzle flapper electrohydraulic servo valve can be derived from the servo valve correlation equations listed previously considering the uncertainty of the natural frequency of the torque motor use the parameters in table i to plot the dynamic characteristics of the ehsv at natural frequencies for different torque motors for a depth of 5000 m sea as shown in fig 15 it can be seen from the results that the natural frequency of torque motor has little influence on the time domain characteristics of ehsv therefore in this study the natural frequency of torque motor is 4600 rad s because the torque motor is a wet motor in the deep sea the physical properties of oil have a great influence on the damping ratio of torque motor thus affecting the dynamic characteristics of ehsv ye et al 2017 using matlab simulink to simulate the dynamic response of ehsv since the natural frequency of the slide valve is much larger than the natural frequency of the torque motor the transfer function of the servo valve is simplified taking a deep sea environment respectively 0 m not affected by water pressure 2000m 20 mpa 5000 m 50 mpa 8000 m 80 mpa and 12000m 120 mpa karunanidhi and singaperumal 2010 as shown in fig 16 it can be concluded from table v that in deep sea environment as the depth increases the rise time peak time and adjustment time of the response increase sharply and the overshoot is also greatly increased the response speed of the ehsv is slow and the response process is very unstable when the depth of the seawater reaches 12000m its overshoot exceeds 40 to analyze the dynamic characteristics of ehsv more clearly matlab simulink was used for frequency domain simulation and closed loop byrd diagram and open loop byrd diagram of ehsv were drawn as shown in fig 17 and fig 18 through the bode diagram of the closed loop transfer function it is easy to conclude that when the depth of seawater increases the system bandwidth w b is significantly reduced indicating that the response speed of the system is slowed down and it is also verified the results of the step response the relative stability in the frequency domain is usually measured by the phase margin γ and the amplitude margin h according to the open loop bode diagram the phase margins and amplitude margins at different seawater depths are listed as shown in table vi it can be seen from table v that the servo valve has an amplitude margin of more than 6 db which meets the requirements for using as the seawater depth increases the phase margin decreases when the seawater depth reaches 12000m the phase margin is 27 compared to the terrestrial environment the proportion of decline reached 63 51 the relative stability of the servo valve is gradually reduced with the seawater depth 5 2 dynamic characteristics of the ehsv at different sea depths non simplified condition the leakage of the slide valve caused by the deformation will also have a certain influence on the dynamic characteristics of the servo valve use the formulas listed earlier to calculate the leak coefficient using matlab simulink and simulating with a non simplified transfer function to analyze the effect of considering the change of medium characteristics and considering both the medium change and deformation on the dynamic response characteristics of the ehsv at the same time compared with the simplified step curve taking the sea deep pressure of 8000 m 80 mpa as an example as shown in fig 19 from fig 20 and table vii when considering the deformation of the slide valve the ehsv overshoot was 28 07 0 39 higher than without considering the ehsv deformation and its overshoot is 0 7 higher than the simplified conditions the results show that the stability of the ehsv is deteriorating the most important thing is that when considering the deformation the step curve of ehsv has been oscillating at the steady state position and its fluctuation range is 0 783 this is because the hydraulic damping ratio of the slide valve increases after the deformation is considered which leads to a reduction in the closed loop damping ratio of ehsv and then leads to oscillation of the step curve at the same time due to the deformation of the slide valve the adjustment time increased to 0 0145s indicating that the response speed of ehsv slowed down it can be seen from fig 20 and table viii that the deformation increased the amplitude margin of ehsv by 0 1 the deformation also has a slight effect on the amplitude margin and phase margin of the servo valve 6 conclusions considering the deformation of an ehsv with double nozzle flapper in deep sea environment the mathematical model of the ehsv was established in which the change of the clearance between the spool and the valve sleeve will have a great influence on the dynamic characteristics the deformation of the spool and the valve sleeve at different seawater depths are simulated and different fitting gap of different depths are obtained according to the simulation results the following conclusions can be drawn 1 as the depth of seawater increases the clearance between the spool and the valve sleeve decreases when the depth of the seawater is 12000m the clearance between the spool and the valve sleeve decreases to 2 752 μm the amount of deformation is nearly 50 compared to the terrestrial environment and when the shape error is considering the risk of ehsv sticking is increased 2 as the depth of seawater increases the leakage volume of the slide valve decreases when the depth of seawater reaches 12 000 m the leakage is reduced to 0 0235 l min compared with the terrestrial environment the leakage has decreased by 98 3 in the simplified dynamic response when the working sea depth varies from 0 m to 12000 m the settling time of response increased from 0 0031s to 0 0289s and the maximum overshoot of the ehsv increased from 0 to 45 47 so it is concluded that the ehsv is suited for work up to approximately 12 000 m deep in sea 4 considering changes of working media properties and reduction in fit clearance after deformation the overshoot of the ehsv at 8000 m is 28 07 which is 0 39 higher than considering the working medium properties only most importantly the response of ehsv oscillates near the steady state position and its fluctuation range reaches 0 783 this is because after the deformation is considered the hydraulic damping ratio of the main valve is increased resulting in a decrease in the closed loop damping ratio of the ehsv which in turn leads to oscillation of the step curve at the same time the adjustment time increased by 7 4 compared with only considering the change of media properties it indicates that the deformation makes the response speed of ehsv slow down and the stability deteriorates the results can be used to predict the use of ehsv in deep sea environments this research is very important for the study of seawater hydraulic systems acknowledgements this paper is supported by national natural science foundation of china no 51575200 n0 51509097 national key research and development program of china 2016yfc0304800 and natural science foundation of hubei province 2017cfc837 appendix a supplementary data the following is the supplementary data to this article multimedia component 1 multimedia component 1 appendix a supplementary data supplementary data to this article can be found online at https doi org 10 1016 j oceaneng 2019 04 038 
