index,text
23435,a highly efficient numerical procedure for the computer based prediction of nonlinear deep water ocean surface waves is presented to reconstruct consistent initial conditions from measured surface elevation data the approach employs a combination of a high order spectral method with krylov subspace techniques aiming at prediction horizons of a few minutes the method allows real time prediction of sea states for domains of several square kilometres taking the nonlinearity of the wave evolution equations into account leads to a substantial increase in accuracy of the prediction at only moderate additional cost keywords wave prediction high order spectral method nonlinear waves 1 introduction the dynamics of ocean waves is a highly multi faceted topic recently with improved observational and computational resources now at hand an increased interest has emerged in exploring the potential of computer simulation based phase resolved wave prediction predictions of ocean waves with a temporal horizon of a few minutes could have a large impact on a number of applications in ocean engineering methods to achieve short term phase resolving wave forecasting may be based on time series analysis fusco and ringwood 2010 birkholz et al 2015 faller et al 2013 kosleck or on solving the physical evolution equations of ocean wave using computer simulations in the latter case the prediction process consists of two stages the extraction of initial conditions from measurement data sometimes also called the assimilation process and the forward integration in time the methods can be further subdivided depending if they rely on linear or nonlinear models for the wave evolution examples of linear predictions are given in kosleck ruban 2016 naaijen and wijaya 2014 and wijaya et al 2015 the popularity of the use of linear water wave theory is mostly due to its computational efficiency the demand of wave predictions due to safety issues has recently caused an enhanced interest in nonlinear models in van groesen et al 2017 for example a nonlinear simulation is used for the simulation of extreme events however obtaining results faster than real time is challenging when using nonlinear simulation methods faller et al 2013 blondel et al 2010 blondel couprie et al 2013 the long computation times required for such models is mostly caused by the data assimilation procedure blondel couprie et al 2013 rather than by the forward integration in time in this work a nonlinear model based prediction tool for deep water surface gravity waves will be presented first a discussion of the prediction domain which has some relevance for the choice of the data acquisition arrangement is given then the simulation method is described the physical model is restricted to potential theory for which the equations for ocean surface waves are solved by applying a high order spectral method hos which was developed independently by west et al 1987 and dommermuth and yue 1987 since achieving real time simulation is one of the biggest challenges a new efficient approach for the data assimilation will be presented in section 2 3 initial surface elevation data as it may arise from measurements and the nonlinear wave evolution equations are used to determine consistent initial conditions for the subsequent time integration the process yields initial conditions for both the initial surface height as well as for initial surface potentials that are fully consistent with the nonlinear wave evolution by this the assimilation process copes with errors and incompleteness in initial measurement data compared to other approaches to the assimilation process the approach aims at high numerical efficiency necessary to reach real time simulations based on initial observational data after all methods have been introduced the approach is applied to two test cases 2 methods 2 1 prediction region for subsequent use we define the prediction region as the spatio temporal domain for which prediction can be accomplished for given measurement data in other words when the sea state is known for certain ranges in space and time the prediction region indicates which spatio temporal domain can be forecasted there has been a lot of work carried out related to the theoretical determination of the prediction region wu 2004 blondel couprie 2009 and kosleck to name only a few and a good overview of the topic is given in naaijen et al 2014 the aim of this section is not to discuss the details of the determination of the prediction region but rather to identify which kind of measurements should be employed for wave forecasting in general to yield a larger rather than a smaller prediction region the main component determining the size of the prediction region is the group velocity naaijen et al 2014 which is under the assumption of small wave steepness determined using linear theory clauss et al 1988 1 c g ω k 0 5 g k tanh k d 1 2 k d sinh 2 k d here ω is the angular frequency of the wave component and k is the corresponding wave number 2 π λ which is linked to the frequency by the linear dispersion relation 2 ω g k tanh k d with λ the wave length g the gravitational constant and d the water depth the key factors determining the spatio temporal prediction regions are the group velocities contained in the wave state at hand since at least from a perspective of linear wave propagation the group velocities determine the propagation of the energy content of the wave state so for example if a measurement is taken at a single given point for a certain interval in time a wedge like shape results for the prediction region it is bounded by the wave components with maximum and minimum group velocity involved as shown in fig 1 if there is more than one measurement point the prediction region expands wu 2004 as shown in fig 2 this suggests that a simple way to increase the prediction region is to collect data at more than a single spatial position or ideally over a whole spatial range of course the prediction region also increases when the measurement period of an individual device at a single position is increased however taking measurements at more spatial positions into account yields an additional benefit denoted as the extended prediction region in fig 2 to visualise this further and also to take into account that the identification of a maximum and minimum group velocity within a real sea states is always somehow ad hoc a more general definition of the prediction error can be employed for example wu 2004 has introduced the following quantitative energy based measure for the prediction error 3 ε 1 ω l ω h s ω d ω 0 s ω d ω where s ω denotes the power spectral density of the wave state under consideration i e s ω describes how the wave energy is distributed in frequency space here the two frequencies ω h and ω l are taken as the highest and the lowest relevant energy containing wave frequencies of the spectrum relevant for the prediction purpose in contrast to the qualitative definition of predictability as used above this definition introduces a scale on the unit interval comparing prediction regions or prediction errors for purely temporal and purely spatial domains of initial data by performing nonlinear simulations see fig 3 suggests that initial spatial measurements might form a good starting point although both approaches could in principle also be combined and our assimilation procedure described below to some extent also takes into account a certain temporal interval by including time derivatives in the following we focus on initial spatial measurement data 2 2 simulation method in this study the prediction of wave states is to be accomplished through numerical simulation of the wave field starting with spatial initial conditions as widely done we restrict the approach to potential flow neglecting viscosity and vorticity the flow field is given by the scalar velocity potential φ satisfying the laplace equation 4 δφ φ 0 the velocity field can be obtained by 5 u φ the kinematic and dynamic boundary conditions for the free surface lead to the nonlinear wave evolution equations we use it in the well known surface potential φ s form of zakharov 1968 6 η t x φ s x η w 1 x η x η 7 φ s t p f s ρ g η 1 2 x φ s x φ s 1 2 w 2 1 x η x η where η is the surface elevation w the vertical particle velocity at the free surface p f s the pressure at the free surface which will be set to zero in this work g is again the gravitational constant set to 9 81 m s 2 ρ is the density of the fluid and x is the horizontal derivative operator note that here x is a vector variable and subsequently the equations will be solved in general for the non unidirectional case where applicable in the following we will consider deep water for a layer of constant finite water depth a bottom boundary condition corresponding to vanishing vertical flow at the bottom would apply to solve the nonlinear equations 6 and 7 a high order spectral method hos will be used to achieve high computational efficiency our implementation is based on the perturbation series approach of dommermuth and yue 1987 and makes use of the order consistent formulation of west et al 1987 the coordinate system employed is a right handed one which has its x and y axis along the horizontal plane and the z axis pointing upwards the potential the surface potential and the surface elevation are expanded in the following way fulfilling equation 4 for periodic boundary conditions 8 φ x y z t v j a v j t exp i k v x exp i k j y exp k z 9 φ s x y t v j b v j t exp i k v x exp i k j y 10 η x y t v j c v j t exp i k v x exp i k j y where a v l b v l and c v l are time dependent expansion coefficients v and l are integers k v v 2 π l x and k j j 2 π l y and k k v 2 k j 2 are the components and the magnitude of the wave number vector and l x and l y are the side lengths of the computational box in x and y direction following the approach of dommermuth and yue 1987 the potential at a certain point in space can be expressed as a perturbation series with respect to the wave steepness ε h λ mei et al 2005 11 φ x y z m 1 φ m x y z where φ m o ε m are the perturbation potentials in general the series in equation 11 will be truncated after m terms if the potential at z 0 is expanded in a taylor series the potential at the free surface can be expressed in terms of the perturbation potentials 12 φ s x y m 1 m l 0 m m η l l l φ m x y z l z 0 when a solution for η and φ s is known equation 12 can be used to solve for the unknown perturbation potentials in an iterative manner 13 φ x y z 0 m 1 m φ m x y 0 w i t h φ 1 φ s φ m x y 0 l 1 m 1 η x y l l l φ m l x y z l z 0 w i t h m 2 3 m once this is done the yet unknown velocity w can in turn easily be approximated up to order m using a taylor series 14 w m x y m 1 m l 0 m m η l x y l l 1 φ m l x y z l 1 z 0 to enhance the stability of the hos method the order consistent formulation of west et al 1987 for the w dependent terms in equations 6 and 7 will be used 15 w 1 x η x η w m w m 2 x η x η 16 w 2 1 x η x η w m 2 w m 2 2 x η x η equations 6 and 7 are integrated in time with a fourth order runge kutta scheme the time step used is associated with a courant number of two using the linear phase velocity of the longest possible wave in the calculation domain to validate the implementation stokes waves i e collinear waves which have well documented properties have been used and will be discussed in the following fig 4 shows the convergence of w for the calculation of a stokes wave a wave steepness of k a 0 251 has been assumed the dependency on the nonlinear evaluation order m as well as on the resolution in x and y direction denoted by n x n y is shown using fenton 1988 as reference solution the ability of the computational method to achieve a faster than real time wave propagation faller et al 2013 is a crucial task for a prediction tool to give a measure for the used hos implementation the forecasted time will be divided by the computational time needed for the prediction this ratio is going to be called real time ratio subsequently in table 1 this ratio is presented for different orders of nonlinearity as well as resolutions which is the same for both dimensions in the wave plane the computational domain used is covering an area of 3600 by 3600 m and the sea state corresponds to a nonlinear regular deepwater wave having a length of 100 m and a height of 3 m the computations were done on an intel i7 5820k using all six cores available the parallelization scheme of the code is using openmp and is making use of the intel math kernel library implementation of the fft and ifft routines one should note that in our coding we have paid attention to efficient memory access which today is well known to be one of the key factors to obtain an efficient implementation this yields real time ratios larger than unity for almost all spatial resolutions and nonlinear truncation parameters considered the simulation approach chosen should thus be well suited for application within efficient sea state prediction approaches 2 3 determination of initial conditions to achieve real time capability in the whole prediction process not only the simulation itself needs to be highly efficient but also the determination of initial conditions from measurement data at present this aspect appears to be one of the key issues in the field the difficulties arise mostly from the fact that usually only surface elevation data is extracted from measurements like radar or lidar while for simulation also independent information about the flow field through a surface potential or the like is required to overcome this lack of information on initial conditions most approaches rely on a nonlinear optimisation procedure in wu 2004 blondel couprie 2009 the optimisation procedure is based on gradient free calculations by using the rosenbrock method or the hooke jeeves method for example even though these methods avoid the calculation of derivatives they result in optimisation procedures heavily relying on efficient evaluation of a large number of objective functions the evaluation of the objective function again requires a forward simulation using the hos method which in turn results in long computation times an improvement can be achieved by using the adjoint method aragh et al 2008 which still requires quite some forward simulations to determine suitable initial conditions in summary all optimisation based approaches require many forward simulations of the wave field to generate adequate initial conditions resulting in a non negligible if not dominating contribution to the overall computation time in this study we propose an alternative approach instead of relying on an optimisation procedure to obtain the required initial conditions we use a data assimilation procedure based on the full nonlinear wave evolution equation 6 which is linking η t η as well as φ s in a nonlinear manner we assume that surface elevation data is recorded over time such that temporal derivatives can be evaluated directly while a newton krylov method is employed see appendix 5 1 for details to obtain fields for surface elevation and surface potential consistent both with the nonlinear evolution equations and the data at hand the nonlinear residuum for the wave elevation initial value problem can be formulated in an efficient way by using the hos method which was described in section 2 2 in conjunction with the measurement data at hand and can be formulated as follows 17 f φ r e c o n s η m e a s t x φ r e c o n s x η m e a s w m φ r e c o n s 1 x η m e a s x η m e a s where w m φ r e c o n s 1 x η m e a s x η m e a s is formulated in the order consistent approach of west west et al 1987 η m e a s is the measured surface elevation interpolated to the compute grid and φ r e c o n s is the state vector of the system at hand to start the newton iterations the initial approximation of φ s is chosen as the linear solution of equation 6 the transformation of the measurement data to the computing grid is accomplished by a fourth order lagrange interpolation scheme points of the calculation domain that are not within the measurement domain are assumed to have a vanishing surface elevation to avoid high frequency noise caused by the interpolation cut off which is extremely undesirable due to the extensive use of the fft and ifft the borders of the measurement areas are smoothed using a spatial filter obeying the following equation 18 filter x y f x δ x σ l x f y δ y σ l y f pos δ σ l 1 2 tanh p o s δ σ tanh p o s l δ σ to show how the method converges for different nonlinear evaluation orders and varying spatial resolution a convergence study has been conducted using fully nonlinear stokes waves fenton 1988 as a reference see fig 5 it turns out that with increasing nonlinear order the relative errors decrease substantially while the spatial resolution plays a secondary role only calculation times needed for the total assimilation process including interpolation spatial filtering as well as inversion are listed in table 2 for different nonlinear approximation orders and spatial resolutions the calculation domain was set to be twice as large as the measurement dimension in each direction resulting in 3600 meters squared and the sea state was the same as in section 2 2 for the determination of the prediction timings the iterative process was aborted once the residuum dropped below 10 4 it turns out that very satisfying numerical efficiencies result 3 results to demonstrate the whole process consisting of reconstruction and prediction it is applied to two nonlinear irregular sea state test cases the first case corresponds to a case with a single dominant peak in the wavevector domain while the second case shows two separate local maxima forming a model for a typical crossing sea the reference wave state is obtained numerically by the hos method too but calculated on a much larger spatial domain from this time dependent irregular sea state an initial condition is extracted at a certain time according to how real field measurements would work and then the predictions are compared to the reference evolution to start the comparison jonswap reference spectra are used see appendix 5 2 and 5 3 for details on the spectra used here and on the procedure to obtain initial conditions from them it is assumed that the initially linear input spectrum will evolve to a nonlinear sea state while being driven forward in time using the numerical approximation of the wave evolution equations as usual a temporal blending in of nonlinear terms as first performed in dommermuth 2000 is applied to initiate the nonlinear evolution the period of the blending in of the nonlinear terms was chosen to be about 12 times as long as the peak period of the spectrum to characterise the effect and importance of nonlinearity for the wave state we determine a simple correlation measure between the nonlinear state and the state that would have been obtained by evolution due to a linear model we use equation 19 which is based on a sliding integration window of size t 25 s around the point in time to be considered in the following the measure will be evaluated at a specific point in space 19 c o r r t t t t t η l i n τ η n o n l i n τ d τ t t t t η l i n 2 τ d τ t t t t η n o n l i n 2 τ d τ it shows that the nonlinear and the linear wave states become uncorrelated after a certain time which is due to the nonlinearity of the evolution equations examples for this are given in appendix 5 4 for stokes waves and in appendix 5 5 for the peregrine breather in the following two irregular wave states are analysed 3 1 unimodal spectrum prediction the first test case to be presented is based on a jonswap spectrum with a peak period of 8 4 s a significant wave height of three and a half meters for which a graphical presentation can be found in the appendix for the angular spreading it is assumed that the seastate behaves according to a generalised cosine spreading with a factor of four the mean travelling direction is along the negative x axis the generation of the nonlinear sea state is performed using a calculation domain of 7 km in the mean wave direction and half of that in the transverse direction a spatial discretization of 2048 collocation points in x and 1024 points in y direction and a nonlinear evolution order m of six was employed the correlation of linear and nonlinear simulation results over time is presented in fig 6 the discrepancy between the surface elevations for the two simulations is continuously increasing and leads to a complete loss of correlation of the two signals after about 500 s this result suggests that for the numerical prediction nonlinearity will probably have to be taken into account although according to this correlation measure the nonlinear and the linear states seem to become uncorrelated only after about 500 s we will see subsequently from a more elaborate comparison of spatio temporal errors that the situation is even much worse than what could be expected from this estimate for correlation times the prediction process is initialized using measurement data acquired from the nonlinear sea state after 50 min of simulated real time the extent of the measurement area is 1800 metres in x and y directions with a spacing of six meters between each measurement point on a cartesian grid the reconstruction of the wave field and the forward simulation for the prediction are done using a nonlinear evolution order of four m 4 and a calculation domain consisting of 512 grid points in each direction and twice the length of the measurement domain to avoid wave interaction caused by the periodic boundary conditions of the computational box the assimilation procedure is carried out within 0 6 s and the forward simulation is requires 23 4 s resulting in an overall calculation time of 24 s for a prediction of 120 s into the future this gives a lead time of about 100 s and a real time ratio of about 5 in fig 7 the surface elevation at different times can be seen for the reference as well as for the linear and nonlinear predictions in fig 8 the errors of the forecasted surface elevations are shown when comparing the surface elevation graphs with the reference both the linear and the nonlinear prediction suggest satisfying results however when the absolute prediction errors are compared the differences between linear and nonlinear prediction are striking the nonlinear prediction gives remarkably better results both in terms of instantaneous wave height prediction as well as in terms of prediction horizon while after about 60 s the differences between the linear and nonlinear prediction results almost seem undistinguishable to the eye when viewing the surface height plots the error plots already reveal substantial errors of the linear prediction after 120 s the error plots suggests that there is still a range of valid forecasting for the nonlinear approach while the linear one has completely lost significance 3 2 bimodal spectrum prediction the second test case is a bimodal sea state characterised by two peaks at different wavevectors to achieve this a superposition of two jonswap spectra is applied to obtain the irregular reference wave state the first spectrum is identical to the one presented before the second spectrum has a mean wave direction tilted by 30 with respect to the main spectrum a peak period of seven seconds a significant wave height of one and a half meters a graphical representation can be found in the appendix the spreading of the seastate is in accordance to a generalised cosine spreading with a factor of two to ensure that a nonlinear sea state is used for the wave prediction process the same procedure as for the first test case is applied the initial state characterised by the described spectrum is allowed to evolve for 50 min the calculation domain has a length of 14 km in mean wave direction of the main spectrum and 7 km in the orthogonal direction both directions are discretized using 2048 grid points the correlation of the linear to the nonlinear sea state is presented in fig 9 again the linear and nonlinear evolution decorrelate over time but here the signal becomes uncorrelated after about 250 s which is about half the time of the previous test case the predictions are performed by using a linear and a nonlinear model by setting the nonlinearity parameter to m 1 and m 4 respectively the forecasted wave elevations for both of the models are shown in fig 10 and the resulting errors can be viewed at in fig 11 the required computation time is about the same as for the example before again it turns out that the nonlinear prediction becomes uncorrelated with the prediction of a linearised model after some time this suggests that a linear simulation approach will result in a prediction horizon that is much shorter than what can be achieved with a simulation approach that takes the nonlinear wave evolution into account 4 summary conclusions and outlook we have demonstrated an efficient way to suitably reconstruct initial conditions for numerical simulation from spatial sea surface elevation data through an assimilation procedure based on newton krylov subspace projections to warrant consistency with the nonlinear wave evolution equations we have demonstrated that two dimensional sea state calculations based on potential theory can today be performed highly efficiently when implemented properly moreover our findings clearly suggest that nonlinear simulation is preferable to linear simulation in forecasting with respect to prediction horizons the nonlinear wave reconstruction and simulation needed is of course more costly in terms of computing time than a purely linear approach but the add on cost is relatively low and well manageable today from these considerations and findings we conclude that with a view to numerical computation real time two dimensional nonlinear sea state prediction is today achievable on present software and hardware architectures the prediction times for which a satisfactory correlation between prediction and actual sea state development can be expected seems to be on the order of a few minutes although the findings are promising from the perspective of computer based modelling and simulation further work is required to develop a fully applicable and usable sea state prediction capability first the present study suggests that today the reconstruction and prediction process itself is already efficient enough to allow for real time use however the issue of realtime collection of actual seastate surface elevation data also with the complications of incomplete data and measurement errors is far from solved future work is required to provide more suitable data which in turn might lead to more algorithmic tasks and challenges to bridge the gap between measurement and prediction in an integrated manner this might also require inclusion of further wave physics phenomena such as e g wave breaking and air sea interaction 5 appendix 5 1 jacobian free newton krylov method although newton krylov methods are now well described in literature knoll and keyes 2004 for completeness we will sketch the approach briefly the starting point is the classical newton algorithm to solve nonlinear equations of the form 20 f x 0 an incremental improvement δ x at a certain iteration step k can be found by solving 21 j x k δ x k f x k where j x k is the jakobian based on the present approximation x k in our application f x is the nonlinear residual function of the nonlinear wave evolution equation based on a hos scheme which we will see can be formulated as a vector valued variable as follows 22 f x f 1 x 1 f 2 x 2 f n x n for this problem the jacobian could in principle be obtained as 23 j i j x k f i x k x j k and an improved approximation to the solution of the nonlinear equation 20 at iteration k 1 could then be obtained as 24 x k 1 x k δ x k the explicit calculation of the jakobian as well as storing it is highly undesirable because of the computating time and memory needed a concept that is avoiding these unwanted aspects is the jacobian free newton krylov jfnk method knoll and keyes 2004 which is based on a krylov basis space construction the initial residuum r 0 to equation 21 can be found as 25 r 0 f x k j x k δ x 0 the solution to equation 21 is then chosen from the krylov subspace 26 k j s p a n r 0 j x k r 0 j x k 2 r 0 j x k j 1 r 0 as a linear combination 27 δ x j δ x 0 i 0 j 1 β i j x k i r 0 the coefficients β i are determined by minimizing the residuum j x δ x j f x 2 which is done by using the generalised minimal residual method gmres for implementation details see saad 2003 as can be seen from equation 27 it is not the jakobian itself that is required only matrix vector products of the form j v are needed for the determination of the solution these products can be computed in an approximative manner by knoll and keyes 2004 28 j v f x k ε v f x k ε where ε is a parameter small enough to ensure a good approximation of the derivative but large enough not to be affected by machine precision in our present work it turned out that ε 10 6 for all calculations was a satisfactory choice the jfnk method makes it possible to find a solution to the nonlinear problem 20 by evaluating the nonlinear residuums function only 5 2 formulation of jonswap spectra the formulation of the jonswap spectral energy distribution we apply is the same as in goda 1997 29 s f β j h 1 3 2 t p 4 f 5 exp 1 25 t p 4 f 4 γ exp t p f 1 2 2 σ 2 where h 1 3 is the significant wave height t p is the spectral peak period γ the peak enhancement factor set to 3 3 and β j and σ are given by 30 β j 0 0624 1 094 0 01915 ln γ 0 23 0 0336 γ 0 1815 1 γ 1 31 σ 0 07 f f p 0 09 f f p the spreading function g θ is formulated in the form of a generalised cosine goda 1997 32 g θ 2 l ˆ π 2 l ˆ 1 cos 2 l ˆ θ θ m θ θ m π 2 0 θ θ m π 2 with the spreading factor l ˆ and the mean θ m wave energy transportation direction in fig 12 the jonswap spectra used in the example cases are presented 5 3 initialisation of wave amplitudes from spectral data for the hos the amplitude expansions in wave number space are initialized according to the method presented in wu 2004 the energy distribution over frequency is calculated following equation 29 or any other suitable frequency distribution the distribution is then transformed into a wave number spectrum by the using the jakobian of the transformation 5 4 prediction errors for stokes waves the prediction error of a stokes wave with a wavelength of 100 meters and a wave height of eight meters can be seen in fig 13 for the ease of comparing the various graphs and results the scale has been clipped at 2 meters of absolute error although larger errors do occur this clipping allows to focus on small and emerging errors and demonstrates the very capability of the presented nonlinear prediction tool as a reference solution a hos simulation with m 6 was used it is apparent that the error due to neglecting nonlinearities is considerable 5 5 prediction errors for peregrine breathers as another test case for prediction errors the peregrine breather has be studied the initial conditions are generated according to chabchoub et al 2011 the carrier wave here has a wavelength of 100 meters and an amplitude of one meter in fig 14 the error of the surface elevation over space and time can be seen for the linear and the nonlinear prediction process as to be expected the intrinsically nonlinear focusing mechanism of the peregrine breather is captured properly by the nonlinear prediction method only while the errors remain quite small outside the focusing zone in the focusing zone the errors become quite substantial quickly 
23435,a highly efficient numerical procedure for the computer based prediction of nonlinear deep water ocean surface waves is presented to reconstruct consistent initial conditions from measured surface elevation data the approach employs a combination of a high order spectral method with krylov subspace techniques aiming at prediction horizons of a few minutes the method allows real time prediction of sea states for domains of several square kilometres taking the nonlinearity of the wave evolution equations into account leads to a substantial increase in accuracy of the prediction at only moderate additional cost keywords wave prediction high order spectral method nonlinear waves 1 introduction the dynamics of ocean waves is a highly multi faceted topic recently with improved observational and computational resources now at hand an increased interest has emerged in exploring the potential of computer simulation based phase resolved wave prediction predictions of ocean waves with a temporal horizon of a few minutes could have a large impact on a number of applications in ocean engineering methods to achieve short term phase resolving wave forecasting may be based on time series analysis fusco and ringwood 2010 birkholz et al 2015 faller et al 2013 kosleck or on solving the physical evolution equations of ocean wave using computer simulations in the latter case the prediction process consists of two stages the extraction of initial conditions from measurement data sometimes also called the assimilation process and the forward integration in time the methods can be further subdivided depending if they rely on linear or nonlinear models for the wave evolution examples of linear predictions are given in kosleck ruban 2016 naaijen and wijaya 2014 and wijaya et al 2015 the popularity of the use of linear water wave theory is mostly due to its computational efficiency the demand of wave predictions due to safety issues has recently caused an enhanced interest in nonlinear models in van groesen et al 2017 for example a nonlinear simulation is used for the simulation of extreme events however obtaining results faster than real time is challenging when using nonlinear simulation methods faller et al 2013 blondel et al 2010 blondel couprie et al 2013 the long computation times required for such models is mostly caused by the data assimilation procedure blondel couprie et al 2013 rather than by the forward integration in time in this work a nonlinear model based prediction tool for deep water surface gravity waves will be presented first a discussion of the prediction domain which has some relevance for the choice of the data acquisition arrangement is given then the simulation method is described the physical model is restricted to potential theory for which the equations for ocean surface waves are solved by applying a high order spectral method hos which was developed independently by west et al 1987 and dommermuth and yue 1987 since achieving real time simulation is one of the biggest challenges a new efficient approach for the data assimilation will be presented in section 2 3 initial surface elevation data as it may arise from measurements and the nonlinear wave evolution equations are used to determine consistent initial conditions for the subsequent time integration the process yields initial conditions for both the initial surface height as well as for initial surface potentials that are fully consistent with the nonlinear wave evolution by this the assimilation process copes with errors and incompleteness in initial measurement data compared to other approaches to the assimilation process the approach aims at high numerical efficiency necessary to reach real time simulations based on initial observational data after all methods have been introduced the approach is applied to two test cases 2 methods 2 1 prediction region for subsequent use we define the prediction region as the spatio temporal domain for which prediction can be accomplished for given measurement data in other words when the sea state is known for certain ranges in space and time the prediction region indicates which spatio temporal domain can be forecasted there has been a lot of work carried out related to the theoretical determination of the prediction region wu 2004 blondel couprie 2009 and kosleck to name only a few and a good overview of the topic is given in naaijen et al 2014 the aim of this section is not to discuss the details of the determination of the prediction region but rather to identify which kind of measurements should be employed for wave forecasting in general to yield a larger rather than a smaller prediction region the main component determining the size of the prediction region is the group velocity naaijen et al 2014 which is under the assumption of small wave steepness determined using linear theory clauss et al 1988 1 c g ω k 0 5 g k tanh k d 1 2 k d sinh 2 k d here ω is the angular frequency of the wave component and k is the corresponding wave number 2 π λ which is linked to the frequency by the linear dispersion relation 2 ω g k tanh k d with λ the wave length g the gravitational constant and d the water depth the key factors determining the spatio temporal prediction regions are the group velocities contained in the wave state at hand since at least from a perspective of linear wave propagation the group velocities determine the propagation of the energy content of the wave state so for example if a measurement is taken at a single given point for a certain interval in time a wedge like shape results for the prediction region it is bounded by the wave components with maximum and minimum group velocity involved as shown in fig 1 if there is more than one measurement point the prediction region expands wu 2004 as shown in fig 2 this suggests that a simple way to increase the prediction region is to collect data at more than a single spatial position or ideally over a whole spatial range of course the prediction region also increases when the measurement period of an individual device at a single position is increased however taking measurements at more spatial positions into account yields an additional benefit denoted as the extended prediction region in fig 2 to visualise this further and also to take into account that the identification of a maximum and minimum group velocity within a real sea states is always somehow ad hoc a more general definition of the prediction error can be employed for example wu 2004 has introduced the following quantitative energy based measure for the prediction error 3 ε 1 ω l ω h s ω d ω 0 s ω d ω where s ω denotes the power spectral density of the wave state under consideration i e s ω describes how the wave energy is distributed in frequency space here the two frequencies ω h and ω l are taken as the highest and the lowest relevant energy containing wave frequencies of the spectrum relevant for the prediction purpose in contrast to the qualitative definition of predictability as used above this definition introduces a scale on the unit interval comparing prediction regions or prediction errors for purely temporal and purely spatial domains of initial data by performing nonlinear simulations see fig 3 suggests that initial spatial measurements might form a good starting point although both approaches could in principle also be combined and our assimilation procedure described below to some extent also takes into account a certain temporal interval by including time derivatives in the following we focus on initial spatial measurement data 2 2 simulation method in this study the prediction of wave states is to be accomplished through numerical simulation of the wave field starting with spatial initial conditions as widely done we restrict the approach to potential flow neglecting viscosity and vorticity the flow field is given by the scalar velocity potential φ satisfying the laplace equation 4 δφ φ 0 the velocity field can be obtained by 5 u φ the kinematic and dynamic boundary conditions for the free surface lead to the nonlinear wave evolution equations we use it in the well known surface potential φ s form of zakharov 1968 6 η t x φ s x η w 1 x η x η 7 φ s t p f s ρ g η 1 2 x φ s x φ s 1 2 w 2 1 x η x η where η is the surface elevation w the vertical particle velocity at the free surface p f s the pressure at the free surface which will be set to zero in this work g is again the gravitational constant set to 9 81 m s 2 ρ is the density of the fluid and x is the horizontal derivative operator note that here x is a vector variable and subsequently the equations will be solved in general for the non unidirectional case where applicable in the following we will consider deep water for a layer of constant finite water depth a bottom boundary condition corresponding to vanishing vertical flow at the bottom would apply to solve the nonlinear equations 6 and 7 a high order spectral method hos will be used to achieve high computational efficiency our implementation is based on the perturbation series approach of dommermuth and yue 1987 and makes use of the order consistent formulation of west et al 1987 the coordinate system employed is a right handed one which has its x and y axis along the horizontal plane and the z axis pointing upwards the potential the surface potential and the surface elevation are expanded in the following way fulfilling equation 4 for periodic boundary conditions 8 φ x y z t v j a v j t exp i k v x exp i k j y exp k z 9 φ s x y t v j b v j t exp i k v x exp i k j y 10 η x y t v j c v j t exp i k v x exp i k j y where a v l b v l and c v l are time dependent expansion coefficients v and l are integers k v v 2 π l x and k j j 2 π l y and k k v 2 k j 2 are the components and the magnitude of the wave number vector and l x and l y are the side lengths of the computational box in x and y direction following the approach of dommermuth and yue 1987 the potential at a certain point in space can be expressed as a perturbation series with respect to the wave steepness ε h λ mei et al 2005 11 φ x y z m 1 φ m x y z where φ m o ε m are the perturbation potentials in general the series in equation 11 will be truncated after m terms if the potential at z 0 is expanded in a taylor series the potential at the free surface can be expressed in terms of the perturbation potentials 12 φ s x y m 1 m l 0 m m η l l l φ m x y z l z 0 when a solution for η and φ s is known equation 12 can be used to solve for the unknown perturbation potentials in an iterative manner 13 φ x y z 0 m 1 m φ m x y 0 w i t h φ 1 φ s φ m x y 0 l 1 m 1 η x y l l l φ m l x y z l z 0 w i t h m 2 3 m once this is done the yet unknown velocity w can in turn easily be approximated up to order m using a taylor series 14 w m x y m 1 m l 0 m m η l x y l l 1 φ m l x y z l 1 z 0 to enhance the stability of the hos method the order consistent formulation of west et al 1987 for the w dependent terms in equations 6 and 7 will be used 15 w 1 x η x η w m w m 2 x η x η 16 w 2 1 x η x η w m 2 w m 2 2 x η x η equations 6 and 7 are integrated in time with a fourth order runge kutta scheme the time step used is associated with a courant number of two using the linear phase velocity of the longest possible wave in the calculation domain to validate the implementation stokes waves i e collinear waves which have well documented properties have been used and will be discussed in the following fig 4 shows the convergence of w for the calculation of a stokes wave a wave steepness of k a 0 251 has been assumed the dependency on the nonlinear evaluation order m as well as on the resolution in x and y direction denoted by n x n y is shown using fenton 1988 as reference solution the ability of the computational method to achieve a faster than real time wave propagation faller et al 2013 is a crucial task for a prediction tool to give a measure for the used hos implementation the forecasted time will be divided by the computational time needed for the prediction this ratio is going to be called real time ratio subsequently in table 1 this ratio is presented for different orders of nonlinearity as well as resolutions which is the same for both dimensions in the wave plane the computational domain used is covering an area of 3600 by 3600 m and the sea state corresponds to a nonlinear regular deepwater wave having a length of 100 m and a height of 3 m the computations were done on an intel i7 5820k using all six cores available the parallelization scheme of the code is using openmp and is making use of the intel math kernel library implementation of the fft and ifft routines one should note that in our coding we have paid attention to efficient memory access which today is well known to be one of the key factors to obtain an efficient implementation this yields real time ratios larger than unity for almost all spatial resolutions and nonlinear truncation parameters considered the simulation approach chosen should thus be well suited for application within efficient sea state prediction approaches 2 3 determination of initial conditions to achieve real time capability in the whole prediction process not only the simulation itself needs to be highly efficient but also the determination of initial conditions from measurement data at present this aspect appears to be one of the key issues in the field the difficulties arise mostly from the fact that usually only surface elevation data is extracted from measurements like radar or lidar while for simulation also independent information about the flow field through a surface potential or the like is required to overcome this lack of information on initial conditions most approaches rely on a nonlinear optimisation procedure in wu 2004 blondel couprie 2009 the optimisation procedure is based on gradient free calculations by using the rosenbrock method or the hooke jeeves method for example even though these methods avoid the calculation of derivatives they result in optimisation procedures heavily relying on efficient evaluation of a large number of objective functions the evaluation of the objective function again requires a forward simulation using the hos method which in turn results in long computation times an improvement can be achieved by using the adjoint method aragh et al 2008 which still requires quite some forward simulations to determine suitable initial conditions in summary all optimisation based approaches require many forward simulations of the wave field to generate adequate initial conditions resulting in a non negligible if not dominating contribution to the overall computation time in this study we propose an alternative approach instead of relying on an optimisation procedure to obtain the required initial conditions we use a data assimilation procedure based on the full nonlinear wave evolution equation 6 which is linking η t η as well as φ s in a nonlinear manner we assume that surface elevation data is recorded over time such that temporal derivatives can be evaluated directly while a newton krylov method is employed see appendix 5 1 for details to obtain fields for surface elevation and surface potential consistent both with the nonlinear evolution equations and the data at hand the nonlinear residuum for the wave elevation initial value problem can be formulated in an efficient way by using the hos method which was described in section 2 2 in conjunction with the measurement data at hand and can be formulated as follows 17 f φ r e c o n s η m e a s t x φ r e c o n s x η m e a s w m φ r e c o n s 1 x η m e a s x η m e a s where w m φ r e c o n s 1 x η m e a s x η m e a s is formulated in the order consistent approach of west west et al 1987 η m e a s is the measured surface elevation interpolated to the compute grid and φ r e c o n s is the state vector of the system at hand to start the newton iterations the initial approximation of φ s is chosen as the linear solution of equation 6 the transformation of the measurement data to the computing grid is accomplished by a fourth order lagrange interpolation scheme points of the calculation domain that are not within the measurement domain are assumed to have a vanishing surface elevation to avoid high frequency noise caused by the interpolation cut off which is extremely undesirable due to the extensive use of the fft and ifft the borders of the measurement areas are smoothed using a spatial filter obeying the following equation 18 filter x y f x δ x σ l x f y δ y σ l y f pos δ σ l 1 2 tanh p o s δ σ tanh p o s l δ σ to show how the method converges for different nonlinear evaluation orders and varying spatial resolution a convergence study has been conducted using fully nonlinear stokes waves fenton 1988 as a reference see fig 5 it turns out that with increasing nonlinear order the relative errors decrease substantially while the spatial resolution plays a secondary role only calculation times needed for the total assimilation process including interpolation spatial filtering as well as inversion are listed in table 2 for different nonlinear approximation orders and spatial resolutions the calculation domain was set to be twice as large as the measurement dimension in each direction resulting in 3600 meters squared and the sea state was the same as in section 2 2 for the determination of the prediction timings the iterative process was aborted once the residuum dropped below 10 4 it turns out that very satisfying numerical efficiencies result 3 results to demonstrate the whole process consisting of reconstruction and prediction it is applied to two nonlinear irregular sea state test cases the first case corresponds to a case with a single dominant peak in the wavevector domain while the second case shows two separate local maxima forming a model for a typical crossing sea the reference wave state is obtained numerically by the hos method too but calculated on a much larger spatial domain from this time dependent irregular sea state an initial condition is extracted at a certain time according to how real field measurements would work and then the predictions are compared to the reference evolution to start the comparison jonswap reference spectra are used see appendix 5 2 and 5 3 for details on the spectra used here and on the procedure to obtain initial conditions from them it is assumed that the initially linear input spectrum will evolve to a nonlinear sea state while being driven forward in time using the numerical approximation of the wave evolution equations as usual a temporal blending in of nonlinear terms as first performed in dommermuth 2000 is applied to initiate the nonlinear evolution the period of the blending in of the nonlinear terms was chosen to be about 12 times as long as the peak period of the spectrum to characterise the effect and importance of nonlinearity for the wave state we determine a simple correlation measure between the nonlinear state and the state that would have been obtained by evolution due to a linear model we use equation 19 which is based on a sliding integration window of size t 25 s around the point in time to be considered in the following the measure will be evaluated at a specific point in space 19 c o r r t t t t t η l i n τ η n o n l i n τ d τ t t t t η l i n 2 τ d τ t t t t η n o n l i n 2 τ d τ it shows that the nonlinear and the linear wave states become uncorrelated after a certain time which is due to the nonlinearity of the evolution equations examples for this are given in appendix 5 4 for stokes waves and in appendix 5 5 for the peregrine breather in the following two irregular wave states are analysed 3 1 unimodal spectrum prediction the first test case to be presented is based on a jonswap spectrum with a peak period of 8 4 s a significant wave height of three and a half meters for which a graphical presentation can be found in the appendix for the angular spreading it is assumed that the seastate behaves according to a generalised cosine spreading with a factor of four the mean travelling direction is along the negative x axis the generation of the nonlinear sea state is performed using a calculation domain of 7 km in the mean wave direction and half of that in the transverse direction a spatial discretization of 2048 collocation points in x and 1024 points in y direction and a nonlinear evolution order m of six was employed the correlation of linear and nonlinear simulation results over time is presented in fig 6 the discrepancy between the surface elevations for the two simulations is continuously increasing and leads to a complete loss of correlation of the two signals after about 500 s this result suggests that for the numerical prediction nonlinearity will probably have to be taken into account although according to this correlation measure the nonlinear and the linear states seem to become uncorrelated only after about 500 s we will see subsequently from a more elaborate comparison of spatio temporal errors that the situation is even much worse than what could be expected from this estimate for correlation times the prediction process is initialized using measurement data acquired from the nonlinear sea state after 50 min of simulated real time the extent of the measurement area is 1800 metres in x and y directions with a spacing of six meters between each measurement point on a cartesian grid the reconstruction of the wave field and the forward simulation for the prediction are done using a nonlinear evolution order of four m 4 and a calculation domain consisting of 512 grid points in each direction and twice the length of the measurement domain to avoid wave interaction caused by the periodic boundary conditions of the computational box the assimilation procedure is carried out within 0 6 s and the forward simulation is requires 23 4 s resulting in an overall calculation time of 24 s for a prediction of 120 s into the future this gives a lead time of about 100 s and a real time ratio of about 5 in fig 7 the surface elevation at different times can be seen for the reference as well as for the linear and nonlinear predictions in fig 8 the errors of the forecasted surface elevations are shown when comparing the surface elevation graphs with the reference both the linear and the nonlinear prediction suggest satisfying results however when the absolute prediction errors are compared the differences between linear and nonlinear prediction are striking the nonlinear prediction gives remarkably better results both in terms of instantaneous wave height prediction as well as in terms of prediction horizon while after about 60 s the differences between the linear and nonlinear prediction results almost seem undistinguishable to the eye when viewing the surface height plots the error plots already reveal substantial errors of the linear prediction after 120 s the error plots suggests that there is still a range of valid forecasting for the nonlinear approach while the linear one has completely lost significance 3 2 bimodal spectrum prediction the second test case is a bimodal sea state characterised by two peaks at different wavevectors to achieve this a superposition of two jonswap spectra is applied to obtain the irregular reference wave state the first spectrum is identical to the one presented before the second spectrum has a mean wave direction tilted by 30 with respect to the main spectrum a peak period of seven seconds a significant wave height of one and a half meters a graphical representation can be found in the appendix the spreading of the seastate is in accordance to a generalised cosine spreading with a factor of two to ensure that a nonlinear sea state is used for the wave prediction process the same procedure as for the first test case is applied the initial state characterised by the described spectrum is allowed to evolve for 50 min the calculation domain has a length of 14 km in mean wave direction of the main spectrum and 7 km in the orthogonal direction both directions are discretized using 2048 grid points the correlation of the linear to the nonlinear sea state is presented in fig 9 again the linear and nonlinear evolution decorrelate over time but here the signal becomes uncorrelated after about 250 s which is about half the time of the previous test case the predictions are performed by using a linear and a nonlinear model by setting the nonlinearity parameter to m 1 and m 4 respectively the forecasted wave elevations for both of the models are shown in fig 10 and the resulting errors can be viewed at in fig 11 the required computation time is about the same as for the example before again it turns out that the nonlinear prediction becomes uncorrelated with the prediction of a linearised model after some time this suggests that a linear simulation approach will result in a prediction horizon that is much shorter than what can be achieved with a simulation approach that takes the nonlinear wave evolution into account 4 summary conclusions and outlook we have demonstrated an efficient way to suitably reconstruct initial conditions for numerical simulation from spatial sea surface elevation data through an assimilation procedure based on newton krylov subspace projections to warrant consistency with the nonlinear wave evolution equations we have demonstrated that two dimensional sea state calculations based on potential theory can today be performed highly efficiently when implemented properly moreover our findings clearly suggest that nonlinear simulation is preferable to linear simulation in forecasting with respect to prediction horizons the nonlinear wave reconstruction and simulation needed is of course more costly in terms of computing time than a purely linear approach but the add on cost is relatively low and well manageable today from these considerations and findings we conclude that with a view to numerical computation real time two dimensional nonlinear sea state prediction is today achievable on present software and hardware architectures the prediction times for which a satisfactory correlation between prediction and actual sea state development can be expected seems to be on the order of a few minutes although the findings are promising from the perspective of computer based modelling and simulation further work is required to develop a fully applicable and usable sea state prediction capability first the present study suggests that today the reconstruction and prediction process itself is already efficient enough to allow for real time use however the issue of realtime collection of actual seastate surface elevation data also with the complications of incomplete data and measurement errors is far from solved future work is required to provide more suitable data which in turn might lead to more algorithmic tasks and challenges to bridge the gap between measurement and prediction in an integrated manner this might also require inclusion of further wave physics phenomena such as e g wave breaking and air sea interaction 5 appendix 5 1 jacobian free newton krylov method although newton krylov methods are now well described in literature knoll and keyes 2004 for completeness we will sketch the approach briefly the starting point is the classical newton algorithm to solve nonlinear equations of the form 20 f x 0 an incremental improvement δ x at a certain iteration step k can be found by solving 21 j x k δ x k f x k where j x k is the jakobian based on the present approximation x k in our application f x is the nonlinear residual function of the nonlinear wave evolution equation based on a hos scheme which we will see can be formulated as a vector valued variable as follows 22 f x f 1 x 1 f 2 x 2 f n x n for this problem the jacobian could in principle be obtained as 23 j i j x k f i x k x j k and an improved approximation to the solution of the nonlinear equation 20 at iteration k 1 could then be obtained as 24 x k 1 x k δ x k the explicit calculation of the jakobian as well as storing it is highly undesirable because of the computating time and memory needed a concept that is avoiding these unwanted aspects is the jacobian free newton krylov jfnk method knoll and keyes 2004 which is based on a krylov basis space construction the initial residuum r 0 to equation 21 can be found as 25 r 0 f x k j x k δ x 0 the solution to equation 21 is then chosen from the krylov subspace 26 k j s p a n r 0 j x k r 0 j x k 2 r 0 j x k j 1 r 0 as a linear combination 27 δ x j δ x 0 i 0 j 1 β i j x k i r 0 the coefficients β i are determined by minimizing the residuum j x δ x j f x 2 which is done by using the generalised minimal residual method gmres for implementation details see saad 2003 as can be seen from equation 27 it is not the jakobian itself that is required only matrix vector products of the form j v are needed for the determination of the solution these products can be computed in an approximative manner by knoll and keyes 2004 28 j v f x k ε v f x k ε where ε is a parameter small enough to ensure a good approximation of the derivative but large enough not to be affected by machine precision in our present work it turned out that ε 10 6 for all calculations was a satisfactory choice the jfnk method makes it possible to find a solution to the nonlinear problem 20 by evaluating the nonlinear residuums function only 5 2 formulation of jonswap spectra the formulation of the jonswap spectral energy distribution we apply is the same as in goda 1997 29 s f β j h 1 3 2 t p 4 f 5 exp 1 25 t p 4 f 4 γ exp t p f 1 2 2 σ 2 where h 1 3 is the significant wave height t p is the spectral peak period γ the peak enhancement factor set to 3 3 and β j and σ are given by 30 β j 0 0624 1 094 0 01915 ln γ 0 23 0 0336 γ 0 1815 1 γ 1 31 σ 0 07 f f p 0 09 f f p the spreading function g θ is formulated in the form of a generalised cosine goda 1997 32 g θ 2 l ˆ π 2 l ˆ 1 cos 2 l ˆ θ θ m θ θ m π 2 0 θ θ m π 2 with the spreading factor l ˆ and the mean θ m wave energy transportation direction in fig 12 the jonswap spectra used in the example cases are presented 5 3 initialisation of wave amplitudes from spectral data for the hos the amplitude expansions in wave number space are initialized according to the method presented in wu 2004 the energy distribution over frequency is calculated following equation 29 or any other suitable frequency distribution the distribution is then transformed into a wave number spectrum by the using the jakobian of the transformation 5 4 prediction errors for stokes waves the prediction error of a stokes wave with a wavelength of 100 meters and a wave height of eight meters can be seen in fig 13 for the ease of comparing the various graphs and results the scale has been clipped at 2 meters of absolute error although larger errors do occur this clipping allows to focus on small and emerging errors and demonstrates the very capability of the presented nonlinear prediction tool as a reference solution a hos simulation with m 6 was used it is apparent that the error due to neglecting nonlinearities is considerable 5 5 prediction errors for peregrine breathers as another test case for prediction errors the peregrine breather has be studied the initial conditions are generated according to chabchoub et al 2011 the carrier wave here has a wavelength of 100 meters and an amplitude of one meter in fig 14 the error of the surface elevation over space and time can be seen for the linear and the nonlinear prediction process as to be expected the intrinsically nonlinear focusing mechanism of the peregrine breather is captured properly by the nonlinear prediction method only while the errors remain quite small outside the focusing zone in the focusing zone the errors become quite substantial quickly 
23436,in the present study an innovative method for estimating fatigue performance of risers under vortex induced vibration viv is proposed generally fatigue performance is affected by the surrounding environment such as wind wave and current it is well known that current is the most influential load among all for offshore risers in structural safety aspect strength and fatigue are the most important factors for riser design in addition fatigue design is affinitive to the viv phenomenon for the analysis of fatigue performance of riser shear7 numerical simulation code which is commonly used in offshore industry is applied in order to identify the relation between current load and fatigue performance of riser fatigue damage versus current index f c diagram has been proposed f c diagram may cover change of current profiles and help predict the fatigue damage under viv in case of current profile a total of sixty cases of current scenarios are considered based on six representative sea states the obtained results from this study will be a useful guideline to predict the effect of current on the fatigue performance of riser keywords current index f c fatigue damage versus current index diagram fatigue safety vortex induced vibration steel catenary riser subsea 1 introduction nowadays steel catenary risers scrs have been commonly deployed in offshore oil field such as gulf of mexico offshore brazil and offshore indonesia bai and bai 2005 extensive studies on the behavior of scr are needed in designing feasible and applicable scr in deepwater operations challenges faced by engineers in designing a scr are mainly related to high hang off tensions due to the weight and bending stress of the pipe at touchdown point as well as the high pressure and high temperature the scr have to withstand in addition the environmental loads such as wave wind and current along with the soil condition of the seabed introduces challenges to the operation of scr one of the major issues which is considered in pre feed and feed is the fatigue damage experienced by the scr over the period of operation in deepwater several factors contribute to fatigue damage of scrs are mainly waves induced hull motions vortex induced vibrations viv vortex induced hull motion hull heave motions and installation works viv is considered as a critical part in designing deepwater scrs especially for scrs that operate in high current region several viv mitigation methods are proposed and implemented including viv suppression device such as fairing and strake bai and bai 2005 with regards to findings on viv from previous studies damage caused by in line vibration due to viv is usually disregarded in industrial practice of viv analysis several numerical and experimental findings show disagreement in neglecting in line vibration earlier experimental studies by aronsen 2007 to determine the interaction between in line and cross flow viv reveal that in line oscillation will lead to cross flow forces that cause the trigger of cross flow viv trim et al 2005 tested the fatigue damage of a model riser in uniform and linearly sheared current profiles their study indicate in line fatigue damage is as severe as cross flow fatigue damage baarholm et al 2006 further justified that in line vibration significantly contributes to fatigue in low modes domination cases as frequency of in line oscillation is twice the frequency of cross flow oscillation sun et al 2014 performed numerical studies on the fatigue damage of a long deepwater riser using pseudo excitation method pem in two methods by considering only cross flow viv and by considering both in line and cross flow viv they implied that at a location near top of the riser is vulnerable to fatigue damage mainly due to cross flow vibration whereas point touching bottom has high stress ascribed to in line viv this study focuses on the effect of current profile to the fatigue performance of scr associated with viv in addition an innovative method which represents current characteristics is proposed for the fatigue assessment of offshore risers that are subjected to current load including viv phenomenon only a limited number of reliable scenarios representing different types of current profile are selected based on obtained six types of representative current profiles current index ci for a given current profile is defined as a function of current velocity and water depth the fatigue performance such as fatigue damage or fatigue life of a riser in any applied current profile is predicted through several analysis methods i e analytical numerical and experimental in performing the above procedures for all current profiles selected an innovative diagram representing the relationship between fatigue damage and current index of riser by viv f c diagram is developed this diagram is useful for the prediction of fatigue performance of riser especially in the stage of pre feed in the present study applicability of a proposed method is validated through applied example of a steel catenary riser scr with 2000m of water depth in gulf of mexico gom several methods to develop a ci is proposed together with an f c diagram which contributes towards the evaluation of fatigue performance of scr in the early stages of design pre feed 2 procedures for the development of fatigue damage versus current index diagram fig 1 shows the development procedure in arriving at the relationship between the fatigue damage and current index abbreviated as an f c diagram once current profile is measured including velocity of current at each water depth several probable current profile can be re generated and these current profiles will be used as analysis scenarios based on each current profiles an innovative concept of current index is established as a function of current velocity and water depth in assessing the fatigue for all selected scenarios the f c diagram is developed and represented in an empirical formula recently an innovative method was developed by paik et al 2012 for the safety assessment of ships damaged by grounding in addition application studies were also carried out container ships kim et al 2013b bulk carriers kim et al 2013c corrosion effect kim et al 2014 and analysis methods kim et al 2013a the study herein presents the effect of current profile on fatigue performance of riser and an innovative concept of current index is proposed this section covers a detail explanation of each step and the applicability of the proposed method is validated by applied example in the next section 2 1 definition of structural and environmental characteristics first of all structural characteristics of scr such as riser dimensions riser configuration material properties and properties of viv suppression device such as strake need to be defined once structural characteristics are obtained applied environmental loadings such as wind wave current and many others will be required the study presents only the effect of current which is one of the significant factors to riser fatigue design due to viv 2 2 characterization of current profile in general each offshore production field has different environmental conditions which influence the design of offshore structures and cause complication in offshore development offshore riser structure which functions as a connection between floater and subsea structure is affected by environmental load as well mainly by current this study presents the current profile data from several geographical regions around the world such as brazil campos basin and foz de amazon gom atlantic frontier and west africa are collected and compiled bai and bai 2010 the current profile data are used to produce multiple current profile scenarios in accordance to the mentioned six current profiles maximum and minimum current profile are delineated as shown in fig 2 various current profile scenarios each with different velocity and profile will be generated based on these maximum and minimum current profile in subsequent step fig 3 presents a typical shape of current profile used in the study when current is applied to the offshore riser current profile parameters may be characterized by velocity v and water depth h it can also be defined as several current regions by water depth with inflection points as shown in fig 3 presenting the maximum current profile from fig 2 however fig 3 presents a current profile divided into three 3 regions such as surface current region h s transition current region h t and bottom current region h b 2 3 selection of reliable current scenarios due to limitation of computational cost and time a probable current scenario should be selected for the fatigue assessment of riser the best outcome is obtained if the measurement of current in offshore is performed however this consumes a significant amount of cost and time with regards to this probabilistic approaches are applied to get reliable scenarios in this study minimum and maximum current profiles are selected as reference current profiles as shown in fig 2 and probability density was assumed as 1 0 for each parameters i e v and h due to the limited number of obtained current profiles as shown in fig 4 2 4 definition of current index for selected current scenarios current index is an equation developed to convert all characteristics of current data velocity and profile into a unique representative value it takes into consideration of current velocity and shear of the current profile therefore ci is formulated as a function of current velocity and water depth in order to improve accuracy of application of ci in estimating fatigue damage of scr the ci equation is developed on the basis of the mathematical relationship between current velocity and maximum fatigue damage of riser step i investigation on effect of current velocity to viv fatigue damage of scr to solely study the effect of current velocity to the viv fatigue damage of scr viv fatigue analysis were performed on the scr model for uniform current profile as the base case the current velocities used for the analysis were 0 1 0 28 0 46 0 65 0 83 1 01 1 19 and 1 28 m s from fig 5 it is observed that the maximum fatigue damage of the riser increases with the increasing current velocity the relationship between the current velocity and maximum fatigue damage of the riser can be described using empirical equation in eq 1 derived from the best fitted line the high r2 value of the empirical equation suggests the equation is suitable to describe the correlation between current velocity and maximum fatigue damage this equation will be then used to develop current index 1 f d 0 003848 v 4 where f d maximum fatigue damage along scr v velocity of fluid step ii development of current index ci current index is developed to convert all characteristics of current data into a unique representative value the current velocity is denoted as x and the subscript represents the region the current index equation is defined as below 2 c i i 1 n α i v i 4 where n is the number of division of current profile i is the region number α is the region coefficient and v i 4 is the integral of velocity along the water depth the power of 4 is derived from eq 1 the equation of v i 4 is defined in eq 3 3 v i 4 v y i 4 d y v i 4 0 y i x i 1 x i y i 0 y i y i 0 x i 1 x i x i 4 d y v i 4 y i 5 x i 4 x i 3 x i 1 x i 2 x i 1 2 x i x i 3 x i 1 4 hence the complete current index equation is defined in eq 4 4 c i i 1 n α i y i 5 x i 4 x i 3 x i 1 x i 2 x i 1 2 x i x i 3 x i 1 4 where x is current velocity at each depth and y is depth of each region as explained and illustrated in fig 3 the region coefficient α is defined as the average velocity at that region in the case of uniform profile α is the constant velocity of the current region in the case of shear profile α is defined as the average of the velocity of the region in eq 5 for uniform profile 5 1 α i x i for shear profile 5 2 α i x i x i 1 2 by applying the current index equation developed fd ci diagrams were plotted using ci and maximum fatigue damage of scr for each scenario using the best fit regression line the empirical equation that defines the relationship between current profile and fatigue damage of scr was obtained for the better understanding of the procedure to calculate current index a typical example illustrated in fig 3 is presented in this case current profile can be divided into three regions such as surface transition and bottom for the application of ci formula the users can also use numbering system such as 1 2 3 etc from the surface to the bottom layer x 0 x 1 x 2 x 3 in order to show the calculation method of ci scenario no 41 illustrated in appendix is used as an applied example the applied current profile in fig 3 can be summarized as x 0 x 1 1 1 m s x 2 x 3 0 51 m s y 0 40 m y 1 1000 m and y 2 960 m the ci can be calculated based on the applied current profile and eq 4 the obtained ci values are 5 276 for near far case 6 c i i 1 n α i y i 5 x i 4 x i 3 x i 1 x i 2 x i 1 2 x i x i 1 3 x i 1 4 x 1 y 1 5 x 1 4 x 1 3 x 2 x 1 2 x 2 2 x 1 x 2 3 x 2 4 x 2 x 3 2 y 3 5 x 2 4 x 2 3 x 3 x 2 2 x 3 2 x 2 x 3 3 x 3 4 x 3 y 3 5 x 3 4 x 3 3 x 4 x 3 2 x 4 2 x 3 x 4 3 x 4 4 1 1 40 5 1 1 4 1 1 3 1 1 1 1 2 1 1 2 1 1 1 1 3 1 1 4 1 1 0 5 2 40 5 1 1 4 1 1 3 0 51 1 1 2 0 51 2 1 1 0 51 3 0 51 4 1 1 40 5 0 51 4 0 51 3 0 51 0 51 2 0 51 2 0 51 0 51 3 0 51 4 5 276 2 5 calculation of fatigue performance for selected scenarios fatigue assessment is one of the significant parts in riser design together with strength assessment general procedures for riser design is summarized in fig 6 a the fatigue damage arises because of the below factors 1st and 2nd order wave load and associated floater motion vortex induced vibration viv due to current load vortex induced hull motion vim heave induced viv hviv fatigue due to installation especially for offshore riser vortex induced vibration viv which causes fatigue damage is one of the important parameters of the design consideration generally the fatigue performance of riser in the various scenarios of current profile can be obtained by an analytical method if the structural shape is simple such as top tensioned riser or numerical methods experimental method can be considered to obtain accurate results in this study only analytical method using shear7 software is applied to compute fatigue damage of riser for the selected current profiles in brief viv analysis is the dynamic problem solved by using equation of motion eom there are two approaches to calculate dynamic eom which are time domain and frequency domain method the applied shear7 software is developed based on frequency domain approaches and procedures to compute fatigue damage is illustrated in fig 6 b the detailed explanation of viv analysis may be referred to park et al 2016 and others in the study herein fatigue performance will be calculated for the selected current profiles which should satisfy the strength assessment to initialize catenary shape before the fatigue assessment 2 6 development of the fatigue damage versus current index diagram the fatigue damage versus current index f c diagram is developed once the calculation of fatigue assessment by numerical simulation and calculation of current index for each current scenario are done proposed method can be verified by applied example in the next section 3 applied example 3 1 target structure and environmental conditions presented in the study a steel catenary riser scr which is generally applied in the development of offshore oil gas field is adopted and details are presented in tables 1 a ans 1b park et al 2015 park et al 2016 environmental data including associated wave and wind loads are summarized in table 2 detail information may refer to park et al 2015b 3 2 selected scenarios of current profile in this study a total of sixty 60 types of current profiles were selected based on fig 2 which shows minimum and maximum current load from the obtained six types of representative current profile due to the limited number of obtained current profile probability density of current parameters such as current velocity and water depth are equalized and used for applied example as shown in fig 8 a to f in order to draw a generalized outcome a total of 60 different current profiles are selected through the combination of current velocity and current region water depth direction variation current direction variation along the water column is not a concern in this study hence the current is unidirectional throughout the water column of the ocean these current profile scenarios are used as current data in viv fatigue analysis of scr model 3 3 calculation of current index once current scenarios are selected current index for each case is calculated as illustrated in eq 4 2 two different value of correction factor is obtained for near far and cross case current indexes ci for the selected sixty current scenarios are calculated as shown in table a1 3 4 calculation of fatigue performance of offshore riser scr model is drawn in orcaflex numerical simulation code using the structural data and environmental data by park et al 2015 only scr and platform are modelled because scr is the main concern in the viv fatigue analysis vessel which scr is installed on is assumed to be fixed in position hence the top end of scr is set as translationally constraint bottom end of scr is anchored to the seabed pipe soil interaction is neglected in current phase fluid flow inside scr is assumed to be uniform and current is assumed to be unidirectional throughout the water depth in present phase after drawing the scr model static configuration analysis of the scr without environmental loading is performed to find the equilibrium configuration of the riser upon the exertion of static loading such as weight and buoyancy of the riser with the input of the top end location length of 6800 m water depth of 2000m and internal content with density of 98 kg m3 in scr the bottom end of riser on seabed is located using the hang off angle of 14 the touchdown point of the riser under static loading is determined through static analysis table 2 and 3 shows applied parameters for shear7 and s n curve respectively detailed explanation of applied inputs may be referred park et al 2015 stress concentration factor scf for scr is assumed to be 1 1 for all welded connections along scr except for taper stress joint tsj single slope s n curve with cathodic protection for x65 x65 welds by dnv 2010b is used in fatigue life calculation of scr and rites is used for calculation at tsj equation of the s n curve is defined below 7 δ σ 10 a n 1 b where δ σ hot spot nominal stress range n number of cycle to failure a intercept on cycle axis for s n curve and b slope of s n curve strakes which is generally attached on scr to suppress viv phenomenon are installed onto the riser with 80 percent coverage along the length of riser from the top end to touchdown point tdp of scr static configuration analysis is performed again to determine the final touchdown point of scr with the attachment of strakes upon completion of the scr models after finding the touchdown point of riser viv fatigue analysis is performed for the selected sixty 60 current profile scenarios shown in fig 7 using orcaflex coupled with shear7 viv fatigue damage is calculated for each current profile scenarios for base model for each current profile scenarios fatigue damage is analyzed in 2 vessel and riser top end motion cases near case is vessel and riser top end movements towards touchdown point of riser whereas far case is vessel and riser top end movements away from touchdown point fig 8 shows the riser top end motion with respect to the far and near direction fig 9 shows fatigue damage analysis result for typical scenarios under near case the maximum fatigue damage is extracted at either near hang off zone or near touchdown zone of scr as shown in fig 9 in addition only short term viv is considered in the present applied example to verify applicability of proposed method 3 5 development of f c diagram once fatigue damage under viv and current index for each scenario are computed fatigue damage versus current index f c diagram is established in the study fourteen 14 current scenarios such as nos 7 10 and nos 48 51 illustrated in table a1 are exempted due to failure in satisfying strength criteria in static strength analysis as well as repetition of data fig 10 a to c presents the established f c diagrams obtained through best fitting curve using r 2 criterion the maximum fatigue damage fd equation obtained from f c diagrams can be summarized as shown in eq 8 8 f d ω c i 2 ξ c i ψ where ω ξ and ψ are the coefficient for f c diagram as illustrated in table 4 as anticipated the fatigue damage of scr increases in all cases when the current index value increases the obtained f c diagrams shows good agreement with computed fatigue damage by shear7 numerical simulation i e r 2 0 9885 and 0 9941 for near and far case respectively on the other hand a proposed method using current index concept allows to predict the fatigue damage of offshore riser by using the current index concept in addition it is proven that the current index concept is capable of predicting the fatigue damage of scr due to viv in the applied example the proposed f c diagrams for near and far case are poorly matched in the range of ci value between 1 and 5 as shown in fig 10 and is considered as minor issue since the resulting fatigue damage is small and insignificant further studies shall be performed in focus on the computation of fatigue damage in low ci region to improve the accuracy of proposed method 4 use of the developed f c diagram the f c diagrams and ci formulations developed herein is used for first cut assessment of fatigue damage estimation of riser in addition it is used during pre feed stages within limited time if the current profile is given the f c diagram is also used to determine the acceptance criteria depending on applied current load fig 11 presents a way on how to use the f c diagram developed from the study the remaining capability is also measured if the design criteria is given as shown in fig 11 5 discussion the process of fatigue damage analysis of scr due to viv subjected to several current profiles is complicated and time consuming especially when using sheared current profile sheared current profile causes multiple mode excitation in scr causing the prediction of dominant mode viv excitation and fatigue damage suffered by scr to be more difficult with the development of current index concept complex current profile is simplified into a representative value using a developed current index current profile characteristic can be represented in a single value as a function of velocity and water depth in conventional method for analyzing viv fatigue performance of scr scr has to be modelled first either using numerical model or empirical model with the given current profile data scr size and strouhal number natural frequencies and mode shape of riser is determined the potentially excited modes and corresponding modal power are determined from there lift and drag force are found consequently stress and fatigue life of the scr are computed comparing to conventional method the proposed method by applying current index concept provides simplified method for the estimation of fatigue performance first current index is calculated for the given current profile once ci is obtained fatigue damage is predicted by inputting developed f c diagram the number of steps taken to calculate fatigue damage is reduced with regards to conventional method this can be seen clearly when comparing the procedure of calculating fatigue damage using proposed method in fig 12 a and method using shear7 in fig 12 b for conventional method scr is modelled and modal response is analyzed to determine the mode shape and frequency of riser before performing viv analysis in shear7 using mode superposition method the details of the steps used in shear7 is illustrated in fig 6 in current proposed ci approach after defining structural properties of scr current index is calculated for the given current profile and by using f c diagram designated for specific riser configuration fatigue damage can be computed directly from the graph without performing numerical simulation which required longer computation time using current index equation in eq 4 current index is computed and used to determine the fatigue damage from f c diagram as shown in fig 11 in short the proposed method simplifies the calculation of fatigue damage case studies using real current data bai and bai 2010 shown in fig 2 is performed and the comparison of the result computed with shear7 with the developed f c diagram equation is shown in fig 13 from the comparison result in fig 13 a and b it is observed that the data points is close to the fitted line developed previously which implies the maximum fatigue damage calculated using proposed ci method is approximate equal to fatigue damage computed using shear7 for case which current profile is more complex like the current profile for gom loop the result shows a good agreement with shear7 result except it overestimates the fatigue damage hence it can be said that ci approach can provide appropriate result for current profiles with greater complexity but more case studies shall be performed for other types of current profile since the proposed ci approach is simplified method of fatigue damage calculation with many factors being neglected at present the result produced using ci approach is not acceptable for low ci region and shall be further improved by considering other factors such as current direction orientation and configuration of riser as well as riser soil interaction in near future to sum up the proposed ci method provides a simpler and faster fatigue damage calculation however the accuracy of the result is questionable for low current region and shall be improved at present only current profile variation is considered in the study variation in water depth fatigue curve properties fatigue hotspot riser properties and pipe soil interaction is assumed to be negligible in present and shall be considered in future studies to improve the result of the proposed approach the advantages and disadvantages of the proposed ci approach is summarized in table 5 below this concept is used to develop guideline for evaluating fatigue damage of scr the obtained results will make the design analysis of scr simple and efficient 6 conclusion in the study herein an innovative method of fatigue damage versus current index f c diagram is proposed for the estimation of fatigue performance of offshore riser the obtained research outcomes are summarized as follows current index ci concept is proposed by considering the parameters of current profile such as current velocity and water depth relationship between fatigue damage and current index is investigated and formulated fatigue damage of scr increases when current index is increased the proposed f c diagram shows good agreement with the current cases fatigue damage of scr subjected to different shape of current profile can be predicted by the proposed f c diagram further investigations may be performed in terms of effect of riser size current direction variation along the water depth water depth variation and different types of riser acknowledgments this study was undertaken at ocean and ship technology ost at universiti teknologi petronas this research was supported by the technology innovation program grant no 10053121 and 10051279 funded by the ministry of trade industry and energy mi korea and yutp grant 0153aa e60 malaysia the authors would also like to thank for the great support of postech posco and daewoo e c republic of korea appendix table a1 selected sixty 60 current profiles table a1 scenarios velocity m s water depth m current index surface v0 v1 bottom v2 v3 h0 h1 h2 near and far 1 1 100 0 510 400 640 960 9 526 2 1 256 0 510 400 640 960 17 489 3 1 411 0 510 400 640 960 30 299 4 1 567 0 510 400 640 960 49 911 5 1 722 0 510 400 640 960 78 751 6 1 878 0 510 400 640 960 119 763 7 fail 2 033 0 510 400 640 960 176 462 8 fail 2 189 0 510 400 640 960 252 984 9 fail 2 344 0 510 400 640 960 354 139 10 fail 2 500 0 510 400 640 960 485 458 11 1 100 0 100 40 160 1800 0 954 12 1 100 0 146 40 160 1800 0 982 13 1 100 0 191 40 160 1800 1 015 14 1 100 0 237 40 160 1800 1 056 15 1 100 0 282 40 160 1800 1 111 16 1 100 0 328 40 160 1800 1 188 17 1 100 0 373 40 160 1800 1 295 18 1 100 0 419 40 160 1800 1 446 19 1 100 0 464 40 160 1800 1 659 20 1 100 0 510 40 160 1800 1 953 21 repetition 1 100 0 100 40 160 1800 0 954 22 1 100 0 100 40 253 1707 1 134 23 1 100 0 100 40 347 1613 1 314 24 1 100 0 100 40 440 1520 1 495 25 1 100 0 100 40 533 1427 1 675 26 1 100 0 100 40 627 1333 1 855 27 1 100 0 100 40 720 1240 2 036 28 1 100 0 100 40 813 1147 2 216 29 1 100 0 100 40 907 1053 2 397 30 1 100 0 100 40 1000 960 2 577 31 1 100 0 510 40 160 1800 63 309 32 1 100 0 510 80 213 1707 110 214 33 1 100 0 510 120 267 1613 157 120 34 1 100 0 510 160 320 1520 204 025 35 1 100 0 510 200 373 1427 250 931 36 1 100 0 510 240 427 1333 297 836 37 fail 1 100 0 510 280 480 1240 344 742 38 fail 1 100 0 510 320 533 1147 391 647 39 fail 1 100 0 510 360 587 1053 438 553 40 fail 1 100 0 510 400 640 960 485 458 41 1 100 0 510 40 1000 960 5 276 42 1 256 0 510 80 960 960 9 842 43 1 411 0 510 120 920 960 17 952 44 1 567 0 510 160 880 960 31 695 45 1 722 0 510 200 840 960 54 016 46 1 878 0 510 240 800 960 88 920 47 2 033 0 510 280 760 960 141 710 48 fail 2 189 0 510 320 720 960 219 243 49 fail 2 344 0 510 360 680 960 330 215 50 fail 2 500 0 510 400 640 960 485 458 51 repetition 1 100 0 100 40 160 1800 0 954 52 1 100 0 146 40 253 1707 1 178 53 1 100 0 191 40 347 1613 1 441 54 1 100 0 237 40 440 1520 1 752 55 1 100 0 282 40 533 1427 2 120 56 1 100 0 328 40 627 1333 2 556 57 1 100 0 373 40 720 1240 3 075 58 1 100 0 419 40 813 1147 3 690 59 1 100 0 464 40 907 1053 4 418 60 repetition 1 100 0 510 40 1000 960 5 276 
23436,in the present study an innovative method for estimating fatigue performance of risers under vortex induced vibration viv is proposed generally fatigue performance is affected by the surrounding environment such as wind wave and current it is well known that current is the most influential load among all for offshore risers in structural safety aspect strength and fatigue are the most important factors for riser design in addition fatigue design is affinitive to the viv phenomenon for the analysis of fatigue performance of riser shear7 numerical simulation code which is commonly used in offshore industry is applied in order to identify the relation between current load and fatigue performance of riser fatigue damage versus current index f c diagram has been proposed f c diagram may cover change of current profiles and help predict the fatigue damage under viv in case of current profile a total of sixty cases of current scenarios are considered based on six representative sea states the obtained results from this study will be a useful guideline to predict the effect of current on the fatigue performance of riser keywords current index f c fatigue damage versus current index diagram fatigue safety vortex induced vibration steel catenary riser subsea 1 introduction nowadays steel catenary risers scrs have been commonly deployed in offshore oil field such as gulf of mexico offshore brazil and offshore indonesia bai and bai 2005 extensive studies on the behavior of scr are needed in designing feasible and applicable scr in deepwater operations challenges faced by engineers in designing a scr are mainly related to high hang off tensions due to the weight and bending stress of the pipe at touchdown point as well as the high pressure and high temperature the scr have to withstand in addition the environmental loads such as wave wind and current along with the soil condition of the seabed introduces challenges to the operation of scr one of the major issues which is considered in pre feed and feed is the fatigue damage experienced by the scr over the period of operation in deepwater several factors contribute to fatigue damage of scrs are mainly waves induced hull motions vortex induced vibrations viv vortex induced hull motion hull heave motions and installation works viv is considered as a critical part in designing deepwater scrs especially for scrs that operate in high current region several viv mitigation methods are proposed and implemented including viv suppression device such as fairing and strake bai and bai 2005 with regards to findings on viv from previous studies damage caused by in line vibration due to viv is usually disregarded in industrial practice of viv analysis several numerical and experimental findings show disagreement in neglecting in line vibration earlier experimental studies by aronsen 2007 to determine the interaction between in line and cross flow viv reveal that in line oscillation will lead to cross flow forces that cause the trigger of cross flow viv trim et al 2005 tested the fatigue damage of a model riser in uniform and linearly sheared current profiles their study indicate in line fatigue damage is as severe as cross flow fatigue damage baarholm et al 2006 further justified that in line vibration significantly contributes to fatigue in low modes domination cases as frequency of in line oscillation is twice the frequency of cross flow oscillation sun et al 2014 performed numerical studies on the fatigue damage of a long deepwater riser using pseudo excitation method pem in two methods by considering only cross flow viv and by considering both in line and cross flow viv they implied that at a location near top of the riser is vulnerable to fatigue damage mainly due to cross flow vibration whereas point touching bottom has high stress ascribed to in line viv this study focuses on the effect of current profile to the fatigue performance of scr associated with viv in addition an innovative method which represents current characteristics is proposed for the fatigue assessment of offshore risers that are subjected to current load including viv phenomenon only a limited number of reliable scenarios representing different types of current profile are selected based on obtained six types of representative current profiles current index ci for a given current profile is defined as a function of current velocity and water depth the fatigue performance such as fatigue damage or fatigue life of a riser in any applied current profile is predicted through several analysis methods i e analytical numerical and experimental in performing the above procedures for all current profiles selected an innovative diagram representing the relationship between fatigue damage and current index of riser by viv f c diagram is developed this diagram is useful for the prediction of fatigue performance of riser especially in the stage of pre feed in the present study applicability of a proposed method is validated through applied example of a steel catenary riser scr with 2000m of water depth in gulf of mexico gom several methods to develop a ci is proposed together with an f c diagram which contributes towards the evaluation of fatigue performance of scr in the early stages of design pre feed 2 procedures for the development of fatigue damage versus current index diagram fig 1 shows the development procedure in arriving at the relationship between the fatigue damage and current index abbreviated as an f c diagram once current profile is measured including velocity of current at each water depth several probable current profile can be re generated and these current profiles will be used as analysis scenarios based on each current profiles an innovative concept of current index is established as a function of current velocity and water depth in assessing the fatigue for all selected scenarios the f c diagram is developed and represented in an empirical formula recently an innovative method was developed by paik et al 2012 for the safety assessment of ships damaged by grounding in addition application studies were also carried out container ships kim et al 2013b bulk carriers kim et al 2013c corrosion effect kim et al 2014 and analysis methods kim et al 2013a the study herein presents the effect of current profile on fatigue performance of riser and an innovative concept of current index is proposed this section covers a detail explanation of each step and the applicability of the proposed method is validated by applied example in the next section 2 1 definition of structural and environmental characteristics first of all structural characteristics of scr such as riser dimensions riser configuration material properties and properties of viv suppression device such as strake need to be defined once structural characteristics are obtained applied environmental loadings such as wind wave current and many others will be required the study presents only the effect of current which is one of the significant factors to riser fatigue design due to viv 2 2 characterization of current profile in general each offshore production field has different environmental conditions which influence the design of offshore structures and cause complication in offshore development offshore riser structure which functions as a connection between floater and subsea structure is affected by environmental load as well mainly by current this study presents the current profile data from several geographical regions around the world such as brazil campos basin and foz de amazon gom atlantic frontier and west africa are collected and compiled bai and bai 2010 the current profile data are used to produce multiple current profile scenarios in accordance to the mentioned six current profiles maximum and minimum current profile are delineated as shown in fig 2 various current profile scenarios each with different velocity and profile will be generated based on these maximum and minimum current profile in subsequent step fig 3 presents a typical shape of current profile used in the study when current is applied to the offshore riser current profile parameters may be characterized by velocity v and water depth h it can also be defined as several current regions by water depth with inflection points as shown in fig 3 presenting the maximum current profile from fig 2 however fig 3 presents a current profile divided into three 3 regions such as surface current region h s transition current region h t and bottom current region h b 2 3 selection of reliable current scenarios due to limitation of computational cost and time a probable current scenario should be selected for the fatigue assessment of riser the best outcome is obtained if the measurement of current in offshore is performed however this consumes a significant amount of cost and time with regards to this probabilistic approaches are applied to get reliable scenarios in this study minimum and maximum current profiles are selected as reference current profiles as shown in fig 2 and probability density was assumed as 1 0 for each parameters i e v and h due to the limited number of obtained current profiles as shown in fig 4 2 4 definition of current index for selected current scenarios current index is an equation developed to convert all characteristics of current data velocity and profile into a unique representative value it takes into consideration of current velocity and shear of the current profile therefore ci is formulated as a function of current velocity and water depth in order to improve accuracy of application of ci in estimating fatigue damage of scr the ci equation is developed on the basis of the mathematical relationship between current velocity and maximum fatigue damage of riser step i investigation on effect of current velocity to viv fatigue damage of scr to solely study the effect of current velocity to the viv fatigue damage of scr viv fatigue analysis were performed on the scr model for uniform current profile as the base case the current velocities used for the analysis were 0 1 0 28 0 46 0 65 0 83 1 01 1 19 and 1 28 m s from fig 5 it is observed that the maximum fatigue damage of the riser increases with the increasing current velocity the relationship between the current velocity and maximum fatigue damage of the riser can be described using empirical equation in eq 1 derived from the best fitted line the high r2 value of the empirical equation suggests the equation is suitable to describe the correlation between current velocity and maximum fatigue damage this equation will be then used to develop current index 1 f d 0 003848 v 4 where f d maximum fatigue damage along scr v velocity of fluid step ii development of current index ci current index is developed to convert all characteristics of current data into a unique representative value the current velocity is denoted as x and the subscript represents the region the current index equation is defined as below 2 c i i 1 n α i v i 4 where n is the number of division of current profile i is the region number α is the region coefficient and v i 4 is the integral of velocity along the water depth the power of 4 is derived from eq 1 the equation of v i 4 is defined in eq 3 3 v i 4 v y i 4 d y v i 4 0 y i x i 1 x i y i 0 y i y i 0 x i 1 x i x i 4 d y v i 4 y i 5 x i 4 x i 3 x i 1 x i 2 x i 1 2 x i x i 3 x i 1 4 hence the complete current index equation is defined in eq 4 4 c i i 1 n α i y i 5 x i 4 x i 3 x i 1 x i 2 x i 1 2 x i x i 3 x i 1 4 where x is current velocity at each depth and y is depth of each region as explained and illustrated in fig 3 the region coefficient α is defined as the average velocity at that region in the case of uniform profile α is the constant velocity of the current region in the case of shear profile α is defined as the average of the velocity of the region in eq 5 for uniform profile 5 1 α i x i for shear profile 5 2 α i x i x i 1 2 by applying the current index equation developed fd ci diagrams were plotted using ci and maximum fatigue damage of scr for each scenario using the best fit regression line the empirical equation that defines the relationship between current profile and fatigue damage of scr was obtained for the better understanding of the procedure to calculate current index a typical example illustrated in fig 3 is presented in this case current profile can be divided into three regions such as surface transition and bottom for the application of ci formula the users can also use numbering system such as 1 2 3 etc from the surface to the bottom layer x 0 x 1 x 2 x 3 in order to show the calculation method of ci scenario no 41 illustrated in appendix is used as an applied example the applied current profile in fig 3 can be summarized as x 0 x 1 1 1 m s x 2 x 3 0 51 m s y 0 40 m y 1 1000 m and y 2 960 m the ci can be calculated based on the applied current profile and eq 4 the obtained ci values are 5 276 for near far case 6 c i i 1 n α i y i 5 x i 4 x i 3 x i 1 x i 2 x i 1 2 x i x i 1 3 x i 1 4 x 1 y 1 5 x 1 4 x 1 3 x 2 x 1 2 x 2 2 x 1 x 2 3 x 2 4 x 2 x 3 2 y 3 5 x 2 4 x 2 3 x 3 x 2 2 x 3 2 x 2 x 3 3 x 3 4 x 3 y 3 5 x 3 4 x 3 3 x 4 x 3 2 x 4 2 x 3 x 4 3 x 4 4 1 1 40 5 1 1 4 1 1 3 1 1 1 1 2 1 1 2 1 1 1 1 3 1 1 4 1 1 0 5 2 40 5 1 1 4 1 1 3 0 51 1 1 2 0 51 2 1 1 0 51 3 0 51 4 1 1 40 5 0 51 4 0 51 3 0 51 0 51 2 0 51 2 0 51 0 51 3 0 51 4 5 276 2 5 calculation of fatigue performance for selected scenarios fatigue assessment is one of the significant parts in riser design together with strength assessment general procedures for riser design is summarized in fig 6 a the fatigue damage arises because of the below factors 1st and 2nd order wave load and associated floater motion vortex induced vibration viv due to current load vortex induced hull motion vim heave induced viv hviv fatigue due to installation especially for offshore riser vortex induced vibration viv which causes fatigue damage is one of the important parameters of the design consideration generally the fatigue performance of riser in the various scenarios of current profile can be obtained by an analytical method if the structural shape is simple such as top tensioned riser or numerical methods experimental method can be considered to obtain accurate results in this study only analytical method using shear7 software is applied to compute fatigue damage of riser for the selected current profiles in brief viv analysis is the dynamic problem solved by using equation of motion eom there are two approaches to calculate dynamic eom which are time domain and frequency domain method the applied shear7 software is developed based on frequency domain approaches and procedures to compute fatigue damage is illustrated in fig 6 b the detailed explanation of viv analysis may be referred to park et al 2016 and others in the study herein fatigue performance will be calculated for the selected current profiles which should satisfy the strength assessment to initialize catenary shape before the fatigue assessment 2 6 development of the fatigue damage versus current index diagram the fatigue damage versus current index f c diagram is developed once the calculation of fatigue assessment by numerical simulation and calculation of current index for each current scenario are done proposed method can be verified by applied example in the next section 3 applied example 3 1 target structure and environmental conditions presented in the study a steel catenary riser scr which is generally applied in the development of offshore oil gas field is adopted and details are presented in tables 1 a ans 1b park et al 2015 park et al 2016 environmental data including associated wave and wind loads are summarized in table 2 detail information may refer to park et al 2015b 3 2 selected scenarios of current profile in this study a total of sixty 60 types of current profiles were selected based on fig 2 which shows minimum and maximum current load from the obtained six types of representative current profile due to the limited number of obtained current profile probability density of current parameters such as current velocity and water depth are equalized and used for applied example as shown in fig 8 a to f in order to draw a generalized outcome a total of 60 different current profiles are selected through the combination of current velocity and current region water depth direction variation current direction variation along the water column is not a concern in this study hence the current is unidirectional throughout the water column of the ocean these current profile scenarios are used as current data in viv fatigue analysis of scr model 3 3 calculation of current index once current scenarios are selected current index for each case is calculated as illustrated in eq 4 2 two different value of correction factor is obtained for near far and cross case current indexes ci for the selected sixty current scenarios are calculated as shown in table a1 3 4 calculation of fatigue performance of offshore riser scr model is drawn in orcaflex numerical simulation code using the structural data and environmental data by park et al 2015 only scr and platform are modelled because scr is the main concern in the viv fatigue analysis vessel which scr is installed on is assumed to be fixed in position hence the top end of scr is set as translationally constraint bottom end of scr is anchored to the seabed pipe soil interaction is neglected in current phase fluid flow inside scr is assumed to be uniform and current is assumed to be unidirectional throughout the water depth in present phase after drawing the scr model static configuration analysis of the scr without environmental loading is performed to find the equilibrium configuration of the riser upon the exertion of static loading such as weight and buoyancy of the riser with the input of the top end location length of 6800 m water depth of 2000m and internal content with density of 98 kg m3 in scr the bottom end of riser on seabed is located using the hang off angle of 14 the touchdown point of the riser under static loading is determined through static analysis table 2 and 3 shows applied parameters for shear7 and s n curve respectively detailed explanation of applied inputs may be referred park et al 2015 stress concentration factor scf for scr is assumed to be 1 1 for all welded connections along scr except for taper stress joint tsj single slope s n curve with cathodic protection for x65 x65 welds by dnv 2010b is used in fatigue life calculation of scr and rites is used for calculation at tsj equation of the s n curve is defined below 7 δ σ 10 a n 1 b where δ σ hot spot nominal stress range n number of cycle to failure a intercept on cycle axis for s n curve and b slope of s n curve strakes which is generally attached on scr to suppress viv phenomenon are installed onto the riser with 80 percent coverage along the length of riser from the top end to touchdown point tdp of scr static configuration analysis is performed again to determine the final touchdown point of scr with the attachment of strakes upon completion of the scr models after finding the touchdown point of riser viv fatigue analysis is performed for the selected sixty 60 current profile scenarios shown in fig 7 using orcaflex coupled with shear7 viv fatigue damage is calculated for each current profile scenarios for base model for each current profile scenarios fatigue damage is analyzed in 2 vessel and riser top end motion cases near case is vessel and riser top end movements towards touchdown point of riser whereas far case is vessel and riser top end movements away from touchdown point fig 8 shows the riser top end motion with respect to the far and near direction fig 9 shows fatigue damage analysis result for typical scenarios under near case the maximum fatigue damage is extracted at either near hang off zone or near touchdown zone of scr as shown in fig 9 in addition only short term viv is considered in the present applied example to verify applicability of proposed method 3 5 development of f c diagram once fatigue damage under viv and current index for each scenario are computed fatigue damage versus current index f c diagram is established in the study fourteen 14 current scenarios such as nos 7 10 and nos 48 51 illustrated in table a1 are exempted due to failure in satisfying strength criteria in static strength analysis as well as repetition of data fig 10 a to c presents the established f c diagrams obtained through best fitting curve using r 2 criterion the maximum fatigue damage fd equation obtained from f c diagrams can be summarized as shown in eq 8 8 f d ω c i 2 ξ c i ψ where ω ξ and ψ are the coefficient for f c diagram as illustrated in table 4 as anticipated the fatigue damage of scr increases in all cases when the current index value increases the obtained f c diagrams shows good agreement with computed fatigue damage by shear7 numerical simulation i e r 2 0 9885 and 0 9941 for near and far case respectively on the other hand a proposed method using current index concept allows to predict the fatigue damage of offshore riser by using the current index concept in addition it is proven that the current index concept is capable of predicting the fatigue damage of scr due to viv in the applied example the proposed f c diagrams for near and far case are poorly matched in the range of ci value between 1 and 5 as shown in fig 10 and is considered as minor issue since the resulting fatigue damage is small and insignificant further studies shall be performed in focus on the computation of fatigue damage in low ci region to improve the accuracy of proposed method 4 use of the developed f c diagram the f c diagrams and ci formulations developed herein is used for first cut assessment of fatigue damage estimation of riser in addition it is used during pre feed stages within limited time if the current profile is given the f c diagram is also used to determine the acceptance criteria depending on applied current load fig 11 presents a way on how to use the f c diagram developed from the study the remaining capability is also measured if the design criteria is given as shown in fig 11 5 discussion the process of fatigue damage analysis of scr due to viv subjected to several current profiles is complicated and time consuming especially when using sheared current profile sheared current profile causes multiple mode excitation in scr causing the prediction of dominant mode viv excitation and fatigue damage suffered by scr to be more difficult with the development of current index concept complex current profile is simplified into a representative value using a developed current index current profile characteristic can be represented in a single value as a function of velocity and water depth in conventional method for analyzing viv fatigue performance of scr scr has to be modelled first either using numerical model or empirical model with the given current profile data scr size and strouhal number natural frequencies and mode shape of riser is determined the potentially excited modes and corresponding modal power are determined from there lift and drag force are found consequently stress and fatigue life of the scr are computed comparing to conventional method the proposed method by applying current index concept provides simplified method for the estimation of fatigue performance first current index is calculated for the given current profile once ci is obtained fatigue damage is predicted by inputting developed f c diagram the number of steps taken to calculate fatigue damage is reduced with regards to conventional method this can be seen clearly when comparing the procedure of calculating fatigue damage using proposed method in fig 12 a and method using shear7 in fig 12 b for conventional method scr is modelled and modal response is analyzed to determine the mode shape and frequency of riser before performing viv analysis in shear7 using mode superposition method the details of the steps used in shear7 is illustrated in fig 6 in current proposed ci approach after defining structural properties of scr current index is calculated for the given current profile and by using f c diagram designated for specific riser configuration fatigue damage can be computed directly from the graph without performing numerical simulation which required longer computation time using current index equation in eq 4 current index is computed and used to determine the fatigue damage from f c diagram as shown in fig 11 in short the proposed method simplifies the calculation of fatigue damage case studies using real current data bai and bai 2010 shown in fig 2 is performed and the comparison of the result computed with shear7 with the developed f c diagram equation is shown in fig 13 from the comparison result in fig 13 a and b it is observed that the data points is close to the fitted line developed previously which implies the maximum fatigue damage calculated using proposed ci method is approximate equal to fatigue damage computed using shear7 for case which current profile is more complex like the current profile for gom loop the result shows a good agreement with shear7 result except it overestimates the fatigue damage hence it can be said that ci approach can provide appropriate result for current profiles with greater complexity but more case studies shall be performed for other types of current profile since the proposed ci approach is simplified method of fatigue damage calculation with many factors being neglected at present the result produced using ci approach is not acceptable for low ci region and shall be further improved by considering other factors such as current direction orientation and configuration of riser as well as riser soil interaction in near future to sum up the proposed ci method provides a simpler and faster fatigue damage calculation however the accuracy of the result is questionable for low current region and shall be improved at present only current profile variation is considered in the study variation in water depth fatigue curve properties fatigue hotspot riser properties and pipe soil interaction is assumed to be negligible in present and shall be considered in future studies to improve the result of the proposed approach the advantages and disadvantages of the proposed ci approach is summarized in table 5 below this concept is used to develop guideline for evaluating fatigue damage of scr the obtained results will make the design analysis of scr simple and efficient 6 conclusion in the study herein an innovative method of fatigue damage versus current index f c diagram is proposed for the estimation of fatigue performance of offshore riser the obtained research outcomes are summarized as follows current index ci concept is proposed by considering the parameters of current profile such as current velocity and water depth relationship between fatigue damage and current index is investigated and formulated fatigue damage of scr increases when current index is increased the proposed f c diagram shows good agreement with the current cases fatigue damage of scr subjected to different shape of current profile can be predicted by the proposed f c diagram further investigations may be performed in terms of effect of riser size current direction variation along the water depth water depth variation and different types of riser acknowledgments this study was undertaken at ocean and ship technology ost at universiti teknologi petronas this research was supported by the technology innovation program grant no 10053121 and 10051279 funded by the ministry of trade industry and energy mi korea and yutp grant 0153aa e60 malaysia the authors would also like to thank for the great support of postech posco and daewoo e c republic of korea appendix table a1 selected sixty 60 current profiles table a1 scenarios velocity m s water depth m current index surface v0 v1 bottom v2 v3 h0 h1 h2 near and far 1 1 100 0 510 400 640 960 9 526 2 1 256 0 510 400 640 960 17 489 3 1 411 0 510 400 640 960 30 299 4 1 567 0 510 400 640 960 49 911 5 1 722 0 510 400 640 960 78 751 6 1 878 0 510 400 640 960 119 763 7 fail 2 033 0 510 400 640 960 176 462 8 fail 2 189 0 510 400 640 960 252 984 9 fail 2 344 0 510 400 640 960 354 139 10 fail 2 500 0 510 400 640 960 485 458 11 1 100 0 100 40 160 1800 0 954 12 1 100 0 146 40 160 1800 0 982 13 1 100 0 191 40 160 1800 1 015 14 1 100 0 237 40 160 1800 1 056 15 1 100 0 282 40 160 1800 1 111 16 1 100 0 328 40 160 1800 1 188 17 1 100 0 373 40 160 1800 1 295 18 1 100 0 419 40 160 1800 1 446 19 1 100 0 464 40 160 1800 1 659 20 1 100 0 510 40 160 1800 1 953 21 repetition 1 100 0 100 40 160 1800 0 954 22 1 100 0 100 40 253 1707 1 134 23 1 100 0 100 40 347 1613 1 314 24 1 100 0 100 40 440 1520 1 495 25 1 100 0 100 40 533 1427 1 675 26 1 100 0 100 40 627 1333 1 855 27 1 100 0 100 40 720 1240 2 036 28 1 100 0 100 40 813 1147 2 216 29 1 100 0 100 40 907 1053 2 397 30 1 100 0 100 40 1000 960 2 577 31 1 100 0 510 40 160 1800 63 309 32 1 100 0 510 80 213 1707 110 214 33 1 100 0 510 120 267 1613 157 120 34 1 100 0 510 160 320 1520 204 025 35 1 100 0 510 200 373 1427 250 931 36 1 100 0 510 240 427 1333 297 836 37 fail 1 100 0 510 280 480 1240 344 742 38 fail 1 100 0 510 320 533 1147 391 647 39 fail 1 100 0 510 360 587 1053 438 553 40 fail 1 100 0 510 400 640 960 485 458 41 1 100 0 510 40 1000 960 5 276 42 1 256 0 510 80 960 960 9 842 43 1 411 0 510 120 920 960 17 952 44 1 567 0 510 160 880 960 31 695 45 1 722 0 510 200 840 960 54 016 46 1 878 0 510 240 800 960 88 920 47 2 033 0 510 280 760 960 141 710 48 fail 2 189 0 510 320 720 960 219 243 49 fail 2 344 0 510 360 680 960 330 215 50 fail 2 500 0 510 400 640 960 485 458 51 repetition 1 100 0 100 40 160 1800 0 954 52 1 100 0 146 40 253 1707 1 178 53 1 100 0 191 40 347 1613 1 441 54 1 100 0 237 40 440 1520 1 752 55 1 100 0 282 40 533 1427 2 120 56 1 100 0 328 40 627 1333 2 556 57 1 100 0 373 40 720 1240 3 075 58 1 100 0 419 40 813 1147 3 690 59 1 100 0 464 40 907 1053 4 418 60 repetition 1 100 0 510 40 1000 960 5 276 
23437,the alignment quality optimization and vibration damping of ship shafting is one of the key issues in ship research field the quality of shafting alignment affects the vibration characteristics of a shafting and the safety reliability of a ship in operation directly a motor drive propulsion shafting was researched in this paper which focuses on the linear alignment and load coefficient calculation based on these calculation results the alignment quality was optimized and the whirling vibration characteristic under different alignment conditions was calculated in order to optimize the shafting alignment quality and vibration characteristics simultaneously by adjusting the vertical position of each bearing optimization weight coefficient was present which provided a new idea for comprehensive optimization of vibration damping and shafting alignment keywords shafting alignment vibration characteristics vibration damping load influence coefficient weight coefficient comprehensive optimization 1 introduction the vibration characteristics and alignment states of a marine propulsion shafting will affect the safety and reliable operation of a ship seriously and it is one of the key issues in marine engineering research fields the main function of shafting is transferring power from main engine and driving propeller rotation for ships and at the same time transmitting the thrust and tension produced by propeller to the hull through the thrust bearing g chen et al 2001 however the shafting bears a variety of loads that influence each other and its alignment quality affects the bearing load of each bearing directly a poor shafting alignment state will result in excessive load on the individual bearing and abnormal wear which will affect the safety reliable and stable operation of a ship seriously and increase abnormal vibration and noise as well many scholars and related research institutions have done much research on the ship shafting alignment optimization vibration damping and noise reduction as to shafting alignment optimization many research works focus on the alignment methods including linear alignment allowable bearing load alignment reasonable alignment dynamic alignment etc h wei et al studied the problem of multi points support on the stern bearing by transfer matrix method h wei h wang 2001 r zhou et al researched the three moment method and finite element method in shafting alignment calculation zhang et al 2003 several methods of static alignment calculation for ship shafting were compared and analyzed by h chen and how the shaft sections machining errors hull deformation flange sag etc effect on the quality of shafting alignment were analyzed as well about the theoretical study of shafting whirling vibration z chen et al researched the whirling vibration phenomenon of ship propulsion shafting in which the vibration characteristics of shafting was analyzed in details and the calculation algorithm was studied z chen et al 1984 y hori et al also studied on the relevant influence factors to the whirling vibration of ship shafting y hori et al 1978 al bedoor b o 2001 meirovith l et al studied the basic theory of ship shafting whirling vibration meirovith l et al 2001 brown m a et al applied the multi elastic method and the dynamics model to calculate the whirling vibration characteristics of rotor shafting brown m a et al 1997 for experimental research on the whirling vibration of shafting the experimental research is not only beneficial to verify the accuracy of the theoretical model but also helpful to modify the model and promote the development of the theory of ship shafting whirling vibration the work of shafting s fem modified by the modal parameters and experimental data of a propulsion shafting experimental platform was carried out by liu et al and the modified fem of shafting can describe the whirling vibration characteristics of the shafting better z liu et al 1991 li et al applied the hammering method to test the free vibration of a hovercraft scale platform which was used to verify the accuracy of theoretical calculation n li 2007 the research works about the influence of shafting alignment optimization on its whirling vibration characteristics cao carried out a research on shafting two way horizontal and vertical displacement of each bearing optimization alignment a chapter of his master s thesis was devoted to researching the effect of axial displacement of intermediate bearings on whirling vibration characteristics of the shafting and this factor considered in the progress of shafting two way optimization alignment x cao 2008 liu et al applied the transfer matrix method to achieve the target of two way optimization for shafting alignment in which the load on the rear stern bearing is minimized x liu et al 2016 zhang et al studied the calculation model of the influence of shafting curve alignment and the misalignment of coupling on its whirling vibration respectively and the accuracy of the theoretical models was verified by experiments x zhang et al 2016 as for vibration and noise control of shafting s whirling vibration the methods such as frequency modulation vibration source control and vibration isolation were suggested usually logr zverv et al proposed a stiffness calculation method of built in ball bearing model by establishing the finite element model of a bearing and studied on how the influence of bearing stiffness on the shafting s whirling vibration logr zverv et al 2010 however the stiffness value difference between the horizontal and vertical of each bearing was neglected in this study which could result in some differences between the calculated results and the actual values x lin et al researched a whirling vibration calculation method of improved fourier series which is suitable for a shafting with elastic supporting variable axis neck and multi span and studied the relationship between the bearing supporting and the whirling vibration characteristics x lin 2016 in addition zhu et al considered many factors e g gyroscopic effect external shock loading positions of intermediate bearings bearing support stiffness the effective contact length on the aft stern bearing the vertical displacement of shafting center line caused by hull deformation j zhu 2012 according to literatures review few scholars have studied the method of optimizing shafting alignment states and vibration damping by the method of adjusting the position of each bearing while in the process of shafting alignment design especially in the case of a short shafting alignment in which the linear alignment method was generally used a motor drive shafting was studied in this paper and its load effect coefficients were obtained on the basis of the linear alignment calculation results considering the load on the rear stern bearing is minimal as the optimizing target to get its reasonable alignment state and within the displacement 10 10 mm for each bearing the vertical displacement of three bearings were adjusted to obtain a high alignment quality for the shafting the whirling vibration characteristics of this shafting under different alignment states were calculated then according to the relevant experts opinions the weight coefficients of the alignment quality and whirling vibration characteristics were established to seek for a suitable displacement of each bearing to improve shafting alignment quality and reduce whirling vibration responses 2 brief introduction of the motor drive shafting the sketch of the motor drive shafting arrangement is shown in fig 1 the motor drive shafting system mainly consists of a propeller a stern shaft an intermediate shaft two stern bearings and a thrust bearing a high elastic coupling and a motor etc wherein the stern shaft is supported by the front bearing and rear one the thrust shaft is supported by a thrust bearing the stern shaft is connected with the intermediate shaft by a coupling flange the intermediate shaft is connected with the thrust shaft by a flange the rear stern bearing of the motor drive shafting is lubricated by water while the front stern bearing and the thrust one are lubricated by oil in this paper the lubrication characteristics of each bearing have been considered separately for convenience they are generally referred to as oil film lubrication but the different properties of the lubricating fluid are treated differently in calculation 3 calculation and optimization for shafting alignment considering the complicated force acting on the shafting system before alignment calculation the physical model of the shafting should be simplified by making some reasonable assumptions the simplified model of shafting alignment is shown in fig 2 taking the apex of propeller hub as the coordinate origin the x axis is the axial direction pointing to the bow is positive the y axis is the vertical direction the gravity direction is negative the z axis is the horizontal direction and vertical surface outward is positive each bearing is replaced by a vertical direction spring and a horizontal direction spring respectively the other ends of springs are fixed on the ground their free lengths are 0 6m and their stiffness values are provided by the manufacturer because of the influence of the edge load of propeller the action point of the springs used to simulate the rear stern bearing is located at 1 3 length of the rear stern bearing while the other two bearings are located at the middle position of the corresponding bearing and the ends are fixed on the ground besides an axial spring is added to the right end face of the thrust bearing to simulate the effect of the thrust bearing on the axial thrust but the other end is fixed on the ground the free length is 1 2m and value of stiffness is provided by the manufacturer c xiong 2017 3 1 fem of the motor drive shafting the fem of the motor drive shafting established by the beam188 element according to its relative parameters is simplified on the basis of relative literatures z feng et al 2008 h zhang et al 2005 and g you et al 2009 etc its elastic modulus e is 2 1e11n m2 and poisson ratio μ is 0 266 the fem of the shafting was established in ansys as shown in fig 3 3 2 shafting alignment calculation whether the shafting alignment quality is in a high level or not concerns the safety and stable operation of a ship directly if the shafting alignment is in a poor state it may cause unreasonable load distribution abnormal wear excessive stress in some parts and huge vibration noise etc ship classification societies of many countries and some relevant research institutes in the field of ship research have formulated corresponding technical requirements for ship shaft alignment including the load distribution and allowable load on each bearing the bending moment and the deflection of each section etc the corresponding calculation method of shafting alignment and some practical construction specifications for shafting alignment were provided as well according to the fem of shafting established in section 3 1 it has been divided into finite elements and the model of each element is shown in fig 4 each of them consists of two nodes and the forces and moments between the two adjacent elements are transmitted by nodes the states of the nodes shear and bending moment are shown in fig 4 the shear vectors q e and deformation vectors δ e of each element are 1 q e q i e q j e t t i m i t j m j t δ e δ i e δ j e t y i θ i y j θ j t where t i t i are the shear of node i j m i m j are the bending moment of node i j y i y j are the vertical displacement of node i j θ i θ j are the angle around the axis of node i j respectively the shafting has no plastic deformation in normal operation so the element deformation is discussed only in the elastic deformation range here and the relationship between force and deformation is linear 2 q e k e δ e where k e denotes the stiffness matrix of an element 3 k e e i 1 ϕ 12 l 3 6 l 2 12 l 3 6 l 2 6 l 2 4 ϕ l 6 l 2 2 ϕ l 12 l 3 6 l 2 12 l 3 6 l 2 6 l 2 2 ϕ l 6 l 2 4 ϕ l where ϕ 12 e i g s l 2 e g are the elastic modulus and shear elastic modulus of the shafting s material respectively i is the element s inertia moment to x axis s is the element s cross sectional area l is the length of beam element the stiffness matrix of each beam element of the shafting can be obtained by the formula 1 2 and 3 and the stiffness matrix k of the shafting can be obtained by reassembling the stiffness matrix of each element so the relationship between shafting deformation δ and the load r on it can be expressed by formula 4 4 r k δ the states of each bearing are shown in table 1 under shafting linear alignment the defection shearing rotation angle and equivalent stress of the shafting under linear alignment state are shown in fig 5 form table 1 and fig 5 we can see the deflection shearing rotation angle and equivalent stress of the shaft section near the rear stern bearing and the load on the rear stern are maximum under shafting linear alignment it is easy to lead to the abnormal wear of the rear stern bearing and the rapid damage of the rear stern bearing and the shaft section near it which is very unfavorable to the safety and stable operation of the shafting so the method of shafting reasonable alignment by adjusting the bearings positions is urgently needed to apply to improve this situation according to the definition myklestad n j 1944 of bearing load influence coefficients a i j and the calculation results of shafting linear alignment a i j is 5 a i j 0 346 1 067 1 561 1 067 4 489 11 35 1 561 11 35 156 59 3 3 alignment optimization for the motor drive shafting according to the calculation results of the motor drive shafting under linear alignment in sections 3 2 the load on the rear stern bearing is too heavy and it is easy to cause abnormal wear on rear stern bearing and circumferential excitation of shafting due to the cantilever beam of the propeller therefore the state of the shafting alignment should be optimized by adjusting the position of each bearing in vertical direction y direction considering the load on the rear stern bearing minimum as the objective function the loads on three bearings are in allowable range and the load on the adjacent two bearings have minimum difference after adjusting the position of each bearing the load r i on each bearing can be expressed by equation 6 6 r i r 0 i j 1 3 a i j y j where r 0 i is the load on each bearing when the shafting under linear alignment a i j is element of the load influence coefficient a i j y j is the vertical displacement value of bearing no j i j denote number 1 2 3 and bearing no 1 2 and 3 represent the rear stern bearing front stern bearing and thrust bearing respectively according to the relevant design requirements of the shafting the load kn allowable ranges of three bearings are listed in table 2 in the progress of shafting static alignment the influence of the displacement of bearings on lubricant oil film stiffness is neglected and the shafting alignment optimizing calculation is simplified as an optimization problem of linear programming with constraints shown in table 2 and relevant requirements for shafting reasonable alignment proposed by classification societies r zhou et al 2005 dnv 2003 and etc such as dnv abs ccs and etc the shafting reasonable alignment results are shown in table 3 and fig 6 comparing table 1 with table 3 and fig 5 with fig 6 it is shown that the load on the rear stern bearing decreases by 9 58 kn while the load on the front stern bearing dramatically increases by 26 84 kn and the load difference between the rear and front stern bearing declines by 24 95 kn after shafting reasonable alignment so that it could reduce the abnormal wear on rear stern bearing effectively however the rotation angle and the equivalent stress of the shafting increases with a certain value in the permitted range 4 whirling vibration calculation of the shafting the reason of shafting s whirling vibration is the imbalance and propeller rotates in the uniform flow mainly which causes the unbalanced excitation force of the fluid to produce bending moment and lateral moment acting on the blade resulting in periodic bending deformation of the shafting when the classification societies of various countries draw up design codes of ship shafting a shafting should not only meet the strength requirements and corresponding dynamic performance but also avoid the critical speed of vibration reduce the stress vibration amplitude noise and etc in operation in order to improve the quality of the ship shafting design and ensure its safety and stable operation the vibration characteristic of shafting during operation is one of the important factors that restrict the acoustic stealth performance of a ship while the load on each bearing shafting bending and inter stress will be different under different shafting alignment states and thus it is urgently needed to control the shafting vibration and reduce noise by optimizing shafting alignment 4 1 whirling vibration modeling of shafting in the early stage empirical formula was used to calculate the whirling vibration of shafting mainly and some calculation softwares were compiled and the important practical engineering value was obtained for instance the zhou s team compiled software to calculate shafting whirling vibration based on vb r zhou et al 1999 h diken k alnefai et al studied the influence of rotor unbalance on its whirling vibration h diken et al 2011 with the development of shipbuilding industry the shafting becomes longer and its rotation speed becomes higher and the precision requirements for shafting whirling vibration calculation also increased the methods for shafting whirling vibration calculation are mainly including mp riccati transfer matrix fem and etc recently w zhang 2014 according to the research of ship shafting whirling vibration took by the team of professor chen z chen et al 1988 the gyroscopic effect is caused by the deformation of shafting due to the action of the propeller cantilever beam mainly i e a gyroscopic moment formed by the gravity center of the propeller does not act on the axis during shafting rotating how the effect of gyroscopic effect works on the whirling vibration of the shafting was studied in details in reference x wang 2014 and no more details are presented here the anisotropy of bearing support stiffness was considered during the progress of building the fem of shafting in section 3 1 the supporting role in the horizontal direction and the vertical direction of each bearing is replaced by two spring elements with different values so it can analyze the impact of gyroscopic effect on the coupling deformation of the shafting in those two directions effectively according to the fem of the shafting built in section 3 1 and the rotor dynamics theory z wang 2015 the whirling vibration calculation of the shafting was accomplished in the structural dynamics module of ansys the general equations of rotor dynamics can be expressed as 7 m u c g u k u f t where m c k denote the mass matrix damping matrix and stiffness matrix of the shafting structure respectively u u u f t denote the displacement vector velocity vector acceleration vector and excitation force vector of each node respectively g is the gyroscopic effect matrix and the value depends on the spin velocity of shafting the stiffness value of each spring element which instead of bearing can be expressed by 8 1 k 1 k s 1 k o where k s and k o denote the stiffness of shafting structure and bearing support oil film in the direction of horizontal and vertical respectively 4 2 analysis the characteristics of bearing support oil film the thickness and dynamic characteristics of the support oil film on each bearing will be changed under different alignment states and different spin velocities of the shafting so it is significant to study on how the vibration characteristics of the shafting affected by the oil support under different alignment states and spin velocities according to formula 7 and 8 in section 4 1 the oil film pressure distribution of bearing support under different alignment states can be calculated by reynolds equation based on hydrodynamic lubrication theory of sliding bearing prohl m a 1945 the pressure distribution model of the bearing support oil film in the cartesian coordinate and the coordinate transformation is shown in fig 7 during the operation of shafting with the load f on each bearing there is an eccentric distance e eccentric angle θ between the shaft center o 2 and bearing center o 1 the extension line of the center distance o 1 o 2 between the bearing and the shaft neck intersection which intersects with the bearing and the shaft neck and the end of two intersecting line segments represent the maximum gap h max c e and minimum gap h min c e between the bearing and shaft neck where c denotes the radius clearance between bearing and shaft neck r c denotes bearing hole diameter r denotes shaft neck radius according to fig 7 a we can know that the clearance between the bearing and the shafting from h max to h min on the rotation direction of shafting is a convergence wedge in this period of interval gap change the pressure on support oil film of bearing is increased first and then decreased sharply the pressure distribution calculation method of bearing support oil film with the reynolds equation can be found in many text books p huang 2012 and et al so the derivation process of calculation is omitted in this paper fig 8 a and b demonstrate the pressure distribution of oil film on the rear stern bearing under shafting linear alignment and shafting reasonable alignment under 20 rated speed respectively compared a and b of fig 8 and the results of shafting alignment under the two shafting alignment states from section 3 2 and section 3 3 we can find that the load on the rear stern bearing decreases after shafting reasonable alignment while the maximum value of the oil film pressure on the rear stern bearing increases the oil film pressure distribution of other two bearings under different shafting alignment states could be obtained by the same method 4 3 computation stiffness of bearing support oil film in the course of shafting operation suppose the change of journal center as a quasi static process and the eccentric distance deflection angle between bearing and journal are calculated with the perturbation method the stiffness value of the supporting oil film can be obtained according to the change of its thickness which is affected by the changing of the eccentric distance and deflection angle the definition of stiffness by the following formulas 9 k o i l f h 10 f f e 2 f θ 2 11 e e 0 2 r 2 2 e 0 y sin ϕ 0 ϕ ϕ 0 arcsin e 0 cos ϕ 0 e where e 0 ϕ 0 denote the initial steady state coordination of axis center the stiffness value of support oil film on each bearing under shafting linear alignment is shown in table 4 the stiffness of oil film on each bearing under different shafting alignment states can be obtained with the same method 4 4 modal calculation of the motor drive shafting during the voyage of a ship the thrust is produced by rotating propeller in water and then transmitted to ship hull by the shafting in the form of bearing force finally push the ship to move due to the propeller thrust is not constant exciting force but varies with time and the inherent properties of shafting has an important effect on amplifying or reducing the transfer force the modal analysis of the shafting platform can be taken based on its fem form section 3 1 because the different states of shafting alignment have a great influence on the vertical stiffness of each bearing while has little influence on the axial stiffness of the shafting so we focus on the comprehensive optimization for shafting alignment quality and its whirling vibration damping now the vibration modal calculation of the shafting is mainly based on the elastic boundary and the first four order vibration modes of the shafting under its linear alignment are shown in fig 9 the vibration modal of the shafting under different alignment states can be obtained by the same method seen from fig 9 it illustrates that 1 the first four resonance frequencies of the shafting are 9 25hz 12 71hz 12 74hz and 30 86hz 2 the first four modal shapes of the shafting in fig 9 show that the circumferential force on the shafting has great impact on its propeller the middle part of the stern shaft and the vicinity of the joint between the intermediate shaft and the thrust shaft consequently taking three reference points near each of the above three parts and a reference point near the thrust bearing the vibration frequency responses of them can reflect the vibration characteristics of the shafting comprehensively 4 5 calculation of shafting whirling vibration the whirling vibration frequency responses of the four reference points under a given excitation force in the range of 0 200hz were calculated based on the fem of the shafting and the four reference points are numbered no 1 no 2 no 3 and no 4 sequentially from left to right according to their positions in the shafting the whirling vibration frequency response curves of the four reference points under shafting linear alignment and shafting reasonable alignment are shown in fig 10 a and b respectively seen from fig 10 the resonant frequency points are almost equal in the direction of horizontal and vertical respectively in the low frequency range of 0 100hz the amplitude response of the reference point no 2 is the largest while the amplitude response of the reference point no 4 is the least due to the action of the thrust bearing the frequency response peaks of the four reference points in the horizontal direction are greater than the vertical direction at first two resonant frequency points while they changed at the other resonant frequency points after shafting reasonable alignment the resonance amplitudes of the four reference points increased at the first resonant frequency point while decreased at other resonant frequency points furthermore the resonance phenomenon above three orders of the shafting is eliminated effectively especially at 116hz 5 comprehensive optimization for the alignment quality and whirling vibration characteristics of shafting according to the analysis in section 4 4 and section 4 5 the shafting alignment quality has been greatly improved and the load on the rear stern bearing significantly decreased after reasonable alignment with the advantage of slowing down the abnormal wear on the rear stern bearing while the whirling vibration characteristic has been changed and been deteriorated in a low frequencies range therefore the comprehensive optimization method of the shafting alignment quality and whirling vibration characteristics of the shafting is urgent to research due to the revolution of the shafting are usually in the low speed range 5 1 establishment of a comprehensive optimization model the bearing displacement has effect on the thickness and pressure distribution of the bearing oil film directly while the influence on the vibration of the shafting is not linear in order to simplify the calculation process adjusting the positions of the three bearings in vertical direction has been taken into consideration consequently the shafting alignment quality and whirling vibration characteristics are optimized simultaneously and thus the optimization objective is to minimize the load on the rear stern bearing and the whirling vibration amplitude of shafting and the evaluation index of the whirling vibration characteristics of the shafting is the vibration amplitude peak values of the four reference points in section 4 5 the optimization objective function is expressed by the following mathematical equations 12 min f r 1 k f 1 k min α 1 f 1 α 2 f 2 α 3 f 3 α 4 f 4 α 5 f 4 f 1 r 1 k r 01 r 01 f 2 f 1 k f 1 f 1 f 3 f 2 k f 2 f 2 f 4 f 3 k f 3 f 3 f 5 f 4 k f 4 f 4 k k 1 k 2 k 3 k i 10 10 i 1 2 3 where α 1 α 2 α 3 α 4 α 5 denote the weight coefficients of the load reduction degree on the rear stern bearing the vibration damping degree of the four reference points respectively f 1 f 2 f 3 f 4 denote the whirling vibration amplitude peak values of the four reference points under shafting linear alignment in the range of 0 200hz respectively r 1 k f 1 k f 2 k f 3 k f 4 k denote the load on the rear stern bearing the whirling vibration amplitude peak values of the four reference points respectively after the position of each bearing was adjusted k mm k 1 k 2 k 3 denote the displacement values mm of the rear stern bearing the front stern bearing and the thrust bearing respectively they are all in the range of 10 10 mm 5 2 optimization calculation the weight coefficients in equation 12 should be determined according to the actual conditions of the shafting such as the degree of abnormal wear of the rear stern bearing the magnitude of the load difference between the front stern bearing and rear stern bearing the requirements of the ship for shafting vibration and so on according to the relevant data provided by register of shipping and shipyard and the experts opinions setting the weight coefficients α 1 α 2 α 3 α 4 α 5 are 0 3 0 1 0 3 0 2 and 0 1 respectively the optimization algorithm compiled with malab is used to seek the minimum value of the comprehensive optimization objective function 12 finally the displacement of each bearing under the comprehensive optimization alignment state of the shafting is 10 5 68 0 93 mm the load on the rear stern bearing is 47 36 kn and the whirling vibration frequency response curves of the four reference points under this state are shown in fig 11 from figs 10 and 11 and the results of shafting alignment calculation we can find that under shafting comprehensive optimization alignment state the load on the rear stern bearing and the whirling vibration response peaks of the four reference points all decrease compared to the state under shafting linear alignment while compared to the state under shafting reasonable alignment although the load on the rear stern bearing increases the whirling vibration response peaks of the four reference points decrease additional the objective function value under the shafting comprehensive optimization alignment state is the least among the three shafting alignment states 6 conclusions based on a motor driving shafting under its linear alignment and the theory of journal bearing lubrication rotor dynamics the support stiffness of each bearing and the whirling vibration amplitude frequency characteristic under different alignment states were calculated with the fem in this paper in order to simplify the calculation an optimization model was established to adjust the position of three bearings in vertical direction and the minimum value of the objective function is obtained when k 10 5 68 0 93 mm from this point of view the shafting works in comprehensive optimization alignment state when the rear position of stern bearing moves down 10 mm the front stern bearing moves up 5 68 mm and thrust bearing moves up 0 93 mm in vertical direction under this state the value of the comprehensive optimization objective function is the least therefore the load on rear stern bearing and the whirling vibration response of the shafting are improved compared with its linear alignment this paper s research provides a new idea for the vibration control of shafting during the design stage and is beneficial to the practical engineering acknowledgement this work is supported by the hubei natural science foundation of china no 2014cfb453 no 2017cfb584 self help basic research project of naval university of engineering no 20161519 and the national natural science fund nsfc grant no 51579242 no 51479154 
23437,the alignment quality optimization and vibration damping of ship shafting is one of the key issues in ship research field the quality of shafting alignment affects the vibration characteristics of a shafting and the safety reliability of a ship in operation directly a motor drive propulsion shafting was researched in this paper which focuses on the linear alignment and load coefficient calculation based on these calculation results the alignment quality was optimized and the whirling vibration characteristic under different alignment conditions was calculated in order to optimize the shafting alignment quality and vibration characteristics simultaneously by adjusting the vertical position of each bearing optimization weight coefficient was present which provided a new idea for comprehensive optimization of vibration damping and shafting alignment keywords shafting alignment vibration characteristics vibration damping load influence coefficient weight coefficient comprehensive optimization 1 introduction the vibration characteristics and alignment states of a marine propulsion shafting will affect the safety and reliable operation of a ship seriously and it is one of the key issues in marine engineering research fields the main function of shafting is transferring power from main engine and driving propeller rotation for ships and at the same time transmitting the thrust and tension produced by propeller to the hull through the thrust bearing g chen et al 2001 however the shafting bears a variety of loads that influence each other and its alignment quality affects the bearing load of each bearing directly a poor shafting alignment state will result in excessive load on the individual bearing and abnormal wear which will affect the safety reliable and stable operation of a ship seriously and increase abnormal vibration and noise as well many scholars and related research institutions have done much research on the ship shafting alignment optimization vibration damping and noise reduction as to shafting alignment optimization many research works focus on the alignment methods including linear alignment allowable bearing load alignment reasonable alignment dynamic alignment etc h wei et al studied the problem of multi points support on the stern bearing by transfer matrix method h wei h wang 2001 r zhou et al researched the three moment method and finite element method in shafting alignment calculation zhang et al 2003 several methods of static alignment calculation for ship shafting were compared and analyzed by h chen and how the shaft sections machining errors hull deformation flange sag etc effect on the quality of shafting alignment were analyzed as well about the theoretical study of shafting whirling vibration z chen et al researched the whirling vibration phenomenon of ship propulsion shafting in which the vibration characteristics of shafting was analyzed in details and the calculation algorithm was studied z chen et al 1984 y hori et al also studied on the relevant influence factors to the whirling vibration of ship shafting y hori et al 1978 al bedoor b o 2001 meirovith l et al studied the basic theory of ship shafting whirling vibration meirovith l et al 2001 brown m a et al applied the multi elastic method and the dynamics model to calculate the whirling vibration characteristics of rotor shafting brown m a et al 1997 for experimental research on the whirling vibration of shafting the experimental research is not only beneficial to verify the accuracy of the theoretical model but also helpful to modify the model and promote the development of the theory of ship shafting whirling vibration the work of shafting s fem modified by the modal parameters and experimental data of a propulsion shafting experimental platform was carried out by liu et al and the modified fem of shafting can describe the whirling vibration characteristics of the shafting better z liu et al 1991 li et al applied the hammering method to test the free vibration of a hovercraft scale platform which was used to verify the accuracy of theoretical calculation n li 2007 the research works about the influence of shafting alignment optimization on its whirling vibration characteristics cao carried out a research on shafting two way horizontal and vertical displacement of each bearing optimization alignment a chapter of his master s thesis was devoted to researching the effect of axial displacement of intermediate bearings on whirling vibration characteristics of the shafting and this factor considered in the progress of shafting two way optimization alignment x cao 2008 liu et al applied the transfer matrix method to achieve the target of two way optimization for shafting alignment in which the load on the rear stern bearing is minimized x liu et al 2016 zhang et al studied the calculation model of the influence of shafting curve alignment and the misalignment of coupling on its whirling vibration respectively and the accuracy of the theoretical models was verified by experiments x zhang et al 2016 as for vibration and noise control of shafting s whirling vibration the methods such as frequency modulation vibration source control and vibration isolation were suggested usually logr zverv et al proposed a stiffness calculation method of built in ball bearing model by establishing the finite element model of a bearing and studied on how the influence of bearing stiffness on the shafting s whirling vibration logr zverv et al 2010 however the stiffness value difference between the horizontal and vertical of each bearing was neglected in this study which could result in some differences between the calculated results and the actual values x lin et al researched a whirling vibration calculation method of improved fourier series which is suitable for a shafting with elastic supporting variable axis neck and multi span and studied the relationship between the bearing supporting and the whirling vibration characteristics x lin 2016 in addition zhu et al considered many factors e g gyroscopic effect external shock loading positions of intermediate bearings bearing support stiffness the effective contact length on the aft stern bearing the vertical displacement of shafting center line caused by hull deformation j zhu 2012 according to literatures review few scholars have studied the method of optimizing shafting alignment states and vibration damping by the method of adjusting the position of each bearing while in the process of shafting alignment design especially in the case of a short shafting alignment in which the linear alignment method was generally used a motor drive shafting was studied in this paper and its load effect coefficients were obtained on the basis of the linear alignment calculation results considering the load on the rear stern bearing is minimal as the optimizing target to get its reasonable alignment state and within the displacement 10 10 mm for each bearing the vertical displacement of three bearings were adjusted to obtain a high alignment quality for the shafting the whirling vibration characteristics of this shafting under different alignment states were calculated then according to the relevant experts opinions the weight coefficients of the alignment quality and whirling vibration characteristics were established to seek for a suitable displacement of each bearing to improve shafting alignment quality and reduce whirling vibration responses 2 brief introduction of the motor drive shafting the sketch of the motor drive shafting arrangement is shown in fig 1 the motor drive shafting system mainly consists of a propeller a stern shaft an intermediate shaft two stern bearings and a thrust bearing a high elastic coupling and a motor etc wherein the stern shaft is supported by the front bearing and rear one the thrust shaft is supported by a thrust bearing the stern shaft is connected with the intermediate shaft by a coupling flange the intermediate shaft is connected with the thrust shaft by a flange the rear stern bearing of the motor drive shafting is lubricated by water while the front stern bearing and the thrust one are lubricated by oil in this paper the lubrication characteristics of each bearing have been considered separately for convenience they are generally referred to as oil film lubrication but the different properties of the lubricating fluid are treated differently in calculation 3 calculation and optimization for shafting alignment considering the complicated force acting on the shafting system before alignment calculation the physical model of the shafting should be simplified by making some reasonable assumptions the simplified model of shafting alignment is shown in fig 2 taking the apex of propeller hub as the coordinate origin the x axis is the axial direction pointing to the bow is positive the y axis is the vertical direction the gravity direction is negative the z axis is the horizontal direction and vertical surface outward is positive each bearing is replaced by a vertical direction spring and a horizontal direction spring respectively the other ends of springs are fixed on the ground their free lengths are 0 6m and their stiffness values are provided by the manufacturer because of the influence of the edge load of propeller the action point of the springs used to simulate the rear stern bearing is located at 1 3 length of the rear stern bearing while the other two bearings are located at the middle position of the corresponding bearing and the ends are fixed on the ground besides an axial spring is added to the right end face of the thrust bearing to simulate the effect of the thrust bearing on the axial thrust but the other end is fixed on the ground the free length is 1 2m and value of stiffness is provided by the manufacturer c xiong 2017 3 1 fem of the motor drive shafting the fem of the motor drive shafting established by the beam188 element according to its relative parameters is simplified on the basis of relative literatures z feng et al 2008 h zhang et al 2005 and g you et al 2009 etc its elastic modulus e is 2 1e11n m2 and poisson ratio μ is 0 266 the fem of the shafting was established in ansys as shown in fig 3 3 2 shafting alignment calculation whether the shafting alignment quality is in a high level or not concerns the safety and stable operation of a ship directly if the shafting alignment is in a poor state it may cause unreasonable load distribution abnormal wear excessive stress in some parts and huge vibration noise etc ship classification societies of many countries and some relevant research institutes in the field of ship research have formulated corresponding technical requirements for ship shaft alignment including the load distribution and allowable load on each bearing the bending moment and the deflection of each section etc the corresponding calculation method of shafting alignment and some practical construction specifications for shafting alignment were provided as well according to the fem of shafting established in section 3 1 it has been divided into finite elements and the model of each element is shown in fig 4 each of them consists of two nodes and the forces and moments between the two adjacent elements are transmitted by nodes the states of the nodes shear and bending moment are shown in fig 4 the shear vectors q e and deformation vectors δ e of each element are 1 q e q i e q j e t t i m i t j m j t δ e δ i e δ j e t y i θ i y j θ j t where t i t i are the shear of node i j m i m j are the bending moment of node i j y i y j are the vertical displacement of node i j θ i θ j are the angle around the axis of node i j respectively the shafting has no plastic deformation in normal operation so the element deformation is discussed only in the elastic deformation range here and the relationship between force and deformation is linear 2 q e k e δ e where k e denotes the stiffness matrix of an element 3 k e e i 1 ϕ 12 l 3 6 l 2 12 l 3 6 l 2 6 l 2 4 ϕ l 6 l 2 2 ϕ l 12 l 3 6 l 2 12 l 3 6 l 2 6 l 2 2 ϕ l 6 l 2 4 ϕ l where ϕ 12 e i g s l 2 e g are the elastic modulus and shear elastic modulus of the shafting s material respectively i is the element s inertia moment to x axis s is the element s cross sectional area l is the length of beam element the stiffness matrix of each beam element of the shafting can be obtained by the formula 1 2 and 3 and the stiffness matrix k of the shafting can be obtained by reassembling the stiffness matrix of each element so the relationship between shafting deformation δ and the load r on it can be expressed by formula 4 4 r k δ the states of each bearing are shown in table 1 under shafting linear alignment the defection shearing rotation angle and equivalent stress of the shafting under linear alignment state are shown in fig 5 form table 1 and fig 5 we can see the deflection shearing rotation angle and equivalent stress of the shaft section near the rear stern bearing and the load on the rear stern are maximum under shafting linear alignment it is easy to lead to the abnormal wear of the rear stern bearing and the rapid damage of the rear stern bearing and the shaft section near it which is very unfavorable to the safety and stable operation of the shafting so the method of shafting reasonable alignment by adjusting the bearings positions is urgently needed to apply to improve this situation according to the definition myklestad n j 1944 of bearing load influence coefficients a i j and the calculation results of shafting linear alignment a i j is 5 a i j 0 346 1 067 1 561 1 067 4 489 11 35 1 561 11 35 156 59 3 3 alignment optimization for the motor drive shafting according to the calculation results of the motor drive shafting under linear alignment in sections 3 2 the load on the rear stern bearing is too heavy and it is easy to cause abnormal wear on rear stern bearing and circumferential excitation of shafting due to the cantilever beam of the propeller therefore the state of the shafting alignment should be optimized by adjusting the position of each bearing in vertical direction y direction considering the load on the rear stern bearing minimum as the objective function the loads on three bearings are in allowable range and the load on the adjacent two bearings have minimum difference after adjusting the position of each bearing the load r i on each bearing can be expressed by equation 6 6 r i r 0 i j 1 3 a i j y j where r 0 i is the load on each bearing when the shafting under linear alignment a i j is element of the load influence coefficient a i j y j is the vertical displacement value of bearing no j i j denote number 1 2 3 and bearing no 1 2 and 3 represent the rear stern bearing front stern bearing and thrust bearing respectively according to the relevant design requirements of the shafting the load kn allowable ranges of three bearings are listed in table 2 in the progress of shafting static alignment the influence of the displacement of bearings on lubricant oil film stiffness is neglected and the shafting alignment optimizing calculation is simplified as an optimization problem of linear programming with constraints shown in table 2 and relevant requirements for shafting reasonable alignment proposed by classification societies r zhou et al 2005 dnv 2003 and etc such as dnv abs ccs and etc the shafting reasonable alignment results are shown in table 3 and fig 6 comparing table 1 with table 3 and fig 5 with fig 6 it is shown that the load on the rear stern bearing decreases by 9 58 kn while the load on the front stern bearing dramatically increases by 26 84 kn and the load difference between the rear and front stern bearing declines by 24 95 kn after shafting reasonable alignment so that it could reduce the abnormal wear on rear stern bearing effectively however the rotation angle and the equivalent stress of the shafting increases with a certain value in the permitted range 4 whirling vibration calculation of the shafting the reason of shafting s whirling vibration is the imbalance and propeller rotates in the uniform flow mainly which causes the unbalanced excitation force of the fluid to produce bending moment and lateral moment acting on the blade resulting in periodic bending deformation of the shafting when the classification societies of various countries draw up design codes of ship shafting a shafting should not only meet the strength requirements and corresponding dynamic performance but also avoid the critical speed of vibration reduce the stress vibration amplitude noise and etc in operation in order to improve the quality of the ship shafting design and ensure its safety and stable operation the vibration characteristic of shafting during operation is one of the important factors that restrict the acoustic stealth performance of a ship while the load on each bearing shafting bending and inter stress will be different under different shafting alignment states and thus it is urgently needed to control the shafting vibration and reduce noise by optimizing shafting alignment 4 1 whirling vibration modeling of shafting in the early stage empirical formula was used to calculate the whirling vibration of shafting mainly and some calculation softwares were compiled and the important practical engineering value was obtained for instance the zhou s team compiled software to calculate shafting whirling vibration based on vb r zhou et al 1999 h diken k alnefai et al studied the influence of rotor unbalance on its whirling vibration h diken et al 2011 with the development of shipbuilding industry the shafting becomes longer and its rotation speed becomes higher and the precision requirements for shafting whirling vibration calculation also increased the methods for shafting whirling vibration calculation are mainly including mp riccati transfer matrix fem and etc recently w zhang 2014 according to the research of ship shafting whirling vibration took by the team of professor chen z chen et al 1988 the gyroscopic effect is caused by the deformation of shafting due to the action of the propeller cantilever beam mainly i e a gyroscopic moment formed by the gravity center of the propeller does not act on the axis during shafting rotating how the effect of gyroscopic effect works on the whirling vibration of the shafting was studied in details in reference x wang 2014 and no more details are presented here the anisotropy of bearing support stiffness was considered during the progress of building the fem of shafting in section 3 1 the supporting role in the horizontal direction and the vertical direction of each bearing is replaced by two spring elements with different values so it can analyze the impact of gyroscopic effect on the coupling deformation of the shafting in those two directions effectively according to the fem of the shafting built in section 3 1 and the rotor dynamics theory z wang 2015 the whirling vibration calculation of the shafting was accomplished in the structural dynamics module of ansys the general equations of rotor dynamics can be expressed as 7 m u c g u k u f t where m c k denote the mass matrix damping matrix and stiffness matrix of the shafting structure respectively u u u f t denote the displacement vector velocity vector acceleration vector and excitation force vector of each node respectively g is the gyroscopic effect matrix and the value depends on the spin velocity of shafting the stiffness value of each spring element which instead of bearing can be expressed by 8 1 k 1 k s 1 k o where k s and k o denote the stiffness of shafting structure and bearing support oil film in the direction of horizontal and vertical respectively 4 2 analysis the characteristics of bearing support oil film the thickness and dynamic characteristics of the support oil film on each bearing will be changed under different alignment states and different spin velocities of the shafting so it is significant to study on how the vibration characteristics of the shafting affected by the oil support under different alignment states and spin velocities according to formula 7 and 8 in section 4 1 the oil film pressure distribution of bearing support under different alignment states can be calculated by reynolds equation based on hydrodynamic lubrication theory of sliding bearing prohl m a 1945 the pressure distribution model of the bearing support oil film in the cartesian coordinate and the coordinate transformation is shown in fig 7 during the operation of shafting with the load f on each bearing there is an eccentric distance e eccentric angle θ between the shaft center o 2 and bearing center o 1 the extension line of the center distance o 1 o 2 between the bearing and the shaft neck intersection which intersects with the bearing and the shaft neck and the end of two intersecting line segments represent the maximum gap h max c e and minimum gap h min c e between the bearing and shaft neck where c denotes the radius clearance between bearing and shaft neck r c denotes bearing hole diameter r denotes shaft neck radius according to fig 7 a we can know that the clearance between the bearing and the shafting from h max to h min on the rotation direction of shafting is a convergence wedge in this period of interval gap change the pressure on support oil film of bearing is increased first and then decreased sharply the pressure distribution calculation method of bearing support oil film with the reynolds equation can be found in many text books p huang 2012 and et al so the derivation process of calculation is omitted in this paper fig 8 a and b demonstrate the pressure distribution of oil film on the rear stern bearing under shafting linear alignment and shafting reasonable alignment under 20 rated speed respectively compared a and b of fig 8 and the results of shafting alignment under the two shafting alignment states from section 3 2 and section 3 3 we can find that the load on the rear stern bearing decreases after shafting reasonable alignment while the maximum value of the oil film pressure on the rear stern bearing increases the oil film pressure distribution of other two bearings under different shafting alignment states could be obtained by the same method 4 3 computation stiffness of bearing support oil film in the course of shafting operation suppose the change of journal center as a quasi static process and the eccentric distance deflection angle between bearing and journal are calculated with the perturbation method the stiffness value of the supporting oil film can be obtained according to the change of its thickness which is affected by the changing of the eccentric distance and deflection angle the definition of stiffness by the following formulas 9 k o i l f h 10 f f e 2 f θ 2 11 e e 0 2 r 2 2 e 0 y sin ϕ 0 ϕ ϕ 0 arcsin e 0 cos ϕ 0 e where e 0 ϕ 0 denote the initial steady state coordination of axis center the stiffness value of support oil film on each bearing under shafting linear alignment is shown in table 4 the stiffness of oil film on each bearing under different shafting alignment states can be obtained with the same method 4 4 modal calculation of the motor drive shafting during the voyage of a ship the thrust is produced by rotating propeller in water and then transmitted to ship hull by the shafting in the form of bearing force finally push the ship to move due to the propeller thrust is not constant exciting force but varies with time and the inherent properties of shafting has an important effect on amplifying or reducing the transfer force the modal analysis of the shafting platform can be taken based on its fem form section 3 1 because the different states of shafting alignment have a great influence on the vertical stiffness of each bearing while has little influence on the axial stiffness of the shafting so we focus on the comprehensive optimization for shafting alignment quality and its whirling vibration damping now the vibration modal calculation of the shafting is mainly based on the elastic boundary and the first four order vibration modes of the shafting under its linear alignment are shown in fig 9 the vibration modal of the shafting under different alignment states can be obtained by the same method seen from fig 9 it illustrates that 1 the first four resonance frequencies of the shafting are 9 25hz 12 71hz 12 74hz and 30 86hz 2 the first four modal shapes of the shafting in fig 9 show that the circumferential force on the shafting has great impact on its propeller the middle part of the stern shaft and the vicinity of the joint between the intermediate shaft and the thrust shaft consequently taking three reference points near each of the above three parts and a reference point near the thrust bearing the vibration frequency responses of them can reflect the vibration characteristics of the shafting comprehensively 4 5 calculation of shafting whirling vibration the whirling vibration frequency responses of the four reference points under a given excitation force in the range of 0 200hz were calculated based on the fem of the shafting and the four reference points are numbered no 1 no 2 no 3 and no 4 sequentially from left to right according to their positions in the shafting the whirling vibration frequency response curves of the four reference points under shafting linear alignment and shafting reasonable alignment are shown in fig 10 a and b respectively seen from fig 10 the resonant frequency points are almost equal in the direction of horizontal and vertical respectively in the low frequency range of 0 100hz the amplitude response of the reference point no 2 is the largest while the amplitude response of the reference point no 4 is the least due to the action of the thrust bearing the frequency response peaks of the four reference points in the horizontal direction are greater than the vertical direction at first two resonant frequency points while they changed at the other resonant frequency points after shafting reasonable alignment the resonance amplitudes of the four reference points increased at the first resonant frequency point while decreased at other resonant frequency points furthermore the resonance phenomenon above three orders of the shafting is eliminated effectively especially at 116hz 5 comprehensive optimization for the alignment quality and whirling vibration characteristics of shafting according to the analysis in section 4 4 and section 4 5 the shafting alignment quality has been greatly improved and the load on the rear stern bearing significantly decreased after reasonable alignment with the advantage of slowing down the abnormal wear on the rear stern bearing while the whirling vibration characteristic has been changed and been deteriorated in a low frequencies range therefore the comprehensive optimization method of the shafting alignment quality and whirling vibration characteristics of the shafting is urgent to research due to the revolution of the shafting are usually in the low speed range 5 1 establishment of a comprehensive optimization model the bearing displacement has effect on the thickness and pressure distribution of the bearing oil film directly while the influence on the vibration of the shafting is not linear in order to simplify the calculation process adjusting the positions of the three bearings in vertical direction has been taken into consideration consequently the shafting alignment quality and whirling vibration characteristics are optimized simultaneously and thus the optimization objective is to minimize the load on the rear stern bearing and the whirling vibration amplitude of shafting and the evaluation index of the whirling vibration characteristics of the shafting is the vibration amplitude peak values of the four reference points in section 4 5 the optimization objective function is expressed by the following mathematical equations 12 min f r 1 k f 1 k min α 1 f 1 α 2 f 2 α 3 f 3 α 4 f 4 α 5 f 4 f 1 r 1 k r 01 r 01 f 2 f 1 k f 1 f 1 f 3 f 2 k f 2 f 2 f 4 f 3 k f 3 f 3 f 5 f 4 k f 4 f 4 k k 1 k 2 k 3 k i 10 10 i 1 2 3 where α 1 α 2 α 3 α 4 α 5 denote the weight coefficients of the load reduction degree on the rear stern bearing the vibration damping degree of the four reference points respectively f 1 f 2 f 3 f 4 denote the whirling vibration amplitude peak values of the four reference points under shafting linear alignment in the range of 0 200hz respectively r 1 k f 1 k f 2 k f 3 k f 4 k denote the load on the rear stern bearing the whirling vibration amplitude peak values of the four reference points respectively after the position of each bearing was adjusted k mm k 1 k 2 k 3 denote the displacement values mm of the rear stern bearing the front stern bearing and the thrust bearing respectively they are all in the range of 10 10 mm 5 2 optimization calculation the weight coefficients in equation 12 should be determined according to the actual conditions of the shafting such as the degree of abnormal wear of the rear stern bearing the magnitude of the load difference between the front stern bearing and rear stern bearing the requirements of the ship for shafting vibration and so on according to the relevant data provided by register of shipping and shipyard and the experts opinions setting the weight coefficients α 1 α 2 α 3 α 4 α 5 are 0 3 0 1 0 3 0 2 and 0 1 respectively the optimization algorithm compiled with malab is used to seek the minimum value of the comprehensive optimization objective function 12 finally the displacement of each bearing under the comprehensive optimization alignment state of the shafting is 10 5 68 0 93 mm the load on the rear stern bearing is 47 36 kn and the whirling vibration frequency response curves of the four reference points under this state are shown in fig 11 from figs 10 and 11 and the results of shafting alignment calculation we can find that under shafting comprehensive optimization alignment state the load on the rear stern bearing and the whirling vibration response peaks of the four reference points all decrease compared to the state under shafting linear alignment while compared to the state under shafting reasonable alignment although the load on the rear stern bearing increases the whirling vibration response peaks of the four reference points decrease additional the objective function value under the shafting comprehensive optimization alignment state is the least among the three shafting alignment states 6 conclusions based on a motor driving shafting under its linear alignment and the theory of journal bearing lubrication rotor dynamics the support stiffness of each bearing and the whirling vibration amplitude frequency characteristic under different alignment states were calculated with the fem in this paper in order to simplify the calculation an optimization model was established to adjust the position of three bearings in vertical direction and the minimum value of the objective function is obtained when k 10 5 68 0 93 mm from this point of view the shafting works in comprehensive optimization alignment state when the rear position of stern bearing moves down 10 mm the front stern bearing moves up 5 68 mm and thrust bearing moves up 0 93 mm in vertical direction under this state the value of the comprehensive optimization objective function is the least therefore the load on rear stern bearing and the whirling vibration response of the shafting are improved compared with its linear alignment this paper s research provides a new idea for the vibration control of shafting during the design stage and is beneficial to the practical engineering acknowledgement this work is supported by the hubei natural science foundation of china no 2014cfb453 no 2017cfb584 self help basic research project of naval university of engineering no 20161519 and the national natural science fund nsfc grant no 51579242 no 51479154 
23438,this paper designs and optimizes a location hole for contactless power transmission cpt system on autonomous underwater vehicles auv hull through mechanic coordination auv could keep stable and high efficiency for charging and data transmission optimization target is to minimize drag coefficient and satisfy volume constraint a simulation based computing framework is established for drag coefficient calculation including geometric parameterization mesh auto generation and solver in the framework 3d structured mesh is adapted for accurate and efficient calculation which is a major difference from previous researches optimization algorithm is based on surrogate model with parallel sampling strategy three sampling methods pick targeted samples and gain responses through parallel computing at each iteration results show that initial design doesn t increase much resistance nearly 3 drag coefficient of optimized hull is 2 26 larger than that without hole a little smaller than initial design however on the basis of initial increment of drag optimized design decreases nearly 20 this paper also discusses effect of depth and length of location hole on drag and results show greater depth and smaller length contribute to drag reduction the framework and optimization algorithm can also be employed to optimize location and shape of other appendages on auv keywords cpt system location hole surrogate based optimization parallel sampling 1 introduction autonomous underwater vehicles auvs are robotic mobile instrument carriers that have self contained propulsion sensors and intelligence allowing them to successfully complete sampling and survey tasks with little or no human intervention alam et al 2014 being untethered and independent auvs provide a platform for ocean exploration and fill in the gap left by existing manned submersibles and remotely operated vehicles rovs shah 2007 auvs can be used for ocean resources exploration marine environment monitoring and military purposes auvs have been attracting more and more attention these years alam et al 2014 auvs carry power system by itself and they should be more energy efficient because of limited internal space up to now many efforts have been done to optimize hull shape of auv for drag reduction leifsson et al 2013 alvarez et al 2009 joung et al 2012 vasudev et al 2014 gao et al 2016 another relief of this situation is contactless power transmission cpt system which transmits power and data between docking station and auv with non physical connection with the help of cpt system auvs can stay in an area for a long time for data collection and environment monitoring kojiya et al 2004 2005 a typical cpt system consists of a phase shift full bridge zero voltage switching converter ps fb zvs an electromagnetic coupler ec and a rectifier circuit yan et al 2016 ec is usually embedded on auv and a suitable location should be arranged kojiya et al 2004 installed the ec on the head of auv and shi et al 2014 designed a coaxial coils with one installed on the external of auv hull and the other inside a docking cone both of the two methods have drawbacks installing ec in front of the auv will occupy the space for sonar so that bringing about negative effects for navigation installing secondary coil outside the auv hull will remarkably increases resistance recently yan et al 2016 developed a new kind of cpt system which installed secondary side on the abdomen of auv the new arc core is based on the hull structure so that the hydrodynamic shape of auv can be maintained besides this new type of ec helps to reduce magnetic leakage the drawback of this design is the occupation of inner space and complexity of hull manufacture fig 1 gives a basic description of ec with arc boundary ec won t produce extra resistance the shape of ec installed on the docking system just needs to cooperate with the other part on the auv although docking system and docked auv are designed to match each other sometimes the coordination is inevitably interfered by random turbulence when mismatching happens between primary and secondary coils it results in larger reluctance and more leakage flux of the coupler li et al 2010 no matter mechanical or electronic measures are employed to make sure their match appendages bulge or groove have to be mounted outside auv hull according to sherman s research sherman et al 2001 the appendages will increase the drag a lot compared to naked hull to make sure accurate matching of primary and secondary core this paper puts forward a method of digging a location hole on auv hull with the location hole two cores can exactly fit one shortcoming of the design is that it will increase resistance during navigation optimization algorithm is adopted to design its location and shape the influence of increased resistance caused by the hole reaches to minimum through optimization for simulation based optimization whose objective and design variables do not show explicit functional relations also called black box problems gradient based optimization is not suitable however gradient free optimization needs large number of function evaluations nfe surrogate model provides a relief for the situation a surrogate model is an approximation model of true function in fact optimization method finds the optimal solution of surrogate model the efficiency of an optimization can be dramatically improved by using surrogate models jones et al 1998 optimization algorithm assisted by surrogate model is called surrogate based optimization sbo during optimization process sampling strategies choose promising samples to identify global optimum a good sampling strategy should keep balance between global exploration and local exploitation forrester and keane 2009 in other words optimization algorithm should quickly locate the promising solution without omitting better solution many widely used sampling strategies have been introduced such as minimizing the predictor mp maximizing the expected improvement ei jones et al 1998 maximizing the mean squared error mse jin et al 2002 maximizing the probability of improvement pi and minimizing the lower bound lb forrester and keane 2009 etc in recent years with the development of parallel computation many researchers have tried adding several samples at each iteration sobester sóbester et al 2004 used the method of picking up n best local maximum of ei as newly added samples viana et al viana and haftka 2010 selected n points by approximated computation of pi they found their approaches could deliver better results in a fraction of the optimization cycles liu et al 2017 proposed a parallel infilling method which chooses samples based on a combination of existing infill methods this article uses sbo to optimize the position and shape of location hole for cpt system first a simulation based computing framework for drag coefficient calculation is established including geometric parameterization mesh auto generation and solver second sbo with parallel sampling strategies is introduced and the optimal combination of sampling strategies is proposed finally according to the optimization results variables that have greater influences on drag coefficient are discussed and guidance for design of location hole is given 2 simulation based computing framework a simulation based computing framework for drag coefficient calculation should be established when optimizer identifies better solutions the framework can receive the input and exports corresponding drag coefficients through a series of operations the framework mainly includes geometric parameterization mesh auto generation and solver geometric parameterization describes geometric model of location hole on auv hull mesh auto generation technique generates structured grid automatically solver could obtain drag coefficient of auv hull through simulation fig 2 shows the basic flowchart of the framework 2 1 geometric parameterization the shape of location hole can be regarded as a stretch of an annular sector along the longitudinal direction of auv fig 3 shows excavated part of location hole it owns the same shape and volume with the hole four variables can describe its shape namely radius of inner circle r 1 radius of outer circle r 2 section angle θ and length of the hole l as r 2 should be equal to the radius of auv hull three variables are enough for the definition of shape the fourth variable l p confirms the position along longitudinal direction of auv when the variables are identified the geometric model can be built through secondary developing technology the volume of the location hole is given as 1 v 1 2 θ l r 2 2 r 1 2 in equation 1 define the difference of r 2 and r 1 as d along radius direction the volume can be rewritten as equation 2 2 v 1 2 θ l d 2 r 2 d intuitively greater volume makes it easier for locating but leads to greater resistance the variable l p doesn t influence the shape and volume of location hole but may have significant effect on resistance both shape variables and position variable require considerable thoughts 2 2 mesh auto generation before computational fluid mechanics cfd simulation mesh discretization should be carefully considered previous studies usually adopt 2d structured mesh nouri et al 2016 or 3d unstructured mesh joung et al 2012 gao et al 2016 2d mesh is the simplification of 3d model and sometimes it can t reflect true circumstance 3d unstructured mesh is not as efficient as structured mesh in this paper 3d structured mesh is employed for simulations in icem cfd script file can record operations of generating mesh through modification of related parameters mesh can be generated automatically for one certain geometric model fig 4 shows fluid domain and auto generated mesh of auv hull using structured cells in order to see the location hole conveniently the visual angle is from the bottom of auv the figure shows whole body of auv while just half body is used for mesh generation and simulation due to symmetry it can be seen that the distribution of grid is disciplinary and grids around the hole is densely o block grids are used to capture the influence of viscous boundary layer the shape of the computational domain is configured in a box topology where the auv is placed in the center of the box auv s length l is regarded as reference length the size of domain is 2 5l 4 5 l m l l m 0 l m the inlet velocity at the front and the bottom of the domain was set to be equivalent to auv s velocity 1 5 m s with 2 angle of attack the pressure outlet at the end and the top was set to be 0 pa a symmetry plane in xy plane is applied and the wall condition was allocated to other surfaces of the fluid domain 2 3 solver the numerical simulation presented is based on cfx the fluid material is water liquid with a density of 1000 kg m3 and a dynamic viscosity of 1 003 10 3pa s the shear stress transport sst turbulence model is adopted to solve reynolds averaged navier stokes control equations high resolution is chosen for advection scheme and turbulence numeric the convergence criteria is that the root mean square residual is less than 10 5 for each equation or the total number of iterations has reached 50 fig 5 shows a typical iteration process of axial forces of auv hull the simulation stops at the 36th step because all the residual errors are smaller than 10 5 the forces are basically stable after 25th step from the authors practice the number of iteration is basically the same for most simulations and the time for one simulation is just within 6 min 2 4 optimization problem formulation the optimization objective is to minimize drag coefficient of auv during sailing the reynolds number re is about 4 15 106 four design variables are illustrated as section angle θ radial depth d position l p and length of location hole l the four variables are named as x 1 x 2 x 3 x 4 respectively lower and upper bounds of design variables are according to experience of designers considering smaller volume makes it harder for coordination the constraint is that the volume of location hole is no less than a threshold the initial design is specific to mid value of each variable and the volume of this setting is also treated as the threshold of constraint the basic formula of the optimization problem can be given as 3 min x c d s t v i n i v 0 x i l x i x i u i 1 4 where c d is the drag coefficient of auv v ini and v are the initial and to be optimized volume x i represents four design variables 3 surrogate based optimization with parallel sampling in sbo adaptive sampling strategies contribute to identify promising region quickly and most algorithms usually add one sample per cycle it could be more efficient with access to parallel sampling if a sampling method can add more than one sample per cycle and responses of the samples can be simulated in parallel the efficiency will be improved dramatically liu liu et al 2017 combined four sampling methods to shape optimization of transonic wings and the results showed the proposed method is more effective than existing parallel infill strategies in this section kriging and four typical sampling strategies are briefly introduced then the performances of different combinations are compared and the most efficient combination will be proposed at last 3 1 kriging kriging was first proposed by krige 1951 and sacks sacks et al 1989 introduced this method into computer simulation field kriging is an interpolating method which predicts unknown value based on best linear unbiased estimator except for its higher prediction accuracy kriging can estimate the uncertainty of prediction sampling in the region with greater uncertainty rapidly improves model s accuracy and it contributes to identify potential optimal region 3 2 adaptive sampling strategies minimizing the predictor mp searches for optimum of the surrogate model assuming a surrogate model is globally accurate after finding optimum through a global optimizer true response of this sample should be corrected through true function initially unlikely can the surrogate model be accurate in the whole domain validations of the optimum should be done several times each time the surrogate model is updated with all samples so that it becomes more and more accuracy although mp is widely used in sbo it may be trapped into local optimum and unlikely to jump out of the region when the function is multimodal mp is an exploitation strategy and should combine other exploration methods probability of improvement pi finds the sample where the probability the function beyond some target is the highest jones 2001 at any given sample the function value is treated as a realization of a random variable y x with mean and standard error the probability that the predicted value is better than current best value is given by 4 p i φ f min f ˆ x s x where φ is the normal cumulative distribution function f min is the present minimum f ˆ x and s x are prediction and standard deviation of kriging as pi finds more and more samples around the current best region the error in this region becomes small pi drives to search other regions with higher error excepted improvement ei calculates the amount of improvement an improvement can be expressed as i f min y x then ei is given as 5 e i x f min f ˆ x φ f min f ˆ x s x s x ϕ f min f ˆ x s x where is the probability distribution function of a normal distribution lower bound lb balances exploitation and exploration using following expression 6 l b x f ˆ x a s x where a is a constant which controls the degree of exploitation and exploration larger a means lb intends to find the position where s x is maximum smaller a means the search will focus on minimizing f ˆ x a problem for lb is that there is not a universal a for all problems in this study a is defined as 5 according to jones s jones 2001 practice 3 3 comparison of parallel sampling strategies intuitively adding several samples per cycle will be more effective than adding one because each sampling strategy has been proved valid in literatures on the other hand as each sampling strategy s goal is similar there are possibilities that they identify similar samples with densely sampling it is not very helpful for finding global optimum to validate performance of different combinations this study picks three strategies out of forementioned four to form different sampling combinations m p e l is abbreviation of mp pi ei and lb respectively the names of five combinations are mpel mpe mpl mel and pel the comparisons are validated through 4 well known functions sasena hartman3 hartman6 and sphere researchers who are interested in detailed information of the test functions can refer to surjanovic and bingham 2013 number of initial samples is 4d and d is the number of variables number of iterations nit is set to 5d except harman3 note that mpel will pick one more sample per cycle compared to the other four combinations every optimization is executed ten independent runs to avoid accidental results and all the results are average values the basic information of test functions can be obtained in table 1 to illustrate the sampling characteristics of the four methods an optimization process is shown to observe the samples distribution on sasena sasena owns three local optimums and the middle is the global optimum in this process eight initial samples are generated by optimal latin hypercube sampling olhs each method is carried out five iterations and twenty samples are added fig 6 shows samples distribution of all the samples it can be seen that mp plays the most important role for identifying global optimum sampling order for mp is marked and they are all in the global optimum region pi and ei also locate the promising region while they also explore the left region with local optimum the important feature of pi and ei makes sure algorithm can jump out of local optimum it seems that lb does not affect the process because it locates samples on the edge of design pace the reason of this situation is that predicted variance is larger lb concentrates on searching regions with large errors however this does not mean lb behaves worst in all functions the results of lb could be better through adjustment of a fig 7 shows convergence of five sampling combinations on four functions in general all combinations can get satisfied results when nit is sufficient it can be seen that mpel converges the fastest on the first three functions except for sphere it is easy to understand because more samples are added per cycle when compare the other four combinations pel mel and mpe behave best for sasena hartman 3 and hartman 6 respectively mel converges the fastest at first but the best result is obtained by mpe for sphere we also observe that the combinations which contain mp as a member behave the best in all the functions except sasena no combination outperforms other on all functions the four combinations can achieve similar results with smaller nfe it is not fair to compare the performance of these combinations with different nfe fig 8 shows convergence of three functions with same nfe hartman 6 does not appear because the convergences of all the combinations are basically the same it should be noted that the other four combinations should have more nit compared with mpel the results shown in fig 8 agree with those in fig 7 pel mel and mpe are the best combinations of the three functions while mpel never behaves best although all combinations can get satisfied results with sufficient nfe mpel is not a best choice for any of the test functions through the above comparison several conclusions can be drawn if we conduct sufficient nit combinations with three strategies can find the optimum with fewer nfe with same nfe mpel never becomes the best choice for any of the test functions for the four variable problem sufficient simulations are available mp is particularly important to locate optimum while pi or ei can help escape local optimum lb is not taken into consideration because we are not confident for the setting of a in this paper mpe strategy is adopted as parallel sampling method with consideration of efficiency and accuracy each iteration three samples are picked through mp pi and ei 3 4 settings of optimization algorithm for the optimization process 30 initial samples are selected using olhs and maximum nit is also 30 with parallel sampling total number of simulations is 120 kriging is adapted as surrogate model and gaussian function is chosen as correction function sampling methods mp pi and ei find most suitable candidate sample using optimization algorithm fmincon which is embedded in matlab to improve possibility of finding global optimum of surrogate model and sampling strategies mp pi ei fmincon with a random starting method is adopted with a random starting point fmincon achieves the optimum and the process is repeated for 50 times the minimum out of 50 results is regarded as global minimum of surrogate model and sampling update strategies for constraints penalty function method is used to transform constrained problem as unconstrained one the simulations at each iteration are executed in parallel on three computers with same configuration with intel core i7 4790 cpu 3 60 ghz 4 results and discussion 4 1 verification of accuracy and mesh independence of simulation 4 1 1 accuracy of simulation to validate the calculation accuracy simulation results should be compared with experiment results huang et al used theoretical and numerical iteration scheme to measure hydrodynamic parameters of axisymmetric body such as static pressure distributions mean velocity profiles and distributions of turbulence intensities huang et al 1980 an axisymmetric revolving body called afterbody 5 was adopted and the basic profile information was also introduced in their research fig 9 shows comparison of distribution of pressure between simulation and experiment results with re 9 3 10 6 at stern part it can be seen that the simulation results show good agreements with experiment results especially at the inflected stern the experimental c p decreased and recovered which is accurately captured by simulation 4 1 2 mesh independence study the mesh division of boundary layer plays an important role on the accuracy of simulation results the dimensionless distance between first level nodes to auv hull also called y is the direct factor besides simulation results should be independent to mesh size which means with changing mesh sizes simulation results should be basically the same comparison is conducted with different y values and mesh sizes for standard wall function the value for y is preferable between 30 and 60 in this study with y decreasing from 60 to 30 the mesh size increases as fold change the comparison is implemented on one design as mentioned above and the simulation time is also recorded c d is given as 7 c d f d 0 5 ρ u 2 v 2 3 where f d is drag force acting on auv hull ρ is density of water u is inflow velocity and v is the volume of body table 2 shows c d with different y values and mesh sizes it can be seen that c d is basically equal and the change is less than 1 between maximum and minimum values however cpu time increases a lot when larger mesh size is adopted and correspondingly it will take much more time when executing hundreds of simulations considering calculation accuracy and efficiency this paper adopts larger y 60 and fewer mesh size 440604 for simulation 4 2 analysis of optimization results table 3 provides information of design variables and objective function for initial and optimal design the optimal solution strictly satisfies the volume constraint the drag coefficient of initial hull is 2 813 larger than that without hole optimized solution doesn t show significant drag decrease still 2 259 larger than hull without hole first we can see that drag coefficient of auv hull just increases a little with location hole less than 3 second optimized drag coefficient is 1 3 10 4 smaller than that of initial design compared to increment of drag coefficient of initial design 6 6 10 4 optimal solution decreases 19 70 increment which is a significantly improvement fig 10 shows local sensitivity analysis of drag coefficient at optimal design it can be seen that compared to section angle x 1 and axial location x 3 drag coefficient is more sensitive to changes of depth x 2 and length x 4 which means the two factors play significant roles in deciding drag coefficient optimal solution of x 2 and x 4 is 15 mm and 60 mm which is upper and lower bound of corresponding design space it means with greater depth and smaller length of location hole drag coefficient intends to be smaller the overall position of the location hole doesn t affect drag coefficient a lot because it locates in fully developed flow field in this area optimizer still prefers to place location hole in a more backward position section angle is the least influential factor because its changing direction is perpendicular to flow direction therefore thorough investigations should be done to figure out the relationship between drag coefficient and design variables x 2 x 4 to figure out relationship between drag coefficient and x 2 x 4 surrogate model is first built to reveal their relation fig 11 shows surrogate model of drag coefficient using x 2 and x 4 as design variables x 1 x 3 are fixed to optimal solution it is also noted that x 2 and x 4 are normalized for clearly display surrogate model shows that with fixed x 2 drag coefficient increases monotonically with increase of x 4 the reason maybe that the fluid is disturbed when passing through location hole and with larger length the disturbance will become more intense when x 4 is fixed drag coefficient is multimodal with changes of x 2 when x 4 is zero drag coefficient decreases monotonically with x 2 exceeding 0 5 the surrogate model gives consistent visual results about the trend of drag coefficient fig 12 shows velocity vector on neutral surface of location hole with different depth values it can be seen that fluid rotates in the hole and at the rear of hole velocity direction changes 180 fluid owns relatively sufficient space to rotate with greater depth while with smaller depth fluid must change the direction rapidly which makes fluid motion more intensely if the explanation is reasonable of the phenomenon pressure distribution and forces acting on front and rear faces should support the conclusion we extracted the front and rear face of location hole to analyze pressure distribution fig 13 shows comparison of pressure distribution on front and rear face with different depths 10 mm and 15 mm the other three variables are kept on optimal design overall pressure on rear face is larger than that on front face and pressure on left face is also larger than that on right this means that smaller face will produce greater force through thickness direction pressure on front face decreases monotonously while on rear face pressure decreases first then increases from the middle to the sides the degree of pressure reduction is relatively gentle the direction of pressure at the corner of front face is opposite with that of other parts table 4 shows forces acting on two faces with different depths taking axial direction of auv as positive direction all the forces are positive that means that all the forces behave as drag an obvious result is that forces acting on smaller faces are larger than that acting on greater faces therefore total drag of smaller hole is larger than that of larger hole besides for left location hole smaller area and larger drag indicate greater pressure it also can tell that drag acting on location hole is a small amount compared to drag acting on auv hull through comparison it can be concluded that for given design space of depths greater depth helps to reduce drag to investigate the influence of length x 4 on drag comparison of pressure distribution on front and rear face are shown in fig 14 note that length of left and right location hole is 60 mm and 80 mm respectively other three variables remain unchanged in optimal design it can be seen that pressure acting on front and rear face is smaller with smaller distance absolute value of pressure acting on rear face is larger than that acting on front face the pressure distribution indicates that forces acting on left face are smaller than that on right face the forces acting on both faces of the two location hole are shown in table 5 it can be seen that with smaller length forces acting on both faces are far less than that with larger length according to above exploration design guidance prefers smaller length of location hole 5 conclusion this paper proposes to design and optimize a location hole for cpt system through mechanical positioning auv can maintain higher stability with docking station and cpt system could maintain higher efficiency for charging and information transmission the drawback is that drag will increase a little with a hole on the surface of auv the main work can be concluded as follow 1 sbo with parallel sampling strategy is applied for the optimization parallel strategy can significantly improve efficiency through comparison this paper picks three strategies out of four to combine the combination considers accuracy and efficiency simultaneously 2 optimization results show that designing a location hole doesn t increase hull drag a lot nearly 3 compared to hull without hole through optimization the drag coefficient decreases a little 2 26 larger than hull without hole however compared to increment of drag coefficient between initial design and hull without hole 6 6 10 4 optimal solution decreases 19 70 increment 3 depth and length of location hole which have greater influence on the drag coefficient are discussed results show that for given design space greater depth and smaller length contributes to reduce resistance besides the calculation framework and optimization algorithm can be applied to optimization of location and shape of other appendages on auv acknowledgments supports from national natural science foundation of china grant no 51375389 are gratefully acknowledged 
23438,this paper designs and optimizes a location hole for contactless power transmission cpt system on autonomous underwater vehicles auv hull through mechanic coordination auv could keep stable and high efficiency for charging and data transmission optimization target is to minimize drag coefficient and satisfy volume constraint a simulation based computing framework is established for drag coefficient calculation including geometric parameterization mesh auto generation and solver in the framework 3d structured mesh is adapted for accurate and efficient calculation which is a major difference from previous researches optimization algorithm is based on surrogate model with parallel sampling strategy three sampling methods pick targeted samples and gain responses through parallel computing at each iteration results show that initial design doesn t increase much resistance nearly 3 drag coefficient of optimized hull is 2 26 larger than that without hole a little smaller than initial design however on the basis of initial increment of drag optimized design decreases nearly 20 this paper also discusses effect of depth and length of location hole on drag and results show greater depth and smaller length contribute to drag reduction the framework and optimization algorithm can also be employed to optimize location and shape of other appendages on auv keywords cpt system location hole surrogate based optimization parallel sampling 1 introduction autonomous underwater vehicles auvs are robotic mobile instrument carriers that have self contained propulsion sensors and intelligence allowing them to successfully complete sampling and survey tasks with little or no human intervention alam et al 2014 being untethered and independent auvs provide a platform for ocean exploration and fill in the gap left by existing manned submersibles and remotely operated vehicles rovs shah 2007 auvs can be used for ocean resources exploration marine environment monitoring and military purposes auvs have been attracting more and more attention these years alam et al 2014 auvs carry power system by itself and they should be more energy efficient because of limited internal space up to now many efforts have been done to optimize hull shape of auv for drag reduction leifsson et al 2013 alvarez et al 2009 joung et al 2012 vasudev et al 2014 gao et al 2016 another relief of this situation is contactless power transmission cpt system which transmits power and data between docking station and auv with non physical connection with the help of cpt system auvs can stay in an area for a long time for data collection and environment monitoring kojiya et al 2004 2005 a typical cpt system consists of a phase shift full bridge zero voltage switching converter ps fb zvs an electromagnetic coupler ec and a rectifier circuit yan et al 2016 ec is usually embedded on auv and a suitable location should be arranged kojiya et al 2004 installed the ec on the head of auv and shi et al 2014 designed a coaxial coils with one installed on the external of auv hull and the other inside a docking cone both of the two methods have drawbacks installing ec in front of the auv will occupy the space for sonar so that bringing about negative effects for navigation installing secondary coil outside the auv hull will remarkably increases resistance recently yan et al 2016 developed a new kind of cpt system which installed secondary side on the abdomen of auv the new arc core is based on the hull structure so that the hydrodynamic shape of auv can be maintained besides this new type of ec helps to reduce magnetic leakage the drawback of this design is the occupation of inner space and complexity of hull manufacture fig 1 gives a basic description of ec with arc boundary ec won t produce extra resistance the shape of ec installed on the docking system just needs to cooperate with the other part on the auv although docking system and docked auv are designed to match each other sometimes the coordination is inevitably interfered by random turbulence when mismatching happens between primary and secondary coils it results in larger reluctance and more leakage flux of the coupler li et al 2010 no matter mechanical or electronic measures are employed to make sure their match appendages bulge or groove have to be mounted outside auv hull according to sherman s research sherman et al 2001 the appendages will increase the drag a lot compared to naked hull to make sure accurate matching of primary and secondary core this paper puts forward a method of digging a location hole on auv hull with the location hole two cores can exactly fit one shortcoming of the design is that it will increase resistance during navigation optimization algorithm is adopted to design its location and shape the influence of increased resistance caused by the hole reaches to minimum through optimization for simulation based optimization whose objective and design variables do not show explicit functional relations also called black box problems gradient based optimization is not suitable however gradient free optimization needs large number of function evaluations nfe surrogate model provides a relief for the situation a surrogate model is an approximation model of true function in fact optimization method finds the optimal solution of surrogate model the efficiency of an optimization can be dramatically improved by using surrogate models jones et al 1998 optimization algorithm assisted by surrogate model is called surrogate based optimization sbo during optimization process sampling strategies choose promising samples to identify global optimum a good sampling strategy should keep balance between global exploration and local exploitation forrester and keane 2009 in other words optimization algorithm should quickly locate the promising solution without omitting better solution many widely used sampling strategies have been introduced such as minimizing the predictor mp maximizing the expected improvement ei jones et al 1998 maximizing the mean squared error mse jin et al 2002 maximizing the probability of improvement pi and minimizing the lower bound lb forrester and keane 2009 etc in recent years with the development of parallel computation many researchers have tried adding several samples at each iteration sobester sóbester et al 2004 used the method of picking up n best local maximum of ei as newly added samples viana et al viana and haftka 2010 selected n points by approximated computation of pi they found their approaches could deliver better results in a fraction of the optimization cycles liu et al 2017 proposed a parallel infilling method which chooses samples based on a combination of existing infill methods this article uses sbo to optimize the position and shape of location hole for cpt system first a simulation based computing framework for drag coefficient calculation is established including geometric parameterization mesh auto generation and solver second sbo with parallel sampling strategies is introduced and the optimal combination of sampling strategies is proposed finally according to the optimization results variables that have greater influences on drag coefficient are discussed and guidance for design of location hole is given 2 simulation based computing framework a simulation based computing framework for drag coefficient calculation should be established when optimizer identifies better solutions the framework can receive the input and exports corresponding drag coefficients through a series of operations the framework mainly includes geometric parameterization mesh auto generation and solver geometric parameterization describes geometric model of location hole on auv hull mesh auto generation technique generates structured grid automatically solver could obtain drag coefficient of auv hull through simulation fig 2 shows the basic flowchart of the framework 2 1 geometric parameterization the shape of location hole can be regarded as a stretch of an annular sector along the longitudinal direction of auv fig 3 shows excavated part of location hole it owns the same shape and volume with the hole four variables can describe its shape namely radius of inner circle r 1 radius of outer circle r 2 section angle θ and length of the hole l as r 2 should be equal to the radius of auv hull three variables are enough for the definition of shape the fourth variable l p confirms the position along longitudinal direction of auv when the variables are identified the geometric model can be built through secondary developing technology the volume of the location hole is given as 1 v 1 2 θ l r 2 2 r 1 2 in equation 1 define the difference of r 2 and r 1 as d along radius direction the volume can be rewritten as equation 2 2 v 1 2 θ l d 2 r 2 d intuitively greater volume makes it easier for locating but leads to greater resistance the variable l p doesn t influence the shape and volume of location hole but may have significant effect on resistance both shape variables and position variable require considerable thoughts 2 2 mesh auto generation before computational fluid mechanics cfd simulation mesh discretization should be carefully considered previous studies usually adopt 2d structured mesh nouri et al 2016 or 3d unstructured mesh joung et al 2012 gao et al 2016 2d mesh is the simplification of 3d model and sometimes it can t reflect true circumstance 3d unstructured mesh is not as efficient as structured mesh in this paper 3d structured mesh is employed for simulations in icem cfd script file can record operations of generating mesh through modification of related parameters mesh can be generated automatically for one certain geometric model fig 4 shows fluid domain and auto generated mesh of auv hull using structured cells in order to see the location hole conveniently the visual angle is from the bottom of auv the figure shows whole body of auv while just half body is used for mesh generation and simulation due to symmetry it can be seen that the distribution of grid is disciplinary and grids around the hole is densely o block grids are used to capture the influence of viscous boundary layer the shape of the computational domain is configured in a box topology where the auv is placed in the center of the box auv s length l is regarded as reference length the size of domain is 2 5l 4 5 l m l l m 0 l m the inlet velocity at the front and the bottom of the domain was set to be equivalent to auv s velocity 1 5 m s with 2 angle of attack the pressure outlet at the end and the top was set to be 0 pa a symmetry plane in xy plane is applied and the wall condition was allocated to other surfaces of the fluid domain 2 3 solver the numerical simulation presented is based on cfx the fluid material is water liquid with a density of 1000 kg m3 and a dynamic viscosity of 1 003 10 3pa s the shear stress transport sst turbulence model is adopted to solve reynolds averaged navier stokes control equations high resolution is chosen for advection scheme and turbulence numeric the convergence criteria is that the root mean square residual is less than 10 5 for each equation or the total number of iterations has reached 50 fig 5 shows a typical iteration process of axial forces of auv hull the simulation stops at the 36th step because all the residual errors are smaller than 10 5 the forces are basically stable after 25th step from the authors practice the number of iteration is basically the same for most simulations and the time for one simulation is just within 6 min 2 4 optimization problem formulation the optimization objective is to minimize drag coefficient of auv during sailing the reynolds number re is about 4 15 106 four design variables are illustrated as section angle θ radial depth d position l p and length of location hole l the four variables are named as x 1 x 2 x 3 x 4 respectively lower and upper bounds of design variables are according to experience of designers considering smaller volume makes it harder for coordination the constraint is that the volume of location hole is no less than a threshold the initial design is specific to mid value of each variable and the volume of this setting is also treated as the threshold of constraint the basic formula of the optimization problem can be given as 3 min x c d s t v i n i v 0 x i l x i x i u i 1 4 where c d is the drag coefficient of auv v ini and v are the initial and to be optimized volume x i represents four design variables 3 surrogate based optimization with parallel sampling in sbo adaptive sampling strategies contribute to identify promising region quickly and most algorithms usually add one sample per cycle it could be more efficient with access to parallel sampling if a sampling method can add more than one sample per cycle and responses of the samples can be simulated in parallel the efficiency will be improved dramatically liu liu et al 2017 combined four sampling methods to shape optimization of transonic wings and the results showed the proposed method is more effective than existing parallel infill strategies in this section kriging and four typical sampling strategies are briefly introduced then the performances of different combinations are compared and the most efficient combination will be proposed at last 3 1 kriging kriging was first proposed by krige 1951 and sacks sacks et al 1989 introduced this method into computer simulation field kriging is an interpolating method which predicts unknown value based on best linear unbiased estimator except for its higher prediction accuracy kriging can estimate the uncertainty of prediction sampling in the region with greater uncertainty rapidly improves model s accuracy and it contributes to identify potential optimal region 3 2 adaptive sampling strategies minimizing the predictor mp searches for optimum of the surrogate model assuming a surrogate model is globally accurate after finding optimum through a global optimizer true response of this sample should be corrected through true function initially unlikely can the surrogate model be accurate in the whole domain validations of the optimum should be done several times each time the surrogate model is updated with all samples so that it becomes more and more accuracy although mp is widely used in sbo it may be trapped into local optimum and unlikely to jump out of the region when the function is multimodal mp is an exploitation strategy and should combine other exploration methods probability of improvement pi finds the sample where the probability the function beyond some target is the highest jones 2001 at any given sample the function value is treated as a realization of a random variable y x with mean and standard error the probability that the predicted value is better than current best value is given by 4 p i φ f min f ˆ x s x where φ is the normal cumulative distribution function f min is the present minimum f ˆ x and s x are prediction and standard deviation of kriging as pi finds more and more samples around the current best region the error in this region becomes small pi drives to search other regions with higher error excepted improvement ei calculates the amount of improvement an improvement can be expressed as i f min y x then ei is given as 5 e i x f min f ˆ x φ f min f ˆ x s x s x ϕ f min f ˆ x s x where is the probability distribution function of a normal distribution lower bound lb balances exploitation and exploration using following expression 6 l b x f ˆ x a s x where a is a constant which controls the degree of exploitation and exploration larger a means lb intends to find the position where s x is maximum smaller a means the search will focus on minimizing f ˆ x a problem for lb is that there is not a universal a for all problems in this study a is defined as 5 according to jones s jones 2001 practice 3 3 comparison of parallel sampling strategies intuitively adding several samples per cycle will be more effective than adding one because each sampling strategy has been proved valid in literatures on the other hand as each sampling strategy s goal is similar there are possibilities that they identify similar samples with densely sampling it is not very helpful for finding global optimum to validate performance of different combinations this study picks three strategies out of forementioned four to form different sampling combinations m p e l is abbreviation of mp pi ei and lb respectively the names of five combinations are mpel mpe mpl mel and pel the comparisons are validated through 4 well known functions sasena hartman3 hartman6 and sphere researchers who are interested in detailed information of the test functions can refer to surjanovic and bingham 2013 number of initial samples is 4d and d is the number of variables number of iterations nit is set to 5d except harman3 note that mpel will pick one more sample per cycle compared to the other four combinations every optimization is executed ten independent runs to avoid accidental results and all the results are average values the basic information of test functions can be obtained in table 1 to illustrate the sampling characteristics of the four methods an optimization process is shown to observe the samples distribution on sasena sasena owns three local optimums and the middle is the global optimum in this process eight initial samples are generated by optimal latin hypercube sampling olhs each method is carried out five iterations and twenty samples are added fig 6 shows samples distribution of all the samples it can be seen that mp plays the most important role for identifying global optimum sampling order for mp is marked and they are all in the global optimum region pi and ei also locate the promising region while they also explore the left region with local optimum the important feature of pi and ei makes sure algorithm can jump out of local optimum it seems that lb does not affect the process because it locates samples on the edge of design pace the reason of this situation is that predicted variance is larger lb concentrates on searching regions with large errors however this does not mean lb behaves worst in all functions the results of lb could be better through adjustment of a fig 7 shows convergence of five sampling combinations on four functions in general all combinations can get satisfied results when nit is sufficient it can be seen that mpel converges the fastest on the first three functions except for sphere it is easy to understand because more samples are added per cycle when compare the other four combinations pel mel and mpe behave best for sasena hartman 3 and hartman 6 respectively mel converges the fastest at first but the best result is obtained by mpe for sphere we also observe that the combinations which contain mp as a member behave the best in all the functions except sasena no combination outperforms other on all functions the four combinations can achieve similar results with smaller nfe it is not fair to compare the performance of these combinations with different nfe fig 8 shows convergence of three functions with same nfe hartman 6 does not appear because the convergences of all the combinations are basically the same it should be noted that the other four combinations should have more nit compared with mpel the results shown in fig 8 agree with those in fig 7 pel mel and mpe are the best combinations of the three functions while mpel never behaves best although all combinations can get satisfied results with sufficient nfe mpel is not a best choice for any of the test functions through the above comparison several conclusions can be drawn if we conduct sufficient nit combinations with three strategies can find the optimum with fewer nfe with same nfe mpel never becomes the best choice for any of the test functions for the four variable problem sufficient simulations are available mp is particularly important to locate optimum while pi or ei can help escape local optimum lb is not taken into consideration because we are not confident for the setting of a in this paper mpe strategy is adopted as parallel sampling method with consideration of efficiency and accuracy each iteration three samples are picked through mp pi and ei 3 4 settings of optimization algorithm for the optimization process 30 initial samples are selected using olhs and maximum nit is also 30 with parallel sampling total number of simulations is 120 kriging is adapted as surrogate model and gaussian function is chosen as correction function sampling methods mp pi and ei find most suitable candidate sample using optimization algorithm fmincon which is embedded in matlab to improve possibility of finding global optimum of surrogate model and sampling strategies mp pi ei fmincon with a random starting method is adopted with a random starting point fmincon achieves the optimum and the process is repeated for 50 times the minimum out of 50 results is regarded as global minimum of surrogate model and sampling update strategies for constraints penalty function method is used to transform constrained problem as unconstrained one the simulations at each iteration are executed in parallel on three computers with same configuration with intel core i7 4790 cpu 3 60 ghz 4 results and discussion 4 1 verification of accuracy and mesh independence of simulation 4 1 1 accuracy of simulation to validate the calculation accuracy simulation results should be compared with experiment results huang et al used theoretical and numerical iteration scheme to measure hydrodynamic parameters of axisymmetric body such as static pressure distributions mean velocity profiles and distributions of turbulence intensities huang et al 1980 an axisymmetric revolving body called afterbody 5 was adopted and the basic profile information was also introduced in their research fig 9 shows comparison of distribution of pressure between simulation and experiment results with re 9 3 10 6 at stern part it can be seen that the simulation results show good agreements with experiment results especially at the inflected stern the experimental c p decreased and recovered which is accurately captured by simulation 4 1 2 mesh independence study the mesh division of boundary layer plays an important role on the accuracy of simulation results the dimensionless distance between first level nodes to auv hull also called y is the direct factor besides simulation results should be independent to mesh size which means with changing mesh sizes simulation results should be basically the same comparison is conducted with different y values and mesh sizes for standard wall function the value for y is preferable between 30 and 60 in this study with y decreasing from 60 to 30 the mesh size increases as fold change the comparison is implemented on one design as mentioned above and the simulation time is also recorded c d is given as 7 c d f d 0 5 ρ u 2 v 2 3 where f d is drag force acting on auv hull ρ is density of water u is inflow velocity and v is the volume of body table 2 shows c d with different y values and mesh sizes it can be seen that c d is basically equal and the change is less than 1 between maximum and minimum values however cpu time increases a lot when larger mesh size is adopted and correspondingly it will take much more time when executing hundreds of simulations considering calculation accuracy and efficiency this paper adopts larger y 60 and fewer mesh size 440604 for simulation 4 2 analysis of optimization results table 3 provides information of design variables and objective function for initial and optimal design the optimal solution strictly satisfies the volume constraint the drag coefficient of initial hull is 2 813 larger than that without hole optimized solution doesn t show significant drag decrease still 2 259 larger than hull without hole first we can see that drag coefficient of auv hull just increases a little with location hole less than 3 second optimized drag coefficient is 1 3 10 4 smaller than that of initial design compared to increment of drag coefficient of initial design 6 6 10 4 optimal solution decreases 19 70 increment which is a significantly improvement fig 10 shows local sensitivity analysis of drag coefficient at optimal design it can be seen that compared to section angle x 1 and axial location x 3 drag coefficient is more sensitive to changes of depth x 2 and length x 4 which means the two factors play significant roles in deciding drag coefficient optimal solution of x 2 and x 4 is 15 mm and 60 mm which is upper and lower bound of corresponding design space it means with greater depth and smaller length of location hole drag coefficient intends to be smaller the overall position of the location hole doesn t affect drag coefficient a lot because it locates in fully developed flow field in this area optimizer still prefers to place location hole in a more backward position section angle is the least influential factor because its changing direction is perpendicular to flow direction therefore thorough investigations should be done to figure out the relationship between drag coefficient and design variables x 2 x 4 to figure out relationship between drag coefficient and x 2 x 4 surrogate model is first built to reveal their relation fig 11 shows surrogate model of drag coefficient using x 2 and x 4 as design variables x 1 x 3 are fixed to optimal solution it is also noted that x 2 and x 4 are normalized for clearly display surrogate model shows that with fixed x 2 drag coefficient increases monotonically with increase of x 4 the reason maybe that the fluid is disturbed when passing through location hole and with larger length the disturbance will become more intense when x 4 is fixed drag coefficient is multimodal with changes of x 2 when x 4 is zero drag coefficient decreases monotonically with x 2 exceeding 0 5 the surrogate model gives consistent visual results about the trend of drag coefficient fig 12 shows velocity vector on neutral surface of location hole with different depth values it can be seen that fluid rotates in the hole and at the rear of hole velocity direction changes 180 fluid owns relatively sufficient space to rotate with greater depth while with smaller depth fluid must change the direction rapidly which makes fluid motion more intensely if the explanation is reasonable of the phenomenon pressure distribution and forces acting on front and rear faces should support the conclusion we extracted the front and rear face of location hole to analyze pressure distribution fig 13 shows comparison of pressure distribution on front and rear face with different depths 10 mm and 15 mm the other three variables are kept on optimal design overall pressure on rear face is larger than that on front face and pressure on left face is also larger than that on right this means that smaller face will produce greater force through thickness direction pressure on front face decreases monotonously while on rear face pressure decreases first then increases from the middle to the sides the degree of pressure reduction is relatively gentle the direction of pressure at the corner of front face is opposite with that of other parts table 4 shows forces acting on two faces with different depths taking axial direction of auv as positive direction all the forces are positive that means that all the forces behave as drag an obvious result is that forces acting on smaller faces are larger than that acting on greater faces therefore total drag of smaller hole is larger than that of larger hole besides for left location hole smaller area and larger drag indicate greater pressure it also can tell that drag acting on location hole is a small amount compared to drag acting on auv hull through comparison it can be concluded that for given design space of depths greater depth helps to reduce drag to investigate the influence of length x 4 on drag comparison of pressure distribution on front and rear face are shown in fig 14 note that length of left and right location hole is 60 mm and 80 mm respectively other three variables remain unchanged in optimal design it can be seen that pressure acting on front and rear face is smaller with smaller distance absolute value of pressure acting on rear face is larger than that acting on front face the pressure distribution indicates that forces acting on left face are smaller than that on right face the forces acting on both faces of the two location hole are shown in table 5 it can be seen that with smaller length forces acting on both faces are far less than that with larger length according to above exploration design guidance prefers smaller length of location hole 5 conclusion this paper proposes to design and optimize a location hole for cpt system through mechanical positioning auv can maintain higher stability with docking station and cpt system could maintain higher efficiency for charging and information transmission the drawback is that drag will increase a little with a hole on the surface of auv the main work can be concluded as follow 1 sbo with parallel sampling strategy is applied for the optimization parallel strategy can significantly improve efficiency through comparison this paper picks three strategies out of four to combine the combination considers accuracy and efficiency simultaneously 2 optimization results show that designing a location hole doesn t increase hull drag a lot nearly 3 compared to hull without hole through optimization the drag coefficient decreases a little 2 26 larger than hull without hole however compared to increment of drag coefficient between initial design and hull without hole 6 6 10 4 optimal solution decreases 19 70 increment 3 depth and length of location hole which have greater influence on the drag coefficient are discussed results show that for given design space greater depth and smaller length contributes to reduce resistance besides the calculation framework and optimization algorithm can be applied to optimization of location and shape of other appendages on auv acknowledgments supports from national natural science foundation of china grant no 51375389 are gratefully acknowledged 
23439,effective prediction of ship arrivals should provide the estimated delay or advance of arrival ships with greater accuracy and improve the performance of container terminal operations therefore taking gangji yining container terminal gyct china as an example this paper resorts to data mining approaches to predict ship arrivals and explore the value of such predicted ship arrivals on the container terminal operation first this study applies three data mining approaches including back propagation network bp classification and regression tree cart and random forest rf to estimate the delay or advance of ship arrivals using the collected data of ship arrivals then the predictive performance of these three approaches is compared and discussed it is concluded that rf performs better than bp and cart and eta month and ship length are the most important determinants of ship arrivals in gyct terminal finally series simulation experiments are conducted to assess the value of the ship arrivals predicted by rf model on the improvement on daily operation planning of berth allocation and quay crane assignment in the gyct terminal and the results show that incorporating the predicted ship arrivals by rf model is beneficial to improve the performance of operation planning of gyct terminal keywords arrival prediction late early arrivals data mining container terminal operation berth allocation quay crane assignment 1 introduction planning of container terminal operation i e berth allocation quay crane assignment and container handling transport and storage are made every day striving to minimize the port time of ships and resources required to complete handling operations brinkmann 2011 when facing this decision one main difficulty lies in the uncertainty of ship arrivals despite the estimated time of arrival eta are sent to the port 24 h in advance according to contractual obligations there are still a lot of unexpected factors to cause the deviations of arrival times which would compel the planners to reset operation planning and result in the fluster and loss of port operations fancello et al 2011 hartmann et al 2011 moorthy and teo 2006 therefore planners need to be assisted by providing a qualitative estimate of the delay advance by determining whether or not an incoming vessel is likely to arrive before or after its scheduled eta which is able to support the decision making process in the general planning and layout for a new port the empirical probability distributions of arrival ships have been widely studied to describe the stochastic of ship arrivals pianc 2014 for example series of researches demonstrate the number of daily arrival ships and the inter arrival times between ships generally comply with poisson distribution and negative exponential distribution respectively daganzo 1990 kozan 1997 shabayek and yeung 2002 demirci 2003 quy et al 2008 pianc 2014 moreover du et al 2013 consider that the ship arrival pattern of container terminals varies with constitute of container liner routes for the container terminals of ningbo port and guangzhou port serving various container liner routes the number of daily arrival ships follows poisson distribution while for the container terminals of shenzhen port and yantian port serving single route the number of daily arrival ships follows normal distribution as one of the most import inputs to master planning and layout for the new port these empirical probability distributions of ship arrivals have been applied to make decisions on port planning and layout for example kia et al 2002 employ the computer simulation in evaluating the performance of a container terminal on handling techniques and capacity of terminal based on inter arrival times of arrival ships regarded as negative exponential distribution özgüven et al 2013 focus on the determination of the optimal quay length using a stochastic knapsack model with the arrival pattern of ships taken as poisson process tang et al 2014 2016 determine the berth occupancy of a container terminal considering the effect of entrance channel dimensions by an established process interaction based simulation model in which the ship arrivals are described by negative exponential distribution while in decision making process of port operation planning to reduce the uncertainty of ship arrivals the estimated time of arrival eta is sent to the port 24 h in advance according to contractual obligations however there are still a lot of unexpected factors to cause the deviations of arrival times which would result in centralized arrival of ships during a short time window hartmann et al 2011 therefore to further reduce the uncertainty of ship arrivals a series of researches have recently resorted to data mining approaches to predict the ship arrivals for example fancello et al 2011 first use neural networks nn model to predict interval time of ship s arrival then apply the predicted interval time in the proposed model optimizing human resources allocation and the promising results are achieved to provide support to planners pani et al 2013 2014 employ both k means and ward s method to cluster the daily records of cagliari international container terminal to divide the delay of arrivals into three levels firstly and employ classification and regression trees cart random forest rf and naive bayes nb to obtain an estimate of the delay level and the results show that rf gives the best results with a relative absolute error of 29 comparing the predictive performance of the three models pallotta et al 2013 propose an unsupervised method traffic route extraction and anomaly detection tread to automatically learn a statistical model for maritime traffic from ais data to detect low likelihood behaviors and predict future positions of ships pani et al 2015 adopt logistic regression lr cart and random forest rf to estimate the deviation of arrival ships in cagliari international container terminal and psa antwerp terminal parolas et al 2016 apply support vector machines svm and neural networks nn to predict the eta of container ships calling to the port of rotterdam and the results indicate that both svm and nn achieve better predictions than the situation that eta is based on the ship s agent estimations and svm models outperform the nn comparing the mean absolute error of models all these studies have certain significance and the reference value regarding the approaches of data mining on predicting time of arrival ships in some specific ports developed on these previous researches this study aims to investigate the prediction performances of back propagation network bp classification and regression tree cart and random forest rf on predicting the ship arrivals of ningbo ganji yining container terminal gyct ningbo zhoushan port china moreover this paper also explores the potential improvement of ship arrival predictions on the daily operation of gyct terminal to fully evaluate the availability of the ship arrival prediction the remainder of this paper is organized as follows section 2 makes a brief introduction of ningbo zhoushan port and gyct terminal and analyzes the characteristics of ship arrivals and delays section 3 summarizes the data mining models applied to predict the delay of ship arrivals and analyzes the impact of input variables on predictive performance section 4 conducts simulation experiments to explore the value of ship arrivals prediction on daily container terminal operation and the conclusions and further research are addressed in section 5 2 study case and data statistics analysis 2 1 background ningbo zhoushan port located in the intersection of silk road economic belt and 21st century maritime silk road is the world s fourth largest container port in terms of throughput as of july 2017 ningbo zhoushan port owns 236 routes including 114 ocean trunks like the mediterranean sea routes europe routes west america routes south africa routes middle east routes 70 near sea feeder routes like west asia routes as well as 20 internal feeder routes and 32 domestic trade routes nbzc 2017 fig 1 shows the main container terminals in ningbo zhoushan port including ningbo beilun international container terminal nbct ningbo second container terminal nbsct ningbo ganji yining container terminal gyct ningbo yuandong container terminal ydct ningbo meishan island international container terminal msict china merchants international container terminal cmict and zhoushan yongzhou container terminals yzct in this study the gyct terminal is selected as a study case due to the integrity and availability of collected data of ship arrivals the gyct terminal has five 150 000 dwt deadweight ton modern container berths and the annual container throughput reaches over 5 million teus with total frontage length of 1 700 m 23 quay cranes and 72 yard cranes and gyct terminal uses a three 8 h shift system to meet the demands of port operation in a 24 h workday the first shift also known as day shift starts 8 a m and ends 4 p m the second shift or swing shift starts when first shift ends which is usually around 4 p m and it ends around midnight and the third shift or night shift covers the hours from around 0 a m 8 a m in china terminal operation planning is performed at five main sublevels that differ in the type of decision and time horizon including monthly operation planning 10 day operation planning weekly operation planning daily operation planning and single ship operation planning yu 2007 in this case we focus on the daily operation planning which addresses the specific allocation of resources berths and quay cranes and the time horizon is about 24 h therefore to explore the ship arrivals for daily operation planning we collected data on vessel arrivals from june 1 2008 to may 31 2009 including 2066 containerships arriving at gyct terminal these attributes of each ship arrival include ship name ship type ship length estimated time of arrival eta actual time of arrival ata and route type considering more than 2000 arrivals collected the available variables are divided into 3 main classes as listed in table 1 1 ship feature name length type these variables are indicators of the vessel physical structure and directly affect the sailing times and the length also provides information concerning berth occupancy 2 ship position ata and eta these variables give indication about the positions of the vessel from the time it arrives at the pilot point to unberthing time this variable of etas is updated several times generally including a month a week 48 h and 24 h in advance this study focuses on the last eta 24 h before ships arrival following the researches of fancello et al 2011 and pani et al 2014 2015 the atas and etas in this study are expressed by the shifts of the day days of the week i e monday tuesday wednesday thursday friday saturday and sunday and months of the year i e january february march april may june july august september october november and december the shifts of the day include shift 1 from 8 00 to 16 00 shift 2 from 16 00 to 24 00 and shift 3 from 0 00 to 8 00 3 ship service route type this variable indicates the different service level in terms of the specific contract terms for different route such as trunk line external feeder line internal feeder line barge feeder line and domestic trade line 2 2 statistical analysis on ship arrivals according to the data collected the container ships arriving at gyct terminal range from 51 m to 366 m in length and serve 5 types of container liner routes which are domestic trade line barge feeder line internal feeder line external feeder line and trunk line for data analysis the lengths of arrival ships are divided into ten classes based on chinese mandatory design code of general layout for sea ports mtprc 2014 fig 2 shows the number of ships with different lengths and the distribution of route types for each tonnage of arrival ships from the view point of the number of ships serving different rout lines fig 2 a gyct terminal mainly focuses on trunk line 63 the external feeder line 15 and the internal feeder line 14 and opens the domestic trade line 2 and the barge feeder line 1 as shown in fig 2 b the ships arriving at the gyct terminal mainly concentrates on the 1000 dwt 19 30000 dwt 18 and 50000 dwt 21 whereas the 3000 dwt 1 5000 dwt 1 and 120000 dwt 1 have the fewer arrival ships as seen in fig 3 the ship arrivals are unbalanced in different shifts days and months however they also show certain regularity due to operational costs variance in different atas route lines and location of gyct terminal some useful conclusions are drawn up as follows 1 the number of ship arrivals is the most in the shift 1 37 contrarily the least is in the shift 3 29 the reason may be that the higher cost of terminal operation in the night shift so most ships are more likely to arrive at the port during the daytime 2 more than half of ships 53 prefer to arrive on friday saturday and sunday as the operation costs of chinese ports are lower than ports of the united states and europe at weekends the ships serving ocean trunk lines tend to arrive at the gyct terminal on friday saturday and sunday to reduce their voyage costs 3 the number of ship arrivals is the smallest in february 6 and the ship arrivals are regularly distributed over the other months as the spring festival an important chinese festival is usually in february the number of ship arrivals would decrease during this period 2 3 statistical analysis on ship delays to make daily terminal operation planning the last etas 24 h in advance inform to the port authority yu 2007 however even with the latest etas the early and delay of arrival ships still occurred for example in this case less than 20 of ships arrived at the port at etas and the remaining 80 arrived late or early considering the collected 2066 statistical units table 3 shows the summary statistics of the delay values the delay of ship arrival is the difference between the ata and the eta and the positive delays indicate that the ship arrived later than expected whereas the negative delays indicate that ship arrived earlier than expected 3 data mining based prediction of ship arrivals 3 1 prediction models and their assessment criteria following the researches of fancello et al 2011 and pani et al 2014 2015 we apply the back propagation network bp classification and regression tree cart and random forest rf to predict the delay time of arrival ships the following content provides a brief introduction of these models and their assessments for evaluating predictive performance of models 3 1 1 data mining models neural network models have been widely developed and applied in mathematical and computational fields rojas 1996 since the 1940s among them back propagation neural network rumelhart et al 1986 or its transformation is one of the most popular artificial neural network models bp model carries out the learning process by transferring the training errors backward and revising the weights of each neuron in the network forward constantly considering the advantages of bp it has successfully been applied in signal processing computer network process control speech recognition function approximation pattern recognition and data compression etc wu et al 2001 kermani et al 2005 gandhiraj and sathidevi 2007 ravi et al 2008 al allaf 2010 balabin and smirnov 2011 wang et al 2012 classification and regression tree breiman et al 1984 is a recursive partitioning method which is used for classification and regression purposes felicisimo et al 2013 cart is constructed by splitting subsets of dataset at each node using a greedy algorithm that applies a homogeneity measure to calculate the homogeneity of the outcome variable and stops the splitting process if the improvement of homogeneity is not significant and for classification tree the gini coefficient is used as a homogeneity measure while for the regression tree variance or entropy are used as the homogeneity measure malinowska 2014 compared with id3 c4 5 and other early decision tree algorithms cart has the advantages of dealing with the non numerical data and has been widely applied in fraud identification text mining time series prediction data processing and information mining etc de ath and fabricius 2000 liou et al 2008 tran et al 2009 pandey and ravi 2012 rutkowski et al 2013 random forest breiman 2001 is an ensemble learning method for classification regression and other tasks which operate by constructing a multitude of decision trees at training time and outputting the class that is the mode of the classes classification or mean prediction regression of the individual trees theoretical and practical researches have shown that the rf has a high prediction accuracy and has good tolerance for outliers and noises in addition the over fitting can be effectively avoided in rf with these great advantages rf has been widely used in bioinformatics ecological classification and prediction prediction of soil parent material mapping gene recognition and remote sensing geography automatic learning of language prediction of customer loss credit risk assessment and other fields prasad et al 2006 cutler et al 2007 rodriguez galiano et al 2012 idris et al 2013 charles et al 2014 eng et al 2014 gupta et al 2014 heung et al 2014 malekipirbazari and aksakalli 2015 3 1 2 model assessment two common performance metrics are adopted to assess the predictive capability of the employed classifiers the predictive accuracy acc and the kappa statistic pani et al 2015 the predictive accuracy is the percentage of delay time of ship arrivals that models correctly classify the value of which is calculated by formulae 1 the kappa statistic proposed by cohen 1960 is used to measure the agreement between the raters and the value of kappa statistic ranges from zero no better prediction than what occurs by chance to one perfect prediction according to the scale proposed by landis and koch 1977 the evaluation criteria can be generally expressed as follows the value 0 as no agreement 0 01 0 20 as none to slight 0 21 0 40 as fair 0 41 0 60 as moderate 0 61 0 80 as substantial and 0 81 1 00 as almost perfect agreement and the calculation of the kappa statistic is given by formulae 2 1 a c c t p t n t p f p t n f n 2 k a p p a t p t n n t p f p n t n f n n 1 t p f p n t n f n n where n is the total number of delay time classified and tp true positive and tn true negative are the number of delay time that are correctly classified and fp false positive and fn false negative are the number of delay time incorrectly classified 3 2 data preparation through the preliminary statistical analysis of ship arrivals in section 2 this study selects ship length route type eta shift eta day and eta month as the predictor variables and the arrival delay as the response variable according to pani et al 2015 data preparation is implemented using the following steps before data mining 1 eliminating the records missing values and outliers for example only records with a delay ranging from 24 h to 24 h are kept in the dataset considering that ship arrival prediction will be used in daily terminal operation and other delays are not considered as being realistic or considered as errors in the collected data then the ship observations result in a new dataset with 1979 entries 2 discretizing the lengths of arrival ships into n s classes according to the dimensions of design ships established by design code of general layout for sea ports mtprc 2014 in this study the lengths of arrival ships are divided into 11 design ships as shown in table 3 3 splitting eta into three predictor variables including eta shift i e shift 1 shift 2 and shift 3 eta day i e monday tuesday wednesday thursday friday saturday and sunday and eta month i e january february march april may june july august september october november and december 4 discretizing the ship delay time into n d bins using equal width binning method the width of delay intervals determines the accuracy of prediction results lustgarten et al 2008 in this study we will investigate 6 available delay interval widths w d to explore the prediction performance i e w d 1 2 3 4 6 8 hours and the responding n d for each delay interval width are given in table 4 3 3 prediction results and discussion 3 3 1 prediction performance table 5 shows the prediction performance of ship arrival delays with bp cart and rf algorithms by using weka weka 2017 since the parameters of the data mining models have significant influence on the prediction performance a series of sensitive experiments have been carried out to determine the appropriate parameters for bp cart and rf algorithms which are presented in appendix a and a 10 fold cross validation is applied to evaluate the generalization performance of the three methods as shown in table 5 rf performs better than bp and cart considering the evaluation of both accs and the kappa statistic taking w d 1 as an example the value of acc for rf is 66 0 larger than 63 0 for bp and 58 3 for cart likewise the value of the kappa statistic for rf is 0 58 which is also larger than 0 53 for bp and 0 43 for cart moreover the values for rf ranging from 0 58 to 0 69 indicate a substantial degree of agreement while the values for both bp and cart less than 0 60 indicate a moderate degree of agreement as the rf algorithm shows the best performance in predicting the ship arrivals we will focus on discussing the structure and application of the prediction model by using rf algorithm according to the prediction performance in table 5 the available optimal interval widths discretizing the ship delay time are the intervals of w d 1 6 8 hours for rf model in addition we compare the prediction performance of ship arrivals for gyct terminal and the port of cagliari and the port of antwerp pani et al 2014 2015 and listed in table 6 from the prediction performance it is concluded the rf model distinctly shows the best performance in predicting the ship arrivals of both gyct terminal and the port of antwerp except for the port of cagliari moreover the rf model performs better for the antwerp data than gyct terminal and the port of cagliari because less information is available due to the limited size of the dataset pani et al 2015 although this conclusion should be tested for more case studies it is an inspiration that increasing the size of dataset to help improve the prediction performance in the future study 3 3 2 prediction model structure generally the gini coefficient is used to express the purity of segmentation nodes and the higher gini coefficient the lower purity the average decrease in purity of the segmentation nodes of all the variables that are used as predictors are measured with the mean decrease gini mdg and the variables with higher mdg have the greater importance the importance plots of the rf fig 4 for different interval widths show the most discriminating variables on the x axis and their importance on the y axis as shown in fig 4 the variables do not have the same predictive power and eta month ship length eta day eta shift and route are chosen as predictors for gyct terminal the relationship between the predictors and ship arrivals is interpreted below 1 eta month is one of the most important determinants of ship arrivals as to some extent it is an indicator representing seasonal characteristic of weather sea conditions in fact the weather sea conditions strongly affect the navigation time and hence the arrival time therefore in the further study the data of weather related variables along the whole shipping routes should be collected to improve the prediction performance including the directions and speeds of winds and currents and the directions heights and periods of waves 2 ship length is chosen as an important indicator of the ship s features because as compared to the other variables of the same group it also provides vital information concerning berth occupancy variable related to the physical structure of container ships can directly affect both the speed of handling operations in previous ports cranes on board crane intensity and navigation ability to withstand adverse weather and sea conditions pani et al 2015 3 eta day and eta shift underline the fact that the reliability of the eta may depend on the moment in which it was sent pani et al 2015 4 route type considers the different service contract terms for container ships running global trunk line external feeder line internal feeder line barge feeder line and domestic trade line as their distances from previous ports are longer the ships running trunk line tend to arrive early late more often than the ships running shorter lines to conclude the variables of eta month and ship length are the most important determinants of ship arrivals in gyct terminal which confirms the conclusion of pani et al 2015 of which the variables related to the weather conditions and the physical structure of ships have the most important influence on the prediction results therefore to obtain the better prediction performance more effort should be put to the collection of such data related to weather conditions and ship physical structure in the further study 3 3 3 detailed analysis and discussion in this section we will analyze the accuracies of prediction results in detail especially the influence of eta month ship length and route type on prediction accuracy the notations used for the detailed analysis are as follows d obs and d prd represent the observed and predicted value of ship delay time and d res is the difference between the predicted and the observed value i e d res d obs d prd besides p represents the total prediction accuracy of ship delay time which is the proportion of correctly predicted instances i e d obs d prd p s k is the prediction accuracy of ship arrival state with the condition of d res k fig 5 presents the scatter plot of observed versus predicted ship delay time using rf model in the condition of w d 1 as illustrated in fig 5 the correct predicted results i e d res 0 account for 66 generally to absorb the uncertainty of ship arrivals a buffer time is retained between the two successive ships allocated to the same berth wu et al 2015 xu et al 2012 for example the buffer time is set to 8 h for daily container terminal operation of dalian port wu et al 2015 therefore we also analyze the prediction results with limited deviation versus observed results as shown in fig 5 the predicted results with d res 1 and d res 2 approximately account for 73 and 80 and the predicted results with d res 4 and d res 8 account for as high as 90 and 97 respectively therefore from a statistical point of view the prediction of ship arrivals is noteworthy 3 3 3 1 eta month fig 6 shows the prediction accuracies p and p sk of ship arrivals in each month according to the values of p the data from the twelve months are divided into three datasets a the first dataset of which the p is not larger than 60 includes november 58 june 58 and october 60 b the second dataset with the p is within 60 65 includes september 61 may 61 december 62 march 63 july 63 and january 65 c the third dataset with the p larger than 65 includes april 66 august 70 and february 79 and the delay distributions in the three datasets are shown in fig 7 from the perspective of the distribution it seems that the predicted performance of the unimodal dataset would be better than the bimodal dataset and the unimodal dataset with larger gradient would be predicted more accurately than the unimodal dataset with smaller gradient and the similar conclusions are found in terms of the value of p s t except that may has the lowest p s t 63 6 instead of november 64 7 investigations on local weather conditions revealed that may is the season of fog in ningbo which makes it too hard to predict the arrival times of ships in may therefore for the month with low predicted accuracies the predicted model should be integrated with weather and sea conditions relevant to shipping and dynamic tracks of ships from ais to improve the prediction performance 3 3 3 2 ship length fig 8 shows the prediction accuracies of ship arrivals for different ship lengths dwts the 50000 dwt and 30000 dwt ships have the lowest values of p 56 since the number of the two ships is large and most of them serving trunk lines as shown in fig 2 the ships from the trunk lines would rather arrive early or late due to the longer sailing distance on the contrary the larger containerships larger than or equal to 120000 dwt have the highest value 83 3 due to the smaller quantity and more fixed planned arrival times in each week hartmann et al 2011 from the view point of p s t the same results are obtained that the 50000 dwt and 30000 dwt ships have the lowest values while the ships larger than or equal to 120000 dwt have the highest values therefore when applying this prediction model to predict the arrival times of 30000 dwt and 50000 dwt ships the other information concerning shipping should be necessary to improve the predicted accuracies and then obtain reliable arrival times 3 3 3 3 route type as shown in fig 9 both the results from p and p s show that it is a little hard to predict the delay of arrival ships from trunk liners whereas the delays of the ships serving barge feeder lines are predicted in a satisfying percentage one reason of the results is the long sailing distance in trunk liners which result in increasing uncertainty of ship arrivals another reason that cannot be ignored is the number of arrival ships serving each route type as mentioned in section 2 the number of trunk ships is the most while the number of barge feeder ships is the least and we can find that the presented predicted accuracies in fig 9 varies inversely with the number of ships from each route type this can be interpreted that the route with larger number of arrival ships would have more complex situations of arrival times and the training samples may be difficult to include all the situations and hence it would result in a final error of the extrapolation prediction in view of this for the ships from trunk lines more information in terms of shipping should be added as input predictors to train the prediction model and make better predictions 4 evaluation of ship arrival prediction on daily terminal operation to explore whether these predicted ship arrival delays can make a better decision in the daily operation of berth allocation and quay crane assignment in gyct terminal simulation experiments are carried out using the actual ship arrivals and predicted ship arrivals by rf algorithm 4 1 optimization model and its resolution approach the optimization model for daily berth allocation and quay crane assignment in this study references the model established by lee and wang 2010 the objective of this model is to minimize the total port time of all the ships during the scheduling horizon and the genetic algorithm ga is used to solve this mixed integer programming problem since this optimization model is not the highlight in this paper the detailed description of the state variables and decision variables is presented in appendix b to guarantee the efficiency of the ga approach sensitivity experiments are carried out to determine appropriate control parameters of ga including the crossover probability mutation probability and population size fig 10 a shows the optimal results with crossover and mutation probabilities changing from 0 to 1 as illustrated in fig 10 a for better optimization results the optimal crossover probabilities range from 0 6 to 0 95 and the optimal mutation probabilities from 0 05 to 0 15 therefore we set the crossover and mutation probability as 0 6 and 0 1 respectively fig 10 b presents the optimal results and uptime with population size changing from 10 to 300 when the population size is small ga would converge to the local optimal solution and when the population is large it would take longer time to computation so considering both optimization results and uptime in fig 10 b the population size set as 50 is appropriate in this paper 4 2 simulation experiments in the simulation experiments all predicted ship arrivals by rf model with different delay interval width i e w d 1 2 3 4 6 8 hours are taken as the inputs of the optimization model to evaluate the availability of the ship arrival prediction meanwhile the optimal w d could be determined from the view point of performance of practical terminal operation planning in addition to predicted ship arrivals the etas and etas with t hour buffer time are also taken as the inputs of the optimization model the buffer time is added to the eta of each ship to give room for uncertain delay advance of ship arrivals in this study 4 h and half an hour buffer times are considered according to the standard deviation and mean value of the advance delay time of all ship arrivals from statistical analysis on ship delays in table 2 finally the atas of ship arrivals are also taken as the inputs to explore the potential improvement in performance of daily terminal operation therefore these ten cases of ship arrivals are considered as inputs of the optimization model in the simulation experiments as listed in table 7 before the ship arrivals the optimal daily planning of berth allocation and quay crane assignment is made for all these ten cases of ship arrivals by running the optimization model then the ships will arrive at the port at atas and the berths together with quay cranes are allocated to each ship according to the obtained optimal operation planning in each case finally the total time in the port of all the arrival ships is calculated and used to measure the effect of ship arrivals on the performance of terminal operation in each case to evaluate the impact of incorrect predictions on the decision of the following days the simulation time is set to a month so the optimal daily operation planning will be updated day by day according to the etas of the day and the simulation experiments are conducted for three representative months e g november march and february with different prediction accuracies as shown in section 3 3 3 5 results and discussions running the simulation experiments in section 4 2 the performance of optimal operation planning based on different cases of ship arrivals is shown in fig 11 for november march and february from the fig 11 some conclusions are drawn up as follows 1 operation planning made by etas with t hour buffer time eta bt performs better than that by etas eta which shows incorporating buffer time is beneficial for terminal operating planning as illustrated in fig 11 the average total time of eta bt 0 5 eta bt 4 and eta planning for november marth and february is 1264 1249 and 1299 h obviously the buffer time added to etas to give room for uncertainty of ship arrivals allows a reduction in the total time of arrival ships and eta bt 4 is better than eta bt 0 5 for the gyct terminal therefore a reasonable buffer time for the uncertainty of ship arrivals is beneficial when making the terminal operation planning 2 operation planning made by etas with predicted ship arrival delays eta pad performs better than eta bt 4 when w d 4 as shown in fig 11 for w d 1 2 3 even for w d 4 h in february the operation planning performances of eta pads are better than those of eta bts and more encouragingly when w d 1 the total time of arrival ships is close to the planning made by ata in march and february therefore adding the predicted ship delays with certain accuracies is obviously beneficial for improving performance of terminal operation 3 from the improvement in terminal operation the operation planning made by eta pad1 is the best among those made by other eta pads for w d 6 8 even if they have better prediction performance than that of w d 2 3 4 in terms of acc and kappa statistic the improvement in performance of operation planning is not as good as that of w d 2 3 4 therefore when the prediction method is employed to assist to make operation planning in practice the smaller w d may be more appropriate and considering the prediction performance the w d 1 is the best option for the gyct terminal to sum up incorporating the arrival times of ships predicted by rf model into making daily terminal operation planning substantially improves the performance of terminal operation and w d 1 is an appropriate value of w d for the gyct terminal therefore although the predictive accuracies remain within 60 70 the improvement in making better decisions for operation planning is still noteworthy however the risk introduced by uncertainty in ship delay prediction should be considered and explored in the future study for example employing predictive probabilities of ship arrival prediction tang et al 2010 or setting up buffer time xu et al 2012 to absorb the uncertainty of ship arrivals prediction and establishing a robust optimization model considering the uncertainty of vessel arrival explicitly rodrigues molins et al 2014 6 conclusions ship arrival uncertainty in ports i e deviations from the expected times of arrival eta causes a series of inconveniences that often impact on the efficiency of terminal operations especially in the daily planning scenario in this study to further reduce the arrival uncertainty in ganji yining container terminal gyct china we employ three data mining approaches including back propagation network bp classification and regression tree cart and random forest rf to predict the time of ship arrivals in gyct terminal the prediction results show that the rf model outperforms bp and cart models and the eta month and ship length are the most important determinants of ship arrivals and then the eta day eta shift and route type to investigate whether the predicted ship arrivals could improve the performance of container terminal operation we also conduct series of simulation experiments and the results show that incorporating the arrival times of ships predicted by rf model into making daily terminal operation planning substantially improves the performance of gytc terminal operation these results that are obtained provide the basis for further research for example to further improve the predictive accuracy of ship arrival times we will incorporate more meteorological and walrus data as well as the ais data concerning shipping and dynamic tracks of ships however there are still unexpected factors to cause the deviations of arrival times so that the risk introduced by uncertainty in the prediction of ship arrival times should also be considered and explored in the decision making of terminal operation therefore to obtain more reliable workload for daily operation planning a robust optimization model should be proposed by incorporating both the predicted arrival times and the uncertainty in the prediction of ship arrival times acknowledgement this research is supported by the national natural science foundation of china grant no 51579035 science and technology foundation of liaoning province china grant no 20170540150 and support high level talents innovation and entrepreneurship projects dalian china grant no 2016rq024 appendix a this section provides the determination of parameters of bp cart and rf algorithms by a series of sensitive experiments and in each experiment the prediction performance is evaluated by the values of acc and kappa statistic as for the bp model the parameters are taken into account including the learning rate lr the momentum m the number of hidden nodes per hidden layer n nd and the number of hidden layers n l fig a 1 and fig a 2 show the prediction performance for different values of papermakers when w d 1 based on which the appropriate parameters are determined lr 0 1 m 0 25 n l 2 and n nd 7 as for the cart model this study considers the minimum number of samples of each leaf node minnumobj which has crucial impact on the tree pruning to avoid over fitting fig a 3 shows the prediction performance for different values of minnumobj when w d 1 and according to the results in fig a 3 the most appropriate parameter is taken as minnumobj 40 and for the rf model it is designed to overcome the shortcoming which is a single tree is easier to over fitting and the final result is determined according to the voting results by all the trees in the rf model so this paper mainly considers the number of trees of the rf model numtrees fig a 4 shows the prediction performance of different values of numtrees when w d 1 and the most appropriate parameter for the rf model in this study is taken as numtrees 400 appendix b this section describes the optimization model of integrated berth allocation and quay crane assignment in details assumption 1 all ships can be served once regardless of the effect of typhoon and tide 2 each berth can only serve one ship at a time and the condition of the berth should meet the requirements of the ships including the depth and the length 3 a safety distance should be maintained between two adjacent quay cranes 4 the move time of quay cranes is neglected 5 all quay cranes have the same productivity 6 the quay cranes assigned for each ship may not start service simultaneously and when the loading and discharging containers of the ship are completely handled the quay cranes should finish service at the same time 7 the number of quay cranes assigned for ship is not larger than the maximum number of quay cranes sets i b set of berths i 1 b j v set of ships j 1 v p p set of service orders at berth i p 1 v b 1 k c set of quay cranes k 1 c q q set of service orders for quay crane k q 1 v parameters t i the time when berth i becomes idle for the first time in the scheduling horizon a j the arrival time of ship j d j the draft of ship j l j the length of ship j d i the depth of berth i l i the length of berth i c j the number of containers need loading and discharging of ship j q j m a x the maximum number allowed of quay cranes for ship j q j m i n the minimum number allowed of quay cranes for ship j e k the productivity of quay crane k per unit time s i the number of ships served at berth i decision variables x i j p 1 if ship j is served at berth i as the pth ship and 0 otherwise y j k q 1 if ship j is served by quay crane k as the qth ship and 0 otherwise auxiliary variables o i j p the idle time of berth i between start of service of ship j as the pth ship and the departure of its immediate predecessor c i j the handling time of ship j at berth i v j k q the starting time of ship j served by quay crane k as the qth ship u j k q the ending time of ship j served by quay crane k as the qth ship t j k q the handling time of ship j served by quay crane k as the qth ship objective function min f i b j v p p s i p 1 o i j p t i a j x i j p s i p 1 c i j subject to 3 i b p p x i j p 1 j 4 j v x i j p 1 i p 5 i b s i v 6 i b p p h j x i j p h i j 7 i b p p l i x i j p l i j 8 q v y j k q 1 j k 9 q j min k k q q y j k q q j max j 10 o i j p 0 i j p 11 m j v n p p o i m n c i m x i m n o i j p a j t i x i j p i j 12 c i j max t j k q y j i q q 1 2 v p p x i j p i j 13 k c q 1 v e k t j k q c j j 14 q 1 v y j k 1 q q 1 v y j k q q 1 v y j k 1 q 1 0 1 j k 15 x i j p 0 1 i j q 16 y j k q 0 1 i j q the objective function is used to minimize the total time for ships in the port including the waiting time and handling time constraint 3 ensures that all ships must be served at a berth as a specific number constraint 4 ensures that each berth can only serve one ship at a time constraint 5 is used to ensure the sum number of ships served at all berths should be equal to the total number of ships arriving at the port constraint 6 and 7 ensure to meet the physical conditions for ship berthing constraint 8 ensures each ship can only be served once by the same quay crane constraint 9 ensures the number of quay cranes assigned for a ship should be controlled within the range of requirement constraint 10 ensures the interval time between ships served at the same berth should not be less than 0 constraint 11 ensures that each ship is served after its arrival constraint 12 defines the handling time of ship is equal to the longest working time of the quay crane assigned to the ship constraint 13 ensures the quay cranes should be assigned to meet the requirement of the handling operation constraint 14 ensures that quay cranes could not work cross and constraint 15 and 16 define the 0 1 variables x i j p y j k q fig a 1 the acc of each experiment for bp model fig a 1 fig a 2 the kappa statistic of each experiment for bp model fig a 2 fig a 3 the prediction performance of each experiment for cart model fig a 3 fig a 4 the prediction performance of each experiment for rf model fig a 4 
23439,effective prediction of ship arrivals should provide the estimated delay or advance of arrival ships with greater accuracy and improve the performance of container terminal operations therefore taking gangji yining container terminal gyct china as an example this paper resorts to data mining approaches to predict ship arrivals and explore the value of such predicted ship arrivals on the container terminal operation first this study applies three data mining approaches including back propagation network bp classification and regression tree cart and random forest rf to estimate the delay or advance of ship arrivals using the collected data of ship arrivals then the predictive performance of these three approaches is compared and discussed it is concluded that rf performs better than bp and cart and eta month and ship length are the most important determinants of ship arrivals in gyct terminal finally series simulation experiments are conducted to assess the value of the ship arrivals predicted by rf model on the improvement on daily operation planning of berth allocation and quay crane assignment in the gyct terminal and the results show that incorporating the predicted ship arrivals by rf model is beneficial to improve the performance of operation planning of gyct terminal keywords arrival prediction late early arrivals data mining container terminal operation berth allocation quay crane assignment 1 introduction planning of container terminal operation i e berth allocation quay crane assignment and container handling transport and storage are made every day striving to minimize the port time of ships and resources required to complete handling operations brinkmann 2011 when facing this decision one main difficulty lies in the uncertainty of ship arrivals despite the estimated time of arrival eta are sent to the port 24 h in advance according to contractual obligations there are still a lot of unexpected factors to cause the deviations of arrival times which would compel the planners to reset operation planning and result in the fluster and loss of port operations fancello et al 2011 hartmann et al 2011 moorthy and teo 2006 therefore planners need to be assisted by providing a qualitative estimate of the delay advance by determining whether or not an incoming vessel is likely to arrive before or after its scheduled eta which is able to support the decision making process in the general planning and layout for a new port the empirical probability distributions of arrival ships have been widely studied to describe the stochastic of ship arrivals pianc 2014 for example series of researches demonstrate the number of daily arrival ships and the inter arrival times between ships generally comply with poisson distribution and negative exponential distribution respectively daganzo 1990 kozan 1997 shabayek and yeung 2002 demirci 2003 quy et al 2008 pianc 2014 moreover du et al 2013 consider that the ship arrival pattern of container terminals varies with constitute of container liner routes for the container terminals of ningbo port and guangzhou port serving various container liner routes the number of daily arrival ships follows poisson distribution while for the container terminals of shenzhen port and yantian port serving single route the number of daily arrival ships follows normal distribution as one of the most import inputs to master planning and layout for the new port these empirical probability distributions of ship arrivals have been applied to make decisions on port planning and layout for example kia et al 2002 employ the computer simulation in evaluating the performance of a container terminal on handling techniques and capacity of terminal based on inter arrival times of arrival ships regarded as negative exponential distribution özgüven et al 2013 focus on the determination of the optimal quay length using a stochastic knapsack model with the arrival pattern of ships taken as poisson process tang et al 2014 2016 determine the berth occupancy of a container terminal considering the effect of entrance channel dimensions by an established process interaction based simulation model in which the ship arrivals are described by negative exponential distribution while in decision making process of port operation planning to reduce the uncertainty of ship arrivals the estimated time of arrival eta is sent to the port 24 h in advance according to contractual obligations however there are still a lot of unexpected factors to cause the deviations of arrival times which would result in centralized arrival of ships during a short time window hartmann et al 2011 therefore to further reduce the uncertainty of ship arrivals a series of researches have recently resorted to data mining approaches to predict the ship arrivals for example fancello et al 2011 first use neural networks nn model to predict interval time of ship s arrival then apply the predicted interval time in the proposed model optimizing human resources allocation and the promising results are achieved to provide support to planners pani et al 2013 2014 employ both k means and ward s method to cluster the daily records of cagliari international container terminal to divide the delay of arrivals into three levels firstly and employ classification and regression trees cart random forest rf and naive bayes nb to obtain an estimate of the delay level and the results show that rf gives the best results with a relative absolute error of 29 comparing the predictive performance of the three models pallotta et al 2013 propose an unsupervised method traffic route extraction and anomaly detection tread to automatically learn a statistical model for maritime traffic from ais data to detect low likelihood behaviors and predict future positions of ships pani et al 2015 adopt logistic regression lr cart and random forest rf to estimate the deviation of arrival ships in cagliari international container terminal and psa antwerp terminal parolas et al 2016 apply support vector machines svm and neural networks nn to predict the eta of container ships calling to the port of rotterdam and the results indicate that both svm and nn achieve better predictions than the situation that eta is based on the ship s agent estimations and svm models outperform the nn comparing the mean absolute error of models all these studies have certain significance and the reference value regarding the approaches of data mining on predicting time of arrival ships in some specific ports developed on these previous researches this study aims to investigate the prediction performances of back propagation network bp classification and regression tree cart and random forest rf on predicting the ship arrivals of ningbo ganji yining container terminal gyct ningbo zhoushan port china moreover this paper also explores the potential improvement of ship arrival predictions on the daily operation of gyct terminal to fully evaluate the availability of the ship arrival prediction the remainder of this paper is organized as follows section 2 makes a brief introduction of ningbo zhoushan port and gyct terminal and analyzes the characteristics of ship arrivals and delays section 3 summarizes the data mining models applied to predict the delay of ship arrivals and analyzes the impact of input variables on predictive performance section 4 conducts simulation experiments to explore the value of ship arrivals prediction on daily container terminal operation and the conclusions and further research are addressed in section 5 2 study case and data statistics analysis 2 1 background ningbo zhoushan port located in the intersection of silk road economic belt and 21st century maritime silk road is the world s fourth largest container port in terms of throughput as of july 2017 ningbo zhoushan port owns 236 routes including 114 ocean trunks like the mediterranean sea routes europe routes west america routes south africa routes middle east routes 70 near sea feeder routes like west asia routes as well as 20 internal feeder routes and 32 domestic trade routes nbzc 2017 fig 1 shows the main container terminals in ningbo zhoushan port including ningbo beilun international container terminal nbct ningbo second container terminal nbsct ningbo ganji yining container terminal gyct ningbo yuandong container terminal ydct ningbo meishan island international container terminal msict china merchants international container terminal cmict and zhoushan yongzhou container terminals yzct in this study the gyct terminal is selected as a study case due to the integrity and availability of collected data of ship arrivals the gyct terminal has five 150 000 dwt deadweight ton modern container berths and the annual container throughput reaches over 5 million teus with total frontage length of 1 700 m 23 quay cranes and 72 yard cranes and gyct terminal uses a three 8 h shift system to meet the demands of port operation in a 24 h workday the first shift also known as day shift starts 8 a m and ends 4 p m the second shift or swing shift starts when first shift ends which is usually around 4 p m and it ends around midnight and the third shift or night shift covers the hours from around 0 a m 8 a m in china terminal operation planning is performed at five main sublevels that differ in the type of decision and time horizon including monthly operation planning 10 day operation planning weekly operation planning daily operation planning and single ship operation planning yu 2007 in this case we focus on the daily operation planning which addresses the specific allocation of resources berths and quay cranes and the time horizon is about 24 h therefore to explore the ship arrivals for daily operation planning we collected data on vessel arrivals from june 1 2008 to may 31 2009 including 2066 containerships arriving at gyct terminal these attributes of each ship arrival include ship name ship type ship length estimated time of arrival eta actual time of arrival ata and route type considering more than 2000 arrivals collected the available variables are divided into 3 main classes as listed in table 1 1 ship feature name length type these variables are indicators of the vessel physical structure and directly affect the sailing times and the length also provides information concerning berth occupancy 2 ship position ata and eta these variables give indication about the positions of the vessel from the time it arrives at the pilot point to unberthing time this variable of etas is updated several times generally including a month a week 48 h and 24 h in advance this study focuses on the last eta 24 h before ships arrival following the researches of fancello et al 2011 and pani et al 2014 2015 the atas and etas in this study are expressed by the shifts of the day days of the week i e monday tuesday wednesday thursday friday saturday and sunday and months of the year i e january february march april may june july august september october november and december the shifts of the day include shift 1 from 8 00 to 16 00 shift 2 from 16 00 to 24 00 and shift 3 from 0 00 to 8 00 3 ship service route type this variable indicates the different service level in terms of the specific contract terms for different route such as trunk line external feeder line internal feeder line barge feeder line and domestic trade line 2 2 statistical analysis on ship arrivals according to the data collected the container ships arriving at gyct terminal range from 51 m to 366 m in length and serve 5 types of container liner routes which are domestic trade line barge feeder line internal feeder line external feeder line and trunk line for data analysis the lengths of arrival ships are divided into ten classes based on chinese mandatory design code of general layout for sea ports mtprc 2014 fig 2 shows the number of ships with different lengths and the distribution of route types for each tonnage of arrival ships from the view point of the number of ships serving different rout lines fig 2 a gyct terminal mainly focuses on trunk line 63 the external feeder line 15 and the internal feeder line 14 and opens the domestic trade line 2 and the barge feeder line 1 as shown in fig 2 b the ships arriving at the gyct terminal mainly concentrates on the 1000 dwt 19 30000 dwt 18 and 50000 dwt 21 whereas the 3000 dwt 1 5000 dwt 1 and 120000 dwt 1 have the fewer arrival ships as seen in fig 3 the ship arrivals are unbalanced in different shifts days and months however they also show certain regularity due to operational costs variance in different atas route lines and location of gyct terminal some useful conclusions are drawn up as follows 1 the number of ship arrivals is the most in the shift 1 37 contrarily the least is in the shift 3 29 the reason may be that the higher cost of terminal operation in the night shift so most ships are more likely to arrive at the port during the daytime 2 more than half of ships 53 prefer to arrive on friday saturday and sunday as the operation costs of chinese ports are lower than ports of the united states and europe at weekends the ships serving ocean trunk lines tend to arrive at the gyct terminal on friday saturday and sunday to reduce their voyage costs 3 the number of ship arrivals is the smallest in february 6 and the ship arrivals are regularly distributed over the other months as the spring festival an important chinese festival is usually in february the number of ship arrivals would decrease during this period 2 3 statistical analysis on ship delays to make daily terminal operation planning the last etas 24 h in advance inform to the port authority yu 2007 however even with the latest etas the early and delay of arrival ships still occurred for example in this case less than 20 of ships arrived at the port at etas and the remaining 80 arrived late or early considering the collected 2066 statistical units table 3 shows the summary statistics of the delay values the delay of ship arrival is the difference between the ata and the eta and the positive delays indicate that the ship arrived later than expected whereas the negative delays indicate that ship arrived earlier than expected 3 data mining based prediction of ship arrivals 3 1 prediction models and their assessment criteria following the researches of fancello et al 2011 and pani et al 2014 2015 we apply the back propagation network bp classification and regression tree cart and random forest rf to predict the delay time of arrival ships the following content provides a brief introduction of these models and their assessments for evaluating predictive performance of models 3 1 1 data mining models neural network models have been widely developed and applied in mathematical and computational fields rojas 1996 since the 1940s among them back propagation neural network rumelhart et al 1986 or its transformation is one of the most popular artificial neural network models bp model carries out the learning process by transferring the training errors backward and revising the weights of each neuron in the network forward constantly considering the advantages of bp it has successfully been applied in signal processing computer network process control speech recognition function approximation pattern recognition and data compression etc wu et al 2001 kermani et al 2005 gandhiraj and sathidevi 2007 ravi et al 2008 al allaf 2010 balabin and smirnov 2011 wang et al 2012 classification and regression tree breiman et al 1984 is a recursive partitioning method which is used for classification and regression purposes felicisimo et al 2013 cart is constructed by splitting subsets of dataset at each node using a greedy algorithm that applies a homogeneity measure to calculate the homogeneity of the outcome variable and stops the splitting process if the improvement of homogeneity is not significant and for classification tree the gini coefficient is used as a homogeneity measure while for the regression tree variance or entropy are used as the homogeneity measure malinowska 2014 compared with id3 c4 5 and other early decision tree algorithms cart has the advantages of dealing with the non numerical data and has been widely applied in fraud identification text mining time series prediction data processing and information mining etc de ath and fabricius 2000 liou et al 2008 tran et al 2009 pandey and ravi 2012 rutkowski et al 2013 random forest breiman 2001 is an ensemble learning method for classification regression and other tasks which operate by constructing a multitude of decision trees at training time and outputting the class that is the mode of the classes classification or mean prediction regression of the individual trees theoretical and practical researches have shown that the rf has a high prediction accuracy and has good tolerance for outliers and noises in addition the over fitting can be effectively avoided in rf with these great advantages rf has been widely used in bioinformatics ecological classification and prediction prediction of soil parent material mapping gene recognition and remote sensing geography automatic learning of language prediction of customer loss credit risk assessment and other fields prasad et al 2006 cutler et al 2007 rodriguez galiano et al 2012 idris et al 2013 charles et al 2014 eng et al 2014 gupta et al 2014 heung et al 2014 malekipirbazari and aksakalli 2015 3 1 2 model assessment two common performance metrics are adopted to assess the predictive capability of the employed classifiers the predictive accuracy acc and the kappa statistic pani et al 2015 the predictive accuracy is the percentage of delay time of ship arrivals that models correctly classify the value of which is calculated by formulae 1 the kappa statistic proposed by cohen 1960 is used to measure the agreement between the raters and the value of kappa statistic ranges from zero no better prediction than what occurs by chance to one perfect prediction according to the scale proposed by landis and koch 1977 the evaluation criteria can be generally expressed as follows the value 0 as no agreement 0 01 0 20 as none to slight 0 21 0 40 as fair 0 41 0 60 as moderate 0 61 0 80 as substantial and 0 81 1 00 as almost perfect agreement and the calculation of the kappa statistic is given by formulae 2 1 a c c t p t n t p f p t n f n 2 k a p p a t p t n n t p f p n t n f n n 1 t p f p n t n f n n where n is the total number of delay time classified and tp true positive and tn true negative are the number of delay time that are correctly classified and fp false positive and fn false negative are the number of delay time incorrectly classified 3 2 data preparation through the preliminary statistical analysis of ship arrivals in section 2 this study selects ship length route type eta shift eta day and eta month as the predictor variables and the arrival delay as the response variable according to pani et al 2015 data preparation is implemented using the following steps before data mining 1 eliminating the records missing values and outliers for example only records with a delay ranging from 24 h to 24 h are kept in the dataset considering that ship arrival prediction will be used in daily terminal operation and other delays are not considered as being realistic or considered as errors in the collected data then the ship observations result in a new dataset with 1979 entries 2 discretizing the lengths of arrival ships into n s classes according to the dimensions of design ships established by design code of general layout for sea ports mtprc 2014 in this study the lengths of arrival ships are divided into 11 design ships as shown in table 3 3 splitting eta into three predictor variables including eta shift i e shift 1 shift 2 and shift 3 eta day i e monday tuesday wednesday thursday friday saturday and sunday and eta month i e january february march april may june july august september october november and december 4 discretizing the ship delay time into n d bins using equal width binning method the width of delay intervals determines the accuracy of prediction results lustgarten et al 2008 in this study we will investigate 6 available delay interval widths w d to explore the prediction performance i e w d 1 2 3 4 6 8 hours and the responding n d for each delay interval width are given in table 4 3 3 prediction results and discussion 3 3 1 prediction performance table 5 shows the prediction performance of ship arrival delays with bp cart and rf algorithms by using weka weka 2017 since the parameters of the data mining models have significant influence on the prediction performance a series of sensitive experiments have been carried out to determine the appropriate parameters for bp cart and rf algorithms which are presented in appendix a and a 10 fold cross validation is applied to evaluate the generalization performance of the three methods as shown in table 5 rf performs better than bp and cart considering the evaluation of both accs and the kappa statistic taking w d 1 as an example the value of acc for rf is 66 0 larger than 63 0 for bp and 58 3 for cart likewise the value of the kappa statistic for rf is 0 58 which is also larger than 0 53 for bp and 0 43 for cart moreover the values for rf ranging from 0 58 to 0 69 indicate a substantial degree of agreement while the values for both bp and cart less than 0 60 indicate a moderate degree of agreement as the rf algorithm shows the best performance in predicting the ship arrivals we will focus on discussing the structure and application of the prediction model by using rf algorithm according to the prediction performance in table 5 the available optimal interval widths discretizing the ship delay time are the intervals of w d 1 6 8 hours for rf model in addition we compare the prediction performance of ship arrivals for gyct terminal and the port of cagliari and the port of antwerp pani et al 2014 2015 and listed in table 6 from the prediction performance it is concluded the rf model distinctly shows the best performance in predicting the ship arrivals of both gyct terminal and the port of antwerp except for the port of cagliari moreover the rf model performs better for the antwerp data than gyct terminal and the port of cagliari because less information is available due to the limited size of the dataset pani et al 2015 although this conclusion should be tested for more case studies it is an inspiration that increasing the size of dataset to help improve the prediction performance in the future study 3 3 2 prediction model structure generally the gini coefficient is used to express the purity of segmentation nodes and the higher gini coefficient the lower purity the average decrease in purity of the segmentation nodes of all the variables that are used as predictors are measured with the mean decrease gini mdg and the variables with higher mdg have the greater importance the importance plots of the rf fig 4 for different interval widths show the most discriminating variables on the x axis and their importance on the y axis as shown in fig 4 the variables do not have the same predictive power and eta month ship length eta day eta shift and route are chosen as predictors for gyct terminal the relationship between the predictors and ship arrivals is interpreted below 1 eta month is one of the most important determinants of ship arrivals as to some extent it is an indicator representing seasonal characteristic of weather sea conditions in fact the weather sea conditions strongly affect the navigation time and hence the arrival time therefore in the further study the data of weather related variables along the whole shipping routes should be collected to improve the prediction performance including the directions and speeds of winds and currents and the directions heights and periods of waves 2 ship length is chosen as an important indicator of the ship s features because as compared to the other variables of the same group it also provides vital information concerning berth occupancy variable related to the physical structure of container ships can directly affect both the speed of handling operations in previous ports cranes on board crane intensity and navigation ability to withstand adverse weather and sea conditions pani et al 2015 3 eta day and eta shift underline the fact that the reliability of the eta may depend on the moment in which it was sent pani et al 2015 4 route type considers the different service contract terms for container ships running global trunk line external feeder line internal feeder line barge feeder line and domestic trade line as their distances from previous ports are longer the ships running trunk line tend to arrive early late more often than the ships running shorter lines to conclude the variables of eta month and ship length are the most important determinants of ship arrivals in gyct terminal which confirms the conclusion of pani et al 2015 of which the variables related to the weather conditions and the physical structure of ships have the most important influence on the prediction results therefore to obtain the better prediction performance more effort should be put to the collection of such data related to weather conditions and ship physical structure in the further study 3 3 3 detailed analysis and discussion in this section we will analyze the accuracies of prediction results in detail especially the influence of eta month ship length and route type on prediction accuracy the notations used for the detailed analysis are as follows d obs and d prd represent the observed and predicted value of ship delay time and d res is the difference between the predicted and the observed value i e d res d obs d prd besides p represents the total prediction accuracy of ship delay time which is the proportion of correctly predicted instances i e d obs d prd p s k is the prediction accuracy of ship arrival state with the condition of d res k fig 5 presents the scatter plot of observed versus predicted ship delay time using rf model in the condition of w d 1 as illustrated in fig 5 the correct predicted results i e d res 0 account for 66 generally to absorb the uncertainty of ship arrivals a buffer time is retained between the two successive ships allocated to the same berth wu et al 2015 xu et al 2012 for example the buffer time is set to 8 h for daily container terminal operation of dalian port wu et al 2015 therefore we also analyze the prediction results with limited deviation versus observed results as shown in fig 5 the predicted results with d res 1 and d res 2 approximately account for 73 and 80 and the predicted results with d res 4 and d res 8 account for as high as 90 and 97 respectively therefore from a statistical point of view the prediction of ship arrivals is noteworthy 3 3 3 1 eta month fig 6 shows the prediction accuracies p and p sk of ship arrivals in each month according to the values of p the data from the twelve months are divided into three datasets a the first dataset of which the p is not larger than 60 includes november 58 june 58 and october 60 b the second dataset with the p is within 60 65 includes september 61 may 61 december 62 march 63 july 63 and january 65 c the third dataset with the p larger than 65 includes april 66 august 70 and february 79 and the delay distributions in the three datasets are shown in fig 7 from the perspective of the distribution it seems that the predicted performance of the unimodal dataset would be better than the bimodal dataset and the unimodal dataset with larger gradient would be predicted more accurately than the unimodal dataset with smaller gradient and the similar conclusions are found in terms of the value of p s t except that may has the lowest p s t 63 6 instead of november 64 7 investigations on local weather conditions revealed that may is the season of fog in ningbo which makes it too hard to predict the arrival times of ships in may therefore for the month with low predicted accuracies the predicted model should be integrated with weather and sea conditions relevant to shipping and dynamic tracks of ships from ais to improve the prediction performance 3 3 3 2 ship length fig 8 shows the prediction accuracies of ship arrivals for different ship lengths dwts the 50000 dwt and 30000 dwt ships have the lowest values of p 56 since the number of the two ships is large and most of them serving trunk lines as shown in fig 2 the ships from the trunk lines would rather arrive early or late due to the longer sailing distance on the contrary the larger containerships larger than or equal to 120000 dwt have the highest value 83 3 due to the smaller quantity and more fixed planned arrival times in each week hartmann et al 2011 from the view point of p s t the same results are obtained that the 50000 dwt and 30000 dwt ships have the lowest values while the ships larger than or equal to 120000 dwt have the highest values therefore when applying this prediction model to predict the arrival times of 30000 dwt and 50000 dwt ships the other information concerning shipping should be necessary to improve the predicted accuracies and then obtain reliable arrival times 3 3 3 3 route type as shown in fig 9 both the results from p and p s show that it is a little hard to predict the delay of arrival ships from trunk liners whereas the delays of the ships serving barge feeder lines are predicted in a satisfying percentage one reason of the results is the long sailing distance in trunk liners which result in increasing uncertainty of ship arrivals another reason that cannot be ignored is the number of arrival ships serving each route type as mentioned in section 2 the number of trunk ships is the most while the number of barge feeder ships is the least and we can find that the presented predicted accuracies in fig 9 varies inversely with the number of ships from each route type this can be interpreted that the route with larger number of arrival ships would have more complex situations of arrival times and the training samples may be difficult to include all the situations and hence it would result in a final error of the extrapolation prediction in view of this for the ships from trunk lines more information in terms of shipping should be added as input predictors to train the prediction model and make better predictions 4 evaluation of ship arrival prediction on daily terminal operation to explore whether these predicted ship arrival delays can make a better decision in the daily operation of berth allocation and quay crane assignment in gyct terminal simulation experiments are carried out using the actual ship arrivals and predicted ship arrivals by rf algorithm 4 1 optimization model and its resolution approach the optimization model for daily berth allocation and quay crane assignment in this study references the model established by lee and wang 2010 the objective of this model is to minimize the total port time of all the ships during the scheduling horizon and the genetic algorithm ga is used to solve this mixed integer programming problem since this optimization model is not the highlight in this paper the detailed description of the state variables and decision variables is presented in appendix b to guarantee the efficiency of the ga approach sensitivity experiments are carried out to determine appropriate control parameters of ga including the crossover probability mutation probability and population size fig 10 a shows the optimal results with crossover and mutation probabilities changing from 0 to 1 as illustrated in fig 10 a for better optimization results the optimal crossover probabilities range from 0 6 to 0 95 and the optimal mutation probabilities from 0 05 to 0 15 therefore we set the crossover and mutation probability as 0 6 and 0 1 respectively fig 10 b presents the optimal results and uptime with population size changing from 10 to 300 when the population size is small ga would converge to the local optimal solution and when the population is large it would take longer time to computation so considering both optimization results and uptime in fig 10 b the population size set as 50 is appropriate in this paper 4 2 simulation experiments in the simulation experiments all predicted ship arrivals by rf model with different delay interval width i e w d 1 2 3 4 6 8 hours are taken as the inputs of the optimization model to evaluate the availability of the ship arrival prediction meanwhile the optimal w d could be determined from the view point of performance of practical terminal operation planning in addition to predicted ship arrivals the etas and etas with t hour buffer time are also taken as the inputs of the optimization model the buffer time is added to the eta of each ship to give room for uncertain delay advance of ship arrivals in this study 4 h and half an hour buffer times are considered according to the standard deviation and mean value of the advance delay time of all ship arrivals from statistical analysis on ship delays in table 2 finally the atas of ship arrivals are also taken as the inputs to explore the potential improvement in performance of daily terminal operation therefore these ten cases of ship arrivals are considered as inputs of the optimization model in the simulation experiments as listed in table 7 before the ship arrivals the optimal daily planning of berth allocation and quay crane assignment is made for all these ten cases of ship arrivals by running the optimization model then the ships will arrive at the port at atas and the berths together with quay cranes are allocated to each ship according to the obtained optimal operation planning in each case finally the total time in the port of all the arrival ships is calculated and used to measure the effect of ship arrivals on the performance of terminal operation in each case to evaluate the impact of incorrect predictions on the decision of the following days the simulation time is set to a month so the optimal daily operation planning will be updated day by day according to the etas of the day and the simulation experiments are conducted for three representative months e g november march and february with different prediction accuracies as shown in section 3 3 3 5 results and discussions running the simulation experiments in section 4 2 the performance of optimal operation planning based on different cases of ship arrivals is shown in fig 11 for november march and february from the fig 11 some conclusions are drawn up as follows 1 operation planning made by etas with t hour buffer time eta bt performs better than that by etas eta which shows incorporating buffer time is beneficial for terminal operating planning as illustrated in fig 11 the average total time of eta bt 0 5 eta bt 4 and eta planning for november marth and february is 1264 1249 and 1299 h obviously the buffer time added to etas to give room for uncertainty of ship arrivals allows a reduction in the total time of arrival ships and eta bt 4 is better than eta bt 0 5 for the gyct terminal therefore a reasonable buffer time for the uncertainty of ship arrivals is beneficial when making the terminal operation planning 2 operation planning made by etas with predicted ship arrival delays eta pad performs better than eta bt 4 when w d 4 as shown in fig 11 for w d 1 2 3 even for w d 4 h in february the operation planning performances of eta pads are better than those of eta bts and more encouragingly when w d 1 the total time of arrival ships is close to the planning made by ata in march and february therefore adding the predicted ship delays with certain accuracies is obviously beneficial for improving performance of terminal operation 3 from the improvement in terminal operation the operation planning made by eta pad1 is the best among those made by other eta pads for w d 6 8 even if they have better prediction performance than that of w d 2 3 4 in terms of acc and kappa statistic the improvement in performance of operation planning is not as good as that of w d 2 3 4 therefore when the prediction method is employed to assist to make operation planning in practice the smaller w d may be more appropriate and considering the prediction performance the w d 1 is the best option for the gyct terminal to sum up incorporating the arrival times of ships predicted by rf model into making daily terminal operation planning substantially improves the performance of terminal operation and w d 1 is an appropriate value of w d for the gyct terminal therefore although the predictive accuracies remain within 60 70 the improvement in making better decisions for operation planning is still noteworthy however the risk introduced by uncertainty in ship delay prediction should be considered and explored in the future study for example employing predictive probabilities of ship arrival prediction tang et al 2010 or setting up buffer time xu et al 2012 to absorb the uncertainty of ship arrivals prediction and establishing a robust optimization model considering the uncertainty of vessel arrival explicitly rodrigues molins et al 2014 6 conclusions ship arrival uncertainty in ports i e deviations from the expected times of arrival eta causes a series of inconveniences that often impact on the efficiency of terminal operations especially in the daily planning scenario in this study to further reduce the arrival uncertainty in ganji yining container terminal gyct china we employ three data mining approaches including back propagation network bp classification and regression tree cart and random forest rf to predict the time of ship arrivals in gyct terminal the prediction results show that the rf model outperforms bp and cart models and the eta month and ship length are the most important determinants of ship arrivals and then the eta day eta shift and route type to investigate whether the predicted ship arrivals could improve the performance of container terminal operation we also conduct series of simulation experiments and the results show that incorporating the arrival times of ships predicted by rf model into making daily terminal operation planning substantially improves the performance of gytc terminal operation these results that are obtained provide the basis for further research for example to further improve the predictive accuracy of ship arrival times we will incorporate more meteorological and walrus data as well as the ais data concerning shipping and dynamic tracks of ships however there are still unexpected factors to cause the deviations of arrival times so that the risk introduced by uncertainty in the prediction of ship arrival times should also be considered and explored in the decision making of terminal operation therefore to obtain more reliable workload for daily operation planning a robust optimization model should be proposed by incorporating both the predicted arrival times and the uncertainty in the prediction of ship arrival times acknowledgement this research is supported by the national natural science foundation of china grant no 51579035 science and technology foundation of liaoning province china grant no 20170540150 and support high level talents innovation and entrepreneurship projects dalian china grant no 2016rq024 appendix a this section provides the determination of parameters of bp cart and rf algorithms by a series of sensitive experiments and in each experiment the prediction performance is evaluated by the values of acc and kappa statistic as for the bp model the parameters are taken into account including the learning rate lr the momentum m the number of hidden nodes per hidden layer n nd and the number of hidden layers n l fig a 1 and fig a 2 show the prediction performance for different values of papermakers when w d 1 based on which the appropriate parameters are determined lr 0 1 m 0 25 n l 2 and n nd 7 as for the cart model this study considers the minimum number of samples of each leaf node minnumobj which has crucial impact on the tree pruning to avoid over fitting fig a 3 shows the prediction performance for different values of minnumobj when w d 1 and according to the results in fig a 3 the most appropriate parameter is taken as minnumobj 40 and for the rf model it is designed to overcome the shortcoming which is a single tree is easier to over fitting and the final result is determined according to the voting results by all the trees in the rf model so this paper mainly considers the number of trees of the rf model numtrees fig a 4 shows the prediction performance of different values of numtrees when w d 1 and the most appropriate parameter for the rf model in this study is taken as numtrees 400 appendix b this section describes the optimization model of integrated berth allocation and quay crane assignment in details assumption 1 all ships can be served once regardless of the effect of typhoon and tide 2 each berth can only serve one ship at a time and the condition of the berth should meet the requirements of the ships including the depth and the length 3 a safety distance should be maintained between two adjacent quay cranes 4 the move time of quay cranes is neglected 5 all quay cranes have the same productivity 6 the quay cranes assigned for each ship may not start service simultaneously and when the loading and discharging containers of the ship are completely handled the quay cranes should finish service at the same time 7 the number of quay cranes assigned for ship is not larger than the maximum number of quay cranes sets i b set of berths i 1 b j v set of ships j 1 v p p set of service orders at berth i p 1 v b 1 k c set of quay cranes k 1 c q q set of service orders for quay crane k q 1 v parameters t i the time when berth i becomes idle for the first time in the scheduling horizon a j the arrival time of ship j d j the draft of ship j l j the length of ship j d i the depth of berth i l i the length of berth i c j the number of containers need loading and discharging of ship j q j m a x the maximum number allowed of quay cranes for ship j q j m i n the minimum number allowed of quay cranes for ship j e k the productivity of quay crane k per unit time s i the number of ships served at berth i decision variables x i j p 1 if ship j is served at berth i as the pth ship and 0 otherwise y j k q 1 if ship j is served by quay crane k as the qth ship and 0 otherwise auxiliary variables o i j p the idle time of berth i between start of service of ship j as the pth ship and the departure of its immediate predecessor c i j the handling time of ship j at berth i v j k q the starting time of ship j served by quay crane k as the qth ship u j k q the ending time of ship j served by quay crane k as the qth ship t j k q the handling time of ship j served by quay crane k as the qth ship objective function min f i b j v p p s i p 1 o i j p t i a j x i j p s i p 1 c i j subject to 3 i b p p x i j p 1 j 4 j v x i j p 1 i p 5 i b s i v 6 i b p p h j x i j p h i j 7 i b p p l i x i j p l i j 8 q v y j k q 1 j k 9 q j min k k q q y j k q q j max j 10 o i j p 0 i j p 11 m j v n p p o i m n c i m x i m n o i j p a j t i x i j p i j 12 c i j max t j k q y j i q q 1 2 v p p x i j p i j 13 k c q 1 v e k t j k q c j j 14 q 1 v y j k 1 q q 1 v y j k q q 1 v y j k 1 q 1 0 1 j k 15 x i j p 0 1 i j q 16 y j k q 0 1 i j q the objective function is used to minimize the total time for ships in the port including the waiting time and handling time constraint 3 ensures that all ships must be served at a berth as a specific number constraint 4 ensures that each berth can only serve one ship at a time constraint 5 is used to ensure the sum number of ships served at all berths should be equal to the total number of ships arriving at the port constraint 6 and 7 ensure to meet the physical conditions for ship berthing constraint 8 ensures each ship can only be served once by the same quay crane constraint 9 ensures the number of quay cranes assigned for a ship should be controlled within the range of requirement constraint 10 ensures the interval time between ships served at the same berth should not be less than 0 constraint 11 ensures that each ship is served after its arrival constraint 12 defines the handling time of ship is equal to the longest working time of the quay crane assigned to the ship constraint 13 ensures the quay cranes should be assigned to meet the requirement of the handling operation constraint 14 ensures that quay cranes could not work cross and constraint 15 and 16 define the 0 1 variables x i j p y j k q fig a 1 the acc of each experiment for bp model fig a 1 fig a 2 the kappa statistic of each experiment for bp model fig a 2 fig a 3 the prediction performance of each experiment for cart model fig a 3 fig a 4 the prediction performance of each experiment for rf model fig a 4 
